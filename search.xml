<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>教程：butterfly主题文章双栏布局插件</title>
      <link href="2021/03/19/2021-03-19/"/>
      <url>2021/03/19/2021-03-19/</url>
      
        <content type="html"><![CDATA[<h1 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h1><p>效果如下：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1616142223585-b0dc86fa-3042-45c8-9538-fd1319522ff3.png#align=left&display=inline&height=750&margin=%5Bobject%20Object%5D&name=image.png&originHeight=750&originWidth=1371&size=319414&status=done&style=none&width=1371" alt="image.png"></p><h1 id="NPM-插件安装的部署方法："><a href="#NPM-插件安装的部署方法：" class="headerlink" title="NPM 插件安装的部署方法："></a>NPM 插件安装的部署方法：</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo<span class="literal">-butterfly</span><span class="literal">-article</span><span class="literal">-double</span><span class="literal">-row</span> -<span class="literal">-save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"></span><br><span class="line">cnpm i hexo<span class="literal">-butterfly</span><span class="literal">-article</span><span class="literal">-double</span><span class="literal">-row</span> -<span class="literal">-save</span></span><br></pre></td></tr></table></figure><p>注意，一定要加<code>--save</code>，不然本地预览的时候可能不会显示！！！</p><h1 id="新增网站根目录-config-配置项-不是主题的-："><a href="#新增网站根目录-config-配置项-不是主题的-：" class="headerlink" title="新增网站根目录_config 配置项(不是主题的)："></a>新增网站根目录_config 配置项(不是主题的)：</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">butterfly_article_double_row:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h1 id="hexo-三连"><a href="#hexo-三连" class="headerlink" title="hexo 三连"></a>hexo 三连</h1><p>执行 hexo 三连</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p>即可发现已经成功部署。</p><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>还是按照惯例，有什么不懂的欢迎加群询问。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613218614503-3fb41893-88ed-4c9f-bd06-2adc031dce3f.png#align=left&display=inline&height=848&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1334&originWidth=750&size=1233683&status=done&style=none&width=477" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
            <tag> 插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：hexo-magnet  插件 1.0</title>
      <link href="2021/03/16/2021-03-16/"/>
      <url>2021/03/16/2021-03-16/</url>
      
        <content type="html"><![CDATA[<h1 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h1><p>其实这个插件和<code>hexo-swiper-bar</code>几天前就写好了，但是我懒，所以没写教程。<br>效果如下：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1615908841586-e6737009-b2dd-4004-ae02-4c6d15f33701.gif#align=left&display=inline&height=365&margin=%5Bobject%20Object%5D&name=%E7%A3%81%E4%BD%932.gif&originHeight=365&originWidth=912&size=225631&status=done&style=none&width=912" alt="磁体2.gif"><br>这个插件主要实现了以下功能： 1.自定义 tags 或 categories 的排列和展示 2.自定义 tags 或 categories 的展示图标，名称 3.自定义排列的行数，默认 2 行</p><h1 id="NPM-插件安装的部署方法："><a href="#NPM-插件安装的部署方法：" class="headerlink" title="NPM 插件安装的部署方法："></a>NPM 插件安装的部署方法：</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo<span class="literal">-magnet</span> -<span class="literal">-save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"></span><br><span class="line">cnpm i hexo<span class="literal">-magnet</span> -<span class="literal">-save</span></span><br></pre></td></tr></table></figure><p>注意，一定要加<code>--save</code>，不然本地预览的时候可能不会显示！！！</p><h1 id="新增网站根目录-config-配置项-不是主题的-："><a href="#新增网站根目录-config-配置项-不是主题的-：" class="headerlink" title="新增网站根目录_config 配置项(不是主题的)："></a>新增网站根目录_config 配置项(不是主题的)：</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">magnet:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">categories</span></span><br><span class="line">  <span class="attr">devide:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">教程</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の魔改教程</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">📚</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">游戏评测</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の游戏评测</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">🎮</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生活趣闻</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の生活趣闻</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">🐱‍👓</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">vue</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の编程学习</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">👩‍💻</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">学习</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の读书笔记</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">📒</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">随想</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小冰の胡思乱想</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">💡</span></span><br><span class="line">  <span class="attr">color_setting:</span></span><br><span class="line">    <span class="attr">text_color:</span> <span class="string">black</span></span><br><span class="line">    <span class="attr">text_hover_color:</span> <span class="string">white</span></span><br><span class="line">    <span class="attr">background_color:</span> <span class="string">&quot;#f2f2f2&quot;</span></span><br><span class="line">    <span class="attr">background_hover_color:</span> <span class="string">&quot;#b30070&quot;</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">temple_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height: auto&quot;&gt;&lt;div id=&quot;catalog_magnet&quot;&gt;$&#123;temple_html_item&#125;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>这里仅仅展示 butterfly 配置，更多主题配置请前往：<a href="https://github.com/Zfour/hexo-magnet/issues">https://github.com/Zfour/hexo-magnet/issues</a><br>也欢迎共享自己的配置和进行修改。</p><p>接下来来简单说明一下配置项的含义：</p><h3 id="enable"><a href="#enable" class="headerlink" title="enable"></a>enable</h3><p><strong>参数：</strong>true/false<br><strong>含义：</strong>是否开启插件</p><h3 id="enable-page"><a href="#enable-page" class="headerlink" title="enable_page"></a>enable_page</h3><p><strong>参数：</strong>/<br><strong>含义：</strong>路由地址，如 / 代表主页。/me/代表自我介绍页等等</p><h3 id="priority"><a href="#priority" class="headerlink" title="priority"></a>priority</h3><p><strong>参数：</strong>1<br><strong>含义：</strong>插件的叠放顺序，数字越大，叠放约靠前。如果你安装了 hexo-githubcalendar，请将<code>hexo-githubcalendar</code>npm 插件更新至<code>@1.2.3</code>版本。然后给 hexo-githubcalendar 添加<code>priority</code>参数。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">githubcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">3</span> <span class="comment"># 这里加上参数</span></span><br></pre></td></tr></table></figure><h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><p><strong>参数：</strong>categories/tags<br><strong>含义：</strong>选择筛选分类还是标签</p><h3 id="devide"><a href="#devide" class="headerlink" title="devide"></a>devide</h3><p><strong>参数：</strong>2<br><strong>含义：</strong>表示分隔的列数，2 表示分为两列展示</p><h3 id="display"><a href="#display" class="headerlink" title="display"></a>display</h3><p><strong>参数：</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">教程</span> <span class="comment"># 这里是tags或者categories的名称</span></span><br><span class="line">  <span class="attr">display_name:</span> <span class="string">小冰の魔改教程</span> <span class="comment"># 这里是替换的名称</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">📚</span> <span class="comment"># 这里是展示的图标</span></span><br></pre></td></tr></table></figure><p><strong>含义：</strong>配置项，可自行设置，按照设置的顺序展示</p><h3 id="color-setting"><a href="#color-setting" class="headerlink" title="color_setting"></a>color_setting</h3><p><strong>参数：</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">text_color:</span> <span class="string">black</span> <span class="comment"># 文字默认颜色</span></span><br><span class="line"><span class="attr">text_hover_color:</span> <span class="string">white</span> <span class="comment"># 文字鼠标悬浮颜色</span></span><br><span class="line"><span class="attr">background_color:</span> <span class="string">&quot;#f2f2f2&quot;</span> <span class="comment"># 文字背景默认颜色</span></span><br><span class="line"><span class="attr">background_hover_color:</span> <span class="string">&quot;#b30070&quot;</span> <span class="comment"># 文字背景悬浮颜色</span></span><br></pre></td></tr></table></figure><p><strong>含义：</strong>颜色配置项，可自行设置</p><h3 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h3><p><strong>参数：</strong>type; （class&amp;id）<br><strong>参数：</strong>name;<br><strong>参数：</strong>index；（数字）<br><strong>含义：</strong>如果说 magnet 是一幅画，那么这个 layout 就是指定了哪面墙来挂画<br>而在 HTML 的是世界里有两种墙分别 type 为 id 和 class。<br>其中在定义 class 的时候会出现多个 class 的情况，这时就需要使用 index，确定是哪一个。<br>最后墙的名字即是 name;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是墙&quot;</span> <span class="attr">id</span>=<span class="string">&quot;recent-posts&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- id=&gt;type  recent-posts=&gt;name    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是画框&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是纸&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--这里通过js挂载magnet，也就是画画--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="temple-html"><a href="#temple-html" class="headerlink" title="temple_html"></a>temple_html</h3><p><strong>参数：</strong>html 模板字段<br><strong>含义：</strong>包含挂载容器</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recent-post-item&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;height: auto&quot;</span>&gt;</span> <span class="comment">&lt;!--文章容器--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;catalog_magnet&quot;</span>&gt;</span>  <span class="comment">&lt;!--挂载容器--&gt;</span></span><br><span class="line">    $&#123;temple_html_item&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="plus-style"><a href="#plus-style" class="headerlink" title="plus_style"></a>plus_style</h3><p><strong>参数：</strong>“”<br><strong>含义：</strong>提供可自定义的 style，如加入黑夜模式。</p><h1 id="hexo-三连"><a href="#hexo-三连" class="headerlink" title="hexo 三连"></a>hexo 三连</h1><p>执行 hexo 三连</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p>即可发现已经成功部署。</p><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>还是按照惯例，有什么不懂的欢迎加群询问。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613218614503-3fb41893-88ed-4c9f-bd06-2adc031dce3f.png#align=left&display=inline&height=848&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1334&originWidth=750&size=1233683&status=done&style=none&width=477" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
            <tag> 插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>卡诺の教程合集索引（2021.03.09）</title>
      <link href="2021/03/09/2020-09-03-1/"/>
      <url>2021/03/09/2020-09-03-1/</url>
      
        <content type="html"><![CDATA[<h2 id="教程：基于-hexo-的-hexo-githubcalendar-插件-1-0"><a href="#教程：基于-hexo-的-hexo-githubcalendar-插件-1-0" class="headerlink" title="教程：基于 hexo 的 hexo-githubcalendar 插件 1.0"></a>教程：基于 hexo 的 hexo-githubcalendar 插件 1.0</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1615051035350-a158ba39-7fb5-43d6-ba1e-00d36a8aabeb.png#align=left&display=inline&height=313&margin=%5Bobject%20Object%5D&name=image.png&originHeight=313&originWidth=899&size=101332&status=done&style=none&width=899#align=left&display=inline&height=313&margin=%5Bobject%20Object%5D&originHeight=313&originWidth=899&status=done&style=none&width=899" alt="image.png"></p><p>链接：<a href="https://zfe.space/post/hexo-githubcalendar.html">教程：hexo-githubcalendar 插件 1.0</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-hexo-的友链朋友圈-Beta1-5"><a href="#教程：基于-hexo-的友链朋友圈-Beta1-5" class="headerlink" title="教程：基于 hexo 的友链朋友圈 Beta1.5"></a>教程：基于 hexo 的友链朋友圈 Beta1.5</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612877553087-3087b091-93ce-40fd-a49f-8baf0f0f49c4.png#align=left&display=inline&height=521&margin=%5Bobject%20Object%5D&name=image.png&originHeight=521&originWidth=386&size=161076&status=done&style=none&width=386#align=left&display=inline&height=521&margin=%5Bobject%20Object%5D&originHeight=521&originWidth=386&status=done&style=none&width=386" alt="image.png"></p><p>链接：<a href="https://zfe.space/post/friend-link-circle.html">基于 hexo 的友链朋友圈 Beta1.5</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-Butterfly-主题的历史上的今天-2-0-重置版"><a href="#教程：基于-Butterfly-主题的历史上的今天-2-0-重置版" class="headerlink" title="教程：基于 Butterfly 主题的历史上的今天 2.0 重置版"></a>教程：基于 Butterfly 主题的历史上的今天 2.0 重置版</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1613215946416-94a571ff-440c-486b-a8e7-ae9f5c052141.gif#align=left&display=inline&height=200&margin=%5Bobject%20Object%5D&originHeight=200&originWidth=310&size=0&status=done&style=none&width=310#align=left&display=inline&height=200&margin=%5Bobject%20Object%5D&originHeight=200&originWidth=310&status=done&style=none&width=310"></p><p>链接：<a href="https://zfe.space/post/history-card.html">历史上的今天 2.0 重置版</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：hexo×-语雀-实现云端富文本写作"><a href="#教程：hexo×-语雀-实现云端富文本写作" class="headerlink" title="教程：hexo× 语雀 实现云端富文本写作"></a>教程：hexo× 语雀 实现云端富文本写作</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608140651407-830f0a5d-c458-4a02-a12a-dace0324cf07.jpeg#align=left&display=inline&height=171&margin=%5Bobject%20Object%5D&name=yuque_diagram.jpg&originHeight=342&originWidth=1284&size=75855&status=done&style=none&width=642#align=left&display=inline&height=342&margin=%5Bobject%20Object%5D&originHeight=342&originWidth=1284&status=done&style=none&width=1284" alt="yuque_diagram.jpg"></p><p>链接：<a href="https://zfe.space/post/554e.html">hexo× 语雀 实现云端富文本写作</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-Butterfly-主题的文章点赞-LeanCloud"><a href="#教程：基于-Butterfly-主题的文章点赞-LeanCloud" class="headerlink" title="教程：基于 Butterfly 主题的文章点赞(LeanCloud)"></a>教程：基于 Butterfly 主题的文章点赞(LeanCloud)</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611252657287-60c49264-1735-470e-bec5-378a0be9077f.gif#align=left&display=inline&height=178&margin=%5Bobject%20Object%5D&originHeight=178&originWidth=886&size=0&status=done&style=none&width=886"></p><p>链接：<a href="https://zfe.space/post/40483.html">教程：基于 Butterfly 主题的文章点赞(LeanCloud)</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-swiper-的首页置顶轮播图"><a href="#教程：基于-swiper-的首页置顶轮播图" class="headerlink" title="教程：基于 swiper 的首页置顶轮播图"></a>教程：基于 swiper 的首页置顶轮播图</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611252549022-489ea0d7-3e42-4317-aa0b-42ccb150fa07.png#align=left&display=inline&height=231&margin=%5Bobject%20Object%5D&originHeight=231&originWidth=906&size=0&status=done&style=none&width=906"></p><p>链接：<a href="https://zfe.space/post/11009.html">教程：基于 Butterfly 主题的轮播手动置顶文章</a><br>最新教程（akilar）：<a href="https://akilar.top/posts/8e1264d1/">https://akilar.top/posts/8e1264d1/</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-Butterfly-主题的新闻资讯侧边栏"><a href="#教程：基于-Butterfly-主题的新闻资讯侧边栏" class="headerlink" title="教程：基于 Butterfly 主题的新闻资讯侧边栏"></a>教程：基于 Butterfly 主题的新闻资讯侧边栏</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/news.png#alt=example"></p><p>链接：<a href="https://zfe.space/post/53970.html">教程：基于 Butterfly 主题的新闻资讯侧边栏</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="基于-Butterfly-主题的双栏卡片主页文章-css-样式"><a href="#基于-Butterfly-主题的双栏卡片主页文章-css-样式" class="headerlink" title="基于 Butterfly 主题的双栏卡片主页文章 css 样式"></a>基于 Butterfly 主题的双栏卡片主页文章 css 样式</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/shuanglan.png#alt=example"></p><p>链接：<a href="https://zfe.space/post/52914.html">基于 Butterfly 主题的双栏卡片主页文章 css 样式</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-Butterfly-主题的侧边栏说说"><a href="#教程：基于-Butterfly-主题的侧边栏说说" class="headerlink" title="教程：基于 Butterfly 主题的侧边栏说说"></a>教程：基于 Butterfly 主题的侧边栏说说</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/shuo.png#alt=example"></p><p>链接：<a href="https://zfe.space/post/26798.html">基于 Butterfly 主题的侧边栏说说</a><br>最新教程（akilar）：<a href="https://akilar.top/posts/f1004b1d/">https://akilar.top/posts/f1004b1d/</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-Butterfly-主题的分类磁贴-2-0-版"><a href="#教程：基于-Butterfly-主题的分类磁贴-2-0-版" class="headerlink" title="教程：基于 Butterfly 主题的分类磁贴 2.0 版"></a>教程：基于 Butterfly 主题的分类磁贴 2.0 版</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/magnet2.0.png#alt=example"></p><p>链接：<a href="https://zfe.space/post/43636.html">基于 Butterfly 主题的分类磁贴 2.0 版</a><br>最新教程（akilar）：<a href="https://akilar.top/posts/a9131002/">https://akilar.top/posts/a9131002/</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-Butterfly-主题的模拟电子钟侧边栏小部件-3-0-版"><a href="#教程：基于-Butterfly-主题的模拟电子钟侧边栏小部件-3-0-版" class="headerlink" title="教程：基于 Butterfly 主题的模拟电子钟侧边栏小部件 3.0 版"></a>教程：基于 Butterfly 主题的模拟电子钟侧边栏小部件 3.0 版</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/clock3.0.png#alt=example"></p><p>链接：<a href="https://zfe.space/post/56348.html">基于 Butterfly 主题的模拟电子钟侧边栏小部件 3.0 版</a><br>最新教程（akilar）：<a href="https://akilar.top/posts/4e39cf4a/">https://akilar.top/posts/4e39cf4a/</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：butterfly-随机背景最简单的-js-写法"><a href="#教程：butterfly-随机背景最简单的-js-写法" class="headerlink" title="教程：butterfly 随机背景最简单的 js 写法"></a>教程：butterfly 随机背景最简单的 js 写法</h2><p>链接：<a href="https://zfe.space/post/55346.html">butterfly 随机背景最简单的 js 写法</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">let</span> <span class="string">backimg</span> <span class="string">=[&quot;url(/images/draw.JPG)&quot;,&quot;url(/images/life.jpg)&quot;,&quot;url(/images/idea.jpg)&quot;,&quot;url(/images/study.jpg)&quot;];let</span> <span class="string">index</span> <span class="string">=Math.ceil(Math.random()</span> <span class="string">*</span> <span class="string">(backimg.length-1))-1;document.getElementById(&quot;web_bg&quot;).style.backgroundImage</span> <span class="string">=</span> <span class="string">backimg[index]&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：基于-metro-ui-的仿-windows-个人主页搭建（基础篇）"><a href="#教程：基于-metro-ui-的仿-windows-个人主页搭建（基础篇）" class="headerlink" title="教程：基于 metro-ui 的仿 windows 个人主页搭建（基础篇）"></a>教程：基于 metro-ui 的仿 windows 个人主页搭建（基础篇）</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/zfe.one.png#alt=example"></p><p>链接：<a href="https://zfe.space/post/17412.html">基于 metro-ui 的仿 windows 个人主页搭建（基础篇）</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：Butterfly-主题的一图流和视频流背景修改方法"><a href="#教程：Butterfly-主题的一图流和视频流背景修改方法" class="headerlink" title="教程：Butterfly 主题的一图流和视频流背景修改方法"></a>教程：Butterfly 主题的一图流和视频流背景修改方法</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/xiaoguoyanshi.png#"></p><p>链接：<a href="https://zfe.space/post/65396.html">Butterfly 主题的一图流和视频流背景修改方法</a></p><blockquote><p>更改日志</p></blockquote><hr><h2 id="教程：利用-Windows-Terminal-制作方便快捷的-hexo-PowerShell"><a href="#教程：利用-Windows-Terminal-制作方便快捷的-hexo-PowerShell" class="headerlink" title="教程：利用 Windows Terminal 制作方便快捷的 hexo-PowerShell"></a>教程：利用 Windows Terminal 制作方便快捷的 hexo-PowerShell</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/WindowsTerminal.png#"></p><p>链接：<a href="https://zfe.space/post/39997.html">利用 Windows Terminal 制作方便快捷的 hexo-PowerShell</a></p><blockquote><p>更改日志</p></blockquote><hr><hr>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：hexo-githubcalendar  插件 1.0</title>
      <link href="2021/03/06/2021-03-06/"/>
      <url>2021/03/06/2021-03-06/</url>
      
        <content type="html"><![CDATA[<h1 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h1><p>最近在各个群友的催促下，小冰也不再咕咕咕了，首先第一弹则是经典魔改作品 githubcalendar 的插件化。鉴于对主题进行过度魔改会大大增加更新的难度以及主题作者的维护难度，本着简化更新步骤及降低魔改难度的目的，小冰特此学习了如***一般的 hexo api 文档，并在@<a href="https://lete114.top/">lete 乐特</a>老师的帮助下艰难的适配了 pjax（谁叫金牌售后@<a href="https://akilar.top/">akilar</a>被万恶的 mc 给拐跑了，可怜的小冰只好自己适配 pjax 了）。虽说插件目前还有些小 bug，但日常使用基本没啥问题，也欢迎提出 pr。</p><blockquote><p>hexo-githubcalendar 插件 1.0</p><ul><li>npm 插件化</li><li>支持 pjax</li><li>提供了 github/gitee 两种 api 数据获取方式</li><li>支持 js+div 挂载的传统挂载方式及 npm 安装两种形式挂载 githubcalendar</li><li>通过原生 js 实现去除了 vue 的依赖</li><li>支持 loading 效果</li></ul></blockquote><p>效果：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1615051035350-a158ba39-7fb5-43d6-ba1e-00d36a8aabeb.png#align=left&display=inline&height=313&margin=%5Bobject%20Object%5D&name=image.png&originHeight=313&originWidth=899&size=101332&status=done&style=none&width=899" alt="image.png"></p><h1 id="NPM-插件安装的部署方法："><a href="#NPM-插件安装的部署方法：" class="headerlink" title="NPM 插件安装的部署方法："></a>NPM 插件安装的部署方法：</h1><h2 id="1-执行-npm-安装操作"><a href="#1-执行-npm-安装操作" class="headerlink" title="1.执行 npm 安装操作"></a>1.执行 npm 安装操作</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo<span class="literal">-githubcalendar</span> -<span class="literal">-save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"></span><br><span class="line">cnpm i hexo<span class="literal">-githubcalendar</span> -<span class="literal">-save</span></span><br></pre></td></tr></table></figure><p>注意，一定要加<code>--save</code>，不然本地预览的时候可能不会显示！！！</p><h2 id="2-新增网站根目录-config-配置项-不是主题的-："><a href="#2-新增网站根目录-config-配置项-不是主题的-：" class="headerlink" title="2.新增网站根目录_config 配置项(不是主题的)："></a>2.新增网站根目录_config 配置项(不是主题的)：</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ice Kano Plus_in</span></span><br><span class="line"><span class="comment"># Hexo Github Canlendar</span></span><br><span class="line"><span class="comment"># Author: Ice Kano</span></span><br><span class="line"><span class="comment"># Modify: Lete乐特</span></span><br><span class="line"><span class="attr">githubcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">zfour</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">githubcalendar_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height:auto;padding:10px;&quot;&gt;&lt;div id=&quot;github_loading&quot; style=&quot;width:10%;height:100%;margin:0 auto;display: block&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;  viewBox=&quot;0 0 50 50&quot; style=&quot;enable-background:new 0 0 50 50&quot; xml:space=&quot;preserve&quot;&gt;&lt;path fill=&quot;#d0d0d0&quot; d=&quot;M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z&quot; transform=&quot;rotate(275.098 25 25)&quot;&gt;&lt;animateTransform attributeType=&quot;xml&quot; attributeName=&quot;transform&quot; type=&quot;rotate&quot; from=&quot;0 25 25&quot; to=&quot;360 25 25&quot; dur=&quot;0.6s&quot; repeatCount=&quot;indefinite&quot;&gt;&lt;/animateTransform&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;div id=&quot;github_container&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">pc_minheight:</span> <span class="string">280px</span></span><br><span class="line">  <span class="attr">mobile_minheight:</span> <span class="string">0px</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot;</span></span><br><span class="line">  <span class="attr">api:</span> <span class="string">https://python-github-calendar-api.vercel.app/api</span></span><br><span class="line">  <span class="comment"># api: https://python-gitee-calendar-api.vercel.app/api</span></span><br><span class="line">  <span class="attr">calendar_js:</span> <span class="string">https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>更多主题配置请前往：<a href="https://github.com/Zfour/hexo-github-calendar/issues">https://github.com/Zfour/hexo-github-calendar/issues</a><br>也欢迎共享自己的配置和进行修改。</p><p>接下来来简单说明一下配置项的含义：</p><h3 id="enable"><a href="#enable" class="headerlink" title="enable"></a>enable</h3><p><strong>参数：</strong>true/false<br><strong>含义：</strong>是否开启插件</p><h3 id="enable-page"><a href="#enable-page" class="headerlink" title="enable_page"></a>enable_page</h3><p><strong>参数：</strong>/<br><strong>含义：</strong>路由地址，如 / 代表主页。/me/代表自我介绍页等等</p><h3 id="user"><a href="#user" class="headerlink" title="user"></a>user</h3><p><strong>参数：</strong>zfour<br><strong>含义：</strong>你的 github 或者 gitee 用户名</p><h3 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h3><p><strong>参数：</strong>type; （class&amp;id）<br><strong>参数：</strong>name;<br><strong>参数：</strong>index；（数字）<br><strong>含义：</strong>如果说 gihubcalendar 是一幅画，那么这个 layout 就是指定了哪面墙来挂画<br>而在 HTML 的是世界里有两种墙分别 type 为 id 和 class。<br>其中在定义 class 的时候会出现多个 class 的情况，这时就需要使用 index，确定是哪一个。<br>最后墙的名字即是 name;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是墙&quot;</span> <span class="attr">id</span>=<span class="string">&quot;recent-posts&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- id=&gt;type  recent-posts=&gt;name    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是画框&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是纸&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--这里通过js挂载githubcalendar，也就是画画--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="githubcalendar-html"><a href="#githubcalendar-html" class="headerlink" title="githubcalendar_html"></a>githubcalendar_html</h3><p><strong>参数：</strong>html 模板字段<br><strong>含义：</strong>包含 loading，和挂载容器</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recent-post-item&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;height:auto;padding:10px;&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--这个是画框，顾名思义就是借用文章样式给加个框--&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--这个是loading的样式，可自行调整--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">    <span class="attr">id</span>=<span class="string">&quot;github_loading&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">style</span>=<span class="string">&quot;width:10%;height:100%;margin:0 auto;display: block&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xlink</span>=<span class="string">&quot;http://www.w3.org/1999/xlink&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">viewBox</span>=<span class="string">&quot;0 0 50 50&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">style</span>=<span class="string">&quot;enable-background:new 0 0 50 50&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xml:space</span>=<span class="string">&quot;preserve&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">path</span></span></span><br><span class="line"><span class="tag">        <span class="attr">fill</span>=<span class="string">&quot;#d0d0d0&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">d</span>=<span class="string">&quot;M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">transform</span>=<span class="string">&quot;rotate(275.098 25 25)&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">animateTransform</span></span></span><br><span class="line"><span class="tag">          <span class="attr">attributeType</span>=<span class="string">&quot;xml&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">attributeName</span>=<span class="string">&quot;transform&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;rotate&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">from</span>=<span class="string">&quot;0 25 25&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">to</span>=<span class="string">&quot;360 25 25&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">dur</span>=<span class="string">&quot;0.6s&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">repeatCount</span>=<span class="string">&quot;indefinite&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;/<span class="name">animateTransform</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--这个是github_containner容器，也就是纸--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;github_container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>PS：已经配置过早期版本 GitHubcalendar 的用户该如何适配？<br>其实很简单，首先将原有的 js 去除。然后只需<code>layout_id</code>改为原先挂载的 id<code>gitcalendar</code>，再将<code>html模板字段</code>中的画框的<code>class=&quot;recent-post-item&quot;</code>去除，即可适配新版的 npm 版插件。或者你可以采用后续介绍的方案二进行更新。</p></blockquote><h3 id="pc-minheight"><a href="#pc-minheight" class="headerlink" title="pc_minheight"></a>pc_minheight</h3><p><strong>参数：</strong>280px<br><strong>含义：</strong>电脑端插件的最小高度，减少加载带来的视觉偏移</p><h3 id="mobile-minheight"><a href="#mobile-minheight" class="headerlink" title="mobile_minheight"></a>mobile_minheight</h3><p><strong>参数：</strong>0px<br><strong>含义：</strong>手机端插件的最小高度，减少加载带来的视觉偏移</p><h3 id="color"><a href="#color" class="headerlink" title=" color"></a> color</h3><p><strong>参数：</strong>“[‘#ebedf0’, ‘#fdcdec’, ‘#fc9bd9’, ‘#fa6ac5’, ‘#f838b2’, ‘#f5089f’, ‘#c4067e’, ‘#92055e’, ‘#540336’, ‘#48022f’, ‘#30021f’]”<br><strong>含义：</strong>calendar 的主题色</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下色调选择喜欢的一行保留即可。其余注释。—————akilar的糖果色</span></span><br><span class="line"><span class="attr">color:</span> <span class="string">&quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot;</span> <span class="comment">#橘黄色调</span></span><br><span class="line"><span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot; #浅紫色调</span></span><br><span class="line"><span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #翠绿色调</span></span><br><span class="line"><span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #天青色调</span></span><br></pre></td></tr></table></figure><h3 id="api"><a href="#api" class="headerlink" title=" api"></a> api</h3><p><strong>参数：</strong><a href="https://python-github-calendar-api.vercel.app/api">https://python-github-calendar-api.vercel.app/api</a><br>或 <a href="https://python-gitee-calendar-api.vercel.app/api">https://python-gitee-calendar-api.vercel.app/api</a><br><strong>含义：</strong>这里提供的是公用的 api，仅供日常使用，请不要滥用。如果想搭建自用 api，具体的部署方案可看考<a href="https://github.com/Zfour/python_github_calendar_api">python_github_calendar_api</a>及<a href="https://github.com/Zfour/python_gitee_calendar_api">python_gitee_calendar_api</a>的文档说明，这里不多加赘述。</p><h3 id="calendar-js"><a href="#calendar-js" class="headerlink" title="calendar_js"></a>calendar_js</h3><p><strong>参数：</strong><a href="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js">https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js</a><br><strong>含义：</strong>jsd 加速的 js，将 github calendar 挂载入容器中<br><strong>目前已知 bug：</strong>在 1.21 适配 retina 屏幕后虽解决了模糊问题，但部分用户的 tooltip 会出现数据错误。降级到@1.16 使用即可解决。</p><h3 id="plus-style"><a href="#plus-style" class="headerlink" title="plus_style"></a>plus_style</h3><p><strong>参数：</strong>“”<br><strong>含义：</strong>提供可自定义的 style</p><p>如果你是 butterfly 主题，你需要修改用户名即可，如果你想在友链或者个人介绍挂载，你可以在 md 中增加墙——也就是具有某一的 id 的 div。因为是在 md 中所以通过去掉 class 隐藏画框的样式，即可。同时需要调整<code>enable_page</code>来限定展示的页面。</p><p>如果你是其他主题用户，你可以尝试使用墙&gt;画框&gt;画的方式挂载，也可以通过修改主题模板来挂载。如<br><a href="https://imciraos.com/posts/353f0aee/">给萌典主题加上 git-calendar</a>的方法。</p><h2 id="hexo-三连"><a href="#hexo-三连" class="headerlink" title="hexo 三连"></a>hexo 三连</h2><p>执行 hexo 三连</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p>即可发现已经成功部署。</p><h1 id="普通的-div-js-的挂载方法"><a href="#普通的-div-js-的挂载方法" class="headerlink" title="普通的 div+js 的挂载方法"></a>普通的 div+js 的挂载方法</h1><p>如果你觉得 npm 安装挂载太过繁琐，你可以使用传统的主题修改模板的挂载方法。<br>你需要用到<a href="https://github.com/Zfour/hexo-github-calendar">https://github.com/Zfour/hexo-github-calendar</a>中的<a href="https://github.com/Zfour/hexo-github-calendar/blob/master/githubcalendar.js">githubcalendar.js</a>文件<br>下载后，修改用户名，将其引入到主题中。<br>如 butterfly 中通过 inject 引入。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;scscrip</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/githubcalendar.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>然后修改主页的模板。<br>如 butterfly 中修改 index.pug，在文章容器中加入一个 id 为<br>github_container 的 div。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">extends</span> <span class="string">includes/layout.pug</span></span><br><span class="line"></span><br><span class="line"><span class="string">block</span> <span class="string">content</span></span><br><span class="line">  <span class="string">include</span> <span class="string">./includes/mixins/post-ui.pug</span></span><br><span class="line">  <span class="comment">#recent-posts.recent-posts</span></span><br><span class="line">    <span class="string">.recent-post-item(style=&#x27;width:100%;height:auto;padding:10px;&#x27;)</span></span><br><span class="line">       <span class="comment">#github_container</span></span><br><span class="line">    <span class="string">+postUI</span></span><br><span class="line">    <span class="string">include</span> <span class="string">includes/pagination.pug</span></span><br></pre></td></tr></table></figure><p>然后一键三连即可。</p><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>还是按照惯例，有什么不懂的欢迎加群询问。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613218614503-3fb41893-88ed-4c9f-bd06-2adc031dce3f.png#align=left&display=inline&height=848&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1334&originWidth=750&size=1233683&status=done&style=none&width=477" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：github/gitee issues的友链信息自动生成json及api调用</title>
      <link href="2021/03/02/2021-03-02/"/>
      <url>2021/03/02/2021-03-02/</url>
      
        <content type="html"><![CDATA[<h1 id="说句闲话"><a href="#说句闲话" class="headerlink" title="说句闲话"></a>说句闲话</h1><p>最近一直都在写朋友圈，本着安利朋友圈加了 Volantis 的群。然后在群主大佬的启发下写了这个项目，这个项目是利用 github action 获取来自 gitee 及 github 的 issues 信息，统合成一个具有友联信息的 json，并通过 api 提供给前端进行调用。由于最近也要维护朋友圈，加上我好久没写 js 了，有点生疏，前端的工作还是教给 Volantis 的主题的作者大佬来实现吧。</p><h1 id="项目部署"><a href="#项目部署" class="headerlink" title="项目部署"></a>项目部署</h1><h2 id="1-fork-我的项目"><a href="#1-fork-我的项目" class="headerlink" title="1.fork 我的项目"></a>1.fork 我的项目</h2><p><a href="https://github.com/Zfour/hexo-issuse-friends">fork 我的项目</a>（<a href="https://github.com/Zfour/hexo-issuse-friends">https://github.com/Zfour/hexo-issuse-friends</a>）<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1614623717850-91628281-4462-4108-89a1-bcaaba4e6087.png#align=left&display=inline&height=575&margin=%5Bobject%20Object%5D&name=image.png&originHeight=575&originWidth=991&size=78673&status=done&style=none&width=991" alt="image.png"></p><h2 id="2-修改配置文件-config-yml"><a href="#2-修改配置文件-config-yml" class="headerlink" title="2.修改配置文件_config.yml"></a>2.修改配置文件_config.yml</h2><p>开启你想使用的规则，可同时开启两种规则。<br>将需要使用的规则的 enable 调整为<code>enable: true</code><br>不使用的调整为<code>enable: false</code><br>填写你的用户名（组织）如：<code>owner: xaoxuu</code><br>填写你的仓库名如：<code>repo: friends</code><br>填写项目的状态如：<code>state: open</code><br>主要的状态有：<code>open/closed</code><br>填写项目筛选的标签，<br>github 直接填写标签字段即可，<br>gitee 需要首先通过网页删选标签然后获取地址栏标签查询的对应 id，填入即可。<br>填入<code>none</code>则表示不进行标签筛选。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">setting:</span><br><span class="line">  request: <span class="comment"># 网络请求设置</span></span><br><span class="line">    timeout: <span class="number">10</span> <span class="comment"># 超时设置</span></span><br><span class="line">    ssl: false <span class="comment"># ssl设置</span></span><br><span class="line"></span><br><span class="line">  gitee_friends_links: <span class="comment"># gitee友链配置</span></span><br><span class="line">    enable: true</span><br><span class="line">    owner: xaoxuu</span><br><span class="line">    repo: friends</span><br><span class="line">    state: open</span><br><span class="line">    labelid: <span class="number">77925545</span> <span class="comment"># none关闭功能</span></span><br><span class="line"></span><br><span class="line">  github_friends_links: <span class="comment"># github友链配置</span></span><br><span class="line">    enable: true</span><br><span class="line">    owner: xaoxuu</span><br><span class="line">    repo: friends</span><br><span class="line">    state: open</span><br><span class="line">    label: active <span class="comment"># none关闭功能</span></span><br></pre></td></tr></table></figure><h2 id="3-提交-issuse-或点击收藏触发-github-action"><a href="#3-提交-issuse-或点击收藏触发-github-action" class="headerlink" title="3.提交 issuse 或点击收藏触发 github action"></a>3.提交 issuse 或点击收藏触发 github action</h2><p>示例：<a href="https://github.com/Zfour/hexo-issuse-friends/actions">https://github.com/Zfour/hexo-issuse-friends/actions</a><br>你可以提交一篇 issuse 或者点击收藏 fork 的仓库触发 ci，触发后 action 开始运行，<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1614624914970-fbbd0fea-2d74-4223-9287-3bb77782dc5d.png#align=left&display=inline&height=461&margin=%5Bobject%20Object%5D&name=image.png&originHeight=461&originWidth=1379&size=67126&status=done&style=none&width=1379" alt="image.png"></p><p>运行完成后你会发现仓库里多了一个名为 friendlist.json 的文件。既是友链信息的 json 文件。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1614625220407-e722ee0f-0dbc-4825-a5ab-6be24fefd19a.png#align=left&display=inline&height=640&margin=%5Bobject%20Object%5D&name=image.png&originHeight=640&originWidth=1399&size=77442&status=done&style=none&width=1399" alt="image.png"><br>同时如果你是 gitee 仓库，你可以使用 webhoook 来触发 github action<br>请参考这篇文章<br><a href="https://gitee.com/help/articles/4184#article-header0">https://gitee.com/help/articles/4184#article-header0</a></p><p>为了省事，可以使用我曾编写 yuque 的 webhook 的 api<br>api 地址：<a href="https://yuque-vercel-webhook-api.vercel.app/api">https://yuque-vercel-webhook-api.vercel.app/api?</a>。<br>当然你也可以<a href="https://github.com/Zfour/yuque_vercel_webhook_api">fork 项目</a>在 vercel 中自行搭建，将‘<a href="https://yuque-vercel-webhook-api.vercel.app/api">https://yuque-vercel-webhook-api.vercel.app</a>’更换为你的 app 应用链接。 搭建方法参考后文。<br>你需要传递的参数有 token，user，source。<br>github 私钥，前往<a href="https://github.com/settings/tokens">github 的 token 设置</a>（<a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>），点击生成密钥按钮，填写密钥名称，勾选 repo 选项。将生成的密钥保存在桌面新建的 txt 文件里。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;yuque-vercel-webhook-api.vercel.app&#x2F;api?</span><br><span class="line">token&#x3D;&#39;&#123;填写你的github私钥&#125;&#39;&amp;</span><br><span class="line">user&#x3D;&#39;&#123;填写你的github用户名&#125;&#39;&amp;</span><br><span class="line">source&#x3D;&#39;&#123;填写你的github仓库地址&#125;&#39;</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">https:&#x2F;&#x2F;yuque-vercel-webhook-api.vercel.app&#x2F;api?token&#x3D;&#39;8888888888&#39;&amp;user&#x3D;&#39;Zfour&#39;&amp;source&#x3D;&#39;my-blog-source-file&#39;</span><br><span class="line">将这个URL路径作为触发链接，在gitee中进行配置。</span><br></pre></td></tr></table></figure><p>修改触发链接里的各参数项，访问这个链接，如果出现‘This’s OK!’说明配置成功。<br>复制 URL 路径作为触发链接，在 gitee 中进行配置。</p><h1 id="API-部署"><a href="#API-部署" class="headerlink" title="API 部署"></a>API 部署</h1><h2 id="1-如果你不想部署-api，你有以下三种选择。"><a href="#1-如果你不想部署-api，你有以下三种选择。" class="headerlink" title="1.如果你不想部署 api，你有以下三种选择。"></a>1.如果你不想部署 api，你有以下三种选择。</h2><h3 id="a-使用jsdelivr-链接（不推荐）"><a href="#a-使用jsdelivr-链接（不推荐）" class="headerlink" title="a.使用jsdelivr 链接（不推荐）"></a>a.使用<a href="https://cdn.jsdelivr.net/gh/zfour/hexo-issuse-friends/friendlist.json">jsdelivr 链接</a>（不推荐）</h3><p>优点：访问速度快<br>缺点：缓存更新缓慢，需要手动访问链接刷新，但手动刷新有时会失败，有可能几个小时不刷新<br>总结：再快的马被拴在绳子上，等于白给</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 刷新链接</span></span><br><span class="line">https://purge.jsdelivr.net/gh/&#123;用户名&#125;/&#123;仓库名&#125;/friendlist.json</span><br><span class="line"><span class="comment"># 请求链接</span></span><br><span class="line">https://cdn.jsdelivr.net/gh/&#123;用户名&#125;/&#123;仓库名&#125;/friendlist.json</span><br><span class="line"></span><br><span class="line"> <span class="comment"># 例子</span></span><br><span class="line">https://cdn.jsdelivr.net/gh/zfour/hexo-issuse-friends/friendlist.json</span><br></pre></td></tr></table></figure><h3 id="b-使用raw-github-链接（一般）"><a href="#b-使用raw-github-链接（一般）" class="headerlink" title="b.使用raw.github 链接（一般）"></a>b.使用<a href="https://raw.githubusercontent.com/Zfour/friends/master/friendlist.json">raw.github 链接</a>（一般）</h3><p>优点：即拿即用，自动刷新，刷新时间在 1 ～ 5 分钟不等<br>缺点：手机访问貌似会有问题，不是很稳定<br>总结：问就是玄学，访问不了那就是你网不好</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 请求链接</span></span><br><span class="line">https://raw.githubusercontent.com/&#123;用户名&#125;/&#123;仓库名&#125;/master/friendlist.json</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line">https://raw.githubusercontent.com/Zfour/friends/master/friendlist.json</span><br></pre></td></tr></table></figure><h3 id="c-使用小冰制作的-vercelAPI（墙裂推荐）"><a href="#c-使用小冰制作的-vercelAPI（墙裂推荐）" class="headerlink" title="c.使用小冰制作的 vercelAPI（墙裂推荐）"></a>c.使用小冰制作的 vercelAPI（墙裂推荐）</h3><p>优点：速度快，没限制<br>缺点：无<br>总结：vercel 真香</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 请求链接 &#x27;不能少</span></span><br><span class="line"><span class="comment"># 必要字段为 用户名</span></span><br><span class="line"><span class="comment"># 其中仓库名如果不填默认为friends,分支如果不填默认为master</span></span><br><span class="line">https://&#123;项目域名&#125;/api?repo=&#x27;&#123;仓库名&#125;&#x27;&amp;user=&#x27;&#123;用户名&#125;&#x27;&amp;branch=&#x27;&#123;分支&#125;&#x27;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line"><span class="comment"># https://friends-link-list-api.vercel.app/api?user=&#x27;Zfour&#x27;</span></span><br><span class="line"><span class="comment"># https://friends-link-list-api.vercel.app/api?repo=&#x27;hexo-issuse-friends&#x27;&amp;user=&#x27;Zfour&#x27;</span></span><br><span class="line"><span class="comment"># https://friends-link-list-api.vercel.app/api?repo=&#x27;hexo-issuse-friends&#x27;&amp;user=&#x27;Zfour&#x27;&amp;branch=&#x27;master&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="2-如果你想部署自用的-vercel-api"><a href="#2-如果你想部署自用的-vercel-api" class="headerlink" title="2.如果你想部署自用的 vercel api"></a>2.如果你想部署自用的 vercel api</h2><h3 id="①-注册"><a href="#①-注册" class="headerlink" title="① 注册"></a>① 注册</h3><p>首先前往  <a href="https://vercel.com/">Vercel 官网</a>，点击右上角的 sign up 进行注册。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612880174758-059d6e22-d5ec-4478-9b8c-4a9d7c041f44.png#align=left&display=inline&height=107&margin=%5Bobject%20Object%5D&name=image.png&originHeight=107&originWidth=585&size=7409&status=done&style=none&width=585" alt="image.png"><br>极有可能遇到的 bug<br>若注册时提示 <code>Error:This user account is blocked.Contact support@vercel.com for more information.</code><br>这是由于 <code>Vercel</code> 不支持大部分国内邮箱。可以将 <code>github</code> 账号主邮箱改为 <code>Gmail</code> 邮箱。<br><strong>但是</strong>根据群友反应，将 <code>github</code> 账号主邮箱切换为 <code>Gmail</code> 以后，<code>Vercel</code> 又会提示需要使用手机号码验证。然而 <code>github</code> 并没有提供手机号码绑定的内容。<br>综上，建议一开始注册 <code>github</code> 账号时就使用 <code>Gmail</code> 等国外邮箱进行注册。</p><ol><li>国内访问<code>Gmail</code>的方案：<ul><li>直接使用 QQ 邮箱手机版，它提供 <code>Gmail</code> 的访问路线，可以直接注册并使用。</li><li>使用 <code>Ghelper</code> 等浏览器插件访问。详情可以参考这篇文章：<a href="https://github.com/Zfour/python_github_calendar_api/blob/master/posts/8c8df126">玩转 Microsoft-Edge</a></li></ul></li><li>若是执着于当前<code>Github</code>账号，可以参考以下方案进行尝试:<ul><li>完成了 <code>Gmail</code> 等国外邮箱的注册，打开 <a href="https://github.com/settings/emails">github-&gt; 头像 -&gt;settings-&gt;Emails</a>-&gt;Add email address, 并完成邮箱验证。</li><li>在 Add email address  下方的 Primary email address  选项中将 <code>Gmail</code> 设置为主邮箱。</li></ul></li></ol><h3 id="②-新建项目，fork-我的项目"><a href="#②-新建项目，fork-我的项目" class="headerlink" title="② 新建项目，fork 我的项目"></a>② 新建项目，fork 我的项目</h3><p>打开<a href="https://vercel.com/dashboard">dashboard</a>点击新建项目的<code>New Project</code>按钮。点击导入第三方库。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949541795-cfe67df4-a443-4604-86fd-a34ea9c34bed.png#align=left&display=inline&height=314&margin=%5Bobject%20Object%5D&name=image.png&originHeight=627&originWidth=600&size=45859&status=done&style=none&width=300" alt="image.png"></p><p>填入俺提供的自建 API 项目地址:<br><code>https://github.com/Zfour/friends_link_list_api</code></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949577842-18cc23f8-5cf6-4f72-b892-d244d22a3089.png#align=left&display=inline&height=290&margin=%5Bobject%20Object%5D&name=image.png&originHeight=366&originWidth=724&size=29473&status=done&style=none&width=574" alt="image.png"><br>选择私有账户。点击<code>select</code>。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949622863-54b72f81-9add-479d-94ed-aeb125099afe.png#align=left&display=inline&height=508&margin=%5Bobject%20Object%5D&name=image.png&originHeight=637&originWidth=703&size=43664&status=done&style=none&width=561" alt="image.png"><br>选择 github 按钮然后会帮你将仓库克隆到你的 github 中，填入自定义仓库名称。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949755226-a97f3c75-8328-4630-91f2-2dd9dddf3665.png#align=left&display=inline&height=401&margin=%5Bobject%20Object%5D&name=image.png&originHeight=510&originWidth=704&size=42447&status=done&style=none&width=554" alt="image.png"><br>之后会识别出项目文件，单击  <code>Continue</code>。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949831064-f4b2cef1-eb64-4bac-8841-b991768ffee8.png#align=left&display=inline&height=340&margin=%5Bobject%20Object%5D&name=image.png&originHeight=579&originWidth=740&size=38724&status=done&style=none&width=435" alt="image.png"><br><code>Vercel</code>  的  <code>PROJECT NAME</code>  可以自定义，不用太过在意，但是之后不支持修改，若要改名，只能删除  <code>PROJECT</code>  以后重建一个了。下方三个选项保持默认就好。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949883724-064103a2-658f-49cb-b1e6-f3a7f0a511d1.png#align=left&display=inline&height=385&margin=%5Bobject%20Object%5D&name=image.png&originHeight=608&originWidth=710&size=39531&status=done&style=none&width=450" alt="image.png"></p><p>此时点击 Deploy，<code>Vercel</code>  的 api 部署已经完成。</p><h3 id="④-检查-API-是否配置成功"><a href="#④-检查-API-是否配置成功" class="headerlink" title="④ 检查 API 是否配置成功"></a>④ 检查 API 是否配置成功</h3><p>访问<strong>API 链接</strong>（图中链接+’/api’+查询参数）,如我的为（<a href="https://friends-link-list-api.vercel.app/api?repo=%27friends%27&user=%27Zfour%27">https://friends-link-list-api.vercel.app/api?repo=%27friends%27&amp;user=%27Zfour%27</a>）<br>如果显示数据则说明 API 配置成功。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>前端就交给各位大佬实现了，我继续去维护朋友圈去了～<br>嘿嘿～</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> github action </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于hexo的友链朋友圈 Beta1.5</title>
      <link href="2021/03/01/2021-02-09/"/>
      <url>2021/03/01/2021-02-09/</url>
      
        <content type="html"><![CDATA[<h1 id="什么是友链朋友圈？"><a href="#什么是友链朋友圈？" class="headerlink" title="什么是友链朋友圈？"></a>什么是友链朋友圈？</h1><p>你是否经常烦恼于友链过多但没有时间浏览？那么友链朋友圈将解决这一痛点。你可以随时获取友链网站的更新内容，并了解友链的活跃情况 。<br>效果图如下：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612877553087-3087b091-93ce-40fd-a49f-8baf0f0f49c4.png#align=left&display=inline&height=521&margin=%5Bobject%20Object%5D&name=image.png&originHeight=521&originWidth=386&size=161076&status=done&style=none&width=386" alt="image.png"><br><del>因为是 beta 版本，所以不可避免还有错误，为了更好制作这个项目，发现 bug。我首先 release 这个 beta 版本。</del><br>目前 release1.5 版本：<br>① 支持<strong>butterfly、volantis、matery 主题</strong>的友链获取<br>② 支持**<a href="https://docs.tzki.cn/Friend">小康友链</a><strong>及</strong>volantis 主题友链<strong>，即部署于 gitee 上的 issuse 友链获取<br>③ 支持</strong>butterfly、volantis、matery 主题**的最新文章获取<br>④ 支持大部分拥有 sitemap 网站的文章获取<br>⑤ 拥有友链屏蔽、关键词屏蔽、等自定义 yaml 的配置项</p><p>预览链接<a href="https://zfe.space/friendcircle/">https://zfe.space/friendcircle/</a>。</p><h1 id="步骤一：配置-leancloud"><a href="#步骤一：配置-leancloud" class="headerlink" title="步骤一：配置 leancloud"></a>步骤一：配置 leancloud</h1><h3 id="①-账号注册"><a href="#①-账号注册" class="headerlink" title="① 账号注册"></a>① 账号注册</h3><p>前往<a href="https://leancloud.app/">leancloud 国际版官网</a>（推荐国际版）注册账号，登录。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612877865580-3d24bd2c-9933-43b9-a20f-81dfe7612f8a.png#align=left&display=inline&height=137&margin=%5Bobject%20Object%5D&name=image.png&originHeight=548&originWidth=1219&size=65580&status=done&style=none&width=305" alt="image.png"></p><h3 id="②-新建应用"><a href="#②-新建应用" class="headerlink" title="② 新建应用"></a>② 新建应用</h3><p>进入<a href="https://console.leancloud.app/apps">控制台</a>创建一个应用，名字随意。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612877952740-5e9587cf-85d5-4baa-8519-91ee25c7c4c8.png#align=left&display=inline&height=307&margin=%5Bobject%20Object%5D&name=image.png&originHeight=613&originWidth=793&size=37401&status=done&style=none&width=397" alt="image.png"></p><h3 id="③-绑定应用域名"><a href="#③-绑定应用域名" class="headerlink" title="③ 绑定应用域名"></a>③ 绑定应用域名</h3><p>我一般习惯绑定域名，不绑定貌似也可以，<br>将一个二级域名指向 leancloud 提供的 CNAME，<br>然后访问二级域名。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612878237070-becaeef5-3096-41f0-9473-b1d97ad80833.png#align=left&display=inline&height=342&margin=%5Bobject%20Object%5D&name=image.png&originHeight=599&originWidth=727&size=21587&status=done&style=none&width=415" alt="image.png"><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612878041805-165476a5-0579-41aa-b9e7-935f28aabdd9.png#align=left&display=inline&height=357&margin=%5Bobject%20Object%5D&name=image.png&originHeight=713&originWidth=837&size=47835&status=done&style=none&width=419" alt="image.png"></p><h3 id="④-获取应用-Keys"><a href="#④-获取应用-Keys" class="headerlink" title="④ 获取应用 Keys"></a>④ 获取应用 Keys</h3><p>将应用 ID（AppID）和应用密钥（AppKey）保存下来，方便后面步骤使用。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612878438305-c869a812-88fb-4d68-a17d-9a5b97cc6312.png#align=left&display=inline&height=159&margin=%5Bobject%20Object%5D&name=image.png&originHeight=318&originWidth=886&size=29324&status=done&style=none&width=443" alt="image.png"></p><h1 id="步骤二：配置自动爬取友链文章的-github-action"><a href="#步骤二：配置自动爬取友链文章的-github-action" class="headerlink" title="步骤二：配置自动爬取友链文章的 github action"></a>步骤二：配置自动爬取友链文章的 github action</h1><h3 id="①fork-项目"><a href="#①fork-项目" class="headerlink" title="①fork 项目"></a>①fork 项目</h3><p>前往<a href="https://github.com/Zfour/hexo-circle-of-friends">hexo-circle-of-friends</a>（<a href="https://github.com/Zfour/hexo-circle-of-friends">https://github.com/Zfour/hexo-circle-of-friends</a>）fork 我的项目。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612878699241-f9c0c81d-4d29-4045-9480-eed0fa7ef4b2.png#align=left&display=inline&height=188&margin=%5Bobject%20Object%5D&name=image.png&originHeight=717&originWidth=1904&size=91208&status=done&style=none&width=498" alt="image.png"></p><h3 id="②-前往环境变量设置配置环境变量"><a href="#②-前往环境变量设置配置环境变量" class="headerlink" title="② 前往环境变量设置配置环境变量"></a>② 前往环境变量设置配置环境变量</h3><p><strong>Name</strong>分别以 APPID、APPKEY、LINK 创建环境变量。<br><strong>Value 分别</strong>填入刚刚保存 Leancloud 的应用 ID（AppID）和应用密钥（AppKey）以及你的友链链接（<a href="https://zfe.space/link/">https://zfe.space/link/</a>）<br>保存三个环境变量。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612879107016-628c3d4b-ecdd-4577-b195-4fd5a4600ee3.png#align=left&display=inline&height=220&margin=%5Bobject%20Object%5D&name=image.png&originHeight=881&originWidth=1910&size=124999&status=done&style=none&width=478" alt="image.png"><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612879135511-4c671323-3e5c-4da6-857b-4530cf8f3dcf.png#align=left&display=inline&height=240&margin=%5Bobject%20Object%5D&name=image.png&originHeight=473&originWidth=946&size=20110&status=done&style=none&width=479" alt="image.png"></p><h3 id="③-修改-config-yml"><a href="#③-修改-config-yml" class="headerlink" title="③ 修改_config.yml"></a>③ 修改<code>_config.yml</code></h3><p>1.5 版本更新，提供了 gitee 友链获取友链列表的方式。将<code>gitee_friends_links</code>的<code>enable</code>改为<code>true</code>即可使用。<br>如果你使用的的是<a href="https://docs.tzki.cn/Friend">小康友链</a>部署，选择<code>type: normal</code>，然后填入你的<strong>gitee 用户名、gitee 仓库名及抓取的 issue 状态。</strong><br>**<img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1614529045280-ddbf1ee1-a98f-4636-b1a7-3929d3850357.png#align=left&display=inline&height=210&margin=%5Bobject%20Object%5D&name=image.png&originHeight=420&originWidth=831&size=40935&status=done&style=none&width=416" alt="image.png">**<br>如果你是<strong>volantis 主题</strong>，则选择<code>type: volantis</code>，然后填入你的<strong>gitee 用户名、gitee 仓库名及抓取的 issue 状态。</strong><br>你可以通过<code>block_word</code>手动屏蔽 sitemap 中的关键字。比如你想屏蔽<code>example.com/bookshop</code>这个页面和以下分类则添加<code>bookshop</code>作为屏蔽项。<br>你可以通过<code>block_chars</code>手动屏蔽 sitemap 抓取的标题中包含的站点信息字符。比如你想屏蔽<code>我是鸽子|小冰博客</code>这篇文章的<code>|小冰博客</code>则添加<code>|</code>作为屏蔽项。（目前只支持 gbk 字符）<br>如果你发现，你的友链中有十分 bug 的网站或者你不感兴趣的网站，你也可以添加网站屏蔽。添加 <code>[https://example.com/](https://example.com/)</code>作为屏蔽项。但为了您的友谊，我不建议屏蔽。（这个功能其实是为了减少 bug 而设计的）</p><h3 id="④-给项目点上收藏"><a href="#④-给项目点上收藏" class="headerlink" title="④ 给项目点上收藏"></a>④ 给项目点上收藏</h3><p>github action 将自动在每天 8 点到晚上 11:59 执行爬取任务。每半小时执行一次。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612880356388-eaaf2bab-4a36-40a1-9289-6f7d3be594f0.png#align=left&display=inline&height=103&margin=%5Bobject%20Object%5D&name=image.png&originHeight=103&originWidth=433&size=5989&status=done&style=none&width=433" alt="image.png"><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612880415068-b2d2312e-7c35-4e8f-b278-dcd3a130d094.png#align=left&display=inline&height=199&margin=%5Bobject%20Object%5D&name=image.png&originHeight=399&originWidth=1320&size=44957&status=done&style=none&width=660" alt="image.png"><br>当执行完成后，访问你的<a href="https://console.leancloud.app/apps">leancloud</a>后台，进入刚刚创建的项目，如果出现 friend_list 的 class 和 friend_poor 的 class 则说明配置成功。<br>可以查看爬取情况，对友链链接进行排错和查看存活情况。<br>或提醒好友，该部署 sitemap 了。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612879705288-4e25c02f-95f8-4340-a9ee-baf252749f14.png#align=left&display=inline&height=428&margin=%5Bobject%20Object%5D&name=image.png&originHeight=856&originWidth=1220&size=153849&status=done&style=none&width=610" alt="image.png"></p><h1 id="步骤三：配置-vercel-api"><a href="#步骤三：配置-vercel-api" class="headerlink" title="步骤三：配置 vercel api"></a>步骤三：配置 vercel api</h1><h3 id="①-注册"><a href="#①-注册" class="headerlink" title="① 注册"></a>① 注册</h3><p>为了不暴露<a href="https://console.leancloud.app/apps">leancloud</a>的应用 ID（AppID）和应用密钥（AppKey），同时减少前端处理数据的压力，还需配置 vercel api。<br>首先前往  <a href="https://vercel.com/">Vercel 官网</a>，点击右上角的 sign up 进行注册。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612880174758-059d6e22-d5ec-4478-9b8c-4a9d7c041f44.png#align=left&display=inline&height=107&margin=%5Bobject%20Object%5D&name=image.png&originHeight=107&originWidth=585&size=7409&status=done&style=none&width=585" alt="image.png"><br>极有可能遇到的 bug<br>若注册时提示 <code>Error:This user account is blocked.Contact support@vercel.com for more information.</code><br>这是由于 <code>Vercel</code> 不支持大部分国内邮箱。可以将 <code>github</code> 账号主邮箱改为 <code>Gmail</code> 邮箱。<br><strong>但是</strong>根据群友反应，将 <code>github</code> 账号主邮箱切换为 <code>Gmail</code> 以后，<code>Vercel</code> 又会提示需要使用手机号码验证。然而 <code>github</code> 并没有提供手机号码绑定的内容。<br>综上，建议一开始注册 <code>github</code> 账号时就使用 <code>Gmail</code> 等国外邮箱进行注册。</p><ol><li>国内访问<code>Gmail</code>的方案：<ul><li>直接使用 QQ 邮箱手机版，它提供 <code>Gmail</code> 的访问路线，可以直接注册并使用。</li><li>使用 <code>Ghelper</code> 等浏览器插件访问。详情可以参考这篇文章：<a href="https://github.com/Zfour/python_github_calendar_api/blob/master/posts/8c8df126">玩转 Microsoft-Edge</a></li></ul></li><li>若是执着于当前<code>Github</code>账号，可以参考以下方案进行尝试:<ul><li>完成了 <code>Gmail</code> 等国外邮箱的注册，打开 <a href="https://github.com/settings/emails">github-&gt; 头像 -&gt;settings-&gt;Emails</a>-&gt;Add email address, 并完成邮箱验证。</li><li>在 Add email address  下方的 Primary email address  选项中将 <code>Gmail</code> 设置为主邮箱。</li></ul></li></ol><h3 id="②-新建项目，fork-我的项目"><a href="#②-新建项目，fork-我的项目" class="headerlink" title="② 新建项目，fork 我的项目"></a>② 新建项目，fork 我的项目</h3><p>打开<a href="https://vercel.com/dashboard">dashboard</a>点击新建项目的<code>New Project</code>按钮。点击导入第三方库。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949541795-cfe67df4-a443-4604-86fd-a34ea9c34bed.png#align=left&display=inline&height=314&margin=%5Bobject%20Object%5D&name=image.png&originHeight=627&originWidth=600&size=45859&status=done&style=none&width=300" alt="image.png"></p><p>填入俺提供的自建 API 项目地址:<br><a href="https://github.com/Zfour/hexo-circle-of-friends-api"><code>https://github.com/Zfour/hexo-circle-of-friends-api</code></a></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949577842-18cc23f8-5cf6-4f72-b892-d244d22a3089.png#align=left&display=inline&height=290&margin=%5Bobject%20Object%5D&name=image.png&originHeight=366&originWidth=724&size=29473&status=done&style=none&width=574" alt="image.png"><br>选择私有账户。点击<code>select</code>。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949622863-54b72f81-9add-479d-94ed-aeb125099afe.png#align=left&display=inline&height=508&margin=%5Bobject%20Object%5D&name=image.png&originHeight=637&originWidth=703&size=43664&status=done&style=none&width=561" alt="image.png"><br>选择 github 按钮然后会帮你将仓库克隆到你的 github 中，填入自定义仓库名称。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949755226-a97f3c75-8328-4630-91f2-2dd9dddf3665.png#align=left&display=inline&height=401&margin=%5Bobject%20Object%5D&name=image.png&originHeight=510&originWidth=704&size=42447&status=done&style=none&width=554" alt="image.png"></p><p>之后会识别出项目文件，单击  <code>Continue</code>。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949831064-f4b2cef1-eb64-4bac-8841-b991768ffee8.png#align=left&display=inline&height=340&margin=%5Bobject%20Object%5D&name=image.png&originHeight=579&originWidth=740&size=38724&status=done&style=none&width=435" alt="image.png"><br><code>Vercel</code>  的  <code>PROJECT NAME</code>  可以自定义，不用太过在意，但是之后不支持修改，若要改名，只能删除  <code>PROJECT</code>  以后重建一个了。下方三个选项保持默认就好。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612949883724-064103a2-658f-49cb-b1e6-f3a7f0a511d1.png#align=left&display=inline&height=385&margin=%5Bobject%20Object%5D&name=image.png&originHeight=608&originWidth=710&size=39531&status=done&style=none&width=450" alt="image.png"></p><p>此时点击 Deploy，<code>Vercel</code>  的 api 部署已经完成了一半。</p><h3 id="③-配置环境变量"><a href="#③-配置环境变量" class="headerlink" title="③ 配置环境变量"></a>③ 配置环境变量</h3><p>进入应用，点击 Settings 选择<code>Envionment Variables</code>标签配置环境变量<br><strong>Name</strong>分别以 LEANCLOUD_ID、LEANCLOUD_KEY 创建环境变量。<br><strong>Value 分别</strong>填入刚刚保存 Leancloud 的应用 ID（AppID）和应用密钥（AppKey）。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612880976269-f16a07e4-4e23-408f-925f-0782aa023038.png#align=left&display=inline&height=881&margin=%5Bobject%20Object%5D&name=image.png&originHeight=881&originWidth=1228&size=116963&status=done&style=none&width=1228" alt="image.png"><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612881008742-22dec369-12e6-4b50-896f-b91c71b2228a.png#align=left&display=inline&height=202&margin=%5Bobject%20Object%5D&name=image.png&originHeight=202&originWidth=873&size=23165&status=done&style=none&width=873" alt="image.png"></p><h3 id="④-检查-API-是否配置成功"><a href="#④-检查-API-是否配置成功" class="headerlink" title="④ 检查 API 是否配置成功"></a>④ 检查 API 是否配置成功</h3><p>访问<strong>API 链接</strong>（图中链接+’/api’）,如我的为（<a href="https://hexo-circle-of-friends-api.vercel.app/api">https://hexo-circle-of-friends-api.vercel.app/api</a>）<br>如果显示数据则说明 API 配置成功。</p><blockquote><p>注意！！！<br>如果不成功请<strong>View Build Logs</strong>，然后手动 develope 一下</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612881158247-936adb86-b444-41a5-ae34-5007dabb519f.png#align=left&display=inline&height=319&margin=%5Bobject%20Object%5D&name=image.png&originHeight=767&originWidth=1163&size=75534&status=done&style=none&width=483" alt="image.png"><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612938420053-f7c017a3-76f8-43aa-8f5e-75d2ac183f72.png#align=left&display=inline&height=289&margin=%5Bobject%20Object%5D&name=image.png&originHeight=289&originWidth=564&size=24512&status=done&style=none&width=564" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612881266950-b5ec5682-1211-430a-b9b6-63461126d242.png#align=left&display=inline&height=768&margin=%5Bobject%20Object%5D&name=image.png&originHeight=768&originWidth=1471&size=225296&status=done&style=none&width=1471" alt="image.png"></p><h1 id="步骤四：配置-HEXO-页面"><a href="#步骤四：配置-HEXO-页面" class="headerlink" title="步骤四：配置 HEXO 页面"></a>步骤四：配置 HEXO 页面</h1><p><del>这里以 butterfly 主题为例。进行配置。</del><br>为了适配更多主题，我将其写成了 js。<br>并且去除了对 vue 的依赖，通过 div 进行挂载。</p><h3 id="①-下载-js-文件并配置"><a href="#①-下载-js-文件并配置" class="headerlink" title="① 下载 js 文件并配置"></a>① 下载 js 文件并配置</h3><p>前往<a href="https://github.com/Zfour/hexo-moments-js">hexo-moments-js</a>下载 js。<br>在需要加载的页面添加<code>moments.js</code>， 在需要加载的页面添加 id 为<code>moments_container</code>的<code>div</code>即可。<br>可以参考<code>index.html</code>。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;moments_container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="②-引入-js"><a href="#②-引入-js" class="headerlink" title="② 引入 js"></a>② 引入 js</h3><p>将<code>moments.js</code>引入到你想展示朋友圈的页面。<br>这里以 butterfly 主题为例子，将 moments.js 放入主题的 js 文件夹里。<br>打开根目录的_config.butterfly 在 inject 的 bottom 处添加以下 vuejs 和本地 js 的代码。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  bottom:</span><br><span class="line">  - <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/moments.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="③-修改-js-中的-api-地址"><a href="#③-修改-js-中的-api-地址" class="headerlink" title="③ 修改 js 中的 api 地址"></a>③ 修改 js 中的 api 地址</h3><p>将以下代码中的链接换位你部署的 api 链接即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">requests_url = <span class="string">&quot;https://hexo-circle-of-friends-api.vercel.app/api&quot;</span>;</span><br></pre></td></tr></table></figure><p>其他可设置项：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let maxnumber &#x3D; 20; &#x2F;&#x2F;页面展示文章数量</span><br><span class="line">let addnumber &#x3D; 10; &#x2F;&#x2F;每次加载增加的篇数</span><br><span class="line">let opentype &#x3D; &#39;_blank&#39;;  &#x2F;&#x2F;&#39;_blank&#39;打开新标签,&#39;_self&#39;本窗口打开</span><br></pre></td></tr></table></figure><h3 id="④-查看效果"><a href="#④-查看效果" class="headerlink" title="④ 查看效果"></a>④ 查看效果</h3><p>hexo g 并 hexo s 访问具有设置 id 为<code>moments_container</code>的 div 的页面则可查看效果。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1612882063617-7e2fc86c-0309-4e79-b098-43ccf20d599c.png#align=left&display=inline&height=453&margin=%5Bobject%20Object%5D&name=image.png&originHeight=453&originWidth=854&size=48228&status=done&style=none&width=854" alt="image.png"></p><h3 id="⑤-添加到导航栏"><a href="#⑤-添加到导航栏" class="headerlink" title="⑤ 添加到导航栏"></a>⑤ 添加到导航栏</h3><p>这个太简单了就不说了。</p><h3 id="⑥-如果你使用了-pjax-请看这个帖子"><a href="#⑥-如果你使用了-pjax-请看这个帖子" class="headerlink" title="⑥ 如果你使用了 pjax 请看这个帖子"></a>⑥ 如果你使用了 pjax 请看这个帖子</h3><p>Aki 的 pjax 适配：<br><a href="https://akilar.top/posts/8480b91c/">https://akilar.top/posts/8480b91c/</a></p><blockquote><p>尚未适配 1.5 版本，这孩子沉迷 MC 去了</p></blockquote><h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><p>目前根据群友反馈有以下问题：</p><blockquote><p>① 目前群有反馈，js 文件压缩会出 bug，所以请尽量避免 js 压缩，你可以选择通过 jsdCDN 引入<br>② 如果 github action 无法提交 commit 请删除<a href="https://github.com/Zfour/hexo-circle-of-friends/blob/main/time.log">time.log</a>再执行一遍即可<br>③ 如果配置了 api 但无法访问，请手动 develope verel 应用一下</p></blockquote><p>最后给我的售后打个广告，有问题欢迎加群 674527148 询问。</p><h1 id="当前版本-技术预览版-1-15"><a href="#当前版本-技术预览版-1-15" class="headerlink" title="当前版本 技术预览版 1.15"></a>当前版本 技术预览版 1.15</h1><h3 id="更新日志："><a href="#更新日志：" class="headerlink" title="更新日志："></a>更新日志：</h3><ol><li>修复了时间比较时存在的时区不统一造成的最新文章判断错误问题。</li><li>修改了 sitemap 的爬取策略，即 dom 层级在三个层级以上，即’域名/博客目录/文章’，避免爬取 index 等。</li><li>适配了拥有标准时间格式’2021-2-11’格式的博客文章页</li><li>修改了请求默认时间为 15s，降低了爬取错误的发生。</li><li>修改了日志打印的格式，使其更加直观易懂</li><li>增加了 gitee 友链获取的方式</li><li>适配了截图式友链的友链获取</li><li>适配了中文时间的 sitemap 规则，解决了时间格式不统一的问题</li><li>增加了 matery 主题的友链获取和文章爬取适配，对主题进行了分包。</li><li>增加了 volantis 主题的友链获取和文章爬取适配。</li><li>重构了 sitemap 规则，使其能够更好发挥作用</li><li>去除了 hexo 网页端 vue 的依赖，制作为纯 js 挂载 div 的形式，使其适配更多主题</li><li>修复了若干 bug，如请求超时，字符 GBK 报错等问题</li></ol><h3 id="目前待解决的问题："><a href="#目前待解决的问题：" class="headerlink" title="目前待解决的问题："></a>目前待解决的问题：</h3><p><del>① 中文时间的适配？</del><br><del>② 很多人安装了各种不同格式的友链插件或者使用了各种不同格式的友链，</del><br><del>是否需要通过 xml 获取或者用 gitee-api 进行 api 的衔接？</del></p><p><del>经过一天的群友测试，1.1 版本技术预览版本已发布</del><br><del>因为 aki 和洪总的友链是截图形式的，</del><br><del>本着麻烦用户就是犯罪的原则，我进行了这种截图形式和截图与原生混合形式的适配</del><br><del>最新 1.11 版本已更新</del><br>③ 洪哥提出的使用 archives 链接的方案是否需要<del>马上实现</del>？<br>④rss 抓取规则的尝试？<br>⑤ 不少连接存在 SSL 验证错误，无法爬取？（不装 SSL 证书我也很绝望）<br>⑥ 多线程的适配，等着 noionion 鸽子帮我一起做</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> hexo </tag>
            
            <tag> 朋友圈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游我推荐：《尼尔》手游简评，牢笼中绽放希望之花</title>
      <link href="2021/02/20/2021-2-20/"/>
      <url>2021/02/20/2021-2-20/</url>
      
        <content type="html"><![CDATA[<blockquote><p>文：冰卡诺</p></blockquote><h1 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h1><p>2017 年初发售的《尼尔：机械纪元》以高质量的游戏场景、跌宕起伏的游戏剧情及令人沉醉的音乐深受广大玩家喜爱。大多数玩家也基本都是从此作开始了解《尼尔》系列作品。和市面上常见的爆款游戏不同，近年来，《尼尔：机械纪元》仍保有较高话题度。官方于 2020 年 12 月 24 日宣布，至该日游戏全球出货量和数字版销量已突破 500 万。同时，与《最终幻想 14》《战双帕弥什》等游戏进行联动让不少玩家过足了瘾，获得了“双份快乐”。而今年 4 月，《尼尔：人工生命》重置版发售也排上了日程，被不少玩家所期待。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164391-6998ce43-6f1e-4565-885f-eed8f7357b08.png#align=left&display=inline&height=675&margin=%5Bobject%20Object%5D&originHeight=675&originWidth=1200&size=0&status=done&style=none&width=1200"><br>或许是为了回应玩家期待，填补新游发售前的“真空期”。又或许是顺应手游市场发展，开拓新的游戏渠道。Square Enix 于 2021 年 2 月 18 日推出了《尼尔》系列的回合制 RPG 手游《NieR Re[in]carnation》（后简称《尼尔：Re》），一经发售就夺得了 ios 销量榜榜首。作为《尼尔：机械纪元》的忠实玩家，没有理由不去尝试一下这款最新的《尼尔》系列作品。不过，此作尚不支持中文，如果没有日语基础，游戏体验会大打折扣。因此，在中文版尚未发售之前，不如先让笔者带大家一睹为快。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1613832164823-0f8e6647-419a-4396-a2d9-5cb4e13b4294.jpeg#align=left&display=inline&height=360&margin=%5Bobject%20Object%5D&originHeight=360&originWidth=640&size=0&status=done&style=none&width=640"></p><h1 id="世界观：探索与救赎"><a href="#世界观：探索与救赎" class="headerlink" title="世界观：探索与救赎"></a>世界观：探索与救赎</h1><p>《尼尔：Re》的主世界被称为“牢笼”，主要是由高耸的“建筑”组成，没有人知晓它是如何被建造以及“牢笼”命名由来。每一个剧情章节有着不同主题环境，流沙、水世界、冰雪这些在《尼尔：机械纪元》及《最终幻想 14》中常见的为玩家所熟知的场景被完整地还原于手游之中。恢弘的场景设计和逼真的光影氛围烘托，甚至会使玩家产生在玩主机游戏或者是 PC 游戏的错觉。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164401-c445fc1d-e668-4017-84a6-431233dbffce.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>玩家操纵的角色是一名无名神秘“少女”。当她从冰冷石板上醒来时，她已身处于这硕大的“牢笼”之中。她失去了声音，同时也失去了“重要的东西”。为了找回失去的东西，在自称 MAMA 的“话痨”神秘幽灵的带领下，黑衣“少女”开始了在“牢笼”中的旅途，逐渐揭开了“牢笼”的神秘面纱。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164515-023ee0b6-263c-46e0-808d-f5f4f8269472.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>游戏每一章节除了对应不同场景环境之外，也对应了不同绘本故事。玩过《尼尔：机械纪元》的玩家应该十分熟悉这种巧妙的剧情模式。本作中，MAMA 指引我们在“牢笼”寻找“稻草人”。通过进入“稻草人”，与歪曲剧情的“黑暗之鸦”进行对抗，从而修正剧情走向，使得绘本剧情中主人公完成对自身的“救赎”，最终获取解放武器。而最终解放武器的“记忆”，则是少女苦苦寻觅的“重要的东西”。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164413-ab4c1b16-be87-4acb-ae4a-a075b19f5861.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>绘本故事中角色有着不同的身世背景和东西方地域特色。如流亡的王子、忠诚的机械士兵、拥有义肢的少女等等，通过每一章看似独立又似乎带有联系的短篇故事，将这些人物联系到了一起。而每一个短篇故事，都会引发玩家对“人性”的思考，这一点正是“尼尔”系列的独有特色。同时，短篇故事中琐碎线索也为主世界观的剧情埋下了伏笔。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832165341-cd7c378b-c4be-444b-927e-eef44db43905.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>总体来说，《尼尔：Re》可以说是吊打了市面上常见“氪金手游”的剧情。至少在游玩时，玩家很难去选择跳过剧情而去追求纯粹打击快感。《尼尔：Re》剧情是连贯的，通过主世界的探索作为线索，将游戏中人物故事进行串联。随着剧情深入，一个又一个谜团被揭示，吸引玩家去寻找更多线索，从而品味剧情内涵。这种《尼尔》系列的独有魅力在《尼尔：Re》中体现得淋漓尽致。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164498-c1980882-72c9-44a5-a15b-6bb66ec75a1d.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"></p><h1 id="玩法：回合与养成"><a href="#玩法：回合与养成" class="headerlink" title="玩法：回合与养成"></a>玩法：回合与养成</h1><p>在《尼尔：Re》还未发售之前，我曾一度以为《尼尔：Re》会是一款如《塞尔达传说：旷野之息》一样的动作冒险游戏。但当得知这是一款回合制游戏时，多少还是有些失望。但我认为，《尼尔：Re》弱化战斗元素，可能是希望玩家能将更多关注放在游戏剧情上。<br>相比目前市面上粗制滥造的回合制游戏而言，《尼尔：Re》无论是动作，模型还是技能特效都能看出 Square Enix 作为游戏大厂的态度。与普通回合制游戏不同，在《尼尔：Re》中，除了可以使用丰富的技能之外，你甚至可以操控角色进行移动进行灵活走位躲避怪物攻击。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1613832164450-b8c4fa99-f756-448c-91d1-8ba83e6c59d2.gif#align=left&display=inline&height=365&margin=%5Bobject%20Object%5D&originHeight=365&originWidth=794&size=0&status=done&style=none&width=794"><br>游戏技能包括角色技能和武器技能。游戏技能并不是点击后立即释放，而是按照点击顺序释放，利用这一点可以制定一些战术。如使用武器技能添加防御减益效果，然后再使用具有高火力的另一技能从而造成较大伤害。当角色对敌人造成伤害时，可以积累角色技能槽解锁角色技能。当然，游戏也提供了人性化的自动战斗功能，并提供了加速选项。对于疲于应战的玩家来说，可以享受华丽技能带来的视觉盛宴。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1613832164648-658f6cee-bf17-4cd7-8c1a-8786ee3ee911.gif#align=left&display=inline&height=365&margin=%5Bobject%20Object%5D&originHeight=365&originWidth=794&size=0&status=done&style=none&width=794"><br>当你厌倦了回合制战斗时，《尼尔：Re》也提供了一些小游戏来缓解重复回合制战斗带来的焦虑感，重温那些你曾熟悉的小游戏。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164461-8584fc8e-1ebb-46b3-a4c8-99c11df07f9f.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>除了回合战斗玩法之外，游戏也拥有氪金手游中常见的角色和装备养成玩法。但与以往氪金手游将装备和人物分开抽取不同，《尼尔：Re》中是通过抽取扭蛋池的特定武器从而解锁角色，对于运气不好的非洲玩家而言，可能会获取不佳体验。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164415-82256a24-29cd-4ea3-9e8b-737fd44ac283.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>武器分为剑，矛，拳套和枪等武器类型，每种武器设置有不同武器技能。它不仅可以作为武器技能的主要武器装备，还可以作为仅仅提供数值的子武器装备。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164496-aeb0dfbf-f487-4f73-8154-40c9f079d6de.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>每种武器都带有“武器故事”。武器故事分为多个部分，并通过养成武器解锁文字，可以了解武器背后的故事。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164757-2501237f-23ba-4b64-913a-5bbeee9ae180.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>武器和人物根据”星级”稀有度不同，性能也不同。但是可以通过材料进行角色技能提升和等级上限提升。武器和人物的升级材料也是和普通氪金手游一样通过周常副本和定期活动副本进行获取，但目前可供挑战的材料副本较少，人物等级提升较慢，有需要重肝的风险。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164431-ce419bda-1342-4de4-9c4a-78d455976b7c.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>因此，《尼尔：Re》玩法上只能说是中规中矩，创新不够多，玩法也是传统回合制玩法。在经验材料获取较难的环境下，容易使玩家产生厌烦情趣。对于抽不到 4 星稀有角色的玩家来说，前期可能需要花更多时间去收集经验材料，从而极大消耗了玩家耐性。不过，比较良心的是，游戏抽奖宝石产出渠道丰富，同时官方也经常因为活动和维护发放大量宝石，即使不氪金也能抽好几发 10 连。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613832164480-89736f0c-fdf6-4ea8-a701-43edb2cc501c.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>综上所述，《尼尔：Re》无疑是《尼尔：人工生命》重置版发售前解馋的甜点，游戏本身的剧情部分才是游戏的主要亮点。虽说《尼尔：Re》在有意弱化回合制在游戏中的地位，但作为推动剧情不可或缺的一环，官方需要在素材的获取和养成的难度上进行优化，以确保玩家能够流畅地进行剧情。尽量避免因为角色战斗力不足，而重复刷材料副本的情况。同时，对于迫不及待想体验游戏的玩家也不用太过着急，可以等待欧美版释出后再游玩。官方也曾放出消息，游戏很可能有官方中文。如果你和我一样喜欢《尼尔》系列，那么《尼尔：Re》不容错过。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021.2.18 日記</title>
      <link href="2021/02/18/2021-02-18/"/>
      <url>2021/02/18/2021-02-18/</url>
      
        <content type="html"><![CDATA[<p>新しい 1 年になりました。まずは「よいお年を」という言葉を挨拶します。以前の新年でコンピュータゲームに夢中すると違いますが、今年の新年は意味がある 2 つことをしました。<br>1 つ目はは新しいプログラミングプロジェクトを開発して、完成しました。自己の能力を検証して、自分の限界を挑戦するために、この長い休み時間を利用して、一生懸命にプログラミングをしました。また、自分が知らない知識を学びました。そして、自分自身の不足を知りました。友達が私の能力を認めますが、お金が稼げない今の私は自分の能力に自信がないと思います。だから、実行するどうかが大切です。プロジェクトを利用して、経験を積いて、より多くの承認を得りたいと思います。留学ができない場合は、私はプログラミングに関する仕事を探したいと思います。そして、今の時間を利用して、プログラミングの能力を上げて、いろいろ準備をします。<br>2 つ目は友達と遊びました。映画を見たり、自転車に乗って遊園観光をしたり、楽しい時間を過ごしました。彼女はいないし、仕事の同僚もいないし、とても寂しいです。友達をおかげで、生活はあんまりつまらなくないと思います。そして、久しぶりの遠縁は家に来ましたが、いろいろな答えない問題がどんどんきました。友達の誘いがなければ、遠縁の問題で気まずくなるかもしれないです。遠縁に迷惑をかけないように、私は家を出て、この時間を過ごしました。遠縁に会わずに游びに出かけるのは失礼ですが、迷惑にならないように出かけたほうがいいと思います。<br>お祝い日が終わりますが、挑戦はまた始まります。将来が何をするか、私はどうになるか、いろいろな悩みがあります。でも、自分を信じて、限界を挑戦して、最終的には結果が出ます。やっていけば大丈夫です。</p>]]></content>
      
      
      <categories>
          
          <category> 生活趣闻 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用的python指令整理（一）</title>
      <link href="2021/02/17/20221-2-17/"/>
      <url>2021/02/17/20221-2-17/</url>
      
        <content type="html"><![CDATA[<p>最近一直在写 python，但有些指令总是忘，这里简单整理一下。</p><h3 id="1-声明中文编码"><a href="#1-声明中文编码" class="headerlink" title="1.声明中文编码"></a>1.声明中文编码</h3><p>在 3.0 版本以下，可能存在无法读取中文的情况下，需要加上<code># -*- coding: UTF-8 -*-</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&quot;我是中文 &quot;</span></span><br><span class="line"><span class="keyword">print</span> s.decode(<span class="string">&quot;utf-8&quot;</span>).encode(<span class="string">&quot;gbk&quot;</span>)</span><br><span class="line"><span class="comment"># 使用 decode(&quot;utf-8&quot;) 转换成 utf-8 编码，然后使用 encode(&quot;gbk&quot;) 转换成 gbk 编码，才能在 windows 命令提示符下正常输出中文</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解决gbk错误</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> s.encode(<span class="string">&quot;gbk&quot;</span>, <span class="string">&#x27;ignore&#x27;</span>).decode(<span class="string">&#x27;gbk&#x27;</span>, <span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-虚拟环境冻结与安装"><a href="#2-虚拟环境冻结与安装" class="headerlink" title="2.虚拟环境冻结与安装"></a>2.虚拟环境冻结与安装</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 现将依赖的环境冷冻起来</span></span><br><span class="line">pip freeze &gt; requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装相关依赖包</span></span><br><span class="line">pip install <span class="literal">-r</span> requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 淘宝镜像安装</span></span><br><span class="line">pip install <span class="literal">-i</span> https://pypi.tuna.tsinghua.edu.cn/simple <span class="literal">-r</span> requirements.txt</span><br></pre></td></tr></table></figure><h3 id="3-print-换行符和空格"><a href="#3-print-换行符和空格" class="headerlink" title="3.print()换行符和空格"></a>3.print()换行符和空格</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 表示空四个字符，也称缩进，相当于按一下Tab键</span></span><br><span class="line">print(<span class="string">&#x27;\tPython&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 表示换行，相当于按一下回车</span></span><br><span class="line">print(<span class="string">&#x27;\nPython&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># \n\t表示换行加tab</span></span><br><span class="line">print(<span class="string">&#x27;Python\n\tPython&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="4-删除字符串的空格-strip-replace"><a href="#4-删除字符串的空格-strip-replace" class="headerlink" title="4.删除字符串的空格-strip() -replace()"></a>4.删除字符串的空格-<code>strip()</code> -<code>replace()</code></h3><p>一般常用的是<code>strip()</code>也就是去除字符串前后的空格，该方法有返回值，切记需要赋值。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串</span></span><br><span class="line">str = <span class="string">&#x27; python &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除末尾的空格 =&gt; &#x27; python&#x27;</span></span><br><span class="line">str1 = str.rstrip()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除开头的空格 =&gt; &#x27;python &#x27;</span></span><br><span class="line">str2 = str.lstrip()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除开头和结尾的空格 =&gt; &#x27;python&#x27;</span></span><br><span class="line">str3 = str.strip()</span><br></pre></td></tr></table></figure><p>对于字符串中的空格可以使用<code>replace()</code>方法进行替换，切记需要赋值。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串</span></span><br><span class="line">str = <span class="string">&#x27;pyt hon&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除字符串中的空格 =&gt; &#x27;python&#x27;</span></span><br><span class="line">str = str.replace(<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-数据类型转换"><a href="#5-数据类型转换" class="headerlink" title="5.数据类型转换"></a>5.数据类型转换</h3><p><code>print()</code>无法直接输出<code>int</code>这是一个常见的错误。<br>在 print<code>int</code>时需要运用强制类型转换函数将<code>int</code>转换为<code>str</code>。<br>这些函数都带有返回值。</p><table><thead><tr><th>函数</th><th>解释</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/python/python-func-int.html">int(x [,base])</a></td><td>将 x 转换为一个整数</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-long.html">long(x [,base] )</a></td><td>将 x 转换为一个长整数</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-float.html">float(x)</a></td><td>将 x 转换到一个浮点数</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-complex.html">complex(real [,imag])</a></td><td>创建一个复数</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-str.html">str(x)</a></td><td>将对象 x 转换为字符串</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-repr.html">repr(x)</a></td><td>将对象 x 转换为表达式字符串</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-eval.html">eval(str)</a></td><td>用来计算在字符串中的有效 Python 表达式,并返回一个对象</td></tr><tr><td><a href="https://www.runoob.com/python/att-tuple-tuple.html">tuple(s)</a></td><td>将序列 s 转换为一个元组</td></tr><tr><td><a href="https://www.runoob.com/python/att-list-list.html">list(s)</a></td><td>将序列 s 转换为一个列表</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-set.html">set(s)</a></td><td>转换为可变集合</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-dict.html">dict(d)</a></td><td>创建一个字典。d 必须是一个序列 (key,value)元组。</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-frozenset.html">frozenset(s)</a></td><td>转换为不可变集合</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-chr.html">chr(x)</a></td><td>将一个整数转换为一个字符</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-unichr.html">unichr(x)</a></td><td>将一个整数转换为 Unicode 字符</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-ord.html">ord(x)</a></td><td>将一个字符转换为它的整数值</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-hex.html">hex(x)</a></td><td>将一个整数转换为一个十六进制字符串</td></tr><tr><td><a href="https://www.runoob.com/python/python-func-oct.html">oct(x)</a></td><td>将一个整数转换为一个八进制字符串</td></tr></tbody></table><blockquote><p>*表格 copy 自菜鸟教程</p></blockquote><p>常用的一般为<code>int()</code>,<code>str()</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">orign_str = <span class="string">&#x27;89757&#x27;</span></span><br><span class="line"></span><br><span class="line">print(type(orign_str))</span><br><span class="line"><span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">print(type(int(orign_str)))</span><br><span class="line"><span class="comment"># &lt;class &#x27;int&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">print(type(str(int(orign_str))))</span><br><span class="line"><span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-数据去重-set"><a href="#6-数据去重-set" class="headerlink" title="6.数据去重-set()"></a>6.数据去重-<code>set()</code></h3><p>可以对简单的列表、字典、字符串等进行去重。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">orign_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">dic = &#123;<span class="string">&quot;苹果&quot;</span>:<span class="number">23</span>,<span class="string">&quot;梨子&quot;</span>:<span class="number">22</span>,<span class="string">&quot;苹果&quot;</span>:<span class="number">10</span>,<span class="string">&quot;苹果&quot;</span>:<span class="number">11</span>&#125;</span><br><span class="line">x = set(<span class="string">&#x27;abbcdefg&#x27;</span>)</span><br><span class="line">y = set(<span class="string">&#x27;agreaads&#x27;</span>)</span><br><span class="line">new_list = list(set(orign_list))</span><br><span class="line"><span class="comment"># 转换为列表</span></span><br><span class="line"></span><br><span class="line">print(set(dic))</span><br><span class="line"><span class="comment"># 字典去重 =&gt; &#123;&#x27;梨子&#x27;, &#x27;苹果&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">print(set(orign_list))</span><br><span class="line"><span class="comment"># 数组去重 =&gt; &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"></span><br><span class="line">print(new_list)</span><br><span class="line"><span class="comment"># [1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line">print(type(x))</span><br><span class="line"><span class="comment"># &lt;class &#x27;set&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">print(x, y)</span><br><span class="line"><span class="comment"># &#123;&#x27;e&#x27;, &#x27;c&#x27;, &#x27;f&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;g&#x27;, &#x27;d&#x27;&#125; &#123;&#x27;e&#x27;, &#x27;g&#x27;, &#x27;a&#x27;, &#x27;s&#x27;, &#x27;r&#x27;, &#x27;d&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">print(x &amp; y)</span><br><span class="line"><span class="comment"># 交集 =&gt; &#123;&#x27;a&#x27;, &#x27;e&#x27;, &#x27;g&#x27;, &#x27;d&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">print(x | y)</span><br><span class="line"><span class="comment"># 并集 =&gt; &#123;&#x27;e&#x27;, &#x27;c&#x27;, &#x27;f&#x27;, &#x27;r&#x27;, &#x27;s&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;g&#x27;, &#x27;d&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">print(x - y)</span><br><span class="line"><span class="comment"># 差集 =&gt; &#123;&#x27;f&#x27;, &#x27;c&#x27;, &#x27;b&#x27;&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>对于复杂的列表或者字典请使用<code>not in</code>与<code>append()</code>结合进行循环遍历获取新数组。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">orign_list = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">3</span>]]</span><br><span class="line">new_list = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历源列表</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> orign_list:</span><br><span class="line">    <span class="keyword">if</span> item <span class="keyword">not</span> <span class="keyword">in</span> new_list:</span><br><span class="line">        new_list.append(item)</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果重复则不追加新的列表元素</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="7-索引的问题"><a href="#7-索引的问题" class="headerlink" title="7.索引的问题"></a>7.索引的问题</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613544494788-869cf3c8-35bb-4b7f-8578-15f94af17f70.png#align=left&display=inline&height=140&margin=%5Bobject%20Object%5D&originHeight=140&originWidth=134&size=0&status=done&style=none&width=134"></p><ul><li>字符串中第一个元素的偏移为 0</li><li>字符串中最后一个元素的偏移为-1</li><li><strong>str[0]</strong> 获取第一个元素</li><li><strong>str[-2]</strong> 获取倒数第二个元素</li></ul><p>索引的切片遵从的原则是<strong>前闭后开区间</strong><br>即写作<code>[0:3]</code>按照数学的理解为**”[0,2]”**,即取 0,1,2 三个元素。</p><h3 id="8-无限循环-while"><a href="#8-无限循环-while" class="headerlink" title="8.无限循环 -while"></a>8.无限循环 -<code>while</code></h3><p>利用 while 执行无限循环，直到某个条件中断循环。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> var == <span class="number">1</span>:  <span class="comment"># 如果该条件为true，循环将无限执行下去</span></span><br><span class="line">    num = input(<span class="string">&quot;输入密码:&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> num == <span class="string">&quot;123456&quot;</span>:</span><br><span class="line">        print(<span class="string">&quot;密码输入正确：&quot;</span>, num)</span><br><span class="line">        var = <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&quot;密码输入错误：&quot;</span>, num)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;Good bye!&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="9-常见的列表操作"><a href="#9-常见的列表操作" class="headerlink" title="9.常见的列表操作"></a>9.常见的列表操作</h3><p>常见主要有 append()和 len()。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">orign_list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">print(len(orign_list))</span><br><span class="line"><span class="comment"># 列表的元素个数</span></span><br><span class="line"></span><br><span class="line">print(max(orign_list))</span><br><span class="line">print(min(orign_list))</span><br><span class="line"><span class="comment"># 最大最小值</span></span><br><span class="line"></span><br><span class="line">new_list = orign_list[<span class="number">0</span>:<span class="number">5</span>]</span><br><span class="line"><span class="comment"># 列表切片</span></span><br><span class="line"></span><br><span class="line">new_list.append(<span class="number">6</span>)</span><br><span class="line">print(new_list)</span><br><span class="line"><span class="comment"># 添加一个元素</span></span><br><span class="line"></span><br><span class="line">new_list.extend([<span class="number">7</span>,<span class="number">8</span>])</span><br><span class="line">print(new_list)</span><br><span class="line"><span class="comment"># 追加另一个序列中的多个值</span></span><br><span class="line"></span><br><span class="line">new_list.insert(<span class="number">8</span>, <span class="number">9</span>)</span><br><span class="line">print(new_list)</span><br><span class="line"><span class="comment"># 插入元素</span></span><br><span class="line"></span><br><span class="line">item = new_list.pop()</span><br><span class="line">print(item)</span><br><span class="line">print(new_list)</span><br><span class="line"><span class="comment"># 移除列表中的一个元素（默认最后一个元素），并返回值</span></span><br><span class="line"></span><br><span class="line">new_list.remove()</span><br><span class="line"><span class="comment"># 移除列表中的某个值的第一个匹配项</span></span><br><span class="line"></span><br><span class="line">new_list.reverse()</span><br><span class="line"><span class="comment"># 反向列表中元素</span></span><br><span class="line"></span><br><span class="line">new_list.sort(cmp=<span class="literal">None</span>, key=<span class="literal">None</span>, reverse=<span class="literal">False</span>)</span><br><span class="line"><span class="comment"># key 指定可迭代对象中的一个元素来进行排序</span></span><br><span class="line"><span class="comment"># reverse True 降序/False 升序</span></span><br></pre></td></tr></table></figure><h3 id="10-常见的字典操作"><a href="#10-常见的字典操作" class="headerlink" title="10.常见的字典操作"></a>10.常见的字典操作</h3><p>常见主要有<code>dict.keys()</code>、<code>dict.values()</code>和<code>dict.items()</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">dict = &#123;<span class="string">&#x27;Name&#x27;</span>: <span class="string">&#x27;Zara&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>: <span class="number">7</span>, <span class="string">&#x27;Class&#x27;</span>: <span class="string">&#x27;First&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">dict.values() <span class="comment"># 以列表返回字典中的所有值</span></span><br><span class="line"></span><br><span class="line">dict.keys() <span class="comment"># 以列表返回一个字典所有的键</span></span><br><span class="line"></span><br><span class="line">dict.items() <span class="comment"># 以列表返回可遍历的(键, 值) 元组数组</span></span><br><span class="line"></span><br><span class="line">dict.get(<span class="string">&#x27;Name&#x27;</span>, <span class="string">&quot;Not Available&quot;</span>)</span><br><span class="line"><span class="comment"># 返回指定键的值，如果值不在字典中返回default值(&quot;Not Available&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> dict[<span class="string">&#x27;Name&#x27;</span>]  <span class="comment"># 删除键是&#x27;Name&#x27;的条目</span></span><br><span class="line">dict.clear()      <span class="comment"># 清空字典所有条目</span></span><br><span class="line"><span class="keyword">del</span> dict          <span class="comment"># 删除字典</span></span><br><span class="line"></span><br><span class="line">delete_item = dict.pop(<span class="string">&#x27;Name&#x27;</span>) <span class="comment"># 删除键是&#x27;Name&#x27;的条目,并拥有返回值</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="11-常见的异常获取及打印"><a href="#11-常见的异常获取及打印" class="headerlink" title="11.常见的异常获取及打印"></a>11.常见的异常获取及打印</h3><p>打印异常及异常的种类和行数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    print(e.__traceback__.tb_frame.f_globals[<span class="string">&quot;__file__&quot;</span>])</span><br><span class="line">    print(e.__traceback__.tb_lineno)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于butterfly主题的历史上的今天 2.0重置版</title>
      <link href="2021/02/13/2021-2-13/"/>
      <url>2021/02/13/2021-2-13/</url>
      
        <content type="html"><![CDATA[<h1 id="什么是历史上的今天？"><a href="#什么是历史上的今天？" class="headerlink" title="什么是历史上的今天？"></a>什么是历史上的今天？</h1><p>这个要从我还是一个小白说起，当时刚开始写博客，只会 jquery 的我为了练手，写了最初的历史上的今天项目。当时说实话，其实我的前端知识有限，套用了一个基于 jquery 的滚动模板，老实说只能是东拼西凑的产物。但这个作品却得到了好评，并在前几天还有人在问我有关历史上的今天部署的问题。考虑到 butterfly 已经完全去了 jquery 化，因此我用了半天的时间将这个项目进行了重构。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1613215946416-94a571ff-440c-486b-a8e7-ae9f5c052141.gif#align=left&display=inline&height=200&margin=%5Bobject%20Object%5D&originHeight=200&originWidth=310&size=0&status=done&style=none&width=310"></p><blockquote><p>重构日志：<br>① 去除了 jquery，改而使用 swiperjs 进行滚动实现，通过原生 fetch 进行本地 json 数据请求<br>② 适配最新的 butterfly 主题版本<code>Butterfly_v3.6.2</code></p></blockquote><h1 id="步骤一：下载资源包"><a href="#步骤一：下载资源包" class="headerlink" title="步骤一：下载资源包"></a>步骤一：下载资源包</h1><p>前往<a href="https://github.com/Zfour/Butterfly-card-history">Butterfly-card-history</a>下载资源包。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613216295267-108536ac-6682-4905-899f-5d04d6aa3331.png#align=left&display=inline&height=439&margin=%5Bobject%20Object%5D&name=image.png&originHeight=439&originWidth=937&size=42184&status=done&style=none&width=937" alt="image.png"></p><h1 id="步骤二：修改配置文件"><a href="#步骤二：修改配置文件" class="headerlink" title="步骤二：修改配置文件"></a>步骤二：修改配置文件</h1><p>① 将<code>pug</code>文件夹的<code>card_history.pug</code>放置于<code>[Blogroot]\themes\butterfly\layout\includes\widget\</code>中。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613216868633-5bd2d305-bdc4-4279-a2cf-e781a485f841.png#align=left&display=inline&height=317&margin=%5Bobject%20Object%5D&name=image.png&originHeight=317&originWidth=691&size=40789&status=done&style=none&width=691" alt="image.png"><br>② 修改位于<code>[Blogroot]\themes\butterfly\layout\includes\widget\</code>中的 index.pug。<br>这里为 3.6+的写法，其他版本写法请参考<a href="https://akilar.top/posts/4e39cf4a/">基于 Butterfly 主题的侧边栏电子钟</a>中的写法，将<code>card_clock</code>换位<code>card_history</code>进行配置。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">    #aside_content.aside_content</span><br><span class="line">    //- post</span><br><span class="line">    if is_post()</span><br><span class="line">      if showToc &amp;&amp; theme.toc.style_simple</span><br><span class="line">        .sticky_layout</span><br><span class="line">          include ./card_post_toc.pug</span><br><span class="line">      else</span><br><span class="line">        !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_announcement&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        .sticky_layout</span><br><span class="line">          if showToc</span><br><span class="line">            include ./card_post_toc.pug</span><br><span class="line"><span class="addition">+         !=partial(&#x27;includes/widget/card_history&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">          !=partial(&#x27;includes/widget/card_recent_post&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">          !=partial(&#x27;includes/widget/card_ad&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    else</span><br><span class="line">      //- page</span><br><span class="line">      !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_announcement&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      .sticky_layout</span><br><span class="line"><span class="addition">+       !=partial(&#x27;includes/widget/card_history&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">        !=partial(&#x27;includes/widget/card_recent_post&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_ad&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_newest_comment&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_categories&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_tags&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_archives&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_webinfo&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure><p>③ 打开<code>[Blogroot]\_config.butterfly.yml</code>搜索到<code>inject:</code>处，进行以下修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://unpkg.com/swiper/swiper-bundle.min.css&quot;&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css&quot;&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://unpkg.com/swiper/swiper-bundle.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>④ 打开<code>[Blogroot]\_config.butterfly.yml</code>搜索到<code>aside:</code>处，添加开关：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_history:</span> <span class="comment"># 添加开关名称</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 打开card_history开关</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>⑤ 进行 hexo clean &amp;&amp; hexo g &amp;&amp; hexo s 进行效果的预览</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613218515668-86512baa-0a5f-40a0-872c-732c12d6c747.png#align=left&display=inline&height=204&margin=%5Bobject%20Object%5D&name=image.png&originHeight=204&originWidth=301&size=45218&status=done&style=none&width=301" alt="image.png"></p><h1 id="总结：部署相关问题"><a href="#总结：部署相关问题" class="headerlink" title="总结：部署相关问题"></a>总结：部署相关问题</h1><p>如果你想进行更完善的配置，可以参考 aki 关于 clock 的<a href="https://akilar.top/posts/4e39cf4a/">相关配置</a>，<br>如有问题，请加此群进行询问小冰或者 aki。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1613218614503-3fb41893-88ed-4c9f-bd06-2adc031dce3f.png#align=left&display=inline&height=848&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1334&originWidth=750&size=1233683&status=done&style=none&width=477" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> 插件 </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>print(&#39;大家新年快乐！&#39;)</title>
      <link href="2021/02/11/2021-2-11/"/>
      <url>2021/02/11/2021-2-11/</url>
      
        <content type="html"><![CDATA[<p>AS:Alert.show(“祝大家新年快乐！”);<br>Asp : Response.Write “祝大家新年快乐”<br>C：printf(“祝大家新年快乐”);<br>C++ : cout&lt;&lt;”祝大家新年快乐”;<br>C#：System.Console.WriteLine(“祝大家新年快乐!”)<br>COBOL:DISPLAY ‘祝大家新年快乐！<br>Delphi: ShowMessage(‘祝大家新年快乐！’);<br>DOS 批处理: echo 祝大家新年快乐<br>erlang: io:format(“祝大家新年快乐”)<br>Foxpro: ? [祝大家新年快乐！]<br>groovy: println “祝大家新年快乐”<br>go: fmt.Println(“祝大家新年快乐”)<br>HASM:stdout.put(“大家新年快乐！”)<br>java: System.out.println(“祝大家新年快乐”);<br>Jscript:document.write(“祝大家新年快乐”)<br>JScript: alert(“祝大家新年快乐”)<br>lua:print(“祝大家新年快乐！”)<br>mysql：select “祝大家新年快乐！” as msg<br>MSSQL:print ‘祝大家新年快乐！’;<br>nodejs:console.log(“祝大家新年快乐！”)<br>Objective-c:NSLog(@”祝大家新年快乐”);<br>perl: print ‘祝大家新年快乐’<br>PHP : echo “祝大家新年快乐”;<br>powerBuilder:messagebox（”祝大家新年快乐”)<br>Python:print(“祝大家新年快乐！”)<br>QBasic : Print “祝大家新年快乐”<br>shell: echo 祝大家新年快乐<br>swift :println(“祝大家新年快乐!”)<br>VB: Msg(“祝大家新年快乐！”)<br>VBScript:MsgBox “祝大家新年快乐”<br>VC: MessageBox(“祝大家新年快乐！”);<br>WASM:OUTPUT(str$(“新年快乐！”))<br>易语言:调试输出(“祝大家新年快乐！！！”)</p>]]></content>
      
      
      <categories>
          
          <category> 生活趣闻 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 新年 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游我推荐：经典IP能否再创佳绩？仙剑7试玩版简评</title>
      <link href="2021/01/23/2021-01-23/"/>
      <url>2021/01/23/2021-01-23/</url>
      
        <content type="html"><![CDATA[<h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><p>在开始评测之前，先来侃一侃《仙剑奇侠传》这一经典 IP 的发展。谈起《仙剑奇侠传》（后简称《仙剑》），作为拥有 25 年之久的历史，覆盖游戏、影视等领域，伴随了多少 80、90 后童年的经典 IP，在 10 年前，可以算得上是家喻户晓。但对于不同年龄层游戏玩家而言，又有着截然不同的回忆。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489308456-a227891c-3750-40e6-ac60-d2d84650b1d3.jpeg#align=left&display=inline&height=720&margin=%5Bobject%20Object%5D&originHeight=720&originWidth=1280&size=0&status=done&style=none&width=1280"><br>当年，很多像我一样的 90 后玩家并没有玩过《仙剑》系列游戏，毕竟《仙剑 1》和《仙剑 3》分别于 1995 和 2003 年发售，90 后玩家还是处于懵懂时期，加上国外盗版游戏和 GBA 掌机游戏，以及后来网游在国内流行的环境下，对于国产单机游戏这一概念是模糊的。大多数 90 后认识《仙剑》这个 IP，可能还是得追溯到胡歌参演的热播电视剧《仙剑 1》以及《仙剑 3》。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308688-93743c80-a95c-4ba9-b219-ce09827b32c6.png#align=left&display=inline&height=400&margin=%5Bobject%20Object%5D&originHeight=400&originWidth=640&size=0&status=done&style=none&width=640"><br>而对于当时 80 后玩家而言，还是让不少玩家留有深刻印象。当时 jrpg 游戏盛行，但国内能玩到的游戏其实并不多，加上很多游戏都没有汉化，游玩体验上多少打了折扣。而中文的《仙剑 1》在当时具有先天性优势，给那个年代没怎么接触游戏的人带来了前所未有的体验。《仙剑 1》在当时被冠以不少美誉，1995 年售价 120 元的游戏竟也有着不错销量，在当时可谓是难能可贵。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308656-bf572cd3-1527-4b80-8897-558c6dff11a4.png#align=left&display=inline&height=450&margin=%5Bobject%20Object%5D&originHeight=450&originWidth=800&size=0&status=done&style=none&width=800"><br>2000 年左右，国产单机游戏迎来了春天，《仙剑 3》不仅继续书写着剑侠题材国产单机游戏神话，也致使了国内单机游戏以仙侠为主题的主流趋势。但好景不长，腾讯、盛大等公司为代表代理的网络游戏席卷了中国，使得形势一片大好的国产单机游戏遭遇了滑铁卢。至此，国产单机游戏失去了发育土壤，《仙剑》系列一直处于不温不火的境地。同时，受限于技术水平，游戏仍停留在回合制阶段，很少能有真正能与国外 3A 大作抗衡的好游戏。最近开发的游戏质量也出现了一些问题，使得《仙剑》系列口碑直线下滑。值得庆幸的是，2018 年《古剑奇谭 3》（后简称《古剑 3》）的推出，使得国产单机游戏这一概念才又一次重新被国内玩家所重视，仙侠为主题的国产单机游戏又迎来了第二春。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308343-5ee3fcff-5ffe-492f-a8fe-24b8c49b5715.png#align=left&display=inline&height=450&margin=%5Bobject%20Object%5D&originHeight=450&originWidth=804&size=0&status=done&style=none&width=804"><br>《古剑 3》的成功无疑是国产单机游戏的一剂兴奋剂，使得 2017 年立项的《仙剑 7》无疑赶上了好时代。随着技术发展，虚幻四引擎的出现不仅使得游戏场景和模型质量得到了质的飞跃，也使得游戏终于有能力去尝试如今主流的即时制 RPG 游戏模式。除此之外，RTX 显卡光追技术的出现，也提升了画面表现力。在 Nvidia Computex2019 上，《仙剑 7》公开了光追演示视频，观感也十分惊艳。坊间流传《仙剑 7》五千万人民币的制作成本，亦如一张大饼吊足了玩家们的胃口。以上种种因素，使得不少具有国产单机游戏情怀玩家一直对《仙剑 7》抱有很高期待。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308668-5d17cbb4-71bc-487c-bf1a-ce5f861693cf.png#align=left&display=inline&height=1025&margin=%5Bobject%20Object%5D&originHeight=1025&originWidth=1920&size=0&status=done&style=none&width=1920"><br>然而，不幸的是，《古剑 3》的成功使得这款游戏成为了评判仙侠为主题的国产单机游戏“标杆”。《仙剑 7》的游戏制作公司，大宇资讯在今年 10 月份推出的《轩辕剑 7》，在剧情和建模方面则是饱受诟病，不少玩家评论和《古剑 3》相比《轩辕剑 7》犹如赶工的半成本。《轩辕剑 7》的失败无疑是让不少人开始担心《仙剑 7》的质量。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308631-d3cd9e16-257c-4911-a3ad-8d5b20cb6db9.png#align=left&display=inline&height=748&margin=%5Bobject%20Object%5D&originHeight=748&originWidth=955&size=0&status=done&style=none&width=955"><br>也许是大宇资讯意识到自身游戏能力不足，又或是想要给玩家吃一剂定心丸。《仙剑 7》于近日开放了试玩版资格。吸引不少玩家进行了试玩，褒贬不一。虽说是试玩版，不代表游戏最终品质，但也能知其一二。那么话不多说，接下来我将从我的角度来评测《仙剑 7》。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489308354-0c3910ff-d0c7-4f9c-8b56-7d6227fb5f4c.jpeg#align=left&display=inline&height=610&margin=%5Bobject%20Object%5D&originHeight=610&originWidth=1080&size=0&status=done&style=none&width=1080"></p><h1 id="剧情：略显俗套，仍有亮点"><a href="#剧情：略显俗套，仍有亮点" class="headerlink" title="剧情：略显俗套，仍有亮点"></a>剧情：略显俗套，仍有亮点</h1><p>虽说，试玩版剧情并不代表游戏制品版的最终剧情，但试玩版剧情却很容易给玩家塑造不良刻板印象。对我来说，如果剧情 100 分满分的话，我只能给试玩版剧情打 75 分。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308343-42fe1490-e26d-45fa-be1d-09ab2b8abc88.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>简单地说，女主在除妖归途中遇到了妖怪入侵的反常事件，获得不明果实一颗，女主脑子秀逗咬了果子一口。快要到达师门时，为解救村民被大妖兽纠缠。命悬一线之时，男主出现击退大妖兽。事后，男主上司出现，质问男主，引出事件缘由。<br>的确，历代男主基本都是从零起步的小角色发育到拥有神力的大侠。而本作一改常态，男主起点很高，一上来就是身受重伤的天神，这种看上去就不得了的角色。因此，为了刻画男主形象，这种俗套的英雄救美情结也就见怪不怪了。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308341-760e9deb-26cb-45e5-b983-a5d009f42847.png#align=left&display=inline&height=976&margin=%5Bobject%20Object%5D&originHeight=976&originWidth=1737&size=0&status=done&style=none&width=1737"><br>只不过在剧情细节刻画上，男主行为有些过了，像极了那些在二次元动漫中才会出现的桥段。男主出场就是给女主来了个公主抱，打完怪兽之后又是一个公主抱。虽说男主长得也不丑，又是救命恩人，但这样的演出似乎看上去有点违和了。当然，反过来一想，说不定游戏就是要刻画男主就是个拥有神力，但不谙世事的直男癌也说不定。只能说，以现在试玩版释放出的信息来看，过早下结论未免有些草率。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308344-956e8f31-51de-4306-8ca6-0c38435fca4d.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>比起俗套剧情，试玩版剧情埋下的暗线可能才是真正有价值的。例如其中一条暗线是，女主在开篇时咬下的不明果实。果实在过场中有所提及，侧面说明了男主是神树果实化身。而男主称女主救活了他，这也侧面暗示了，男主在果子形态时，女主情不自禁地咬了果子一口，正是这一口让男主恢复成了人形。可见男主和女主之间可能也存在什么因缘。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308728-5bacc8e2-5a5d-4b44-b869-3c3c78215bb4.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>另一条暗线则是往作中出现过的反派角色“魔尊重楼”了。本作中，男主遭遇“魔尊重楼”被击败坠落人间还丢了兵器。想必在接下来剧情中，男主还将遭遇《仙剑 3》中的战力天花板“魔尊重楼”。不由得令人期待。<br>总体来说，游戏剧情要想出彩，关键还是要把握好人物形象刻画。同时，通过暗线的操控，在剧情中给玩家带来出乎意料的惊喜。从现有剧情来看，受限于试玩版主线篇幅，人物目前刻画上稍显逊色，特别是因为叙事以女主视角展开的缘故，男主直到剧情末尾才出现，给人印象过于突兀。暗线目前也大致只有“果子”和“重楼”这两条，虽说能够感受到官方想要设置悬念的意图，但仍需设置更多暗线，并合理安排好暗线与暗线之间关系，使剧情更加具有神秘感，吸引玩家去探索和发现。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489308313-b2c01d3d-901b-4c30-a2b1-4207e54194d5.gif#align=left&display=inline&height=315&margin=%5Bobject%20Object%5D&originHeight=315&originWidth=519&size=0&status=done&style=none&width=519"></p><h1 id="系统：虽有创新，仍需完善"><a href="#系统：虽有创新，仍需完善" class="headerlink" title="系统：虽有创新，仍需完善"></a>系统：虽有创新，仍需完善</h1><p>本作最大特点即是采用了即时战斗动作游戏系统，虽说对于曾经已经习惯了回合制游戏的老玩家而言，可能会有些不讨好。但对于如今市场而言，即时战斗动作游戏能够吸引更多用户，更加大众化，同时也能给用户带来更加直观的视觉体验。<br>在游玩过程中，笔者发现，人物在使用轻击和重击时会触发不同动作演出，经过查证后发现这是游戏设计的连招系统。例如，轻砍 4 下加重砍 1 下，是剑气纵横。轻砍 3 下加重砍 1 下，是护身转击。轻砍 2 下加重砍 1 下，是踢腿击。丰富的连招效果使得普攻变得不再枯燥，同时也增加了玩家的可操纵性，玩家可以利用不同连招效果，灵活应对敌人攻击。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489308676-d8c26dc7-64bc-41d7-a5ee-c8781df4b3b6.gif#align=left&display=inline&height=315&margin=%5Bobject%20Object%5D&originHeight=315&originWidth=519&size=0&status=done&style=none&width=519"><br>技能方面，目前技能有伤害系、防御系和恢复系三种类型技能。而女主技能又拥有土系、雷系、水系技能。可以看出，游戏在技能方面采用的是经典 ACT 类游戏套路。但目前游戏中，未出现类似《古剑 3》中体力条和蓄力条。对于萌新上手来说算是降低了不少难度。但对于追求 ACT 体验的玩家而言则是略显单薄。不过，技能演出效果上，《仙剑 7》还是花了不少功夫。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489308469-8a4f6d5f-aac2-48ab-b7a8-e29b3fcc37f6.gif#align=left&display=inline&height=315&margin=%5Bobject%20Object%5D&originHeight=315&originWidth=519&size=0&status=done&style=none&width=519"><br>boss 战方面，在展示 boss 技能效果带来的 debuff 方面结合 UI 进行了风格化展示，增强了 boss 技能表现力。同时也引入了 qte 玩法，在成功触发 qte 时有特殊动画，增强了应对 boss 的灵活性和趣味性。但目前 boss 攻击形式略显单一，而且缺乏提示性，对于手残玩家而言很难规避掉怪兽攻击。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489308344-c4ef5f8f-3530-4e48-8ba3-4c9209a48ea5.gif#align=left&display=inline&height=315&margin=%5Bobject%20Object%5D&originHeight=315&originWidth=519&size=0&status=done&style=none&width=519"><br>当然，系统层面上也有一些不足之处，最为明显的是游戏闪避体验不佳。游戏在进行攻击动画时无法立刻闪避，而是必须得攻击动画执行完后才触发闪避操作。这使得闪避会让玩家感受到动作“延迟”。作为目前游戏系统中唯一躲避攻击的手段，若不能灵活使用，势必会使游戏动作体验方面大打折扣。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489308345-0578a6ab-d8d6-47d1-9ba2-a4668f66fb69.gif#align=left&display=inline&height=315&margin=%5Bobject%20Object%5D&originHeight=315&originWidth=519&size=0&status=done&style=none&width=519"><br>同时，对于一款无缝连接地图的游戏而言，无处不在的空气墙也使得喜欢不走寻常路的玩家抓狂。在一些看似可以抄捷径的地方设置空气墙，让玩家只能原路返回。目前，游戏也没有寻路系统，不少玩家在执行任务时找不到方向。例如，在游戏里，有个任务是需要玩家寻找人物进行对话，而并没有给出确切方位。笔者在逛了许久之后才发现任务 npc。在寻路方面，也需要后期进行一定完善。<br>就目前体验而言，《仙剑 7》可操作性还有待加强。至少现在的操作笔者认为不够流畅。既然是一款即时动作游戏，那么除了剧情之外，游戏主要卖点就是动作了。虽说，《仙剑 7》是第一次采用这种即时动作游戏模式，经验尚浅，情有可原。但玩家是冷酷的，只会以自己经验去评价游戏，这也就是为什么《轩辕剑 7》饱受玩家诟病。因此，《仙剑 7》在操作手感这一方面仍面临着比较大的挑战。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308379-7bb16869-7d95-467b-836b-e40db24c6520.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><h1 id="画面：中规中矩，仍有空间"><a href="#画面：中规中矩，仍有空间" class="headerlink" title="画面：中规中矩，仍有空间"></a>画面：中规中矩，仍有空间</h1><p>笔者使用的是 RTX2060 笔记本电脑，1080p 分辨率全高特效下进行游戏，目前没有感觉到明显卡顿，帧率维持在 40~55 之间，画面也比较流畅。<br>游戏过程中，人物面部特征不够明显，贴图感比较严重。面部阴影层次不够明显，刻画得不够丰富。希望制品版有所改善。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308358-1a66c671-cd67-4307-8cfa-4830d612f7db.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>但比较奇怪的是，在过场动画中人物面部表现要比游戏中人物要良好，可以看出脸上阴影和层次。看上去有如化过妆和没化过妆一样，犹如两个人。但动作类游戏可不是只看过场动画，虽说大部分时间玩家可能不会太关注人物面部情况，但对于喜欢游山玩水在游戏中截图的暖暖党玩家而言，如果景色很美，但面部表现不佳，一定会大失所望。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308354-c860be77-dc8b-4a4a-8adc-63e763f7e3b1.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>除了面部模型表现堪忧之外，另外一个不佳体验就是“动态模糊”。开启动态模糊之后，玩家在移动时会产生一定晕眩感。不是说玩家不能接受动态模糊，而是目前动态模糊默认反馈太过于灵敏，以至于玩家眼睛很难跟上画面，从而感到不适。希望能像其他游戏一样，提供可供选择的“动态模糊”级别供玩家选择。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308640-36d8163c-1050-414e-b07d-8f0bd6629ed2.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>目前，游戏尚未支持针对 RTX 系列显卡 DLSS 和光追开启选项。游戏画面表现上尚有发挥空间。从光追演示视频效果来看。完全体游戏在画面上仍有提升空间。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308624-906074d6-0f98-498d-883b-e1ec2e4f2f4b.png#align=left&display=inline&height=449&margin=%5Bobject%20Object%5D&originHeight=449&originWidth=804&size=0&status=done&style=none&width=804"><br>模型衣物材质方面，可以看出目前模型具有较强“塑料感”，衣服看上去感觉很厚。衣料无透明效果，看上去很笨重。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611489308699-a9ede5f8-3135-4930-a2a8-992129e36387.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>考虑到目前游戏仍处于开发阶段，这里对于画面只是简单评价，避免过于吹毛求疵。试玩版画面虽说有各种各样瑕疵，但随着游戏开发深入。开发组一定能处理好这些细节问题，为大家提供最佳的画面体验。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489308356-d41d3634-9f7e-4330-943b-3c39b66b96b4.jpeg#align=left&display=inline&height=1200&margin=%5Bobject%20Object%5D&originHeight=1200&originWidth=1980&size=0&status=done&style=none&width=1980"></p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>对于老仙剑迷而言，这次的即时战斗模式可能是一次全新体验。对于熟悉《仙剑》IP 但未尝游玩过的玩家而言，上手即时战斗模式的《仙剑 7》也能体验到那种曾几何时熟悉的仙侠体验。不论你是老仙剑迷还是萌新，有兴趣不妨亲手体验一下这款游戏。而对于《仙剑 7》而言，目前路还很长，希望《仙剑 7》能借助《仙剑》IP 让仙侠类国产单机游戏再创辉煌。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游我推荐：《怪物猎人：崛起》三种全新体验带来无限可能</title>
      <link href="2021/01/22/2021-01-22/"/>
      <url>2021/01/22/2021-01-22/</url>
      
        <content type="html"><![CDATA[<h1 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h1><p>预定在 3 月 26 日于 NS 平台发售的《怪物猎人·崛起》（Monster Hunter RISE）已经放出了最新介绍影片，体验版也已限时开放游玩。本作中翔虫、御龙、牙猎犬等玩法都有不俗表现，话不多说，让我们来马上体验一下本作的魅力。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258574-25d19794-4109-45e6-93f6-5024b3ebbc0c.jpeg#align=left&display=inline&height=720&margin=%5Bobject%20Object%5D&originHeight=720&originWidth=1280&size=0&status=done&style=none&width=1280"></p><h1 id="系统偏向《怪物猎人·世界》"><a href="#系统偏向《怪物猎人·世界》" class="headerlink" title="系统偏向《怪物猎人·世界》"></a>系统偏向《怪物猎人·世界》</h1><p>《怪物猎人》系列作品中，每作中以武器操作为基础的系统都不尽相同，各有各的特色。<br>本作中也采用了全新的操作系统。游戏观感和易玩性一直都是玩家最注重的要点。如果非要说和同作哪些作品比较相似，我觉得本作更偏向《怪物猎人·世界》和《怪物猎人世界·冰原》。<br>比如，大剑就有蓄力斩、强蓄力斩、真蓄力斩这三种蓄力斩可供使用。各种武器使用方法，基本上是沿袭了《怪物猎人·世界》。<br>除此之外、在任务中可以在露营地变更装备、也可以将那些野外收集无法带走的素材在任务中进行活用。除了基本行动之外，这样参考于《怪物猎人·世界》的要素也有很多。<br>同时，没玩过《怪物猎人·世界》也不会觉得《怪物猎人·崛起》很难上手。萌新们在游玩时可以体验到不同武器动作带来的新鲜感。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258562-d7443489-aa17-439c-8abb-719c4f89a74e.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><h1 id="“翔虫”——-狩猎体验升级"><a href="#“翔虫”——-狩猎体验升级" class="headerlink" title="“翔虫”—— 狩猎体验升级"></a>“翔虫”—— 狩猎体验升级</h1><p>本作是《怪物猎人》系列作品的最新作品，因此也进行了很多新尝试。其中，猎人携带的“翔虫”是本作中令人眼前一亮的新要素。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489258558-0e500497-0a6e-4f05-ad05-dab4eb4bf9e4.gif#align=left&display=inline&height=360&margin=%5Bobject%20Object%5D&originHeight=360&originWidth=640&size=0&status=done&style=none&width=640"><br>“翔虫”顾名思义是一种环境生物飞虫，“翔虫”能够飞向猎人指示的方向，并使用“铁虫丝”将猎人拉近一次，不论是天上、还是地下，任意方向都可以使用“翔虫”进行加速飞行，结束飞行时会出现和前作“怪物猎人”系列跳跃动作之后一样的状态，同时使用一次之后会有一定时间冷却。虽说有冷却时间，但这种前所未有的操作能使玩家犹如“蜘蛛侠”一般飞檐走壁。使用翔虫，大大提升游戏动作带来的快感，为游玩动作体验带来新可能。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258594-2e444a95-4461-476a-ae92-3f8438129a9f.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>合理使用“翔虫”能够帮助玩家降低游戏难度。例如，从野外获取环境生物“鬼火鸟”，就能在任务中提升耐力和攻击力。因此，在和怪物遭遇之前，可以利用“翔虫”飞到悬崖上拾取“鬼火鸟”来强化猎人属性。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258599-4c1f5f48-7edb-4926-b14d-ad499d70ca7a.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>除此之外，另一种“翔虫”使用方法是和各种武器搭配使用“铁虫丝技能”。使用“翔虫”和武器相结合的攻击动作可以造成可观伤害。目前每种武器均配有两种“铁虫丝技能”。一方面，通过铁虫丝牵引怪物进行攻击、通过铁虫丝一边移动一边攻击，增加了玩家在狩猎时的机动性。如果能够熟练使用，毋庸置疑是一个十分强力的动作技能。从整个《怪物猎人》系列来看，“翔虫”看上去并不算是特别惊艳，但从实际游玩动作体验上而言，有着吸引玩家使用的独特魅力。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489258578-f31db5af-f1e6-41f0-b7b4-55eb1eef9b19.gif#align=left&display=inline&height=360&margin=%5Bobject%20Object%5D&originHeight=360&originWidth=640&size=0&status=done&style=none&width=640"><br>另一方面，根据武器种类不同，“铁虫丝技”技能效果也不同。“铁虫丝技能”与武器均有很高契合度，能够一定程度弥补武器的使用短板，从而降低上手难度。同时，被击倒后通过组合键可以消耗翔虫来受身，避免暴毙。虽说使用“翔虫”有各种各样的优点，但为了熟练使用“翔虫”玩家也需要花不少功夫来练习掌握。“翔虫”并不是游戏中的杀手锏技能，而是可以频繁多次使用的技能。唯一需要注意的是，在“翔虫”冷却时间内需要合理安排对策来应对怪物攻击。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258593-3ebe71a6-8096-4cf1-b356-fdafe768a558.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><h1 id="“御龙”——-机遇也是挑战"><a href="#“御龙”——-机遇也是挑战" class="headerlink" title="“御龙”—— 机遇也是挑战"></a>“御龙”—— 机遇也是挑战</h1><p>当你熟练掌握了“翔虫”操作之后，接下来就可以“御龙”了。<br>这个“御龙”也如字面意思一样，是骑乘操纵怪物的一种玩法。这一点是从迄今为止系列中“骑”这一游戏元素发展而来。但与往作中的“骑”不同，玩家不是直接攻击怪物，而是利用骑乘怪物进行攻击。“御龙”攻击给玩家带来了新鲜感。尽管部分玩家可能会觉得“御龙”这一玩法与《怪物猎人》世界观多少有些违和。但操作着巨大怪物在旷野上驰骋，也曾是多少玩家童年的梦想。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489258595-9703a78c-c133-4d32-988d-b404a506613e.gif#align=left&display=inline&height=360&margin=%5Bobject%20Object%5D&originHeight=360&originWidth=640&size=0&status=done&style=none&width=640"><br>而“御龙”这一功能不只是简单载具功能。根据怪物种类不同，每个怪物都具有很多小技能可供玩家灵活使用。同时，在“御龙”攻击过程中成功命中目标时，会积攒操龙量表，从而解锁“御龙绝技”。“御龙绝技”在成功命中时，会对目标怪物造成大量伤害，而且 100%击倒目标怪物。这招对于攻略大型怪物十分奏效。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/gif/8391485/1611489258908-66275e6b-0837-4730-86a1-b7684ae4db27.gif#align=left&display=inline&height=360&margin=%5Bobject%20Object%5D&originHeight=360&originWidth=640&size=0&status=done&style=none&width=640"><br>当然，“御龙”不仅仅是攻击其他怪物。你也可以通过“御龙”来讨伐怪物。在你讨伐怪物时，你可以通过“御龙”这一方法操纵怪物撞向墙壁，对怪物造成伤害。同时，怪物会陷入瘫痪，而玩家则能获得更多攻击机会。迄今为止，《怪物猎人》中，一次性挑战多个怪物弊大于利，一不小心就会被怪物围殴而暴毙，是尽可能避免的情况。但“御龙”这一玩法却能打破僵局，让玩家有可能在面对复数怪物时，利用“御龙”操纵怪物去攻略其他怪物，从而在狩猎中取得优势地位。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258587-460a5cb8-c1df-48ec-82af-70cf855436e9.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>虽说，“御龙”的确能给玩家带来前所未有的体验，但“翔虫”操作本身具有一定上手难度。先不谈熟练掌握“翔虫”进行位移和受身，以“翔虫”为基础的“铁虫丝技能”，再加上略显复杂的“御龙”操作，“翔虫”这一系统承载了太多功能。换言之，用户很难在短时间内熟练运用好“翔虫”，在体验版中，也没有得出能够将“翔虫”使用真正融会贯通的方法。无论对于官方还是玩家来说，想要得出最佳答案，远不是一朝一夕。因此，“御龙”玩法是一把双刃剑，需要官方以及玩家进行不断探索，找到最适合的使用方法。才能真正展现“御龙”的魅力。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258622-57dc1375-3bf2-4db3-8545-be118ec35665.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><h1 id="“牙猎犬”——-新搭档新体验"><a href="#“牙猎犬”——-新搭档新体验" class="headerlink" title="“牙猎犬”—— 新搭档新体验"></a>“牙猎犬”—— 新搭档新体验</h1><p>在本作中，不仅有大家熟悉的老搭档“艾露猫”，新搭档“牙猎犬”的加入为狩猎添加了更多乐趣和援助。在野外，猎人可以与随从进行活动来打发时间。艾露猫的互动有逗猫棒、击掌、抚摸，牙猎犬的互动有喂零食、握手、抚摸。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258591-3a89b937-ca32-4125-864c-cfc4e97655c0.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>除了可以自定义牙猎犬形象之外，牙猎犬的最大特点是可以骑乘。玩家可以自由操纵牙猎犬进行移动，牙猎犬移动要比猎人冲刺要快得多，也没有体力消耗。从主营地快速到达目标怪物，牙猎犬的便利性不容忽视。同时在骑乘时，猎人操作并没有受到限制，骑乘过程中可以使用回复药和磨刀石，还能进行采集，十分便利。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258656-664a1694-febd-456d-aa4d-e553f4b6ce4f.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br>在战斗过程中，相比于通过恢复等来支援猎人的艾露猫，牙猎犬则是担当辅助攻击的角色。牙猎犬在战斗中会持续帮助猎人攻击怪物，当血量归零时，只会暂时停止攻击并原地进行回血，满血后会马上加入战斗。在单人游戏时，能带上艾露猫和牙猎犬。在多人游戏时，可以选择艾露猫或牙猎犬其中一只同行。猎人可通过自由选择组合来应对不同狩猎环境。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611489258888-780e5173-a132-4220-b2f5-9980990e6189.jpeg#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>相信《怪物猎人·崛起》能利用这些新功能为玩家带来更好的游戏体验，让我们一同期待 3 月 26 日正式版的发售吧。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python数据分析入门——bili数据抓取到数据分析网站的实战记录</title>
      <link href="2021/01/21/2021-01-21/"/>
      <url>2021/01/21/2021-01-21/</url>
      
        <content type="html"><![CDATA[<h1 id="先说两句废话"><a href="#先说两句废话" class="headerlink" title="先说两句废话"></a>先说两句废话</h1><p>最近，很多人都问我是不是摸鱼不更新博客了。<br>其实是我是点新技能去了，差不多用了 10 天的时间学习了下 python。<br>然后用了差不多 10 天的时间写了一个基于 python 的 flask 框架的网站项目。<br>虽说项目还是有点小瑕疵，但至少是实现出来了。<br>由于代码基本上都是在本地写的，没上传到 github 上，因此这几天的 github 贡献比较惨淡。<br>目前，项目通过 cloudflare 的 workers 反向代理。<br>部署在<a href="https://bili.zfour.workers.dev/">BILIBILI 交互设计</a>（<a href="https://bili.zfour.workers.dev/">https://bili.zfour.workers.dev/</a>）<br>实现了基本的数据可视化、数据库展示、线性回归分析等功能。<br>以下是主要页面的情况：<br><strong>网站首页：</strong><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611216816699-798e429f-f5e7-48ad-910d-dca4166e6cea.png#align=left&display=inline&height=895&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1789&originWidth=1400&size=555436&status=done&style=none&width=700" alt="image.png"><br><strong>用户行为分析：</strong><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611216869445-47c99323-f9a7-44c7-85f9-fb3029c701e0.png#align=left&display=inline&height=1307&margin=%5Bobject%20Object%5D&name=image.png&originHeight=2614&originWidth=1400&size=446788&status=done&style=none&width=700" alt="image.png"><br><strong>文字关联性影响：</strong><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611216915017-95ccd0e2-99bd-4d07-9487-9c423988284a.png#align=left&display=inline&height=1076&margin=%5Bobject%20Object%5D&name=image.png&originHeight=2152&originWidth=1400&size=515758&status=done&style=none&width=700" alt="image.png"></p><h1 id="那么我是怎么实现的呢？"><a href="#那么我是怎么实现的呢？" class="headerlink" title="那么我是怎么实现的呢？"></a>那么我是怎么实现的呢？</h1><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611217652110-63627c87-d9b5-4b61-bbf1-a876b0e2cfe5.jpeg#align=left&display=inline&height=199&margin=%5Bobject%20Object%5D&name=yuque_diagram.jpg&originHeight=398&originWidth=1474&size=76864&status=done&style=none&width=737" alt="yuque_diagram.jpg"></p><p>其实主要花时间的地方在于<strong>编写爬取策略</strong>以及<strong>数据展示策略</strong>上。<br>python 的优点在于其丰富的依赖库支持，省去了许多不必要的麻烦。<br>总的来说，分为三个步骤：</p><ul><li>数据爬取存储到 sqlite</li><li>运用 leancloud 进行数据存储和读取</li><li>运用 ECHARTS 进行数据展示</li></ul><h1 id="爬取数据存储到-sqlite"><a href="#爬取数据存储到-sqlite" class="headerlink" title="爬取数据存储到 sqlite"></a>爬取数据存储到 sqlite</h1><h2 id="为什么要挂-ip-池？"><a href="#为什么要挂-ip-池？" class="headerlink" title="为什么要挂 ip 池？"></a>为什么要挂 ip 池？</h2><p>不少网站对于同一 ip 高频次访问网站的的行为会进行阻断。<br>为了保障爬虫能正常获取网站的信息，需要对爬虫进行伪装。<br>通过给每一个请求代理不同 ip，能欺骗网站是不同 ip 的多位用户在访问网站。<br>对于爬取大量数据来说是十分必要的。</p><h2 id="如何挂-ip-池？"><a href="#如何挂-ip-池？" class="headerlink" title="如何挂 ip 池？"></a>如何挂 ip 池？</h2><p>这里我参考了目前 github 上比较火的项目<a href="https://github.com/jhao104/proxy_pool">ProxyPool 爬虫代理 IP 池</a><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611218892021-61108fc7-e288-480f-8dc4-d2817546600d.png#align=left&display=inline&height=276&margin=%5Bobject%20Object%5D&name=image.png&originHeight=551&originWidth=876&size=53618&status=done&style=none&width=438" alt="image.png"><br>项目中有详细的配置文档，因为该内容不是本次的重点，所以不过多赘述。<br>主要难点是需要搭建一个<strong>本地 Redis 数据库</strong>环境用于存储 ip 池。因此需要进行下载安装，并开启<strong>Redis。</strong><br>在下载项目后进行依赖的安装，通过以下代码开启 ip 池服务。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动调度程序</span></span><br><span class="line">python proxyPool.py schedule</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动webApi服务</span></span><br><span class="line">python proxyPool.py server</span><br></pre></td></tr></table></figure><p>然后，便可以访问本地 api 获取实时更新的可用 ip 和端口了。<br>大概的原理如下图。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391485/1611219834998-7fe965cb-5d8a-4091-a9dd-d1368f8ce562.jpeg#align=left&display=inline&height=318&margin=%5Bobject%20Object%5D&name=yuque_diagram.jpg&originHeight=635&originWidth=1520&size=91629&status=done&style=none&width=760" alt="yuque_diagram.jpg"></p><h2 id="如何爬取数据？"><a href="#如何爬取数据？" class="headerlink" title="如何爬取数据？"></a>如何爬取数据？</h2><p>爬取数据主要是通过 requests 库实现的。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(<span class="string">&#x27;https://api.github.com/user&#x27;</span>, auth=(<span class="string">&#x27;user&#x27;</span>, <span class="string">&#x27;pass&#x27;</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.status_code</span><br><span class="line"><span class="number">200</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.headers[<span class="string">&#x27;content-type&#x27;</span>]</span><br><span class="line"><span class="string">&#x27;application/json; charset=utf8&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.encoding</span><br><span class="line"><span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line"><span class="string">u&#x27;&#123;&quot;type&quot;:&quot;User&quot;...&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.json()</span><br><span class="line">&#123;<span class="string">u&#x27;private_gists&#x27;</span>: <span class="number">419</span>, <span class="string">u&#x27;total_private_repos&#x27;</span>: <span class="number">77</span>, ...&#125;</span><br></pre></td></tr></table></figure><p>本次爬取的数据内容为以“交互设计”为搜索关键词按照播放量排列的搜索结果。<br>bili 提供的搜索结果为 50 个分页，每页 20 条视频数据。<br>同时为了获取点赞、转发、收藏等数据，必须得遍历爬取每一个详情页。<br>因此需要设置两层循环，首先遍历 50 个分页，再遍历爬取每个分页的详情页链接。对每个详情页的数据进行爬取。<br>以下是主要代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- codeing = utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time : 2020/12/22 9:05 上午</span></span><br><span class="line"><span class="comment"># @Author : Zfour</span></span><br><span class="line"><span class="comment"># @File : spyder1.py</span></span><br><span class="line"><span class="comment"># @Software : PyCharm</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib.request, urllib.error</span><br><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"><span class="keyword">import</span> sqlite3</span><br><span class="line"><span class="keyword">import</span> ssl</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从IP代理池获取随机代理的IP和端口</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_proxy</span>():</span></span><br><span class="line">    <span class="keyword">return</span> requests.get(<span class="string">&quot;http://127.0.0.1:5010/get/&quot;</span>).json()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从IP代理池删除失效的代理的IP和端口</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_proxy</span>(<span class="params">proxy</span>):</span></span><br><span class="line">    requests.get(<span class="string">&quot;http://127.0.0.1:5010/delete/?proxy=&#123;&#125;&quot;</span>.format(proxy))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ssl验证</span></span><br><span class="line">ssl._create_default_https_context = ssl._create_unverified_context</span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则匹配规则</span></span><br><span class="line"><span class="comment"># findlink = re.compile(r&#x27;&lt;a href=&quot;(.*?)&quot;&gt;&#x27;)</span></span><br><span class="line"><span class="comment"># findimglink = re.compile(r&#x27;&lt;img.*src=&quot;(.*?)&quot;&#x27;, re.S)</span></span><br><span class="line"><span class="comment"># findtitle = re.compile(r&#x27;&lt;span class=&quot;title&quot;&gt;(.*?)&lt;/span&gt;&#x27;)</span></span><br><span class="line"><span class="comment"># findrate = re.compile(r&#x27;&lt;span class=&quot;rating_num&quot; property=&quot;v:average&quot;&gt;(.*?)&lt;/span&gt;&#x27;)</span></span><br><span class="line"><span class="comment"># findpeoplenum = re.compile(r&#x27;&lt;span&gt;(\d*)人评价&lt;/span&gt;&#x27;)</span></span><br><span class="line"><span class="comment"># findinfo = re.compile(r&#x27;&lt;span class=&quot;inq&quot;&gt;(.*?)&lt;/span&gt;&#x27;)</span></span><br><span class="line"><span class="comment"># findmessage = re.compile(r&#x27;&lt;p class=&quot;&quot;&gt;(.*?)&lt;/p&gt;&#x27;, re.S)</span></span><br><span class="line"><span class="comment"># 这里将部分正则表达用BS4进行了替换</span></span><br><span class="line"></span><br><span class="line">videolink = re.compile(<span class="string">r&#x27;href=&quot;//(.*?)\?from=search&quot;&#x27;</span>)</span><br><span class="line">zan = re.compile(<span class="string">r&#x27;title=&quot;点赞数(.*?)&quot;&gt;&#x27;</span>)</span><br><span class="line">coin = re.compile(<span class="string">r&#x27;&lt;/i&gt;(.*?)&lt;/span&gt;&#x27;</span>, re.S)</span><br><span class="line">a_link = re.compile(<span class="string">r&#x27;&gt;(.*?)&lt;/a&gt;&#x27;</span>, re.S)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    baseurl = <span class="string">&quot;https://search.bilibili.com/all?keyword=%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1&amp;order=click&amp;duration=0&amp;tids_1=0&amp;page=&quot;</span></span><br><span class="line">    <span class="comment"># bilibili的搜索链接</span></span><br><span class="line"></span><br><span class="line">    datalist = getData(baseurl)</span><br><span class="line">    <span class="comment"># 获取数据</span></span><br><span class="line"></span><br><span class="line">    dbsavepath = <span class="string">&#x27;bili.db&#x27;</span></span><br><span class="line">    <span class="comment"># 定义存储路径</span></span><br><span class="line"></span><br><span class="line">    saveData2DB(datalist, dbsavepath)</span><br><span class="line">    <span class="comment"># 存储数据到本地数据库</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取Data得到一个存储数据的list</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getData</span>(<span class="params">baseurl</span>):</span></span><br><span class="line">    datalist = []</span><br><span class="line">    <span class="comment"># 定义数据列表</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">50</span>):</span><br><span class="line">        url = baseurl + str(i + <span class="number">1</span>)</span><br><span class="line">        html = askurl(url)</span><br><span class="line">        <span class="comment"># print(html)</span></span><br><span class="line">        soup = BeautifulSoup(html, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    <span class="comment"># 遍历50页的数据，通过bs4进行解析</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;a&#x27;</span>, class_=<span class="string">&#x27;img-anchor&#x27;</span>):</span><br><span class="line">            <span class="comment"># print(item)</span></span><br><span class="line">            item = str(item)</span><br><span class="line">            video_link = re.findall(videolink, item)[<span class="number">0</span>]</span><br><span class="line">            video_link = <span class="string">&#x27;https://&#x27;</span> + video_link</span><br><span class="line">            video_html = askurl(video_link)</span><br><span class="line">            video_soup = BeautifulSoup(video_html, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">            <span class="comment"># 获取当页的稿件链接，并用bs4解析详情页</span></span><br><span class="line"></span><br><span class="line">            like_num = video_soup.select(<span class="string">&#x27;.ops &gt; .like&#x27;</span>)</span><br><span class="line">            like_num = str(like_num)</span><br><span class="line">            like_num = re.findall(zan, like_num)[<span class="number">0</span>]</span><br><span class="line">            <span class="comment"># -------------获取点赞数</span></span><br><span class="line"></span><br><span class="line">            coin_num = video_soup.select(<span class="string">&#x27;.ops &gt; .coin&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">            coin_num = str(coin_num)</span><br><span class="line">            coin_num = re.findall(coin, coin_num)[<span class="number">0</span>].strip()</span><br><span class="line">            <span class="keyword">if</span> coin_num == <span class="string">&#x27;投币&#x27;</span>:</span><br><span class="line">                coin_num = <span class="string">&#x27;0&#x27;</span></span><br><span class="line">            <span class="comment"># 将万还原为数字</span></span><br><span class="line">            <span class="keyword">for</span> ch <span class="keyword">in</span> coin_num:</span><br><span class="line">                <span class="keyword">if</span> <span class="string">u&#x27;\u4e00&#x27;</span> &lt;= ch &lt;= <span class="string">u&#x27;\u9fff&#x27;</span>:</span><br><span class="line">                    coin_num = coin_num.replace(<span class="string">&#x27;万&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">                    coin_num = float(coin_num) * <span class="number">10000</span></span><br><span class="line">                    coin_num = int(coin_num)</span><br><span class="line">            <span class="comment"># -------------获取投币数</span></span><br><span class="line"></span><br><span class="line">            collect_num = video_soup.select(<span class="string">&#x27;.ops &gt; .collect&#x27;</span>)[<span class="number">0</span>].text</span><br><span class="line">            collect_num = collect_num.replace(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27;&#x27;</span>).strip()</span><br><span class="line">            <span class="keyword">if</span> collect_num == <span class="string">&#x27;收藏&#x27;</span>:</span><br><span class="line">                collect_num = <span class="string">&#x27;0&#x27;</span></span><br><span class="line">            <span class="keyword">for</span> ch <span class="keyword">in</span> collect_num:</span><br><span class="line">                <span class="keyword">if</span> <span class="string">u&#x27;\u4e00&#x27;</span> &lt;= ch &lt;= <span class="string">u&#x27;\u9fff&#x27;</span>:</span><br><span class="line">                    collect_num = collect_num.replace(<span class="string">&#x27;万&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">                    collect_num = float(collect_num) * <span class="number">10000</span></span><br><span class="line">                    collect_num = int(collect_num)</span><br><span class="line">            <span class="comment"># -------------获取收藏数</span></span><br><span class="line"></span><br><span class="line">            share_num = video_soup.select(<span class="string">&#x27;.ops &gt; .share&#x27;</span>)[<span class="number">0</span>].text</span><br><span class="line">            share_num = share_num.replace(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27;&#x27;</span>).strip()</span><br><span class="line">            <span class="keyword">if</span> share_num == <span class="string">&#x27;分享&#x27;</span>:</span><br><span class="line">                share_num = <span class="string">&#x27;0&#x27;</span></span><br><span class="line">            <span class="keyword">for</span> ch <span class="keyword">in</span> share_num:</span><br><span class="line">                <span class="keyword">if</span> <span class="string">u&#x27;\u4e00&#x27;</span> &lt;= ch &lt;= <span class="string">u&#x27;\u9fff&#x27;</span>:</span><br><span class="line">                    share_num = share_num.replace(<span class="string">&#x27;万&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">                    share_num = float(share_num) * <span class="number">10000</span></span><br><span class="line">            share_num = int(share_num)</span><br><span class="line">            <span class="comment"># -------------获取分享数</span></span><br><span class="line"></span><br><span class="line">            play_num = video_soup.select(<span class="string">&#x27;.video-data &gt; .view&#x27;</span>)[<span class="number">0</span>][<span class="string">&#x27;title&#x27;</span>]</span><br><span class="line">            play_num = play_num.replace(<span class="string">&#x27;总播放数&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">            play_num = int(play_num)</span><br><span class="line">            <span class="comment"># -------------获取播放量</span></span><br><span class="line"></span><br><span class="line">            danmu_num = video_soup.select(<span class="string">&#x27;.video-data &gt; .dm&#x27;</span>)[<span class="number">0</span>].text</span><br><span class="line">            danmu_num = danmu_num.replace(<span class="string">&quot;弹幕&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">            danmu_num = int(danmu_num)</span><br><span class="line">            <span class="comment"># -------------获取弹幕量</span></span><br><span class="line"></span><br><span class="line">            date = video_soup.select(<span class="string">&#x27;.video-data &gt; span&#x27;</span>)[<span class="number">2</span>].text[<span class="number">0</span>:<span class="number">10</span>]</span><br><span class="line">            time = video_soup.select(<span class="string">&#x27;.video-data &gt; span&#x27;</span>)[<span class="number">2</span>].text[<span class="number">10</span>:].strip()</span><br><span class="line">            title = video_soup.select(<span class="string">&#x27;.video-title&#x27;</span>)[<span class="number">0</span>][<span class="string">&#x27;title&#x27;</span>]</span><br><span class="line">            <span class="comment"># -------------获取时间和标题</span></span><br><span class="line"></span><br><span class="line">            tag = video_soup.select(<span class="string">&#x27;.tag-link&#x27;</span>)</span><br><span class="line">            taglist = []</span><br><span class="line">            <span class="keyword">for</span> tg <span class="keyword">in</span> tag:</span><br><span class="line">                tg = str(tg)</span><br><span class="line">                tg = tg.replace(<span class="string">&quot;&lt;span&gt;&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">                tg = tg.replace(<span class="string">&quot;&lt;/span&gt;&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">                tg = tg.replace(<span class="string">r&#x27;&lt;img class=&quot;channel-icon&quot; height=&quot;32&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAAAXNSR0IArs4c6QAAAP5JREFUOBGllD0OwjAMhV9yGcTOisRFegwWJJgQS4/RiyCxdkdcJiFuGtX9ceJAJtf5/OQkfjUore5zhHfngB1GtIexLZrdK1dqcpvo3hd43OH9gjMOFlc0+4dUvyhgGHXq3BPwlmVZSOL2JHUuFIX64fiSKOmHvXhF9LFasvB0p6silkj3zlIxzAmv4JpETrhXCImMLEwjhfBA4gp7A7MNyMI0p8bctsXTuMmzLI9bauRvg9QKFPjYca3DFLxBrcOU/OieCocpHUlTIbonvd+CUfHyuDHVX0ISFt3DBDnDY4bMwt5G91Q4TOlIO/xPaxymdOTkvMLAzw5KHwX+Czr/jXvbTvs/AAAAAElFTkSuQmCC&quot; width=&quot;32&quot;/&gt;&lt;span class=&quot;channel-name&quot;&gt;&#x27;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">                tg = re.findall(a_link, tg)[<span class="number">0</span>].strip()</span><br><span class="line">                taglist.append(tg)</span><br><span class="line">            taglist = <span class="string">&#x27;,&#x27;</span>.join(taglist)</span><br><span class="line">            <span class="comment"># -------------获取标签列表</span></span><br><span class="line"></span><br><span class="line">            data = [</span><br><span class="line">                str(title),</span><br><span class="line">                str(video_link),</span><br><span class="line">                str(time),</span><br><span class="line">                str(date),</span><br><span class="line">                int(play_num),</span><br><span class="line">                int(like_num),</span><br><span class="line">                int(coin_num),</span><br><span class="line">                int(danmu_num),</span><br><span class="line">                int(collect_num),</span><br><span class="line">                int(share_num),</span><br><span class="line">                str(taglist)</span><br><span class="line">            ]</span><br><span class="line">            print(data)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 获取标题</span></span><br><span class="line">            <span class="comment"># print(title)</span></span><br><span class="line">            <span class="comment"># 获取了视频的链接</span></span><br><span class="line">            <span class="comment"># print(video_link)</span></span><br><span class="line">            <span class="comment"># 获取时间</span></span><br><span class="line">            <span class="comment"># print(time)</span></span><br><span class="line">            <span class="comment"># 获取日期</span></span><br><span class="line">            <span class="comment"># print(date)</span></span><br><span class="line">            <span class="comment"># 获取点赞数</span></span><br><span class="line">            <span class="comment"># print(like_num)</span></span><br><span class="line">            <span class="comment"># 获取硬币数</span></span><br><span class="line">            <span class="comment"># print(coin_num)</span></span><br><span class="line">            <span class="comment"># 获取播放量</span></span><br><span class="line">            <span class="comment"># print(play_num)</span></span><br><span class="line">            <span class="comment"># 获取弹幕量</span></span><br><span class="line">            <span class="comment"># print(danmu_num)</span></span><br><span class="line">            <span class="comment"># 获取收藏量</span></span><br><span class="line">            <span class="comment"># print(collect_num)</span></span><br><span class="line">            <span class="comment"># 获取分享量</span></span><br><span class="line">            <span class="comment"># print(share_num)</span></span><br><span class="line">            <span class="comment"># -------------</span></span><br><span class="line"></span><br><span class="line">            datalist.append(data)</span><br><span class="line">            将数据传入datalist</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(datalist)</span></span><br><span class="line">    <span class="keyword">return</span> datalist</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 得到一个网页的网页信息</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">askurl</span>(<span class="params">url</span>):</span></span><br><span class="line">    proxy = get_proxy().get(<span class="string">&quot;proxy&quot;</span>)</span><br><span class="line">    <span class="comment"># 设置代理</span></span><br><span class="line"></span><br><span class="line">    print(proxy)</span><br><span class="line">    <span class="comment"># 确认代理地址</span></span><br><span class="line"></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.103 Safari/537.36&#x27;</span>&#125;</span><br><span class="line">    <span class="comment"># 设置请求头</span></span><br><span class="line"></span><br><span class="line">    html = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 提供接收数据的字段</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = requests.get(url=url, headers=headers, proxies=&#123;<span class="string">&quot;http&quot;</span>: <span class="string">&quot;http://&#123;&#125;&quot;</span>.format(proxy)&#125;)</span><br><span class="line">        response.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">        html = response.text</span><br><span class="line">        <span class="comment"># print(html)</span></span><br><span class="line">    <span class="comment"># 使用requests进行网络请求</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span>  e:</span><br><span class="line">        <span class="keyword">if</span> hasattr(e, <span class="string">&quot;code&quot;</span>):</span><br><span class="line">            print(e.code)</span><br><span class="line">        <span class="keyword">if</span> hasattr(e, <span class="string">&quot;reason&quot;</span>):</span><br><span class="line">            print(e.reason)</span><br><span class="line">    <span class="comment"># 异常处理</span></span><br><span class="line">    <span class="keyword">return</span> html</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将数据存储到本地sqlite数据库</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">saveData2DB</span>(<span class="params">datalist, dbsavepath</span>):</span></span><br><span class="line">    initdb(dbsavepath)</span><br><span class="line">    <span class="comment"># 创建数据库</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> datalist:</span><br><span class="line">        print(data[<span class="number">0</span>])</span><br><span class="line">        sql = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        insert into bilidata</span></span><br><span class="line"><span class="string">        (title,video_link,time,date,play_num,like_num,coin_num,danmu_num,collect_num,share_num,taglist)</span></span><br><span class="line"><span class="string">        values (&#x27;%s&#x27;, &#x27;%s&#x27;, &#x27;%s&#x27;, &#x27;%s&#x27;, %d, %d, %d,</span></span><br><span class="line"><span class="string">     %d, %d, %d,&#x27;%s&#x27;)&#x27;&#x27;&#x27;</span> % (data[<span class="number">0</span>],data[<span class="number">1</span>],data[<span class="number">2</span>],data[<span class="number">3</span>],data[<span class="number">4</span>],data[<span class="number">5</span>],data[<span class="number">6</span>],data[<span class="number">7</span>],data[<span class="number">8</span>],data[<span class="number">9</span>],data[<span class="number">10</span>])</span><br><span class="line">        <span class="comment"># 定义sql命令</span></span><br><span class="line"></span><br><span class="line">        conn = sqlite3.connect(dbsavepath)</span><br><span class="line">        <span class="comment"># 连接数据库</span></span><br><span class="line"></span><br><span class="line">        c = conn.cursor()</span><br><span class="line">        <span class="comment"># 获取指针</span></span><br><span class="line"></span><br><span class="line">        c.execute(sql)</span><br><span class="line">        <span class="comment"># 执行spl语句</span></span><br><span class="line"></span><br><span class="line">        conn.commit()</span><br><span class="line">        <span class="comment"># 提交数据</span></span><br><span class="line"></span><br><span class="line">        conn.close()</span><br><span class="line">        <span class="comment"># 关闭表</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">initdb</span>(<span class="params">dbsavepath</span>):</span></span><br><span class="line">    sql = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    create table bilidata</span></span><br><span class="line"><span class="string">    (id integer not null primary key autoincrement ,</span></span><br><span class="line"><span class="string">    title text not null ,</span></span><br><span class="line"><span class="string">    video_link text not null ,</span></span><br><span class="line"><span class="string">    time text not null ,</span></span><br><span class="line"><span class="string">    date text not null ,</span></span><br><span class="line"><span class="string">    play_num int ,</span></span><br><span class="line"><span class="string">    like_num int ,</span></span><br><span class="line"><span class="string">    coin_num int ,</span></span><br><span class="line"><span class="string">    danmu_num int ,</span></span><br><span class="line"><span class="string">    collect_num int ,</span></span><br><span class="line"><span class="string">    share_num int ,</span></span><br><span class="line"><span class="string">    taglist text</span></span><br><span class="line"><span class="string">    );</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># 建表语句</span></span><br><span class="line"></span><br><span class="line">    conn = sqlite3.connect(dbsavepath)</span><br><span class="line">    c = conn.cursor()</span><br><span class="line">    c.execute(sql)</span><br><span class="line">    conn.commit()</span><br><span class="line">    conn.close()</span><br><span class="line">    <span class="comment"># 创建数据表</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="本地数据存储-leancloud-云数据库"><a href="#本地数据存储-leancloud-云数据库" class="headerlink" title="本地数据存储 leancloud 云数据库"></a>本地数据存储 leancloud 云数据库</h1><p>为了更好地保存数据同时便于后期维护和更新管理。<br>需要将本地数据上传到云端部署。<br>上传的方法也很简单。</p><h2 id="上传数据到-leancloud"><a href="#上传数据到-leancloud" class="headerlink" title="上传数据到 leancloud"></a>上传数据到 leancloud</h2><p>需要进行 appid 和 key 验证。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> leancloud</span><br><span class="line"><span class="keyword">import</span> sqlite3</span><br><span class="line"></span><br><span class="line">con = sqlite3.connect(<span class="string">&quot;bili.db&quot;</span>)  <span class="comment"># 连接bili数据庫</span></span><br><span class="line">cur = con.cursor()  <span class="comment"># 定义指针</span></span><br><span class="line">sql = <span class="string">&quot;select * from bilidata&quot;</span></span><br><span class="line">data = cur.execute(sql)</span><br><span class="line"></span><br><span class="line">leancloud.init(<span class="string">&quot;8888&quot;</span>, <span class="string">&quot;8888&quot;</span>)</span><br><span class="line"><span class="comment"># 或者使用 Master Key</span></span><br><span class="line"><span class="comment"># leancloud.init(&quot;&#123;&#123;appid&#125;&#125;&quot;, master_key=&quot;&#123;&#123;masterkey&#125;&#125;&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 声明 class</span></span><br><span class="line">Bilidata = leancloud.Object.extend(<span class="string">&#x27;bilidata&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建对象</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为属性赋值</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> data:</span><br><span class="line">    bilidata = Bilidata()</span><br><span class="line">    bilidata.set(<span class="string">&#x27;id&#x27;</span>, item[<span class="number">0</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;title&#x27;</span>, item[<span class="number">1</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;video_link&#x27;</span>, item[<span class="number">2</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;time&#x27;</span>, item[<span class="number">3</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;date&#x27;</span>, item[<span class="number">4</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;play_num&#x27;</span>, item[<span class="number">5</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;like_num&#x27;</span>, item[<span class="number">6</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;coin_num&#x27;</span>, item[<span class="number">7</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;danmu_num&#x27;</span>, item[<span class="number">8</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;collect_num&#x27;</span>, item[<span class="number">9</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;share_num&#x27;</span>, item[<span class="number">10</span>])</span><br><span class="line">    bilidata.set(<span class="string">&#x27;taglist&#x27;</span>, item[<span class="number">11</span>])</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        bilidata.save()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line">        bilidata.save()</span><br><span class="line">    print(<span class="string">&quot;已上传第%d&quot;</span> % item[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># 将对象保存到云端</span></span><br></pre></td></tr></table></figure><h2 id="从-leancloud-获取数据"><a href="#从-leancloud-获取数据" class="headerlink" title="从 leancloud 获取数据"></a>从 leancloud 获取数据</h2><p>简单的数据查询如下所示。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> leancloud</span><br><span class="line"></span><br><span class="line">leancloud.init(<span class="string">&quot;8888&quot;</span>, <span class="string">&quot;8888&quot;</span>)</span><br><span class="line"><span class="comment"># 验证密钥</span></span><br><span class="line">Bilidata = leancloud.Object.extend(<span class="string">&#x27;bilidata&#x27;</span>)</span><br><span class="line"><span class="comment"># 连接class</span></span><br><span class="line">query = Bilidata.query</span><br><span class="line"><span class="comment"># 为查询创建别名</span></span><br><span class="line">query.select(<span class="string">&#x27;title&#x27;</span>)</span><br><span class="line"><span class="comment"># 选择类</span></span><br><span class="line">query.limit(<span class="number">1000</span>)</span><br><span class="line"><span class="comment"># 限定数量</span></span><br><span class="line">query_list = query.find()</span><br><span class="line"><span class="comment"># 执行查询，返回数组</span></span><br><span class="line"></span><br><span class="line">i= <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> query_list:</span><br><span class="line">    title = item.get(<span class="string">&#x27;title&#x27;</span>)</span><br><span class="line">    print(title)</span><br><span class="line">    print(i)</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure><h1 id="运用-ECHARTS-进行数据展示"><a href="#运用-ECHARTS-进行数据展示" class="headerlink" title="运用 ECHARTS 进行数据展示"></a>运用 ECHARTS 进行数据展示</h1><h2 id="python-部分"><a href="#python-部分" class="headerlink" title="python 部分"></a>python 部分</h2><p>python 部分主要是获取 leancloud 的数据并进行一定处理，通过 flask 的路由传给静态前端。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="keyword">import</span> leancloud</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">leancloud.init(<span class="string">&quot;8888&quot;</span>, <span class="string">&quot;8888&quot;</span>)</span><br><span class="line"><span class="comment"># 验证app ID及密钥</span></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">querylist = [</span><br><span class="line">        <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;title&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;video_link&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;time&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;play_num&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;like_num&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;coin_num&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;danmu_num&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;collect_num&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;share_num&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;taglist&#x27;</span>]</span><br><span class="line"><span class="comment"># 定义所有需要查询的数据类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从leancould获取数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间序列数据排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getleanclouddatatime</span>(<span class="params">order,number</span>):</span></span><br><span class="line">    Bilidata = leancloud.Object.extend(<span class="string">&#x27;bilidata&#x27;</span>)</span><br><span class="line">    query = Bilidata.query</span><br><span class="line">    query.select(querylist)</span><br><span class="line">    query.descending(order)</span><br><span class="line">    query.limit(number)</span><br><span class="line">    query_list = query.find()</span><br><span class="line">    dataoutput = []</span><br><span class="line">    datalist = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> query_list:</span><br><span class="line">        data = []</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;id&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;title&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;video_link&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;time&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;date&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;play_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;like_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;coin_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;danmu_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;collect_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;share_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;taglist&#x27;</span>))</span><br><span class="line">        dataoutput.append(data)</span><br><span class="line">    k1 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> dataoutput:</span><br><span class="line">        <span class="keyword">if</span> i[querylist.index(order)] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        item = []</span><br><span class="line">        k1 = k1 + <span class="number">1</span></span><br><span class="line">        str = i[<span class="number">3</span>]</span><br><span class="line">        str1 = str[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">        item.append(k1)</span><br><span class="line">        item.append(str1)</span><br><span class="line">        datalist.append(item)</span><br><span class="line">    <span class="keyword">return</span> datalist</span><br><span class="line"></span><br><span class="line"><span class="comment"># top列表排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getleanclouddataorder</span>(<span class="params">order,number</span>):</span></span><br><span class="line">    Bilidata = leancloud.Object.extend(<span class="string">&#x27;bilidata&#x27;</span>)</span><br><span class="line">    query = Bilidata.query</span><br><span class="line">    query.select(querylist)</span><br><span class="line">    query.descending(order)</span><br><span class="line">    query.limit(number)</span><br><span class="line">    query_list = query.find()</span><br><span class="line">    dataoutput = []</span><br><span class="line">    datalist = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> query_list:</span><br><span class="line">        data = []</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;id&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;title&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;video_link&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;time&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;date&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;play_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;like_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;coin_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;danmu_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;collect_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;share_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;taglist&#x27;</span>))</span><br><span class="line">        dataoutput.append(data)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> dataoutput:</span><br><span class="line">        items = []</span><br><span class="line">        items.append(item[<span class="number">1</span>])</span><br><span class="line">        items.append(item[querylist.index(order)])</span><br><span class="line">        items.append(item[<span class="number">2</span>])</span><br><span class="line">        imagelink = item[<span class="number">2</span>].replace(<span class="string">&#x27;https://www.bilibili.com/video/&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="comment">#imagelink = getpic(imagelink)</span></span><br><span class="line">        imagelink =<span class="string">&#x27;https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.mp.itc.cn%2Fq_70%2Cc_zoom%2Cw_640%2Fupload%2F20160903%2Fd1ed32e2adcb4a93bb76ad1f2d322399_th.jpeg&amp;refer=http%3A%2F%2Fimg.mp.itc.cn&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1613485663&amp;t=85d654cc0e9d042828ea62d164c146e4&#x27;</span></span><br><span class="line">        items.append(imagelink)</span><br><span class="line">        datalist.append(items)</span><br><span class="line">    <span class="keyword">return</span> datalist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基础数据获取</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getleanclouddata</span>():</span></span><br><span class="line">    Bilidata = leancloud.Object.extend(<span class="string">&#x27;bilidata&#x27;</span>)</span><br><span class="line">    query = Bilidata.query</span><br><span class="line">    query.select(querylist)</span><br><span class="line">    query.limit(<span class="number">1000</span>)</span><br><span class="line">    query_list = query.find()</span><br><span class="line">    dataoutput = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> query_list:</span><br><span class="line">        data = []</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;id&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;title&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;video_link&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;time&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;date&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;play_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;like_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;coin_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;danmu_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;collect_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;share_num&#x27;</span>))</span><br><span class="line">        data.append(item.get(<span class="string">&#x27;taglist&#x27;</span>))</span><br><span class="line">        dataoutput.append(data)</span><br><span class="line">    <span class="keyword">return</span> dataoutput</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 临时通过api获取图片链接</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getpic</span>(<span class="params">urlid</span>):</span></span><br><span class="line">    url = <span class="string">&#x27;https://api.bilibili.com/x/web-interface/view?bvid=&#x27;</span> + urlid</span><br><span class="line">    r = requests.get(url)</span><br><span class="line">    r.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">    datajson = r.json()</span><br><span class="line">    <span class="keyword">return</span> datajson[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;pic&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 词频分析</span></span><br><span class="line"><span class="meta">@app.route(&#x27;/word-infection&#x27;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">word</span>():</span></span><br><span class="line">    taglist = []</span><br><span class="line">    wordlist = []</span><br><span class="line">    titlelist = getleanclouddata()</span><br><span class="line">    <span class="keyword">for</span> index, item <span class="keyword">in</span> enumerate(titlelist):</span><br><span class="line">        title = item[<span class="number">1</span>]</span><br><span class="line">        titlere = re.sub(<span class="string">r&quot;[0-9\s+\.\!\/_,$%^*()?;；:-【】+\&quot;\&#x27;]+|[+——！，;:\-丨｜：～。？、~@#￥%……&amp;*（）]+&quot;</span>, <span class="string">&quot;&quot;</span>, title)</span><br><span class="line">        seg_list = jieba.cut(titlere, cut_all=<span class="literal">False</span>)</span><br><span class="line">        wordlist.extend(seg_list)</span><br><span class="line">        taglist.extend(item[<span class="number">11</span>].split(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    <span class="comment"># dict = collections.Counter(wordlist)</span></span><br><span class="line">    word_dict_list = &#123;key: value <span class="keyword">for</span> key, value <span class="keyword">in</span> dict(Counter(wordlist)).items() <span class="keyword">if</span> value &gt; <span class="number">10</span> <span class="keyword">and</span> len(key) &gt; <span class="number">1</span>&#125;</span><br><span class="line">    word_dictkey_list = list(tuple(word_dict_list.keys()))</span><br><span class="line">    word_dictvalue_list = list(tuple(word_dict_list.values()))</span><br><span class="line"></span><br><span class="line">    tag_dict_list = &#123;key: value <span class="keyword">for</span> key, value <span class="keyword">in</span> dict(Counter(taglist)).items() <span class="keyword">if</span> value &gt; <span class="number">10</span> <span class="keyword">and</span> value &lt; <span class="number">500</span>&#125;</span><br><span class="line">    tag_dictkey_list = list(tuple(tag_dict_list.keys()))</span><br><span class="line">    tag_dictvalue_list = list(tuple(tag_dict_list.values()))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;./charts_word.html&#x27;</span>,</span><br><span class="line">                           word_dictkey_list=word_dictkey_list,</span><br><span class="line">                           word_dictvalue_list=word_dictvalue_list,</span><br><span class="line">                           tag_dictkey_list=tag_dictkey_list,</span><br><span class="line">                           tag_dictvalue_list=tag_dictvalue_list,</span><br><span class="line">                           )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户行为分析</span></span><br><span class="line"><span class="meta">@app.route(&#x27;/interact-infection&#x27;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">interact</span>():</span></span><br><span class="line">    data = getleanclouddata()</span><br><span class="line">    listmost = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">    listmin = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    zero =[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    thousand = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    hundred = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    play_coll_list = []</span><br><span class="line">    play_like_list = []</span><br><span class="line">    play_share_list = []</span><br><span class="line">    play_coin_list = []</span><br><span class="line">    play_danmu_list = []</span><br><span class="line">    coll_like_list = []</span><br><span class="line">    <span class="keyword">for</span> dataitem <span class="keyword">in</span> data:</span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        maxnumlist = []</span><br><span class="line">        minnumlist = []</span><br><span class="line">        transplay = dataitem[<span class="number">5</span>]/<span class="number">1000</span></span><br><span class="line">        like_play = [transplay, dataitem[<span class="number">6</span>]]</span><br><span class="line">        coll_play = [transplay, dataitem[<span class="number">9</span>]]</span><br><span class="line">        share_play = [transplay, dataitem[<span class="number">10</span>]]</span><br><span class="line">        coin_play = [transplay, dataitem[<span class="number">7</span>]]</span><br><span class="line">        danmu_play = [transplay, dataitem[<span class="number">8</span>]]</span><br><span class="line">        coll_like=  [dataitem[<span class="number">9</span>], dataitem[<span class="number">6</span>]]</span><br><span class="line">        test = [dataitem[<span class="number">6</span>], dataitem[<span class="number">7</span>], dataitem[<span class="number">8</span>],dataitem[<span class="number">9</span>], dataitem[<span class="number">10</span>]]</span><br><span class="line">        <span class="keyword">for</span> index, item <span class="keyword">in</span> enumerate(test):</span><br><span class="line">            <span class="keyword">if</span> item &gt; <span class="number">100</span>:</span><br><span class="line">                hundred[index] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> item &gt; <span class="number">1000</span>:</span><br><span class="line">                thousand[index] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> dataitem[<span class="number">9</span>] &lt; <span class="number">1000</span> <span class="keyword">and</span> dataitem[<span class="number">5</span>] &lt; <span class="number">15000</span>:</span><br><span class="line">            play_coll_list.append(coll_play)</span><br><span class="line">        <span class="keyword">if</span> dataitem[<span class="number">6</span>] &lt; <span class="number">400</span> <span class="keyword">and</span> dataitem[<span class="number">5</span>] &lt; <span class="number">15000</span>:</span><br><span class="line">            play_like_list.append(like_play)</span><br><span class="line">        <span class="keyword">if</span> dataitem[<span class="number">10</span>] &lt; <span class="number">200</span> <span class="keyword">and</span> dataitem[<span class="number">5</span>] &lt; <span class="number">15000</span>:</span><br><span class="line">            play_share_list.append(share_play)</span><br><span class="line">        <span class="keyword">if</span> dataitem[<span class="number">7</span>] &lt; <span class="number">200</span> <span class="keyword">and</span> dataitem[<span class="number">5</span>] &lt; <span class="number">15000</span>:</span><br><span class="line">            play_coin_list.append(coin_play)</span><br><span class="line">        <span class="keyword">if</span> dataitem[<span class="number">8</span>] &lt; <span class="number">100</span> <span class="keyword">and</span> dataitem[<span class="number">5</span>] &lt; <span class="number">15000</span>:</span><br><span class="line">            play_danmu_list.append(danmu_play)</span><br><span class="line">        <span class="keyword">if</span> dataitem[<span class="number">9</span>] &lt; <span class="number">1000</span> <span class="keyword">and</span> dataitem[<span class="number">6</span>] &lt; <span class="number">1000</span>:</span><br><span class="line">            coll_like_list.append(coll_like)</span><br><span class="line">        maxnum = max(dataitem[<span class="number">6</span>], dataitem[<span class="number">7</span>], dataitem[<span class="number">8</span>],dataitem[<span class="number">9</span>], dataitem[<span class="number">10</span>])</span><br><span class="line">        minnum = min(dataitem[<span class="number">6</span>], dataitem[<span class="number">7</span>], dataitem[<span class="number">8</span>], dataitem[<span class="number">9</span>], dataitem[<span class="number">10</span>])</span><br><span class="line">        <span class="keyword">for</span> index, item <span class="keyword">in</span> enumerate(dataitem):</span><br><span class="line">            <span class="keyword">if</span> index &gt; <span class="number">5</span> <span class="keyword">and</span> item == maxnum:</span><br><span class="line">                num = index - <span class="number">6</span></span><br><span class="line">                maxnumlist.append(num)</span><br><span class="line">            <span class="keyword">if</span> index &gt; <span class="number">5</span> <span class="keyword">and</span> item == minnum:</span><br><span class="line">                num = index - <span class="number">6</span></span><br><span class="line">                minnumlist.append(num)</span><br><span class="line">                <span class="keyword">if</span> minnum == <span class="number">0</span>:</span><br><span class="line">                    zero[num] = zero[num] + <span class="number">1</span></span><br><span class="line">        randommaxnum = random.choice(maxnumlist)</span><br><span class="line">        listmost[randommaxnum] = listmost[randommaxnum] + <span class="number">1</span></span><br><span class="line">        randomminnum = random.choice(minnumlist)</span><br><span class="line">        listmin[randomminnum] = listmin[randomminnum] + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;./charts_action.html&#x27;</span>,</span><br><span class="line">                           actionmost=listmost,</span><br><span class="line">                           actionmin=listmin,</span><br><span class="line">                           zero=zero,</span><br><span class="line">                           thousand=thousand,</span><br><span class="line">                           hundred=hundred,</span><br><span class="line">                           play_coll_list=play_coll_list,</span><br><span class="line">                           play_like_list=play_like_list,</span><br><span class="line">                           play_share_list=play_share_list,</span><br><span class="line">                           play_coin_list=play_coin_list,</span><br><span class="line">                           play_danmu_list=play_danmu_list,</span><br><span class="line">                           coll_like_list=coll_like_list</span><br><span class="line">                           )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 排行榜</span></span><br><span class="line"><span class="meta">@app.route(&#x27;/toplist&#x27;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">toplist</span>():</span></span><br><span class="line">    datalist = getleanclouddataorder(<span class="string">&#x27;play_num&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">    datalist1 = getleanclouddataorder(<span class="string">&#x27;like_num&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">    datalist2 = getleanclouddataorder(<span class="string">&#x27;coin_num&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">    datalist3 = getleanclouddataorder(<span class="string">&#x27;collect_num&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">    datalist4 = getleanclouddataorder(<span class="string">&#x27;share_num&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">    datalist5 = getleanclouddataorder(<span class="string">&#x27;danmu_num&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;./toplist.html&#x27;</span>,</span><br><span class="line">                           play=datalist,</span><br><span class="line">                           like=datalist1,</span><br><span class="line">                           coin=datalist2,</span><br><span class="line">                           coll=datalist3,</span><br><span class="line">                           share=datalist4,</span><br><span class="line">                           danmu=datalist5</span><br><span class="line">                           )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间影响</span></span><br><span class="line"><span class="meta">@app.route(&#x27;/time-infection&#x27;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">time</span>():</span></span><br><span class="line">    list_day_time = []</span><br><span class="line">    data4 = getleanclouddata()</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> data4:</span><br><span class="line">        str = item[<span class="number">3</span>]</span><br><span class="line">        str1 = str[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">        list_day_time.append(str1)</span><br><span class="line">    ranklist = []</span><br><span class="line">    rankid = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> ranktime <span class="keyword">in</span> list_day_time:</span><br><span class="line">        item = []</span><br><span class="line">        rankid = rankid + <span class="number">1</span></span><br><span class="line">        item.append(rankid)</span><br><span class="line">        item.append(ranktime)</span><br><span class="line">        ranklist.append(item)</span><br><span class="line">    timecount = Counter(list_day_time)</span><br><span class="line">    timecountkeys = sorted(list(timecount.keys()))</span><br><span class="line">    timedata = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(timecountkeys)):</span><br><span class="line">        item = []</span><br><span class="line">        keys = timecountkeys[i]</span><br><span class="line">        item.append(keys + <span class="string">&#x27;:00&#x27;</span>)</span><br><span class="line">        value = timecount[keys]</span><br><span class="line">        item.append(value)</span><br><span class="line">        timedata.append(item)</span><br><span class="line">    <span class="comment"># timelike = getleanclouddatatime(&#x27;like_num&#x27;, 1000)</span></span><br><span class="line">    <span class="comment"># timecoin = getleanclouddatatime(&#x27;coin_num&#x27;, 1000)</span></span><br><span class="line">    <span class="comment"># timecollect = getleanclouddatatime(&#x27;collect_num&#x27;, 1000)</span></span><br><span class="line">    <span class="comment"># timeshare = getleanclouddatatime(&#x27;share_num&#x27;, 1000)</span></span><br><span class="line">    <span class="comment"># timedanmu = getleanclouddatatime(&#x27;danmu_num&#x27;, 1000)</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;./charts.html&#x27;</span>,</span><br><span class="line">                           dataall=data4,</span><br><span class="line">                           time=timedata,</span><br><span class="line">                           rank=ranklist,</span><br><span class="line">                           <span class="comment"># like=timelike,</span></span><br><span class="line">                           <span class="comment"># coin=timecoin,</span></span><br><span class="line">                           <span class="comment"># coll=timecollect,</span></span><br><span class="line">                           <span class="comment"># share=timeshare,</span></span><br><span class="line">                           <span class="comment"># danmu=timedanmu</span></span><br><span class="line">                           )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据库</span></span><br><span class="line"><span class="meta">@app.route(&#x27;/database&#x27;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">database</span>():</span></span><br><span class="line">    dataall = []</span><br><span class="line">    data3 = getleanclouddata()</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> data3:</span><br><span class="line">        data = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(item)):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">                str = <span class="string">&#x27;&lt;a rel=&quot;+&#x27;</span> + item[<span class="number">1</span>] + <span class="string">&#x27;&quot; href=&quot;&#x27;</span> + item[<span class="number">2</span>] + <span class="string">&#x27;&quot;&gt;&#x27;</span> + item[<span class="number">1</span>] + <span class="string">&#x27;&lt;/a&gt;&#x27;</span></span><br><span class="line">                data.append(str)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            data.append(item[i])</span><br><span class="line">        dataall.append(data)</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;./tables.html&#x27;</span>, alldata=dataall)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 主页</span></span><br><span class="line"><span class="meta">@app.route(&#x27;/&#x27;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">homepage</span>():</span></span><br><span class="line">    <span class="comment"># 获取时间</span></span><br><span class="line">    dateall = getleanclouddata()</span><br><span class="line">    datelist=[]</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> dateall:</span><br><span class="line">        datelist.append(item[<span class="number">4</span>].replace(<span class="string">&quot;-&quot;</span>, <span class="string">&quot;/&quot;</span>))</span><br><span class="line">    data_list = []</span><br><span class="line">    data2_list = []</span><br><span class="line">    data3_list = []</span><br><span class="line">    data4_list = []</span><br><span class="line">    data5_list = []</span><br><span class="line">    data6_list = []</span><br><span class="line">    data7_list = []</span><br><span class="line">    data8_list = []</span><br><span class="line">    data9_list = []</span><br><span class="line">    data10_list = []</span><br><span class="line">    data11_list = []</span><br><span class="line">    data12_list = []</span><br><span class="line">    data13_list = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> dateall:</span><br><span class="line">        data_rank = []</span><br><span class="line">        data_title = []</span><br><span class="line">        data_like = []</span><br><span class="line">        data_coin = []</span><br><span class="line">        data_danmu = []</span><br><span class="line">        data_collect = []</span><br><span class="line">        data_share = []</span><br><span class="line">        data_title.append(item[<span class="number">0</span>])</span><br><span class="line">        data_rank.append(item[<span class="number">0</span>])</span><br><span class="line">        data_like.append(item[<span class="number">0</span>])</span><br><span class="line">        data_coin.append(item[<span class="number">0</span>])</span><br><span class="line">        data_danmu.append(item[<span class="number">0</span>])</span><br><span class="line">        data_collect.append(item[<span class="number">0</span>])</span><br><span class="line">        data_share.append(item[<span class="number">0</span>])</span><br><span class="line">        data_rank.append(item[<span class="number">5</span>])</span><br><span class="line">        data_title.append(item[<span class="number">1</span>])</span><br><span class="line">        data_like.append(item[<span class="number">6</span>])</span><br><span class="line">        data_coin.append(item[<span class="number">7</span>])</span><br><span class="line">        data_danmu.append(item[<span class="number">8</span>])</span><br><span class="line">        data_collect.append(item[<span class="number">9</span>])</span><br><span class="line">        data_share.append(item[<span class="number">10</span>])</span><br><span class="line">        data2_list.append(data_rank)</span><br><span class="line">        data3_list.append(data_title)</span><br><span class="line">        data4_list.append(data_like)</span><br><span class="line">        data5_list.append(data_coin)</span><br><span class="line">        data6_list.append(data_danmu)</span><br><span class="line">        data7_list.append(data_collect)</span><br><span class="line">        data8_list.append(data_share)</span><br><span class="line">        data9_list.extend(item[<span class="number">11</span>].split(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">        data10_list = &#123;key: value <span class="keyword">for</span> key, value <span class="keyword">in</span> dict(Counter(data9_list)).items() <span class="keyword">if</span> value &gt; <span class="number">20</span> <span class="keyword">and</span> value &lt; <span class="number">508</span>&#125;</span><br><span class="line">        data11_list = list(tuple(data10_list.keys()))</span><br><span class="line">        data12_list = list(tuple(data10_list.values()))</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&quot;./index.html&quot;</span>,</span><br><span class="line">                           dateall=dateall,</span><br><span class="line">                           datelist=datelist,</span><br><span class="line">                           bili_video_date=data_list,</span><br><span class="line">                           bili_video_rank=data2_list,</span><br><span class="line">                           bili_video_title=data3_list,</span><br><span class="line">                           bili_video_like=data4_list,</span><br><span class="line">                           bili_video_coin=data5_list,</span><br><span class="line">                           bili_video_danmu=data6_list,</span><br><span class="line">                           bili_video_collect=data7_list,</span><br><span class="line">                           bili_video_share=data8_list,</span><br><span class="line">                           bili_video_tag1=data11_list,</span><br><span class="line">                           bili_video_tag2=data12_list,</span><br><span class="line">                           bili=data13_list</span><br><span class="line">                           )</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure><h2 id="前端部分"><a href="#前端部分" class="headerlink" title="前端部分"></a>前端部分</h2><p>js 部分主要是进行数据的可视化展示。</p><h3 id="时间序列数据的展示"><a href="#时间序列数据的展示" class="headerlink" title="时间序列数据的展示"></a>时间序列数据的展示</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611241535019-1300a624-3165-401d-b913-e700a9db402c.png#align=left&display=inline&height=435&margin=%5Bobject%20Object%5D&name=image.png&originHeight=435&originWidth=571&size=39516&status=done&style=none&width=571" alt="image.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基于准备好的dom，初始化echarts实例</span></span><br><span class="line">    <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;time-data-bili-videxo&#x27;</span>));</span><br><span class="line">      <span class="keyword">let</span> arr =&#123;&#123;datelist|tojson&#125;&#125;;</span><br><span class="line">    <span class="keyword">var</span> maxdate=<span class="keyword">new</span> <span class="built_in">Date</span>(arr[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">var</span> mindate=<span class="keyword">new</span> <span class="built_in">Date</span>(arr[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">for</span> (item <span class="keyword">of</span> arr)&#123;</span><br><span class="line">        itemdate=<span class="keyword">new</span> <span class="built_in">Date</span>(item);</span><br><span class="line">        <span class="keyword">if</span> (itemdate&gt;maxdate)&#123;</span><br><span class="line">            maxdate = itemdate</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (itemdate&lt;mindate)&#123;</span><br><span class="line">            mindate = itemdate</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//判断最近日期和最远日期</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> objGroup = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">obj, name</span>) </span>&#123;</span><br><span class="line">        obj[name] = obj[name] ? ++obj[name] : <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">            &#125;, &#123;&#125;);</span><br><span class="line">    <span class="keyword">let</span> objKey = <span class="built_in">Object</span>.keys(objGroup);</span><br><span class="line">    <span class="keyword">let</span> objValue = <span class="built_in">Object</span>.values(objGroup);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//指定图表的配置项和数据</span></span><br><span class="line">    <span class="keyword">var</span> dateTime = mindate;</span><br><span class="line">    <span class="keyword">var</span> data =[]</span><br><span class="line">    firstday = mindate</span><br><span class="line">    lastday =  maxdate</span><br><span class="line">    day = (lastday - firstday) / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; day; i++) &#123;</span><br><span class="line">    dataitem=[]</span><br><span class="line">    dateTime=dateTime.setDate(dateTime.getDate()+<span class="number">1</span>);</span><br><span class="line">    dateTime=<span class="keyword">new</span> <span class="built_in">Date</span>(dateTime);</span><br><span class="line">    timesrt= [dateTime.getFullYear(),dateTime.getMonth()+<span class="number">1</span>, dateTime.getDate()].join(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">    dataitem.push(timesrt)</span><br><span class="line">    valuestr = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (index <span class="keyword">in</span>  objKey)&#123;</span><br><span class="line">        <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(objKey[index]);</span><br><span class="line">        <span class="keyword">if</span>(date.getTime() == dateTime.getTime())&#123;</span><br><span class="line">            valuestr = objValue[index]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dataitem.push(valuestr)</span><br><span class="line">    data.push(dataitem)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//图表的参数设置</span></span><br><span class="line">option = &#123;</span><br><span class="line"></span><br><span class="line">    tooltip: &#123;</span><br><span class="line">        trigger: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">        position: <span class="function"><span class="keyword">function</span> (<span class="params">pt</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> [pt[<span class="number">0</span>], <span class="string">&#x27;10%&#x27;</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    toolbox: &#123;</span><br><span class="line">        feature: &#123;</span><br><span class="line">            dataZoom: &#123;</span><br><span class="line">                yAxisIndex: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            restore: &#123;&#125;,</span><br><span class="line">            saveAsImage: &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">        name:<span class="string">&#x27;日期&#x27;</span>,</span><br><span class="line">        type: <span class="string">&#x27;time&#x27;</span>,</span><br><span class="line">        boundaryGap: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    yAxis: &#123;</span><br><span class="line">        name:<span class="string">&#x27;投稿量&#x27;</span>,</span><br><span class="line">        type: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">        boundaryGap: [<span class="number">0</span>, <span class="string">&#x27;100%&#x27;</span>],</span><br><span class="line">        max: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;<span class="keyword">return</span> value.max&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    dataZoom: [&#123;</span><br><span class="line">        type: <span class="string">&#x27;inside&#x27;</span>,</span><br><span class="line">        start: <span class="number">87</span>,</span><br><span class="line">        end: <span class="number">100</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        start: <span class="number">87</span>,</span><br><span class="line">        end: <span class="number">100</span></span><br><span class="line">    &#125;],</span><br><span class="line">    series: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">&#x27;视频量&#x27;</span>,</span><br><span class="line">            color:<span class="string">&#x27;#4e73df&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            symbol: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">            areaStyle: &#123;&#125;,</span><br><span class="line">            data: data</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span><br><span class="line">    myChart.setOption(option);</span><br></pre></td></tr></table></figure><h3 id="折线图数据的展示"><a href="#折线图数据的展示" class="headerlink" title="折线图数据的展示"></a>折线图数据的展示</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611241888411-91f9f5a3-aeac-4bd5-b624-14f684443059.png#align=left&display=inline&height=434&margin=%5Bobject%20Object%5D&name=image.png&originHeight=434&originWidth=1128&size=58235&status=done&style=none&width=1128" alt="image.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span><br><span class="line"><span class="keyword">var</span> myChart3 = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;action-data-bili-video&#x27;</span>));</span><br><span class="line"></span><br><span class="line">option3 = &#123;</span><br><span class="line">     tooltip: &#123;</span><br><span class="line">        trigger: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">        position: <span class="function"><span class="keyword">function</span> (<span class="params">pos, params, dom, rect, size</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 鼠标在左侧时 tooltip 显示到右侧，鼠标在右侧时 tooltip 显示到左侧。</span></span><br><span class="line">      <span class="keyword">var</span> obj = &#123;<span class="attr">top</span>: <span class="number">0</span>&#125;;</span><br><span class="line">      obj[[<span class="string">&#x27;left&#x27;</span>, <span class="string">&#x27;right&#x27;</span>][+(pos[<span class="number">0</span>] &lt; size.viewSize[<span class="number">0</span>] / <span class="number">2</span>)]] = <span class="number">5</span>;</span><br><span class="line">      <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    legend: &#123;</span><br><span class="line">        data: [<span class="string">&#x27;点赞&#x27;</span>, <span class="string">&#x27;投币&#x27;</span>, <span class="string">&#x27;收藏&#x27;</span>, <span class="string">&#x27;转发&#x27;</span>, <span class="string">&#x27;弹幕&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    dataZoom: [&#123;</span><br><span class="line">        type: <span class="string">&#x27;inside&#x27;</span>,</span><br><span class="line">        start: <span class="number">0</span>,</span><br><span class="line">        end: <span class="number">2</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        type : <span class="string">&#x27;slider&#x27;</span>,</span><br><span class="line">        start: <span class="number">0</span>,</span><br><span class="line">        end: <span class="number">2</span></span><br><span class="line">    &#125;],</span><br><span class="line"></span><br><span class="line">    toolbox: &#123;</span><br><span class="line">        feature: &#123;</span><br><span class="line">            dataZoom: &#123;</span><br><span class="line">                yAxisIndex: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            restore: &#123;&#125;,</span><br><span class="line">            saveAsImage: &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">        name:<span class="string">&#x27;排名&#x27;</span>,</span><br><span class="line">        type: <span class="string">&#x27;category&#x27;</span>,</span><br><span class="line">        boundaryGap: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">           &#125;,</span><br><span class="line">    yAxis: &#123;</span><br><span class="line">         name:<span class="string">&#x27;数量&#x27;</span>,</span><br><span class="line">        type: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    series: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">&#x27;标题&#x27;</span>,</span><br><span class="line">            color:<span class="string">&#x27;#9bb5ff&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;custom&#x27;</span>,</span><br><span class="line">            data: &#123;&#123; bili_video_title|tojson &#125;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            color:<span class="string">&#x27;#e74a3b&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;点赞&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            data: &#123;&#123; bili_video_like|tojson &#125;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;   <span class="attr">color</span>:<span class="string">&#x27;#4e73df&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;投币&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            data: &#123;&#123; bili_video_coin|tojson &#125;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;   <span class="attr">color</span>:<span class="string">&#x27;#f6c23e&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;收藏&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            data:&#123;&#123; bili_video_collect|tojson &#125;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;   <span class="attr">color</span>:<span class="string">&#x27;#1cc88a&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;转发&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            data: &#123;&#123; bili_video_share|tojson &#125;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;   <span class="attr">color</span>:<span class="string">&#x27;#36b9cc&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;弹幕&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            data: &#123;&#123; bili_video_danmu|tojson &#125;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span><br><span class="line">myChart3.setOption(option3);</span><br></pre></td></tr></table></figure><h3 id="词频图数据的展示"><a href="#词频图数据的展示" class="headerlink" title="词频图数据的展示"></a>词频图数据的展示</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611242553436-dc039f3f-0beb-497f-82dd-1d3016a2d763.png#align=left&display=inline&height=558&margin=%5Bobject%20Object%5D&name=image.png&originHeight=558&originWidth=1140&size=224774&status=done&style=none&width=1140" alt="image.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myChart4 = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;tag-data-bili-video&#x27;</span>));</span><br><span class="line"><span class="keyword">var</span> colorList = [</span><br><span class="line"><span class="string">&#x27;#4e73df&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#6610f2&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#6f42c1&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#e83e8c&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#e74a3b&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#fd7e14&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#f6c23e&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#1cc88a&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#20c9a6&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;#36b9cc&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> listtag = []</span><br><span class="line"><span class="keyword">for</span>(index <span class="keyword">in</span> &#123;&#123; bili_video_tag1|tojson &#125;&#125; )&#123;</span><br><span class="line">    <span class="keyword">let</span> minSize = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (&#123;&#123;bili_video_tag2|tojson &#125;&#125;[index]/<span class="number">10</span> &lt;= <span class="number">18</span>)&#123;</span><br><span class="line">        minSize = <span class="number">14</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        minSize = &#123;&#123;bili_video_tag2|tojson &#125;&#125;[index]/<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">    item = &#123;<span class="string">&#x27;name&#x27;</span>:&#123;&#123; bili_video_tag1|tojson &#125;&#125;[index],<span class="string">&#x27;value&#x27;</span>:&#123;&#123; bili_video_tag2|tojson &#125;&#125;[index],</span><br><span class="line">        <span class="string">&quot;symbolSize&quot;</span>: &#123;&#123;bili_video_tag2|tojson &#125;&#125;[index],</span><br><span class="line">            <span class="string">&quot;draggable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;label&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;color&#x27;</span>: <span class="string">&quot;#fff&quot;</span> ,</span><br><span class="line">            <span class="string">&#x27;fontSize&#x27;</span>: minSize,</span><br><span class="line">            <span class="string">&#x27;textBorderColor&#x27;</span>: colorList[index%<span class="number">10</span>],</span><br><span class="line">                <span class="string">&#x27;textBorderWidth&#x27;</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;itemStyle&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;normal&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;shadowBlur&quot;</span>: <span class="number">250</span>,</span><br><span class="line">                    <span class="string">&quot;shadowColor&quot;</span>: colorList[index%<span class="number">10</span>],</span><br><span class="line">                    <span class="string">&quot;color&quot;</span>: colorList[index%<span class="number">10</span>]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    listtag.push(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(listtag)</span><br><span class="line"></span><br><span class="line">option4 = &#123;</span><br><span class="line">    <span class="comment">// 图表标题</span></span><br><span class="line">    title: &#123;</span><br><span class="line">        show:<span class="literal">true</span>,<span class="comment">//显示策略，默认值true,可选为：true（显示） | false（隐藏）</span></span><br><span class="line">        <span class="comment">//text: &#x27;&quot;新时代&quot;主题图谱&#x27;,//主标题文本，&#x27;\n&#x27;指定换行</span></span><br><span class="line">        x: <span class="string">&#x27;center&#x27;</span>,        <span class="comment">// 水平安放位置，默认为左对齐，可选为：</span></span><br><span class="line">                          <span class="comment">// &#x27;center&#x27; ¦ &#x27;left&#x27; ¦ &#x27;right&#x27;</span></span><br><span class="line">                          <span class="comment">// ¦ &#123;number&#125;（x坐标，单位px）</span></span><br><span class="line">        y: <span class="string">&#x27;bottom&#x27;</span>,             <span class="comment">// 垂直安放位置，默认为全图顶端，可选为：</span></span><br><span class="line">                          <span class="comment">// &#x27;top&#x27; ¦ &#x27;bottom&#x27; ¦ &#x27;center&#x27;</span></span><br><span class="line">                          <span class="comment">// ¦ &#123;number&#125;（y坐标，单位px）</span></span><br><span class="line">        <span class="comment">//textAlign: null          // 水平对齐方式，默认根据x设置自动调整</span></span><br><span class="line">        backgroundColor: <span class="string">&#x27;rgba(0,0,0,0)&#x27;</span>,</span><br><span class="line">        borderColor: <span class="string">&#x27;#ccc&#x27;</span>,    <span class="comment">// 标题边框颜色</span></span><br><span class="line">        borderWidth: <span class="number">0</span>,         <span class="comment">// 标题边框线宽，单位px，默认为0（无边框）</span></span><br><span class="line">        padding: <span class="number">5</span>,             <span class="comment">// 标题内边距，单位px，默认各方向内边距为5，</span></span><br><span class="line">                                <span class="comment">// 接受数组分别设定上右下左边距，同css</span></span><br><span class="line">        itemGap: <span class="number">10</span>,            <span class="comment">// 主副标题纵向间隔，单位px，默认为10，</span></span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            fontSize: <span class="number">18</span>,</span><br><span class="line">            fontWeight: <span class="string">&#x27;bolder&#x27;</span>,</span><br><span class="line">            color: <span class="string">&#x27;#333&#x27;</span>        <span class="comment">// 主标题文字颜色</span></span><br><span class="line">        &#125;,</span><br><span class="line">        subtextStyle: &#123;</span><br><span class="line">            color: <span class="string">&#x27;#aaa&#x27;</span>        <span class="comment">// 副标题文字颜色</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    backgroundColor: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">    tooltip: &#123;&#125;,</span><br><span class="line">    animationDurationUpdate: <span class="function"><span class="keyword">function</span>(<span class="params">idx</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 越往后的数据延迟越大</span></span><br><span class="line">        <span class="keyword">return</span> idx * <span class="number">100</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    animationEasingUpdate: <span class="string">&#x27;bounceIn&#x27;</span>,</span><br><span class="line">    color: [<span class="string">&#x27;#fff&#x27;</span>, <span class="string">&#x27;#fff&#x27;</span>, <span class="string">&#x27;#fff&#x27;</span>],</span><br><span class="line">    series: [&#123;</span><br><span class="line">        type: <span class="string">&#x27;graph&#x27;</span>,</span><br><span class="line">        layout: <span class="string">&#x27;force&#x27;</span>,</span><br><span class="line">        force: &#123;</span><br><span class="line">            repulsion: <span class="number">400</span>,</span><br><span class="line">            edgeLength: <span class="number">10</span></span><br><span class="line">        &#125;,</span><br><span class="line">        roam: <span class="literal">true</span>,</span><br><span class="line">        label: &#123;</span><br><span class="line">            normal: &#123;</span><br><span class="line">                show: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        data: listtag</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span><br><span class="line">myChart4.setOption(option4);</span><br></pre></td></tr></table></figure><h3 id="列表的展示"><a href="#列表的展示" class="headerlink" title="列表的展示"></a>列表的展示</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611242642846-5575cf9a-e062-4463-8bf7-82ecfac8ae6b.png#align=left&display=inline&height=765&margin=%5Bobject%20Object%5D&name=image.png&originHeight=765&originWidth=585&size=122236&status=done&style=none&width=585" alt="image.png"></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;card-body&quot;&gt;</span><br><span class="line">&#123;% <span class="keyword">for</span> i <span class="keyword">in</span> play %&#125;</span><br><span class="line">&lt;div style=<span class="string">&quot;display:flex;height: 80px; align-items:center&quot;</span> &gt;</span><br><span class="line">    &lt;span style=&quot;font-weight: bold;width:10%;padding:0 10px;&quot;&gt;&#123;&#123; loop.index &#125;&#125;.&lt;/span&gt;</span><br><span class="line">    &lt;img style=<span class="string">&quot;height: 100%&quot;</span> src=<span class="string">&quot;&#123;&#123; i[3] &#125;&#125;&quot;</span>&gt;</span><br><span class="line">    &lt;a href=<span class="string">&#x27;&#123;&#123; i[2] &#125;&#125;&#x27;</span></span><br><span class="line">style=<span class="string">&quot;padding:0 20px;width:50%;display:inline-block;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;&quot;</span>&gt;&#123;&#123; i[<span class="number">0</span>] &#125;&#125;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">    &lt;span style=&quot;width:20%;text-align:right;font-weight: bold&quot;&gt; &#123;&#123; i[1] &#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&#123;% endfor %&#125;</span><br><span class="line"> &lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="数据表的展示"><a href="#数据表的展示" class="headerlink" title="数据表的展示"></a>数据表的展示</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611242850567-f361ca82-f1b0-406d-b868-e67b791519b9.png#align=left&display=inline&height=716&margin=%5Bobject%20Object%5D&name=image.png&originHeight=716&originWidth=1122&size=103486&status=done&style=none&width=1122" alt="image.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里使用了jquery.dataTables.min.js</span></span><br><span class="line">  $(<span class="string">&#x27;#dataTable&#x27;</span>).DataTable(</span><br><span class="line">       &#123;</span><br><span class="line">          <span class="string">&quot;data&quot;</span>:  &#123;&#123; alldata|tojson &#125;&#125;,</span><br><span class="line">           language:&#123;</span><br><span class="line">        <span class="string">&quot;processing&quot;</span>: <span class="string">&quot;处理中...&quot;</span>,</span><br><span class="line">        <span class="string">&quot;lengthMenu&quot;</span>: <span class="string">&quot;显示 _MENU_ 项结果&quot;</span>,</span><br><span class="line">        <span class="string">&quot;zeroRecords&quot;</span>: <span class="string">&quot;没有匹配结果&quot;</span>,</span><br><span class="line">        <span class="string">&quot;info&quot;</span>: <span class="string">&quot;显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项&quot;</span>,</span><br><span class="line">        <span class="string">&quot;infoEmpty&quot;</span>: <span class="string">&quot;显示第 0 至 0 项结果，共 0 项&quot;</span>,</span><br><span class="line">        <span class="string">&quot;infoFiltered&quot;</span>: <span class="string">&quot;(由 _MAX_ 项结果过滤)&quot;</span>,</span><br><span class="line">        <span class="string">&quot;infoPostFix&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;search&quot;</span>: <span class="string">&quot;搜索:&quot;</span>,</span><br><span class="line">        <span class="string">&quot;searchPlaceholder&quot;</span>: <span class="string">&quot;搜索...&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;emptyTable&quot;</span>: <span class="string">&quot;表中数据为空&quot;</span>,</span><br><span class="line">        <span class="string">&quot;loadingRecords&quot;</span>: <span class="string">&quot;载入中...&quot;</span>,</span><br><span class="line">        <span class="string">&quot;infoThousands&quot;</span>: <span class="string">&quot;,&quot;</span>,</span><br><span class="line">        <span class="string">&quot;paginate&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;first&quot;</span>: <span class="string">&quot;首页&quot;</span>,</span><br><span class="line">            <span class="string">&quot;previous&quot;</span>: <span class="string">&quot;上页&quot;</span>,</span><br><span class="line">            <span class="string">&quot;next&quot;</span>: <span class="string">&quot;下页&quot;</span>,</span><br><span class="line">            <span class="string">&quot;last&quot;</span>: <span class="string">&quot;末页&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;aria&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;paginate&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;first&quot;</span>: <span class="string">&quot;首页&quot;</span>,</span><br><span class="line">                <span class="string">&quot;previous&quot;</span>: <span class="string">&quot;上页&quot;</span>,</span><br><span class="line">                <span class="string">&quot;next&quot;</span>: <span class="string">&quot;下页&quot;</span>,</span><br><span class="line">                <span class="string">&quot;last&quot;</span>: <span class="string">&quot;末页&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;sortAscending&quot;</span>: <span class="string">&quot;以升序排列此列&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sortDescending&quot;</span>: <span class="string">&quot;以降序排列此列&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;thousands&quot;</span>: <span class="string">&quot;.&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  );</span><br></pre></td></tr></table></figure><h3 id="饼图的展示"><a href="#饼图的展示" class="headerlink" title="饼图的展示"></a>饼图的展示</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611243174390-5f632608-b5a6-45d8-99ea-50475e2a9ad6.png#align=left&display=inline&height=467&margin=%5Bobject%20Object%5D&name=image.png&originHeight=467&originWidth=572&size=21749&status=done&style=none&width=572" alt="image.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基于准备好的dom，初始化echarts实例</span></span><br><span class="line">    <span class="keyword">var</span> myChart1 = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;mostaction-data-bili-video&#x27;</span>));</span><br><span class="line">    <span class="comment">// 指定图表的配置项和数据</span></span><br><span class="line"></span><br><span class="line">    option1 = &#123;</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">            trigger: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">            formatter: <span class="string">&#x27;&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">            orient: <span class="string">&#x27;vertical&#x27;</span>,</span><br><span class="line">            left: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [</span><br><span class="line">            &#123;</span><br><span class="line">                name: <span class="string">&#x27;单篇稿件中最多的用户行为&#x27;</span>,</span><br><span class="line">                type: <span class="string">&#x27;pie&#x27;</span>,</span><br><span class="line">                radius: <span class="string">&#x27;50%&#x27;</span>,</span><br><span class="line">                data: [</span><br><span class="line">                    &#123;<span class="attr">value</span>: &#123;&#123;actionmost[<span class="number">0</span>]&#125;&#125;, <span class="attr">name</span>:<span class="string">&#x27;点赞&#x27;</span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        value:&#123;&#123;actionmost[<span class="number">1</span>]&#125;&#125;,</span><br><span class="line">        name: <span class="string">&#x27;投币&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    ,</span><br><span class="line">    &#123;</span><br><span class="line">        value:&#123;&#123;actionmost[<span class="number">2</span>]&#125;&#125;</span><br><span class="line">    ,</span><br><span class="line">        name: <span class="string">&#x27;弹幕&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    ,</span><br><span class="line">    &#123;</span><br><span class="line">        value: &#123;&#123;actionmost[<span class="number">3</span>]&#125;&#125;</span><br><span class="line">    ,</span><br><span class="line">        name: <span class="string">&#x27;收藏&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    ,</span><br><span class="line">    &#123;</span><br><span class="line">        value: &#123;&#123;actionmost[<span class="number">4</span>]&#125;&#125;</span><br><span class="line">    ,</span><br><span class="line">        name: <span class="string">&#x27;转发&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    ],</span><br><span class="line">    emphasis: &#123;</span><br><span class="line">        itemStyle: &#123;</span><br><span class="line">            shadowBlur: <span class="number">10</span>,</span><br><span class="line">                shadowOffsetX</span><br><span class="line">        :</span><br><span class="line">            <span class="number">0</span>,</span><br><span class="line">                shadowColor</span><br><span class="line">        :</span><br><span class="line">            <span class="string">&#x27;rgba(0, 0, 0, 0.5)&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ]</span><br><span class="line">    &#125;</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span><br><span class="line">    myChart1.setOption(option1);</span><br></pre></td></tr></table></figure><h3 id="线性回归分析图的展示"><a href="#线性回归分析图的展示" class="headerlink" title="线性回归分析图的展示"></a>线性回归分析图的展示</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611243816943-5ceba810-5c5d-4857-9a83-99c324c2f65e.png#align=left&display=inline&height=473&margin=%5Bobject%20Object%5D&name=image.png&originHeight=473&originWidth=566&size=47499&status=done&style=none&width=566" alt="image.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基于准备好的dom，初始化echarts实例</span></span><br><span class="line">   <span class="keyword">var</span> myChart6 = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;playaction-data-bili-video&#x27;</span>));</span><br><span class="line">   echarts.registerTransform(ecStat.transform.regression);</span><br><span class="line">   option6 = &#123;</span><br><span class="line">       dataset: [&#123;</span><br><span class="line">           source: &#123;&#123;play_coll_list&#125;&#125;,</span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">       transform: &#123;</span><br><span class="line">           type: <span class="string">&#x27;ecStat:regression&#x27;</span></span><br><span class="line">           <span class="comment">// &#x27;linear&#x27; by default.</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   ],</span><br><span class="line">   toolbox: &#123;</span><br><span class="line">       feature: &#123;</span><br><span class="line">           dataZoom: &#123;</span><br><span class="line">           &#125;</span><br><span class="line">       ,</span><br><span class="line">           brush: &#123;</span><br><span class="line">               type: [<span class="string">&#x27;rect&#x27;</span>, <span class="string">&#x27;polygon&#x27;</span>, <span class="string">&#x27;clear&#x27;</span>]</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   ,</span><br><span class="line">   brush: &#123;</span><br><span class="line">   &#125;</span><br><span class="line">   ,</span><br><span class="line">   legend: &#123;</span><br><span class="line">       bottom: <span class="number">5</span></span><br><span class="line">   &#125;</span><br><span class="line">   ,</span><br><span class="line">   tooltip: &#123;</span><br><span class="line">       trigger: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">           axisPointer</span><br><span class="line">   :</span><br><span class="line">       &#123;</span><br><span class="line">           type: <span class="string">&#x27;cross&#x27;</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   ,</span><br><span class="line">   xAxis: &#123;</span><br><span class="line">       min:<span class="number">1</span>,</span><br><span class="line">       name:<span class="string">&#x27;播放量(千)&#x27;</span>,</span><br><span class="line">           splitLine</span><br><span class="line">   :</span><br><span class="line">       &#123;</span><br><span class="line">           lineStyle: &#123;</span><br><span class="line">               type: <span class="string">&#x27;dashed&#x27;</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   ,</span><br><span class="line">   &#125;</span><br><span class="line">   ,</span><br><span class="line">   yAxis: &#123;</span><br><span class="line">       name:<span class="string">&#x27;收藏量&#x27;</span>,</span><br><span class="line"></span><br><span class="line">           splitLine</span><br><span class="line">   :</span><br><span class="line">       &#123;</span><br><span class="line">           lineStyle: &#123;</span><br><span class="line">               type: <span class="string">&#x27;dashed&#x27;</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   ,</span><br><span class="line">   &#125;</span><br><span class="line">   ,</span><br><span class="line">   series: [&#123;</span><br><span class="line">       symbolSize: <span class="number">5</span>,</span><br><span class="line">       name: <span class="string">&#x27;散点&#x27;</span>,</span><br><span class="line">       type: <span class="string">&#x27;scatter&#x27;</span></span><br><span class="line">   &#125;, &#123;</span><br><span class="line">       name: <span class="string">&#x27;线性回归&#x27;</span>,</span><br><span class="line">       type: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">       datasetIndex: <span class="number">1</span>,</span><br><span class="line">       symbolSize: <span class="number">0.1</span>,</span><br><span class="line">       symbol: <span class="string">&#x27;circle&#x27;</span>,</span><br><span class="line">       label: &#123;<span class="attr">show</span>: <span class="literal">true</span>, <span class="attr">fontSize</span>: <span class="number">16</span>&#125;,</span><br><span class="line">       labelLayout: &#123;<span class="attr">dx</span>: <span class="number">-20</span>&#125;,</span><br><span class="line">       encode: &#123;<span class="attr">label</span>: <span class="number">2</span>, <span class="attr">tooltip</span>: <span class="number">1</span>&#125;</span><br><span class="line">   &#125;]</span><br><span class="line">   &#125;</span><br><span class="line">   ;</span><br><span class="line">   <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span><br><span class="line">   myChart6.setOption(option6);</span><br></pre></td></tr></table></figure><h3 id="关系图谱的展示"><a href="#关系图谱的展示" class="headerlink" title="关系图谱的展示"></a>关系图谱的展示</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2021/png/8391485/1611244137864-08c8480c-2740-48f2-b275-33ba9ac2f2a3.png#align=left&display=inline&height=627&margin=%5Bobject%20Object%5D&name=image.png&originHeight=627&originWidth=1132&size=114987&status=done&style=none&width=1132" alt="image.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myChart3= echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;tagtitle-data-bili-video&#x27;</span>));</span><br><span class="line"><span class="keyword">var</span> nodelist=[];</span><br><span class="line"><span class="keyword">var</span> linklist=[];</span><br><span class="line"><span class="keyword">for</span> (index <span class="keyword">in</span> &#123;&#123; tag_dictkey_list|tojson &#125;&#125;)&#123;</span><br><span class="line">        <span class="keyword">var</span> nodesitem =&#123;</span><br><span class="line">     <span class="string">&quot;name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">     <span class="string">&quot;value&quot;</span>: <span class="number">0</span>,</span><br><span class="line">     <span class="string">&quot;category&quot;</span>: <span class="number">0</span>,</span><br><span class="line">     <span class="string">&quot;symbolSize&quot;</span>:<span class="number">0</span>,</span><br><span class="line">&#125;</span><br><span class="line">        nodesitem.name =  &#123;&#123; tag_dictkey_list|tojson &#125;&#125;[index];</span><br><span class="line">        nodesitem.value =  &#123;&#123; tag_dictvalue_list|tojson &#125;&#125;[index];</span><br><span class="line">        nodesitem.symbolSize=  nodesitem.value/<span class="number">4</span>;</span><br><span class="line">        nodesitem.category = <span class="number">0</span></span><br><span class="line">        nodelist.push(nodesitem)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (index <span class="keyword">in</span> &#123;&#123; word_dictkey_list|tojson &#125;&#125;)&#123;</span><br><span class="line">        <span class="keyword">var</span> nodesitem =&#123;</span><br><span class="line">     <span class="string">&quot;name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">     <span class="string">&quot;value&quot;</span>: <span class="number">0</span>,</span><br><span class="line">     <span class="string">&quot;category&quot;</span>: <span class="number">0</span>,</span><br><span class="line">     <span class="string">&quot;symbolSize&quot;</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">        nodesitem.name =  &#123;&#123; word_dictkey_list|tojson &#125;&#125;[index];</span><br><span class="line">        nodesitem.value =  &#123;&#123; word_dictvalue_list|tojson &#125;&#125;[index];</span><br><span class="line">        nodesitem.symbolSize=  nodesitem.value/<span class="number">4</span>;</span><br><span class="line">        nodesitem.category = <span class="number">1</span></span><br><span class="line">        nodelist.push(nodesitem)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(nodelist)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> &#123;&#123; tag_dictkey_list|tojson &#125;&#125;)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">in</span> &#123;&#123; tag_dictkey_list|tojson &#125;&#125;)&#123;</span><br><span class="line">        str1 = &#123;&#123; tag_dictkey_list|tojson &#125;&#125;[i];</span><br><span class="line">         str2 = &#123;&#123; tag_dictkey_list|tojson &#125;&#125;[j];</span><br><span class="line">         <span class="keyword">if</span> (str2.indexOf(str1) != <span class="number">-1</span>)&#123;</span><br><span class="line">             <span class="keyword">var</span> link =&#123;</span><br><span class="line">                 <span class="string">&quot;source&quot;</span>: i,</span><br><span class="line">                 <span class="string">&quot;target&quot;</span>: j</span><br><span class="line">             &#125;</span><br><span class="line">             linklist.push(link)</span><br><span class="line">         &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> &#123;&#123; word_dictkey_list|tojson &#125;&#125;)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j <span class="keyword">in</span> &#123;&#123; word_dictkey_list|tojson &#125;&#125;)&#123;</span><br><span class="line">        str1 = &#123;&#123; word_dictkey_list|tojson &#125;&#125;[i];</span><br><span class="line">         str2 = &#123;&#123; word_dictkey_list|tojson &#125;&#125;[j];</span><br><span class="line">         <span class="keyword">if</span> (str2.indexOf(str1) != <span class="number">-1</span>)&#123;</span><br><span class="line">             <span class="keyword">var</span> source = <span class="built_in">Number</span>(i)+<span class="built_in">Number</span>(&#123;&#123; tag_dictkey_list|tojson &#125;&#125;.length)</span><br><span class="line">             <span class="keyword">var</span> target = <span class="built_in">Number</span>(j)+<span class="built_in">Number</span>(&#123;&#123; tag_dictkey_list|tojson &#125;&#125;.length)</span><br><span class="line">             <span class="keyword">var</span> link =&#123;</span><br><span class="line">                 <span class="string">&quot;source&quot;</span>: source,</span><br><span class="line">                 <span class="string">&quot;target&quot;</span>: target</span><br><span class="line">             &#125;</span><br><span class="line">             linklist.push(link)</span><br><span class="line">         &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">for</span> (i1 <span class="keyword">in</span> &#123;&#123; tag_dictkey_list|tojson &#125;&#125;)&#123;</span><br><span class="line">    <span class="keyword">for</span> (j1 <span class="keyword">in</span> &#123;&#123; word_dictkey_list|tojson &#125;&#125;)&#123;</span><br><span class="line">        <span class="keyword">if</span> (&#123;&#123;tag_dictkey_list|tojson&#125;&#125;[i1].indexOf(&#123;&#123;word_dictkey_list|tojson&#125;&#125;[j1]) != <span class="number">-1</span>)&#123;</span><br><span class="line">            target = <span class="built_in">Number</span>(j1)+<span class="built_in">Number</span>(&#123;&#123; tag_dictkey_list|tojson &#125;&#125;.length)</span><br><span class="line">                         <span class="keyword">var</span> link =&#123;</span><br><span class="line">                 <span class="string">&quot;source&quot;</span>: target,</span><br><span class="line">                 <span class="string">&quot;target&quot;</span>: i1</span><br><span class="line">             &#125;</span><br><span class="line">             linklist.push(link)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(linklist)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">graph = &#123;</span><br><span class="line">    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;force&quot;</span>,</span><br><span class="line">    <span class="string">&quot;categories&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;标题&quot;</span></span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;标签&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;nodes&quot;</span>: nodelist,</span><br><span class="line">    <span class="string">&quot;links&quot;</span>: linklist</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    option3 = &#123;</span><br><span class="line">        tooltip: &#123;&#125;,</span><br><span class="line">        legend: &#123;</span><br><span class="line">            data: [<span class="string">&#x27;标题&#x27;</span>, <span class="string">&#x27;标签&#x27;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [&#123;</span><br><span class="line">            type: <span class="string">&#x27;graph&#x27;</span>,</span><br><span class="line">            layout: <span class="string">&#x27;force&#x27;</span>,</span><br><span class="line">            animation: <span class="literal">false</span>,</span><br><span class="line">            label: &#123;</span><br><span class="line">                show: <span class="literal">true</span>,</span><br><span class="line">                position: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                formatter: <span class="string">&#x27;&#123;b&#125;&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            draggable: <span class="literal">true</span>,</span><br><span class="line">            data: graph.nodes.map(<span class="function"><span class="keyword">function</span> (<span class="params">node, idx</span>) </span>&#123;</span><br><span class="line">                node.id = idx;</span><br><span class="line">                <span class="keyword">return</span> node;</span><br><span class="line">            &#125;),</span><br><span class="line">            categories: graph.categories,</span><br><span class="line">             force: &#123;</span><br><span class="line">            repulsion: <span class="number">400</span>,</span><br><span class="line">            edgeLength: <span class="number">200</span></span><br><span class="line">            &#125;,</span><br><span class="line">            roam: <span class="literal">true</span>,</span><br><span class="line">            edges: graph.links</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">myChart3.setOption(option3);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> python </tag>
            
            <tag> flask </tag>
            
            <tag> Echarts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题（去jquery）的gitcalendar3.0</title>
      <link href="2021/01/11/2020-10-31/"/>
      <url>2021/01/11/2020-10-31/</url>
      
        <content type="html"><![CDATA[<blockquote></blockquote><h2 id="如果您尚未使用过-gitcalendar-及相关魔改配置，"><a href="#如果您尚未使用过-gitcalendar-及相关魔改配置，" class="headerlink" title="如果您尚未使用过 gitcalendar 及相关魔改配置，"></a>如果您尚未使用过 gitcalendar 及相关魔改配置，</h2><blockquote></blockquote><h2 id="推荐您前往"><a href="#推荐您前往" class="headerlink" title="推荐您前往"></a>推荐您前往</h2><blockquote></blockquote><h2 id="https-akilar-top-posts-1f9c68c9"><a href="#https-akilar-top-posts-1f9c68c9" class="headerlink" title="https://akilar.top/posts/1f9c68c9/"></a><a href="https://akilar.top/posts/1f9c68c9/">https://akilar.top/posts/1f9c68c9/</a></h2><blockquote></blockquote><h2 id="获取更加详细的教程指导。"><a href="#获取更加详细的教程指导。" class="headerlink" title="获取更加详细的教程指导。"></a>获取更加详细的教程指导。</h2><h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/gitcalendar2.0.png#alt=example"></p><p>因为用之前的 gitcalendar 服务器失效了<del>（最近这个于 2021 年 1 月 18 日出现 502，我打算近期找办法修复替代）</del>，于是找 api 自己手写了一个。</p><p>旧项目用到了<a href="https://github.com/rschristian/github-contribution-calendar-api">GitHub Contribution Calendar API</a><br>新项目使用我自己写的<a href="https://github.com/Zfour/python_github_calendar_api">python_github_calendar_api</a><br>你可以 fork 后使用 vercel 部署，然后修改 app 的链接在后面加上’/api?’<br>避免公共 api 使用过多带来的问题（其实也没啥问题，至少现在没有）</p><p>通过 vuejs 进行编码。</p><p>资源包地址：<a href="https://github.com/Zfour/Butterfly-gitcalendar">https://github.com/Zfour/Butterfly-gitcalendar</a></p><p><a href="https://github.com/Zfour/Butterfly-gitcalendar">资源包下载</a></p><p>废话不多说了，开始教学。</p><blockquote><p>更新日志。</p><p>-2021/01/18- 因为 api 出现了稳定性波动,所以我用 Python 自己写了个 api。<br>因为这个 api 是实时获取的 github 的数据会稍许有点卡。但自己写的就不怕他挂就是了。<br>目前默认使用的我自己写的 api，如果想切换为以前的 api 可以打开注释。然后注释掉默认的 api 即可。</p><p>-2021/01/12- 3.0 更新，去 jquery 实现，改变了容器 id 为 gitcalendar，运用 fetch 实现了网络请求。</p><p>-2020/11/28-   新增 simplemode 配置，打开时使用 canvas 绘制 gitcalendar，关闭时使用 svg 绘制 gitcalendar。</p><p>-2020/11/02-   修复月份算法的逻辑错误问题以及月份出现不加载的问题。</p><p>-2020/11/01-   将部分全局声明变量转换为了 vue 实例变量，关闭了 console.log。</p><p>-2020/11/01-   修复了 PUG 中当最新月份为 11 月时，标签显示不完全的问题。</p><p>-2020/11/01-   修复了一周前时间不显示的 bug，请更换 js 文件。</p><p>-2020/10/31-   修复了 PUG 中信息来源无法动态切换的 bug,请更换 pug。</p></blockquote><hr><h2 id="步骤-1：修改-pug-代码"><a href="#步骤-1：修改-pug-代码" class="headerlink" title="步骤 1：修改 pug 代码"></a>步骤 1：修改 pug 代码</h2><blockquote><p>如果你配置过 1.0 版本请先将 inject 中的引入删除。</p></blockquote><h3 id="下载资源包"><a href="#下载资源包" class="headerlink" title="下载资源包"></a>下载资源包</h3><p><a href="https://github.com/Zfour/Butterfly-gitcalendar">资源包下载</a></p><h3 id="增加、替换代码"><a href="#增加、替换代码" class="headerlink" title="增加、替换代码"></a>增加、替换代码</h3><p>前往”根目录\themes\butterfly\layout”文件夹</p><p>将资源包中的”gitcalendar.pug”复制到文件夹中。</p><p>将”index.pug”复制并重命名为”index-re.pug”作为备份。</p><p>将资源包 pug 文件夹的 Original 中的”index.pug”覆盖进行替换，如果你使用磁贴请使用 Magnet Plus 文件夹的”index.pug”。</p><p>或者打开”index.pug”按照以下代码进行修改。修改的起始点为”#recent-posts.recent-posts”。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">extends includes&#x2F;layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug</span><br><span class="line">  #recent-posts.recent-posts</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;width:100%&#39;)</span><br><span class="line">       include gitcalendar.pug</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;height:0px;clear:both;margin-top: 0px;&#39;)</span><br><span class="line">    +postUI</span><br><span class="line">    include includes&#x2F;pagination.pug</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-2：添加引入-js、css-代码"><a href="#步骤-2：添加引入-js、css-代码" class="headerlink" title="步骤 2：添加引入 js、css 代码"></a>步骤 2：添加引入 js、css 代码</h2><h3 id="放置资源包"><a href="#放置资源包" class="headerlink" title="放置资源包"></a>放置资源包</h3><p>将下载包中的 gitcalendar 文件夹放入根目录的”source”文件夹下。</p><h3 id="引入-js-和-css"><a href="#引入-js-和-css" class="headerlink" title="引入 js 和 css"></a>引入 js 和 css</h3><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><p>若已有 vue 引入，请确保 vue 的版本为 2.6 以上。</p><blockquote><p>如果你使用 aplayer 出现不能正常加载。<br>多半是 aplayer 在渲染时给 js 中添加了一些奇怪的东西。<br>方案一：<br>将下载包中的 gitcalendar 文件夹放入放入主题的 source 文件夹。<br>方案二：<br>请在 github 上单独建一个仓库，把 gitcalendar.css 和 gitcalendar.js 存入其中。<br>使用 release 功能发布一个版本。<br>用 cdn 的方式进行引入。引入的链接按照如下格式修改。<br><a href="https://cdn.jsdelivr.net/gh/%E7%94%A8%E6%88%B7%E5%90%8D/%E6%96%B0%E4%BB%93%E5%BA%93%E5%90%8D@%E7%89%88%E6%9C%AC%E5%8F%B7/gitcalendar.css">https://cdn.jsdelivr.net/gh/用户名/新仓库名@版本号/gitcalendar.css</a><br><a href="https://cdn.jsdelivr.net/gh/%E7%94%A8%E6%88%B7%E5%90%8D/%E6%96%B0%E4%BB%93%E5%BA%93%E5%90%8D@%E7%89%88%E6%9C%AC%E5%8F%B7/gitcalendar.js">https://cdn.jsdelivr.net/gh/用户名/新仓库名@版本号/gitcalendar.js</a><br>具体方法参考<br><a href="https://jingyan.baidu.com/article/5bbb5a1b4fd62652eaa17958.html">https://jingyan.baidu.com/article/5bbb5a1b4fd62652eaa17958.html</a></p></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/gitcalendar/css/gitcalendar.css&quot;/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/npm/vue@2.6.11&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/gitcalendar/js/gitcalendar.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="步骤-3：填写自定义属性的-js-配置"><a href="#步骤-3：填写自定义属性的-js-配置" class="headerlink" title="步骤 3：填写自定义属性的 js 配置"></a>步骤 3：填写自定义属性的 js 配置</h2><p>本日历通过 gitcalendar.js 的配置项实现以下自定义属性。</p><h3 id="配置数据源"><a href="#配置数据源" class="headerlink" title="配置数据源"></a>配置数据源</h3><p>因为 api 出现了稳定性波动，所以我用 Python 自己写了个 api。因为这个 api 是实时获取的 github 的数据会稍许有点卡。<br>但自己写的就不怕他挂就是了。<br>目前默认使用的我自己写的 api，如果想切换为以前的 api 可以打开注释。<br>然后注释掉默认的 api 即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> githubapiurl =</span><br><span class="line">  <span class="string">&quot;https://python-github-calendar-api.vercel.app/api?&quot;</span> + gitcalendar.user;</span><br><span class="line"><span class="comment">//let githubapiurl = &quot;https://githubapi.ryanchristian.dev/user/&quot; + gitcalendar.user;</span></span><br><span class="line"><span class="comment">//旧的api策略</span></span><br></pre></td></tr></table></figure><h3 id="配置用户信息"><a href="#配置用户信息" class="headerlink" title="配置用户信息"></a>配置用户信息</h3><p>填写 github 用户名，配置用户信息。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">        simplemode: <span class="literal">true</span>, <span class="comment">//打开时使用canvas绘制gitcalendar，关闭时使用svg绘制gitcalendar</span></span><br><span class="line">                          <span class="comment">//canvas：dom数少，但图像会发生模糊，自适应一般  svg：dom数多，图像清晰，自适应更佳</span></span><br><span class="line">        user:<span class="string">&#x27;Zfour&#x27;</span>,     <span class="comment">//用户名称</span></span><br><span class="line">        fixed:<span class="string">&#x27;fixed&#x27;</span>,</span><br><span class="line">        px:<span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">        x:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">           y:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">           span1:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">           span2:<span class="string">&#x27;&#x27;</span>,</span><br></pre></td></tr></table></figure><h3 id="配置颜色主题"><a href="#配置颜色主题" class="headerlink" title="配置颜色主题"></a>配置颜色主题</h3><p>修改颜色配置。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">color: [</span><br><span class="line">  <span class="comment">//这里是颜色配置，当前为蓝色，若需更换请对应数组内容进行替换</span></span><br><span class="line">  <span class="string">&quot;#ebedf0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#f1f8ff&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#dbedff&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#c8e1ff&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#79b8ff&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#2188ff&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#0366d6&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#005cc5&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#044289&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#032f62&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#05264c&quot;</span>,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>此时，”hexo g &amp;&amp; hexo s”可发现已加载。</p><p>若有问题请与我邮件联系<a href="mailto:&#x34;&#57;&#57;&#x39;&#x38;&#52;&#x35;&#x33;&#x32;&#64;&#x71;&#113;&#46;&#99;&#x6f;&#109;">&#x34;&#57;&#57;&#x39;&#x38;&#52;&#x35;&#x33;&#x32;&#64;&#x71;&#113;&#46;&#99;&#x6f;&#109;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：hexo×语雀 实现云端富文本写作</title>
      <link href="2020/12/16/2020-12-16/"/>
      <url>2020/12/16/2020-12-16/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本文章通过语雀编写<br>教程参考自 <a href="https://www.zhwei.cn/hexo-github-actions-yuque/">https://www.zhwei.cn/hexo-github-actions-yuque/</a><br>作者：hongwei</p></blockquote><h2 id="什么是语雀？"><a href="#什么是语雀？" class="headerlink" title="什么是语雀？"></a>什么是语雀？</h2><blockquote><p>「语雀」是一个「专业的云端知识库」，孵化自 <a href="https://www.antfin.com/?deer_tracert_token=cc478126-c93a-459b-a448-dd41de67f2d4">蚂蚁金服</a> ，是 <a href="https://www.yuque.com/yubo/explore/tcaywl?deer_tracert_token=cc478126-c93a-459b-a448-dd41de67f2d4">体验科技</a> 理念下的一款创新产品，已是 10 万阿里员工进行文档编写、知识沉淀的标配。<br>语雀诞生伊始，只是希望能给工程师提供一个好用的工具用来写技术文档，达成「用 Markdown 写文档」这个小目标。但在产品研发的过程中，我们发现其实身边的每个人、每个团队、每个组织都有很多知识，但一直以来缺少一个好用的工具让这些知识不只是留在每个人的大脑或电脑里，还可以被记录、分享和交流。<br>所以，带着这颗初心，我们觉得语雀不应止步于服务工程师，应该致力于为每个想表达所思所想的人提供一款顺手的工具，让知识能得以记录和传播，让人们可以在「语雀」中平等快乐地创作和交流知识，让再小的个体也可以拥有自己的知识库。</p></blockquote><h2 id="使用-hexo×-语雀的初衷？"><a href="#使用-hexo×-语雀的初衷？" class="headerlink" title="使用 hexo× 语雀的初衷？"></a>使用 hexo× 语雀的初衷？</h2><p>在写教程之前先来几句废话。<br>笔者在使用 hexo 撰写博客时很不习惯使用 md 格式书写文档，同时 md 格式文档的排版需要进行 hexo s 才能进行预览。对于写作而言，大量的时间花费在样式调试和终端命令上，无法获取最纯粹的写作体验。<br>于是笔者就在思考如何能够像 wordpress 一样，优雅得实现博客的撰写，同时又完全摆脱进行终端上的操作，完全实现云上写作。就在这时，<a href="https://blog.zhheo.com/">HEO 大佬</a> 提醒我说，为什么不试试阿里爸爸的语雀呢。于是，抱着试一试的心态，我和<a href="https://blog.ccknbc.cc/">CC 康纳百川同学</a> 进行了语雀云写作的尝试。<br>通过本教程，你可以将你的文章储存在云端，实现云端写作（不限于 MAC 系统、Windows 系统、手机微信小程序），摆脱本地机器的限制。除此之外，优秀简约的富文本编辑器能极大提升你的写作效率，使你能更专注于文本的写作。通过结合 github action（github 自动部署）、serverless 云函数（腾讯云 API，用于部署事件的触发）、语雀（文档的发布）、Hexo（博客系统）自动实现文章发布到博客展现的流程。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608140651407-830f0a5d-c458-4a02-a12a-dace0324cf07.jpeg#align=left&display=inline&height=171&margin=%5Bobject%20Object%5D&name=yuque_diagram.jpg&originHeight=342&originWidth=1284&size=75855&status=done&style=none&width=642" alt="yuque_diagram.jpg"></p><h2 id="使用前的准备？"><a href="#使用前的准备？" class="headerlink" title="使用前的准备？"></a>使用前的准备？</h2><p>为了更好、更方便的完成 hexo× 语雀的部署。在开始流程搭建的操作前，你需要完成以下步骤。</p><h3 id="账号的申请与授权"><a href="#账号的申请与授权" class="headerlink" title="账号的申请与授权"></a>账号的申请与授权</h3><ul><li>语雀账号<a href="https://www.yuque.com/login?platform=wechat&inviteToken=f6e959505e77f114312173f53ec62f7b2c4ff248e08ed045603ad16d2ecf62ec">申请</a></li><li>serverless 方案一（不推荐）：腾讯云账号<a href="https://console.cloud.tencent.com/scf/">登录授权</a>（<a href="https://console.cloud.tencent.com/scf/">https://console.cloud.tencent.com/scf/</a>），云函数授权后再进行<a href="https://console.cloud.tencent.com/apigateway/index">API 授权</a>（<a href="https://console.cloud.tencent.com/apigateway/index">https://console.cloud.tencent.com/apigateway/index</a>）这样才能正常使用云函数功能</li><li>serverless 方案二（较为推荐）：百度云<a href="https://console.bce.baidu.com/cfc/#/cfc/functions">授权</a>（<a href="https://console.bce.baidu.com/cfc/#/cfc/functions">https://console.bce.baidu.com/cfc/#/cfc/functions</a>），<a href="https://cloud.baidu.com/doc/CFC/s/pjwvz3zg8">开通方法指南</a></li><li>2021 年 1 月 21 日新增方案三（推荐）：使用 vercel 构建的 api。</li><li>获取 github 私钥，前往<a href="https://github.com/settings/tokens">github 的 token 设置</a>（<a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>），点击生成密钥按钮，填写密钥名称，勾选 repo 选项。将生成的密钥保存在桌面新建的 txt 文件里备用。</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608129629797-d1ff130c-137e-4108-b346-b27107848635.png#align=left&display=inline&height=562&margin=%5Bobject%20Object%5D&name=image.png&originHeight=562&originWidth=1264&size=90217&status=done&style=none&width=1264" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608129894558-8142d05c-74fa-4a3e-ba73-bdd37533b797.png#align=left&display=inline&height=437&margin=%5Bobject%20Object%5D&name=image.png&originHeight=437&originWidth=1078&size=63317&status=done&style=none&width=1078" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608129954376-28b59063-79f5-40a4-96a1-0ed4f10ce05b.png#align=left&display=inline&height=229&margin=%5Bobject%20Object%5D&name=image.png&originHeight=229&originWidth=1006&size=32842&status=done&style=none&width=1006" alt="image.png"></p><h3 id="仓库的准备"><a href="#仓库的准备" class="headerlink" title="仓库的准备"></a>仓库的准备</h3><p>如果你已经配置了 github action 你可以忽略这一步。<br>为了实现 hexo 的自动部署，需要将本地的源码文件交与 github 托管，你可以创建私有仓库（建议）也可以创建共有仓库。<br>首先在 github 上创建私有仓库。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608130623269-9a051111-3d85-4694-9c45-e90558fbff18.png#align=left&display=inline&height=401&margin=%5Bobject%20Object%5D&name=image.png&originHeight=401&originWidth=894&size=39478&status=done&style=none&width=894" alt="image.png"></p><hr><h2 id="步骤一：hexo-博客文章的迁移"><a href="#步骤一：hexo-博客文章的迁移" class="headerlink" title="步骤一：hexo 博客文章的迁移"></a>步骤一：hexo 博客文章的迁移</h2><h3 id="仓库的创建"><a href="#仓库的创建" class="headerlink" title="仓库的创建"></a>仓库的创建</h3><p>登陆<a href="https://www.yuque.com/">语雀</a>，点击知识库 👉 新建知识库。将知识库的可见范围改为“互联网可见”。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608131882653-69d7b88a-caa9-45ff-a7ca-419647791d22.png#align=left&display=inline&height=789&margin=%5Bobject%20Object%5D&name=image.png&originHeight=789&originWidth=1279&size=102336&status=done&style=none&width=1279" alt="image.png"></p><h3 id="文章的导入"><a href="#文章的导入" class="headerlink" title="文章的导入"></a>文章的导入</h3><p>点击知识库的管理按钮，选择新建下的导入，将博客中_post 文章进行批量导入。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608132157680-32f96698-74a3-45b3-81e6-215ba0115fab.png#align=left&display=inline&height=789&margin=%5Bobject%20Object%5D&name=image.png&originHeight=789&originWidth=1279&size=155092&status=done&style=none&width=1279" alt="image.png"></p><h3 id="模板的创建"><a href="#模板的创建" class="headerlink" title="模板的创建"></a>模板的创建</h3><p>为了方便以后文档的撰写，可以新建模板。注意图片链接需要加上’’防止被渲染成链接。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608132265373-09c816b7-bbf8-4a6f-9ea0-012060269c8b.png#align=left&display=inline&height=789&margin=%5Bobject%20Object%5D&name=image.png&originHeight=789&originWidth=1279&size=127438&status=done&style=none&width=1279" alt="image.png"></p><p>如果你使用了 abbrlink，请手动填写 abbrlink。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line">title: 教程：hexo×语雀 实现云端富文本写作</span><br><span class="line">author: Zhu Fue</span><br><span class="line">tags:</span><br><span class="line">• 教程</span><br><span class="line">• Butterfly主题</span><br><span class="line">• DIY</span><br><span class="line">categories:</span><br><span class="line">• 教程</span><br><span class="line">cover: &#x27;zfe.space/images/letter/y.png&#x27;</span><br><span class="line">top<span class="emphasis">_img: &#x27;zfe.space/images/letter/y.png&#x27;</span></span><br><span class="line"><span class="emphasis">abbrlink: 554e</span></span><br><span class="line"><span class="emphasis">date: 2020-12-16 11:42:00</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">---</span></span><br></pre></td></tr></table></figure><hr><h2 id="步骤二：安装语雀插件进行本地调试"><a href="#步骤二：安装语雀插件进行本地调试" class="headerlink" title="步骤二：安装语雀插件进行本地调试"></a>步骤二：安装语雀插件进行本地调试</h2><p>为了确保在云端能够正常生成博客，需要首先在本地进行调试。</p><h3 id="语雀插件的安装"><a href="#语雀插件的安装" class="headerlink" title="语雀插件的安装"></a>语雀插件的安装</h3><p>首先在根目录打开终端安装 yuque-hexo。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i <span class="literal">-g</span> yuque<span class="literal">-hexo</span></span><br></pre></td></tr></table></figure><h3 id="修改-package-json"><a href="#修改-package-json" class="headerlink" title="修改 package.json"></a>修改 package.json</h3><p>在第一个对象代码块后增加”yuqueConfig”代码块。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;hexo-site&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;private&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;hexo generate&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;clean&quot;</span>: <span class="string">&quot;hexo clean&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;deploy&quot;</span>: <span class="string">&quot;hexo deploy&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;server&quot;</span>: <span class="string">&quot;hexo server&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line">  <span class="attr">&quot;yuqueConfig&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;postPath&quot;</span>: <span class="string">&quot;source/_posts&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;cachePath&quot;</span>: <span class="string">&quot;yuque.json&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;mdNameFormat&quot;</span>: <span class="string">&quot;slug&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;adapter&quot;</span>: <span class="string">&quot;markdown&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;concurrency&quot;</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span>: <span class="string">&quot;https://www.yuque.com/api/v2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;login&quot;</span>: <span class="string">&quot;bingkanuo&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;repo&quot;</span>: <span class="string">&quot;sffipz&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;token&quot;</span>: <span class="string">&quot;***********************&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;onlyPublished&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;onlyPublic&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><p>其中需要修改”login”、”repo”、”token”字段。</p><ul><li>点击进入博客的知识库，在浏览器地址栏中将用户名和仓库名复制分别粘贴为”login”、”repo”的字段。</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608133592273-04a6a15f-6c75-44d0-ab1c-7ca737c42d07.png#align=left&display=inline&height=251&margin=%5Bobject%20Object%5D&name=image.png&originHeight=251&originWidth=598&size=23393&status=done&style=none&width=598" alt="image.png"></p><ul><li>token 是在右上角头像 -&gt; 账户设置 -&gt; Token 添加的，权限的话只给读取就可以。复制粘贴获取的”token”字段。</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608133711645-569d4bb4-3de1-450b-80b6-5cf1ca7060b0.png#align=left&display=inline&height=789&margin=%5Bobject%20Object%5D&name=image.png&originHeight=789&originWidth=1279&size=176577&status=done&style=none&width=1279" alt="image.png"></p><p>修改  “scripts”增加”sync”: “yuque-hexo sync”和  “clean:yuque”: “yuque-hexo clean”。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;hexo-site&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;private&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;hexo generate&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;clean&quot;</span>: <span class="string">&quot;hexo clean&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;deploy&quot;</span>: <span class="string">&quot;hexo deploy&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;server&quot;</span>: <span class="string">&quot;hexo server&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;sync&quot;</span>: <span class="string">&quot;yuque-hexo sync&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;clean:yuque&quot;</span>: <span class="string">&quot;yuque-hexo clean&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;yuqueConfig&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;postPath&quot;</span>: <span class="string">&quot;source/_posts&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;cachePath&quot;</span>: <span class="string">&quot;yuque.json&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;mdNameFormat&quot;</span>: <span class="string">&quot;slug&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;adapter&quot;</span>: <span class="string">&quot;markdown&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;concurrency&quot;</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span>: <span class="string">&quot;https://www.yuque.com/api/v2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;login&quot;</span>: <span class="string">&quot;bingkanuo&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;repo&quot;</span>: <span class="string">&quot;sffipz&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;token&quot;</span>: <span class="string">&quot;***********************&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;onlyPublished&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;onlyPublic&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;hexo&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;5.2.0&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;yuque-hexo&quot;</span>: <span class="string">&quot;^1.6.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp&quot;</span>: <span class="string">&quot;^4.0.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-base64&quot;</span>: <span class="string">&quot;^0.1.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-htmlmin&quot;</span>: <span class="string">&quot;^5.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-tobase64&quot;</span>: <span class="string">&quot;^1.1.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo&quot;</span>: <span class="string">&quot;^5.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-abbrlink&quot;</span>: <span class="string">&quot;^2.2.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-deployer-git&quot;</span>: <span class="string">&quot;^2.1.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-generator-archive&quot;</span>: <span class="string">&quot;^1.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-generator-baidu-sitemap&quot;</span>: <span class="string">&quot;^0.1.9&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-generator-category&quot;</span>: <span class="string">&quot;^1.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-generator-feed&quot;</span>: <span class="string">&quot;^3.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-generator-index-pin-top&quot;</span>: <span class="string">&quot;^0.2.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-generator-sitemap&quot;</span>: <span class="string">&quot;^2.1.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-generator-tag&quot;</span>: <span class="string">&quot;^1.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-helper-live2d&quot;</span>: <span class="string">&quot;^3.1.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-offline-popup&quot;</span>: <span class="string">&quot;^1.0.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-renderer-ejs&quot;</span>: <span class="string">&quot;^1.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-renderer-marked&quot;</span>: <span class="string">&quot;^3.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-renderer-pug&quot;</span>: <span class="string">&quot;^1.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-renderer-stylus&quot;</span>: <span class="string">&quot;^1.1.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-server&quot;</span>: <span class="string">&quot;^1.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-tag-aplayer&quot;</span>: <span class="string">&quot;^3.0.4&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hexo-wordcount&quot;</span>: <span class="string">&quot;^6.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;live2d-widget-model-unitychan&quot;</span>: <span class="string">&quot;^1.0.5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;workbox-build&quot;</span>: <span class="string">&quot;^5.1.4&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;@babel/core&quot;</span>: <span class="string">&quot;^7.12.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@babel/preset-env&quot;</span>: <span class="string">&quot;^7.12.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;del&quot;</span>: <span class="string">&quot;^6.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp&quot;</span>: <span class="string">&quot;^4.0.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-babel&quot;</span>: <span class="string">&quot;^8.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-clean-css&quot;</span>: <span class="string">&quot;^4.3.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-cli&quot;</span>: <span class="string">&quot;^2.3.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-html-css-js-base64&quot;</span>: <span class="string">&quot;^0.0.4&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-htmlclean&quot;</span>: <span class="string">&quot;^2.7.22&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-htmlmin&quot;</span>: <span class="string">&quot;^5.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-imagemin&quot;</span>: <span class="string">&quot;^7.1.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-imgs-base64&quot;</span>: <span class="string">&quot;^1.0.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-minify-inline-json&quot;</span>: <span class="string">&quot;^1.3.4&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-uglify&quot;</span>: <span class="string">&quot;^3.0.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gulp-uglify-es&quot;</span>: <span class="string">&quot;^2.0.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="进行本地调试"><a href="#进行本地调试" class="headerlink" title="进行本地调试"></a>进行本地调试</h3><p>添加完成后保存，在执行命令前，请先备份自己的_post 文件夹，因为语雀的下载操作会覆盖原有的_post 文件夹。<br>在终端中输入‘yuque-hexo sync’就会把语雀的文章给下载下来。<br>然后通过‘hexo g&amp;hexo s’进行调试。<br>ps：输入‘yuque-hexo clean’就会清除_post 下的所有文章。<br>如果存在外挂标签，请确保外挂标签格式的书写规范，否则容易报错。</p><hr><h2 id="步骤三：配置-github-action"><a href="#步骤三：配置-github-action" class="headerlink" title="步骤三：配置 github action"></a>步骤三：配置 github action</h2><h3 id="删除主题版本的控制文件"><a href="#删除主题版本的控制文件" class="headerlink" title="删除主题版本的控制文件"></a>删除主题版本的控制文件</h3><p>因为在仓库里面再放一个仓库是没法把里面那个仓库 push 到 github 的，只会传一个空文件夹，会导致后期博客成了空白页面，需要把 git clone 的 hexo 主题里的.git 文件夹给删掉。</p><blockquote><p>这里只列出了最简单的方法，另外你也可以尝 fork 创建自己主题的方法，这里暂时不予以介绍。</p></blockquote><h3 id="修改-hexo-主题文件中的-meta"><a href="#修改-hexo-主题文件中的-meta" class="headerlink" title="*修改 hexo 主题文件中的 meta"></a>*修改 hexo 主题文件中的 meta</h3><p>以 butterfly 主题为例，<br>打开主题文件的/themes/butterfly/layout/includes/head.pug。<br>在 meta(name=”theme-color” content=themeColor)后方添加 meta(name=”referrer” content=”no-referrer”)。<br>该步骤是确保语雀中的图片可以正常加载。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">meta(name=&quot;theme-color&quot;</span> <span class="string">content=themeColor)</span></span><br><span class="line"><span class="string">meta(name=&quot;referrer&quot;</span> <span class="string">content=&quot;no-referrer&quot;)</span></span><br></pre></td></tr></table></figure><h3 id="修改-hexo-的-config-yml"><a href="#修改-hexo-的-config-yml" class="headerlink" title="修改 hexo 的_config,yml"></a>修改 hexo 的_config,yml</h3><p>前往博客的根目录，修改 hexo 的_config,yml 中关于 develop 的配置。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository:</span><br><span class="line">   github: https://用户名:保存在txt中的密钥@github.com/用户名/仓库名.git</span><br><span class="line">  branch: master</span><br><span class="line"></span><br><span class="line">  <span class="comment">#例子：https://Zfour:*******@github.com/Zfour/zfe-2.0.git</span></span><br></pre></td></tr></table></figure><blockquote><p>这里只列出一种简单的方案，其他的有时间再介绍。</p></blockquote><h3 id="创建-github-action-脚本"><a href="#创建-github-action-脚本" class="headerlink" title="创建 github action 脚本"></a>创建 github action 脚本</h3><p>在博客根目录下新建.github 文件夹（点不要漏掉了），在该文件夹下新建 workflows 文件夹。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608135890427-0dc37d9e-8eed-4581-8570-e806b5e4fa1a.png#align=left&display=inline&height=65&margin=%5Bobject%20Object%5D&name=image.png&originHeight=65&originWidth=349&size=4021&status=done&style=none&width=349" alt="image.png"></p><p>在 workflows 文件夹下新建 autodeploy.yml。并填入以下代码。<br>将<strong>【更新 语雀拉取缓存及文章】</strong>与<strong>【部署】</strong> user.name 和 user.email 后面的“”信息修改为自己的信息，注意对齐。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">自动部署</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当有改动推送和语雀发布时，启动Action</span></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>, <span class="string">repository_dispatch</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">检查分支</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br><span class="line">      <span class="comment">#但私有仓库貌似还是master并没有变</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Node</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&quot;12.x&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">export</span> <span class="string">TZ=&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span></span><br><span class="line">          <span class="comment">#npm install gulp-cli -g</span></span><br><span class="line">          <span class="comment">#如果你有使用gulp的话，打开上面这一行</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">install</span> <span class="string">yuque-hexo</span> <span class="string">-g</span></span><br><span class="line">          <span class="string">yuque-hexo</span> <span class="string">clean</span></span><br><span class="line">          <span class="string">yuque-hexo</span> <span class="string">sync</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">更新</span> <span class="string">语雀拉取缓存及文章</span> <span class="comment">#更新yuque 拉取的文章到GitHub仓库</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">`date</span> <span class="string">+&quot;%Y-%m-%d</span> <span class="string">%H:%M:%S&quot;`</span> <span class="string">begin</span> <span class="string">&gt;</span> <span class="string">time.log</span></span><br><span class="line">          <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">&quot;499984532@qq.com&quot;</span></span><br><span class="line">          <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">&quot;Zfour&quot;</span></span><br><span class="line">          <span class="string">git</span> <span class="string">add</span> <span class="string">.</span></span><br><span class="line">          <span class="string">git</span> <span class="string">commit</span> <span class="string">-m</span> <span class="string">&quot;Refresh yuque json&quot;</span> <span class="string">-a</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">推送</span> <span class="string">语雀拉取缓存及文章</span> <span class="comment">#推送修改后的yuque json</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">ad-m/github-push-action@master</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">github_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITHUB_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">缓存</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v1</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">cache</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">$&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#x27;**/package-lock.json&#x27;)&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装依赖</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">install</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生成静态文件</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">g</span></span><br><span class="line">          <span class="comment">#gulp</span></span><br><span class="line">          <span class="comment">#如果你有使用gulp的话，打开上面这一行</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">&quot;Zfour&quot;</span></span><br><span class="line">          <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">&quot;499984532@qq.com&quot;</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure><h3 id="上传博客源码"><a href="#上传博客源码" class="headerlink" title="上传博客源码"></a>上传博客源码</h3><p>打开终端输入以下命令，上传你的博客源码到私有源码仓库。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit <span class="literal">-m</span> <span class="string">&quot;first commit&quot;</span></span><br><span class="line">git remote add origin https://github.com/你的用户名/你的私有博客源码仓库名.git</span><br><span class="line">git push <span class="literal">-u</span> origin master</span><br></pre></td></tr></table></figure><h3 id="进行云端调试"><a href="#进行云端调试" class="headerlink" title="进行云端调试"></a>进行云端调试</h3><p>上传后你会发现 github action 生效。等待几分钟后，如果打勾，就说明部署成功。如果未打勾请检查出错的步骤。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608135730791-4f825b33-e38e-489c-a1f5-beb48d6f12b8.png#align=left&display=inline&height=415&margin=%5Bobject%20Object%5D&name=image.png&originHeight=415&originWidth=1247&size=63143&status=done&style=none&width=1247" alt="image.png"></p><hr><blockquote><p>time.log 文件最近似乎不会自动生成，所有如果 action 不成功，请手动在仓库里新建 time.log</p></blockquote><h2 id="步骤四：配置云函数"><a href="#步骤四：配置云函数" class="headerlink" title="步骤四：配置云函数"></a>步骤四：配置云函数</h2><h3 id="vercel-方案（推荐）"><a href="#vercel-方案（推荐）" class="headerlink" title="vercel 方案（推荐）"></a>vercel 方案（推荐）</h3><p>为了方便大家调用，我用 python 写了一个 api。<br>比较蛋疼的是，在仓库里填写 github 的私钥 github 会自动删除私钥。所以我试了好久都没成功。<br>因此，我直接将 api 设置成了参数传递型的，供大家调用。<br>api 地址：<a href="https://yuque-vercel-webhook-api.vercel.app/api">https://yuque-vercel-webhook-api.vercel.app/api?</a>。<br>当然你也可以<a href="https://github.com/Zfour/yuque_vercel_webhook_api">fork 项目</a>在 vercel 中自行搭建，将‘<a href="https://yuque-vercel-webhook-api.vercel.app/api">https://yuque-vercel-webhook-api.vercel.app</a>’更换为你的 app 应用链接。<br>你需要传递的参数有 token，user，source。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;yuque-vercel-webhook-api.vercel.app&#x2F;api?</span><br><span class="line">token&#x3D;&#39;&#123;填写你的github私钥&#125;&#39;&amp;</span><br><span class="line">user&#x3D;&#39;&#123;填写你的github用户名&#125;&#39;&amp;</span><br><span class="line">source&#x3D;&#39;&#123;填写你的github仓库地址&#125;&#39;</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">https:&#x2F;&#x2F;yuque-vercel-webhook-api.vercel.app&#x2F;api?token&#x3D;&#39;8888888888&#39;&amp;user&#x3D;&#39;Zfour&#39;&amp;source&#x3D;&#39;my-blog-source-file&#39;</span><br><span class="line">将这个URL路径作为触发链接，在语雀中进行配置。</span><br></pre></td></tr></table></figure><p>修改触发链接里的参数项，访问这个链接，如果出现‘This’s OK!’说明配置成功。<br>复制 URL 路径作为触发链接，在语雀中进行配置。</p><h3 id="百度云方案（推荐）"><a href="#百度云方案（推荐）" class="headerlink" title="百度云方案（推荐）"></a>百度云方案（推荐）</h3><h4 id="新建一个云函数"><a href="#新建一个云函数" class="headerlink" title="新建一个云函数"></a>新建一个云函数</h4><p>登陆后，点击创建函数。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608209744874-c30f39ed-d043-4f9e-8860-01b1c613b533.png#align=left&display=inline&height=695&margin=%5Bobject%20Object%5D&name=image.png&originHeight=695&originWidth=1267&size=63797&status=done&style=none&width=1267" alt="image.png"></p><p>选择空白函数后，超时设置 10s，运行时选择 python2.7。点击下一步。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608209894902-f73d7508-d3d2-47bb-9ccf-37343476e9f6.png#align=left&display=inline&height=565&margin=%5Bobject%20Object%5D&name=image.png&originHeight=565&originWidth=1008&size=39647&status=done&style=none&width=1008" alt="image.png"></p><p>选择 HTTP 触发器，URL 路径填’/‘，HTTP 方法填写 POST 和 GET，然后点击提交。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608209973453-ec970c0f-222a-44c8-95dd-f261df04d197.png#align=left&display=inline&height=542&margin=%5Bobject%20Object%5D&name=image.png&originHeight=542&originWidth=1159&size=59000&status=done&style=none&width=1159" alt="image.png"></p><p>点击函数，选择函数列表，将以下代码粘贴并保存，将用户名，仓库地址改为自己的信息。将保存的私钥进行替换****，token 字段需要保留。测试代码，当返回”This’s OK!”  且 github action 开始运行则说明成功。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608210088380-99147f96-6d56-4880-a40d-70aa541838df.png#align=left&display=inline&height=622&margin=%5Bobject%20Object%5D&name=image.png&originHeight=622&originWidth=1170&size=102039&status=done&style=none&width=1170" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608136819166-2fc0b067-6503-4502-9b4a-3b7dc6df28cb.png#align=left&display=inline&height=443&margin=%5Bobject%20Object%5D&name=image.png&originHeight=443&originWidth=891&size=73191&status=done&style=none&width=891" alt="image.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handler</span>(<span class="params">event, context</span>):</span></span><br><span class="line">    r = requests.post(<span class="string">&quot;https://api.github.com/repos/Zfour/my-blog-source-file/dispatches&quot;</span>,</span><br><span class="line">    json = &#123;<span class="string">&quot;event_type&quot;</span>: <span class="string">&quot;run-it&quot;</span>&#125;,</span><br><span class="line">    headers = &#123;<span class="string">&quot;User-Agent&quot;</span>:<span class="string">&#x27;curl/7.52.1&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/vnd.github.everest-preview+json&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;token *******************&#x27;</span>&#125;)</span><br><span class="line">    <span class="keyword">if</span> r.status_code == <span class="number">204</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;This&#x27;s OK!&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> r.status_code</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>复制 URL 路径作为触发链接，在语雀中进行配置。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608210289194-2911f512-33e4-4e58-951e-71bfc98c10f2.png#align=left&display=inline&height=607&margin=%5Bobject%20Object%5D&name=image.png&originHeight=607&originWidth=1176&size=60789&status=done&style=none&width=1176" alt="image.png"></p><h3 id="腾讯云方案（不推荐，有使用期限）"><a href="#腾讯云方案（不推荐，有使用期限）" class="headerlink" title="腾讯云方案（不推荐，有使用期限）"></a>腾讯云方案（不推荐，有使用期限）</h3><h4 id="新建一个云函数-1"><a href="#新建一个云函数-1" class="headerlink" title="新建一个云函数"></a>新建一个云函数</h4><blockquote><p>腾讯云方案目前有 1 年的使用期限，目前在尝试阿里云方案和 vercel 方案。</p></blockquote><p>登陆后，点击新建按钮。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608136492669-e83dc779-c0bc-4473-9198-a908be446a95.png#align=left&display=inline&height=312&margin=%5Bobject%20Object%5D&name=image.png&originHeight=312&originWidth=756&size=28760&status=done&style=none&width=756" alt="image.png"></p><p>填写基本信息。选择运行环境为 python2.7,以空白方式创建。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608136539676-2c3dbc41-f63b-433e-a192-c9fecc95f120.png#align=left&display=inline&height=422&margin=%5Bobject%20Object%5D&name=image.png&originHeight=422&originWidth=661&size=29288&status=done&style=none&width=661" alt="image.png"></p><p>填写以下脚本。将用户名，仓库地址改为自己的信息。将保存的私钥进行替换****，token 字段需要保留。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608136819166-2fc0b067-6503-4502-9b4a-3b7dc6df28cb.png#align=left&display=inline&height=443&margin=%5Bobject%20Object%5D&name=image.png&originHeight=443&originWidth=891&size=73191&status=done&style=none&width=891" alt="image.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main_handler</span>(<span class="params">event, context</span>):</span></span><br><span class="line">    r = requests.post(<span class="string">&quot;https://api.github.com/repos/Zfour/my-blog-source-file/dispatches&quot;</span>,</span><br><span class="line">    json = &#123;<span class="string">&quot;event_type&quot;</span>: <span class="string">&quot;run-it&quot;</span>&#125;,</span><br><span class="line">    headers = &#123;<span class="string">&quot;User-Agent&quot;</span>:<span class="string">&#x27;curl/7.52.1&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/vnd.github.everest-preview+json&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;token *******************&#x27;</span>&#125;)</span><br><span class="line">    <span class="keyword">if</span> r.status_code == <span class="number">204</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;This&#x27;s OK!&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> r.status_code</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>点击保存并测试，如果返回”This’s OK!”  且 github action 开始运行则说明成功。</p><h4 id="新建一个触发条件"><a href="#新建一个触发条件" class="headerlink" title="新建一个触发条件"></a>新建一个触发条件</h4><p>点击触发管理，新建触发器。点击提交后复制访问路径。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608137244171-aa616289-9f33-4fba-a13f-47bfa2379f61.png#align=left&display=inline&height=400&margin=%5Bobject%20Object%5D&name=image.png&originHeight=400&originWidth=730&size=32431&status=done&style=none&width=730" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608137120274-f9338945-a8ac-498c-912a-67d1f2efbfbf.png#align=left&display=inline&height=601&margin=%5Bobject%20Object%5D&name=image.png&originHeight=601&originWidth=927&size=72449&status=done&style=none&width=927" alt="image.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608137286087-77efa6ef-bcad-488b-9bb0-3fa28da8b8fd.png#align=left&display=inline&height=486&margin=%5Bobject%20Object%5D&name=image.png&originHeight=486&originWidth=687&size=31801&status=done&style=none&width=687" alt="image.png"></p><hr><h2 id="步骤五：配置语雀的-webhook"><a href="#步骤五：配置语雀的-webhook" class="headerlink" title="步骤五：配置语雀的 webhook"></a>步骤五：配置语雀的 webhook</h2><h3 id="设定触发规则"><a href="#设定触发规则" class="headerlink" title="设定触发规则"></a>设定触发规则</h3><p>在知识库中选择设置。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608137446034-c58307fe-4aff-49c4-94b6-e10c68e163e1.png#align=left&display=inline&height=221&margin=%5Bobject%20Object%5D&name=image.png&originHeight=221&originWidth=300&size=11948&status=done&style=none&width=300" alt="image.png"></p><p>设定触发规则。粘贴在云函数处获取的访问路径（腾讯云）或 URL 链接（百度云）。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608137516162-582733c2-8201-40c9-9125-3b972bf7b218.png#align=left&display=inline&height=559&margin=%5Bobject%20Object%5D&name=image.png&originHeight=559&originWidth=1134&size=54956&status=done&style=none&width=1134" alt="image.png"></p><p>设置完毕后，你可以尝试发布一篇文章进行测试。如果 github action 执行则说明配置成功。<br>具体的样式测试请参考<a href="https://blog.ccknbc.cc/posts/special-test-article/">CC 的部落格</a></p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>如果你实在不知道该怎么配置。<br>小冰也提供代配置部署服务，服务费 10 元。<br>配置 gulp 的话 12 元。<br>需提供你的手机号，github 账号密码及博客源码。<br>请和我 qq 私聊。<br>其他问题请在评论区留言。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《赛博朋克2077》：小白萌新避坑指南</title>
      <link href="2020/12/13/2020-12-13/"/>
      <url>2020/12/13/2020-12-13/</url>
      
        <content type="html"><![CDATA[<h2 id="序"><a href="#序" class="headerlink" title=" 序"></a><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752475-5533bddb-1b1e-4cc7-80ff-b1e0b5087a40.jpeg#align=left&display=inline&height=935&margin=%5Bobject%20Object%5D&originHeight=935&originWidth=1920&size=0&status=done&style=none&width=2000"> 序</h2><p>这几天，《赛博朋克 2077》无疑成为了各大 SNS 热门话题，有不少萌新玩家想要领略一下夜之城的魅力。的确，波兰蠢驴用实力证明了自己，仅仅用一天时间就收回了成本，足以证明游戏的火爆程度。但是游戏带不动，玩法不适应等问题让不少玩家选择退款。因此，为了让萌新玩家不走弯路，同时给还未购买的玩家一定参考，笔者总结了以下几条注意事项。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752371-516316dc-2fdc-4296-8a0f-2f5050bc7622.jpeg#align=left&display=inline&height=480&margin=%5Bobject%20Object%5D&originHeight=480&originWidth=800&size=0&status=done&style=none&width=800"><br>似乎大家都在玩《赛博朋克 2077》</p><h2 id="担心带不动？"><a href="#担心带不动？" class="headerlink" title="担心带不动？"></a>担心带不动？</h2><p>俗话说得好，1 帧能玩、2 帧流畅、3 帧电竞。这种说法纯属是考验玩家智商。对于《赛博朋克 2077》这种打击感强的游戏而言，ppt 般的游戏表现只会让你抓狂。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752330-deaef35d-8234-4c45-9691-ad0b605f86db.jpeg#align=left&display=inline&height=547&margin=%5Bobject%20Object%5D&originHeight=547&originWidth=581&size=0&status=done&style=none&width=581"><br>网上的调侃图</p><p>在平台方面，推荐 pc 平台。因为这几天 xbox 和 ps4 平台都出现了对于游戏掉帧和模糊问题的反馈，相比 pc 端可能会相对好一点。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752390-a154afdf-df33-46fd-87c2-fbbe8a895459.jpeg#align=left&display=inline&height=884&margin=%5Bobject%20Object%5D&originHeight=884&originWidth=828&size=0&status=done&style=none&width=828"><br>不少玩家反映主机版游戏体验不佳</p><p>在显卡方面。理论上，拥有 RTX 显卡的玩家可以不必担心游戏带不动的问题。如果感觉卡顿（特别是笔记本），首先确保驱动更新到最新版本。然后只需要将游戏放入 SSD 固态硬盘，调低阴影特效、不开启光追，同时在游戏中将 DLSS 开启质量并锁定 60 帧，就能保障游戏以较高的画质和帧率下运行。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608324752456-fcb86aa8-0fe8-4c92-b248-2d377a50beea.png#align=left&display=inline&height=608&margin=%5Bobject%20Object%5D&originHeight=608&originWidth=1080&size=0&status=done&style=none&width=1080"><br>开启 DLSS 显著性能提升帧数</p><p>而对于 GTX 系列的显卡而言就比较麻烦了，仅仅凭借官方一张最低配置图，对于很多小伙伴来说很难判断能不能玩。这里笔者给出两种办法来判断自己配置是否能玩。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752369-982882fa-5c5d-45ea-bcf6-433195dfce08.jpeg#align=left&display=inline&height=347&margin=%5Bobject%20Object%5D&originHeight=347&originWidth=762&size=0&status=done&style=none&width=762"><br>官方给出的最低配置和推荐配置</p><p>首先，《赛博朋克 2077》这款游戏主要还是看显卡。因此，最直接方式就是通过将“赛博朋克 2077”和显卡型号作为关键词在 bilibili、贴吧、微博等平台搜索一下，就会发现相关优化方法。根据这些优化方法进行调整，可以达到 30 帧以上的游玩体验。但分辨率降低，模糊等因素会极大影响游戏体验，需要结合自身情况根据这些优化方法展示效果进行判断和取舍。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608324752492-37fec621-07ac-432d-a30a-6e81eca7b1cd.png#align=left&display=inline&height=1792&margin=%5Bobject%20Object%5D&originHeight=1792&originWidth=828&size=0&status=done&style=none&width=828"><br>B 站上的优化教学视频</p><p>除此之外，可以通过一些游戏配置检测应用进行评分检测，并根据电脑的配置智能推荐需要更换的硬件。通过结合这两种方法，能够有效判断自身配置，极大降低带不动游戏的风险。同时，如果觉得转向时画面模糊不适，可以关闭动态模糊选项。如果觉得画面偏亮或者偏暗，可以使用伽马校正，校准最适合的亮度，获取最佳的游戏体验。 <img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752518-f2e88856-7ace-457a-9047-ce0134022851.jpeg#align=left&display=inline&height=630&margin=%5Bobject%20Object%5D&originHeight=630&originWidth=1200&size=0&status=done&style=none&width=1200"></p><h2 id="担心买贵了？"><a href="#担心买贵了？" class="headerlink" title="担心买贵了？"></a>担心买贵了？</h2><p>目前游戏在 steam、epic、gog 上均有售卖，epic 便宜 10 块，但相比之下 steam 方便管理，gog 会将收入 100%给制作组，因此准备原价购买的玩家可以根据自身情况进行选择。<br>对于学生党而言，国区 298 的售价相对较高，不少玩家也会选择到某宝上进行购买。某宝上，不少奸商甚至以断货为由哄抬售价，给出游戏断货的智商税答复，可见良心的某宝也是有坑的。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752580-d14e10c0-5aa6-418a-aa48-60dbd7295267.jpeg#align=left&display=inline&height=1920&margin=%5Bobject%20Object%5D&originHeight=1920&originWidth=864&size=0&status=done&style=none&width=864"><br>无良商家坑骗消费者</p><p>那么怎么省钱呢？目前最省钱的方法是购买俄区游戏。你可以通过某宝进行转区代购或者购买全新的俄区账号，价格在 170-190 之间。新号的话，基本上没有任何风险，但需要选择诚信的销量高的卖家或者在小黑盒上购买。而转区有一定风险，请谨慎考虑，不过作为低价区来说，一直留在俄罗斯区买游戏，目前也没啥问题。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608324752422-6564e9f5-67cf-4a29-8874-b5abfa7d8929.png#align=left&display=inline&height=1792&margin=%5Bobject%20Object%5D&originHeight=1792&originWidth=828&size=0&status=done&style=none&width=828"><br>steam 全区售价排行</p><h2 id="担心看不懂？"><a href="#担心看不懂？" class="headerlink" title="担心看不懂？"></a>担心看不懂？</h2><p>购买游戏之后，萌新遇到的第一个问题就是语言设置问题。需要将游戏语言调换成中文。对于 steam 平台，需要悬浮游戏右键然后选择属性，在语言设置中将语言切换为中文，steam 就会下载一个 4G 的语音包。gog 平台也是类似操作，如果不行的话，需要将平台内游戏的设置调回英文，系统会下载一个 0.1M 的安装包。安装更新完毕后再重新调回中文，程序会再次下载中文语音包。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752582-6c1ec303-6801-47ab-9e39-0267a22fe7c1.jpeg#align=left&display=inline&height=808&margin=%5Bobject%20Object%5D&originHeight=808&originWidth=845&size=0&status=done&style=none&width=845"><br>steam 设置中文选项</p><p>游戏中，也可以分别对字幕、UI、语音进行再次设置以获取不同语言风格的游玩体验。</p><h2 id="担心选错主角？"><a href="#担心选错主角？" class="headerlink" title="担心选错主角？"></a>担心选错主角？</h2><p>在游戏开局时，会让玩家自己选择主人公身份。分别是流浪者、街头小子、公司员工。众所周知，现实生活中，不同身份拥有的社会地位、人脉、知识水平的不同会使人在相同条件下采取不同措施，游戏亦然。但是，人物身份不会过多影响结局走向，只是在序章开始的 20 分钟之内不同的身份会有不同的剧情，以及在后面剧情中与 npc 产生互动时的部分差异。而游戏中真正影响剧情走向的是一些可选任务和支线剧情。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752585-d8f5dea6-3621-4710-a4c3-0b442acca84d.jpeg#align=left&display=inline&height=430&margin=%5Bobject%20Object%5D&originHeight=430&originWidth=764&size=0&status=done&style=none&width=764"><br>游戏中的三种职业</p><h2 id="担心不会玩？"><a href="#担心不会玩？" class="headerlink" title="担心不会玩？"></a>担心不会玩？</h2><p>这款游戏除了经典的 fps 突突突玩法之外，还增加了肉搏玩法和黑科技玩法。如果你是一名 fps 夕阳红描边玩家，你大可试试近战玩法和黑科技玩法。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608324752559-b31d809d-4b9d-42ec-bd9f-8d87ce9c9367.png#align=left&display=inline&height=800&margin=%5Bobject%20Object%5D&originHeight=800&originWidth=1280&size=0&status=done&style=none&width=1280"><br>来一场紧张刺激的肉搏战</p><p>同时游戏的加点系统看上去也比较复杂。不过，你可以根据自己的游玩喜好选择专精某一门技艺。如果你是擅长 fps 游戏的玩家，你可以增加枪械相关的加点。如果你是热衷肉搏的玩家，你可以增加体能、搏击相关的加点。如果你热衷成为一名骇客，杀人于无形，你也可以增加潜行、破解相关的加点。总之，擅长什么就点什么，以自己的游玩习惯为准。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752587-7d692ea1-41cd-4210-aef9-986d01fb0862.jpeg#align=left&display=inline&height=803&margin=%5Bobject%20Object%5D&originHeight=803&originWidth=1080&size=0&status=done&style=none&width=1080"><br>玩家“高斯牛顿算法”分享的全属性技能树</p><h2 id="担心被查水表？"><a href="#担心被查水表？" class="headerlink" title="担心被查水表？"></a>担心被查水表？</h2><p>《赛博朋克 2077》发售后，“捏牛子”成为了大家茶余饭后必定讨论的话题之一。游戏中存在一些有颜色的内容，这些可谓是让玩家又爱又恨。也许一个不注意就会引发社会性死亡。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608324752540-cbe16166-b3d3-4988-ba07-d3077a75f670.jpeg#align=left&display=inline&height=209&margin=%5Bobject%20Object%5D&originHeight=209&originWidth=276&size=0&status=done&style=none&width=276"><br>比赛“捏牛子”</p><p>因此，在某些不能太过放纵、需要和谐的场合，需要开启和谐模式。开启方法也十分简单。只需要在游戏属性常规中设置启动参数：-region=streaming。即可以避免出现过分暴露的画面。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608324752729-a9182a92-96c4-44a2-be4e-9db65b142416.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"><br>直播模式（和谐模式）的设置方法</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>希望这几条注意事项能够帮助小伙伴们获取更好的游戏体验，也希望官方能够尽快优化不同平台的游戏体验。所以，话不多说，快去《赛博朋克 2077》里创造属于你的主角 V 吧！</p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>硬核到去农业局官网找攻略的种稻模拟器？——《天穗之咲稻姬》简评</title>
      <link href="2020/12/10/2020-12-10/"/>
      <url>2020/12/10/2020-12-10/</url>
      
        <content type="html"><![CDATA[<h1 id="序"><a href="#序" class="headerlink" title=" 序"></a><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/jpeg/8391485/1608325116631-92b77f55-4369-4575-9c30-f86e13d2b79a.jpeg#align=left&display=inline&height=974&margin=%5Bobject%20Object%5D&originHeight=935&originWidth=1920&size=0&status=done&style=none&width=2000"> 序</h1><p>《天穗之咲稻姬》作为 2020 年底一款糅合了经营模拟与 RPG 玩法要素的日式风格游戏。一经发售，就因 Steam 平台国区售价和硬核种田玩法成为了玩家热议话题。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116616-d4003ecf-36d7-4158-b595-a756f08e0675.png#align=left&display=inline&height=707&margin=%5Bobject%20Object%5D&originHeight=707&originWidth=955&size=0&status=done&style=none&width=955"></p><p><strong>steam 上的差评</strong></p><p>虽说国区智商税般高售价招致不少玩家恶评，但好在 steam 有阿根廷、俄罗斯等低价区，使玩家能以几十元售价购入此作，不至于因国区高昂售价望而却步。现如今通过淘宝等销售渠道，解决低价区购买问题，对于已经熟悉定价套路的笔者和广大玩家而言早已不是问题。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116639-70a49aa0-7512-4ada-87b8-2b046cc1bcb4.png#align=left&display=inline&height=113&margin=%5Bobject%20Object%5D&originHeight=113&originWidth=960&size=0&status=done&style=none&width=960"></p><p><strong>游戏在 steam 低价区的售价</strong></p><p>不过，本作玩法真有多数玩家口中那么硬核吗？这个问题令我百思不得其解，实在难以想象一个游戏能仿真到让玩家去农业局官网找资料做参考的地步。为了得出令自己满意的答案，论证猜想，笔者亲自游玩了这款游戏并收集相关资料进行验证。毕竟口说无凭，实验方能出真知。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116660-9a5df406-f16d-4103-994d-ff04aafe1ca3.png#align=left&display=inline&height=631&margin=%5Bobject%20Object%5D&originHeight=631&originWidth=800&size=0&status=done&style=none&width=800"></p><p><strong>日本某论坛的评论</strong></p><p><strong>初体验：“似乎没那么硬核”</strong><br>简单一句话概括，本作就是神界版“变形计”。讲述了神界某官二代熊孩子，因犯错被贬乡下种田体验生活，最终变成“打工人”和乡下人打成一片的故事。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116683-eb52fdcd-d6e8-4154-9cb6-a8181a61122e.png#align=left&display=inline&height=645&margin=%5Bobject%20Object%5D&originHeight=645&originWidth=1107&size=0&status=done&style=none&width=1107"></p><p><strong>主人公被贬剧情</strong><br>《天穗之咲稻姬》特色在于属性成长系统。当你发现打不动怪或人物太脆时，那么就意味着该回家种地了。与普通打怪升级进行人物加点不同，游戏中人物属性与水稻成长属性相对应。也就是说，如果想要快速变强，就要种得一手好地。游戏里水稻收成量、味道、硬度、黏度、美观、香气等属性成长对应并影响着人物血量、蓝量、攻击、防御等属性。同时通过控制种植方法，也可以定向提升水稻某项属性成长，使得人物某项属性得到显著提升。这种独特的升级机制，打破了传统 RPG 游戏固定套路（打怪升级）与限制。使得稻姬在升级时，可由玩家在一定程度上进行“自定义”。既可以满足一些“苦手”通过辛勤劳作降低游戏难度，又能满足“强迫症”玩家在游戏中追求某一属性极致。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116654-73b64e31-9c9d-410f-a2d8-116dc9335810.png#align=left&display=inline&height=268&margin=%5Bobject%20Object%5D&originHeight=268&originWidth=429&size=0&status=done&style=none&width=429"></p><p><strong>稻属性对应的人物属性</strong></p><p>本作从游戏玩法与模式上来讲，主要分为以下两部分：横版动作+模拟经营（第三人称）。通过横版闯关完成关卡规定的星级任务来提升探索度，逐步解锁新地图。击杀怪物或从地图中采集获取种植玩法所需素材。再通过模拟经营种植水稻，利用收集到的素材制作农肥、农耕道具、食物等，使玩家体验农耕乐趣。另外，玩家还可将素材通过工坊制作成战斗装备，以此来提升各项属性。在季节和日夜更替中把控农作物（水稻）生长关键节点，合理施肥、控制水量、温度、预防病虫灾害，最终获取粮食和人物属性提升。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116718-b8431a36-03e2-43a9-afe2-e9bb8405e949.png#align=left&display=inline&height=745&margin=%5Bobject%20Object%5D&originHeight=745&originWidth=1440&size=0&status=done&style=none&width=1440"></p><p><strong>稻属性提升带来的人物属性提升</strong></p><p>对于刚接触本作玩家而言，游戏初期阶段仅构建了故事主要框架。从故事背景入手，向玩家展示了游戏成长体系和玩法，并没有深入涉及到游戏核心（硬核）内容。更多是向玩家营造一种属于“养成”游戏带来的休闲感，在 NPC 指导下完成一年种稻流程，熟悉种植农作物各个阶段，使玩家快速掌握游戏基本操作。</p><h1 id="副本体验：“比较硬核”"><a href="#副本体验：“比较硬核”" class="headerlink" title="副本体验：“比较硬核”"></a>副本体验：“比较硬核”</h1><p>本作中副本体验十分丰富，通过环境、气氛多样化和独特寻宝玩法，避免让玩家产生审美疲劳，同时增加游戏趣味性。</p><p><strong>利用蘑菇给怪物造成巨额伤害</strong></p><p>咲稻姬拥有金、木、水、火、土、天返宫六个主题副本，每个主题对应了不同副本风格，而不同风格副本又包含有其独特元素。比如土副本中经常出现“针刺岩石”、木副本中出现可以被打到晃来晃去的蘑菇、水副本中可以在气泡里游泳等等。上述看似不起眼的设定，既能利用这些元素走位对怪物造成伤害，也可能令玩家在不经意间直接暴毙，为关卡探索平添一份趣味。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116713-248dac7a-4fea-41bc-a19d-86ef9248960a.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>夏天晴朗清晨的副本</strong></p><p>咲稻姬副本系统中引入了和种植系统对应的“昼夜变化”，随着挑战时间推移，副本环境光线强度会发生变化。完全天黑时，怪物变强，同时主角视线范围会受限，但夜晚会获取额外奖励道具。于是产生了很多“晨兴理荒秽，带月荷锄归”的“007”玩家。同时，根据季节、天气不同，游戏中景色也有一定差异，从而营造出不同意境。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116754-822b6ce5-3231-4323-bbe8-fba6d507c5ad.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>冬天雪天夜晚的副本</strong></p><p>咲稻姬武器分为单手武器、双手武器。单手武器对应鼠标左键，虽然攻击频率较快，但攻击范围和伤害较低；双手武器则是对应鼠标右键，攻击范围和伤害较高，攻击频率较慢。在战斗过程中需要选择合适的武器与攻击方式，来应对不同敌方单位角色。同时，不同装备具有各种副本增益效果，根据武器属性克制效果选择不同武器组合，灵活应对不同主题副本。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116754-28d82579-e5c6-42a4-bf40-6fe66e46e862.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>游戏中的装备选择界面</strong></p><p>咲稻姬技能也分为两种，分别为武技和羽衣技。除了拥有炫酷技能施放效果外，也可以通过武技和羽衣技进行位移、躲闪或是进行场景跳跃，玩家甚至可以通过技能连段无伤通关。但对于小白来说，容易出现技能 Miss。两种技能施放都需要消耗技力，如果技力不足，就很容易碰到被一群怪物围殴的尴尬局面。同时，羽衣操作存在一定角度偏差，需要稍微将人物位置向前偏移才能命中对角线上目标。因此，技能有一定上手难度，需要多加练习。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116790-c17d4abb-be25-43a7-a2bc-4453a9f04b51.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>游戏中的技能选择界面</strong></p><p>本作副本乐趣不只限于斩杀怪物，当玩家厌倦了打怪时，还可以搜寻地图中每一个角落，挖掘关卡内埋藏着的隐藏道具。不仅能获得具有属性增益的装备，也可能获得稀有素材和秘药。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116766-41fafd5f-fde7-47bf-ad89-a64dba5e776b.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>游戏中的隐藏道具</strong></p><p>对于喜爱横版动作游戏的玩家而言，多样化武器与技能的确增加了游戏的难易度与趣味性。但对于本作来说，在种稻养殖玩法影响下，武器和技能提升带来的收益极为有限，大量属性提升仍是通过种稻环节获取。因此不少玩家在游戏后期各项属性较高时，才会开始练习技能操作，研究技能和武器搭配。但对于手残玩家，则更偏向通过种田来提升属性与容错率，以此通关。在这种环境下，副本硬核程度就在一定程度上变相被“弱化”。</p><h1 id="种稻体验：“十分硬核”"><a href="#种稻体验：“十分硬核”" class="headerlink" title="种稻体验：“十分硬核”"></a>种稻体验：“十分硬核”</h1><p>本作种田玩法是游戏中必不可少的环节，玩家需要经历整个农作物栽培、收获阶段。在游戏刚发售时由于没有现有攻略，农业部官网指导手册成为了玩家最好的游戏指南。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116823-16b6aa5e-6c91-4cb4-a029-59e19abb77c4.png#align=left&display=inline&height=608&margin=%5Bobject%20Object%5D&originHeight=608&originWidth=811&size=0&status=done&style=none&width=811"></p><p><strong>日本农业部官网的种稻日程表</strong></p><p>咲稻姬中种稻周期按照季节进行了划分，一个季度对应游戏中三天时间。在每个季节不同时间节点，需要完成相应务农操作，不然笨手笨脚的伙伴会帮你自动完成，属性不会有显著提升。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116768-8bb9af18-f52a-4ba7-991d-42a251fea24d.png#align=left&display=inline&height=449&margin=%5Bobject%20Object%5D&originHeight=449&originWidth=432&size=0&status=done&style=none&width=432"></p><p><strong>水稻种植的各个阶段</strong></p><p>在进行务农操作时，不同操作也会造成水稻量、味、硬、粘、香等属性变化。通过合理组合务农操作可以将某个水稻属性培养到极致，也可追求均衡发展。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116827-ac0eb19c-ca0f-45e0-b04f-961c1eb0c552.png#align=left&display=inline&height=782&margin=%5Bobject%20Object%5D&originHeight=782&originWidth=703&size=0&status=done&style=none&width=703"></p><p><strong>日本 wiki 的种稻属性影响表格</strong></p><p>游戏以整田开始一年工作，在整田时去除石头，用锄头耕田。耕得越仔细，稻子就越容易扎根，生长得越好。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116816-68a17604-c339-4da2-bcf4-859b462ff580.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>整地</strong> <img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116811-e604dd31-fa02-4e98-a451-418cd341402b.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p>选种时，将泥和盐放入水桶中搅拌，可以将比重轻品质低的稻谷浮起来去除。但是，过度去除会减少收获量。选种后，把挑选好的稻种撒在育苗箱里，直到长成幼苗方可播种。播种方式有幼苗长得多但品质下降的“厚播”方式和幼苗数量减少但品质提高的“薄播”方式。插秧过程中需要合理控制种植间隔，种植间隔过近或过远都会对水稻生长产生不良影响。 <img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116882-fa1ea6d4-f82e-429c-8a71-5c93576062ba.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"><br><strong>插秧</strong><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116877-321a2265-9d67-4c39-94eb-9d1a2ff31337.png#align=left&display=inline&height=427&margin=%5Bobject%20Object%5D&originHeight=427&originWidth=800&size=0&status=done&style=none&width=800"><br><strong>控制水量</strong><br>游戏中可以通过水闸管理田地水量和温度。根据稻田生长程度和当天天气来进行水量管理。游戏中为了给稻田土壤提供养分，在肥料堆里撒上混合了各种素材“堆肥”。幼苗被种在田里到收获为止，春 2 ~夏 3 为成长期，会消耗肥料三角数值。在淡季秋 1 ~冬 3 季节施肥，可以每年维持营养素满状态。肥料不仅影响了水稻长势，也与水稻病虫灾害息息相关，通过加入各种秘药治疗水稻使水稻获取更好数值成长。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116848-84d495ab-c06e-486f-a497-ea8bcc90825e.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>制作肥料</strong></p><p>收获时，使用犁收割稻子作业。抽完水再收割稻子，挂稻架时候容易变干。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116728-ceb910a7-21c0-4eb5-a81a-09f3a328d656.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>收获</strong></p><p>收割后需要对水稻进行晾晒。刚收割后水分过多，要适当晾晒，未晾晒和过度晾晒都会影响水稻品质。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116932-900a5698-dfc8-456d-8c0a-5aac63421e08.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>晒稻</strong></p><p>脱谷时，使用千牙棒等从收获稻子穗尖上挑出稻谷。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116902-8a4d312b-7646-4535-96b1-f1f272b6bb3e.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>脱谷</strong></p><p>碾米是使用木臼等除去稻壳将稻谷变成米的操作。打的次数越多越接近白米，米的质量越好，但是作为食材的营养价值就会降低。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116980-78dd6965-75bf-4b05-99ff-d7214efa1dc7.png#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&size=0&status=done&style=none&width=1920"></p><p><strong>碾米</strong></p><p>对于喜欢养成类游戏的玩家，像这种只针对水稻养殖进行近乎真实模拟的游戏还是十分罕见的。能将水稻种植阶段、农具操作、病虫防治完美地与游戏玩法相结合并引导玩家去学习种植水稻的各种技巧，可谓是十分硬核。除此之外，游戏甚至采用了“冬短夏长”的昼夜变化，可见游戏的精细程度之深，令人赞叹。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116925-677d94af-7225-4858-8722-414b0b4480a1.png#align=left&display=inline&height=828&margin=%5Bobject%20Object%5D&originHeight=828&originWidth=1792&size=0&status=done&style=none&width=1792"></p><p><strong>太阳高度角与时间的对应</strong></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>虽然坑爹的售价让这款游戏受到国内玩家大量声讨，但咲稻姬还是获得了不错销量。目前《天穗之咲稻姬》的世界累计销量已经超过 50 万份，无疑成为了 2020 年底的一匹黑马。如果你厌倦了城市生活，想尝试一下清闲的田园风光，那么这款游戏绝对是最佳的选择。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/8391485/1608325116923-16658b95-0225-440b-b945-b278d20974df.png#align=left&display=inline&height=370&margin=%5Bobject%20Object%5D&originHeight=370&originWidth=658&size=0&status=done&style=none&width=658"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的文章点赞（LeanCloud）</title>
      <link href="2020/11/25/2020-11-25/"/>
      <url>2020/11/25/2020-11-25/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/zan.gif#alt=example"></p><p>参考于<a href="https://immmmm.com/zan-by-leancloud-cn/%E3%80%82">https://immmmm.com/zan-by-leancloud-cn/。</a></p><p>基于 Butterfly 主题样式进行了优化的文章点赞小部件（LeanCloud）</p><p>资源包地址：<a href="https://github.com/Zfour/Butterfly-leancloud-zanplus">https://github.com/Zfour/Butterfly-leancloud-zanplus</a></p><p><a href="https://github.com/Zfour/Butterfly-leancloud-zanplus">资源包下载</a></p><hr><h2 id="步骤-1：在-leanCloud-中创建应用"><a href="#步骤-1：在-leanCloud-中创建应用" class="headerlink" title="步骤 1：在 leanCloud 中创建应用"></a>步骤 1：在 leanCloud 中创建应用</h2><blockquote><p>如果你配置过 Valine 评论请直接使用 valine 评论的应用。<br>在使用前首先确保已经绑定过安全域名。</p></blockquote><h3 id="新增-class"><a href="#新增-class" class="headerlink" title="新增 class"></a>新增 class</h3><p>创建名为 Zan（首字母大写！！！！）的 Class（相当数据库），权限改为“无限制”。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/zan1.png#alt=example"></p><h3 id="绑定安全域名"><a href="#绑定安全域名" class="headerlink" title="绑定安全域名"></a>绑定安全域名</h3><p>前往设置中的域名绑定选项，绑定安全域名。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/zan2.png#alt=example"></p><h3 id="绑定安全域名-1"><a href="#绑定安全域名-1" class="headerlink" title="绑定安全域名"></a>绑定安全域名</h3><p>前往设置中的应用 Keys 获取应用 ID 和 Key</p><p><img src= "/img/loading.gif" data-lazy-src="/images/zan3.png#alt=example"></p><hr><h2 id="步骤-2：添加引入-js、css-代码"><a href="#步骤-2：添加引入-js、css-代码" class="headerlink" title="步骤 2：添加引入 js、css 代码"></a>步骤 2：添加引入 js、css 代码</h2><h3 id="放置资源包"><a href="#放置资源包" class="headerlink" title="放置资源包"></a>放置资源包</h3><p><a href="https://github.com/Zfour/Butterfly-leancloud-zanplus">资源包下载</a></p><p>将下载包中的 zan 文件夹放入主题目录的”source”文件夹下。</p><h3 id="引入-js-和-css"><a href="#引入-js-和-css" class="headerlink" title="引入 js 和 css"></a>引入 js 和 css</h3><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/zan/zan.css&quot;&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn1.lncld.net/static/js/3.5.0/av-min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/zan/zan.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="步骤-3：填写自定义属性的-js-配置"><a href="#步骤-3：填写自定义属性的-js-配置" class="headerlink" title="步骤 3：填写自定义属性的 js 配置"></a>步骤 3：填写自定义属性的 js 配置</h2><h3 id="配置用户信息"><a href="#配置用户信息" class="headerlink" title="配置用户信息"></a>配置用户信息</h3><p>修改 zan.js 里的 appId 和 appKey。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">AV.init(&#123;</span><br><span class="line">  appId: <span class="string">&quot;你的Id&quot;</span>,</span><br><span class="line">  appKey: <span class="string">&quot;你的key&quot;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>此时，”hexo g &amp;&amp; hexo s”可发现已加载。</p><p>若有问题请与我邮件联系<a href="mailto:&#x34;&#57;&#57;&#x39;&#x38;&#52;&#x35;&#51;&#x32;&#64;&#x71;&#113;&#x2e;&#99;&#x6f;&#109;">&#x34;&#57;&#57;&#x39;&#x38;&#52;&#x35;&#51;&#x32;&#64;&#x71;&#113;&#x2e;&#99;&#x6f;&#109;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十六、vue中的网络模块封装</title>
      <link href="2020/11/19/2020-11-19/"/>
      <url>2020/11/19/2020-11-19/</url>
      
        <content type="html"><![CDATA[<h1 id="网络模块封装"><a href="#网络模块封装" class="headerlink" title="网络模块封装"></a>网络模块封装</h1><h2 id="🎉-选择什么样的网络模块？"><a href="#🎉-选择什么样的网络模块？" class="headerlink" title="🎉 选择什么样的网络模块？"></a>🎉 选择什么样的网络模块？</h2><h4 id="选择一：传统的-Ajax"><a href="#选择一：传统的-Ajax" class="headerlink" title="选择一：传统的 Ajax"></a>选择一：传统的 Ajax</h4><p>传统的 Ajax 是基于 XMLHttpRequest(XHR)。</p><p>,配置和调用方式等非常混乱。</p><p>编码起来看起来就非常蛋疼。</p><p>所以真实开发中很少直接使用, 而是使用 jQuery-Ajax。</p><h4 id="选择二：jQuery-Ajax"><a href="#选择二：jQuery-Ajax" class="headerlink" title="选择二：jQuery-Ajax"></a>选择二：jQuery-Ajax</h4><p>首先, 我们先明确一点: 在 Vue 的整个开发中都是不需要使用 jQuery 了。</p><p>那么, 就意味着为了方便我们进行一个网络请求, 特意引用一个 jQuery, 你觉得合理吗?</p><p>jQuery 的代码 1w+行.Vue 的代码才 1w+行。</p><p>完全没有必要为了用网络请求就引用这个重量级的框架。</p><h4 id="选择三：Vue-resource"><a href="#选择三：Vue-resource" class="headerlink" title="选择三：Vue-resource"></a><strong>选择三：Vue-resource</strong></h4><p>Vue-resource 的体积相对于 jQuery 小很多.</p><p>另外 Vue-resource 是官方推出的.</p><p>在 Vue2.0 退出后, Vue 作者就在 GitHub 的 Issues 中说明了去掉 vue-resource, 并且以后也不会再更新.那么意味着以后 vue-reource 不再支持新的版本时, 也不会再继续更新和维护.</p><p>对以后的项目开发和维护都存在很大的隐患.</p><h4 id="选择四：axios"><a href="#选择四：axios" class="headerlink" title="选择四：axios"></a><strong>选择四：</strong>axios</h4><p>axios 有非常多的优点, 并且用起来也非常方便.</p><p>稍后, 我们对他详细学习.</p><p>功能特点:</p><p>在浏览器中发送 XMLHttpRequests 请求</p><p>在 node.js 中发送 http 请求</p><p>支持 Promise API</p><p>拦截请求和响应</p><p>转换请求和响应数据</p><p>等等</p><h2 id="🎉axios-请求方式？"><a href="#🎉axios-请求方式？" class="headerlink" title="🎉axios 请求方式？"></a>🎉axios 请求方式？</h2><p>axios(config)</p><p>axios.request(config)</p><p>axios.get(url[, config])</p><p>axios.delete(url[, config])</p><p>axios.head(url[, config])</p><p>axios.post(url[, data[, config]])</p><p>axios.put(url[, data[, config]])</p><p>axios.patch(url[, data[, config]])</p><h2 id="🎉-基本请求方式？"><a href="#🎉-基本请求方式？" class="headerlink" title="🎉 基本请求方式？"></a>🎉 基本请求方式？</h2><p><strong>没有请求参数：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios</span><br><span class="line">  .get(<span class="string">&quot;http://123.207.32.32:8000/home/data&quot;</span>)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p><strong>有请求参数：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">axios</span><br><span class="line">  .get(<span class="string">&quot;http://123.207.32.32:8000/home/data&quot;</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      type: <span class="string">&quot;sell&quot;</span>,</span><br><span class="line">      page: <span class="number">1</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p><strong>补充：请求的基本类型</strong></p><p>1 GET 请求指定的页面信息，并返回实体主体。</p><p>2 HEAD 类似于 get 请求，只不过返回的响应中没有具体的内容，用于获取报头</p><p>3 POST 向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST 请求可能会导致新的资源的建立和/或已有资源的修改。</p><p>4 PUT 从客户端向服务器传送的数据取代指定的文档的内容。</p><p>5 DELETE 请求服务器删除指定的页面。</p><p>6 CONNECT HTTP/1.1 协议中预留给能够将连接改为管道方式的代理服务器。</p><p>7 OPTIONS 允许客户端查看服务器的性能。</p><p>8 TRACE 回显服务器收到的请求，主要用于测试或诊断。</p><blockquote><p>读完这一篇 IT 程序员终于明白 post 和 get 的区别<br><a href="https://zhuanlan.zhihu.com/p/92549929">https://zhuanlan.zhihu.com/p/92549929</a></p></blockquote><h2 id="🎉-并发请求方式？"><a href="#🎉-并发请求方式？" class="headerlink" title="🎉 并发请求方式？"></a>🎉 并发请求方式？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">axios</span><br><span class="line">  .all([axios(), axios()])</span><br><span class="line">  .then(</span><br><span class="line">    axios.spread(<span class="function">(<span class="params">res1, res2</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res1);</span><br><span class="line">      <span class="built_in">console</span>.log(res2);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//results =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//console.log(results[0]);</span></span><br><span class="line">    <span class="comment">// console.log(results[1])</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">  )</span><br><span class="line">  .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><h2 id="🎉-全局配置？"><a href="#🎉-全局配置？" class="headerlink" title="🎉 全局配置？"></a>🎉 全局配置？</h2><p>在上面的示例中, 我们的 BaseURL 是固定的</p><p>事实上, 在开发中可能很多参数都是固定的.</p><p>这个时候我们可以进行一些抽取, 也可以利用 axiox 的全局配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL = ‘<span class="number">123.207</span><span class="number">.32</span><span class="number">.32</span>:<span class="number">8000</span>’;</span><br><span class="line">axios.defaults.headers.post[‘Content-Type’] = ‘application/x-www-form-urlencoded’;</span><br></pre></td></tr></table></figure><h2 id="🎉-常见的配置选项？"><a href="#🎉-常见的配置选项？" class="headerlink" title="🎉 常见的配置选项？"></a>🎉 常见的配置选项？</h2><p><strong>请求地址</strong></p><p>url: ‘/user’,</p><p><strong>请求类型</strong></p><p>method: ‘get’,</p><p><strong>请根路径</strong></p><p>baseURL: ‘<a href="http://www.mt.com/api">http://www.mt.com/api</a>‘,</p><p><strong>请求前的数据处理</strong></p><p>transformRequest:[function(data){}],</p><p><strong>请求后的数据处理</strong></p><p>transformResponse: [function(data){}],</p><p><strong>自定义的请求头</strong></p><p>headers:{‘x-Requested-With’:’XMLHttpRequest’},</p><p><strong>URL 查询对象</strong></p><p>params:{ id: 12 },</p><p><strong>查询对象序列化函数</strong></p><p>paramsSerializer: function(params){ }</p><p><strong>request body</strong></p><p>data: { key: ‘aa’},</p><p><strong>超时设置 s</strong></p><p>timeout: 1000,</p><p><strong>跨域是否带 Token</strong></p><p>withCredentials: false,</p><p><strong>自定义请求处理</strong></p><p>adapter: function(resolve, reject, config){},</p><p><strong>身份验证信息</strong></p><p>auth: { uname: ‘’, pwd: ‘12’},</p><p><strong>响应的数据格式 json / blob /document /arraybuffer / text / stream</strong></p><p>responseType: ‘json’,</p><h2 id="🎉-创建-axios-实例？"><a href="#🎉-创建-axios-实例？" class="headerlink" title="🎉 创建 axios 实例？"></a>🎉 创建 axios 实例？</h2><p>为什么要创建 axios 的实例呢?</p><p>当我们从 axios 模块中导入对象时, 使用的实例是默认的实例.</p><p>当给该实例设置一些默认配置时, 这些配置就被固定下来了.</p><p>但是后续开发中, 某些配置可能会不太一样.</p><p>比如某些请求需要使用特定的 baseURL 或者 timeout 或者 content-Type 等.</p><p>这个时候, 我们就可以创建新的实例, 并且传入属于该实例的配置信息.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axiosMain = axios.create(&#123;</span><br><span class="line">    baseURL:<span class="string">&quot;http://123.207.32.32:8000/home/data&quot;</span>,</span><br><span class="line">    timeout:<span class="number">5000</span>,</span><br><span class="line">    headers:&#123;</span><br><span class="line">       <span class="string">&#x27;Content-Type&#x27;</span>:<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">axiosMain(&#123;...&#125;)</span><br><span class="line">axiosMain(&#123;...&#125;)</span><br></pre></td></tr></table></figure><h2 id="🎉axios-封装？"><a href="#🎉axios-封装？" class="headerlink" title="🎉axios 封装？"></a>🎉axios 封装？</h2><p><strong>axios 封装：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> OrignAxios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> instance = OrignAxios.create(&#123;</span><br><span class="line">    <span class="comment">//基础配置</span></span><br><span class="line">    baseURL: <span class="string">&quot;http://123.207.32.32:8000/home/data&quot;</span>,</span><br><span class="line">    timeout: <span class="number">5000</span>,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">//拦截器配置</span></span><br><span class="line">  <span class="comment">//拦截器作用</span></span><br><span class="line">  <span class="comment">//1.添加loading动画</span></span><br><span class="line">  <span class="comment">//2.修改不符合规范的数据,判断是否有token</span></span><br><span class="line">  <span class="comment">//3.数据的序列化</span></span><br><span class="line">  instance.interceptors.request.use(</span><br><span class="line">    (config) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(config);</span><br><span class="line">      <span class="keyword">return</span> config;</span><br><span class="line">    &#125;,</span><br><span class="line">    (error) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(error);</span><br><span class="line">      <span class="keyword">return</span> error;</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">  instance.interceptors.response.use(</span><br><span class="line">    (response) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(response);</span><br><span class="line">      <span class="keyword">return</span> response.data;</span><br><span class="line">    &#125;,</span><br><span class="line">    (error) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(error);</span><br><span class="line">      <span class="keyword">return</span> error;</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">  <span class="comment">//返回数据</span></span><br><span class="line">  <span class="keyword">return</span> instance(config);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>axios 调用：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; request &#125; <span class="keyword">from</span> <span class="string">&quot;network/request&quot;</span>;</span><br><span class="line">request(&#123;</span><br><span class="line">  url: <span class="string">&quot;&quot;</span>,</span><br><span class="line">&#125;)</span><br><span class="line">  .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十五、vue中的promise语法和vuex</title>
      <link href="2020/11/18/2020-11-18/"/>
      <url>2020/11/18/2020-11-18/</url>
      
        <content type="html"><![CDATA[<h1 id="什么是-Promise-呢？"><a href="#什么是-Promise-呢？" class="headerlink" title="什么是 Promise 呢？"></a>什么是 Promise 呢？</h1><h2 id="🎉Promise-到底是做什么的呢？"><a href="#🎉Promise-到底是做什么的呢？" class="headerlink" title="🎉Promise 到底是做什么的呢？"></a>🎉Promise 到底是做什么的呢？</h2><p>ES6 中一个非常重要和好用的特性就是 Promise。</p><p>Promise 是异步编程的一种解决方案。</p><p>那什么时候我们会来处理异步事件呢？</p><p>一种很常见的场景应该就是网络请求了。</p><p>我们封装一个网络请求的函数，</p><p>因为不能立即拿到结果，所以不能像简单的 3+4=7 一样将结果返回。</p><p>所以往往我们会传入另外一个函数，在数据请求成功时，将数据通过传入的函数回调出去。</p><p>如果只是一个简单的网络请求，那么这种方案不会给我们带来很大的麻烦。</p><p>但是，当网络请求非常复杂时，就会出现回调地狱。</p><p>OK，我以一个非常夸张的案例来说明。</p><blockquote><p>我们需要通过一个 url1 从服务器加载一个数据 data1，data1 中包含了下一个请求的 url2<br>我们需要通过 data1 取出 url2，从服务器加载数据 data2，data2 中包含了下一个请求的 url3<br>我们需要通过 data2 取出 url3，从服务器加载数据 data3，data3 中包含了下一个请求的 url4<br>发送网络请求 url4，获取最终的数据 data4。</p></blockquote><p>正常情况下，不会有什么问题，可以正常运行并且获取我们想要的结果。</p><p>但是，这样的代码难看而且不容易维护。</p><p>我们更加期望的是一种更加优雅的方式来进行这种异步操作。</p><p>如何做呢？就是使用 Promise。</p><p>Promise 可以以一种非常优雅的方式来解决这个问题。</p><h2 id="🎉Promise-具体用法？"><a href="#🎉Promise-具体用法？" class="headerlink" title="🎉Promise 具体用法？"></a>🎉Promise 具体用法？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//模拟异步请求</span></span><br><span class="line">    resolve(<span class="string">&quot;hello word&quot;</span>);</span><br><span class="line">    reject(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">  &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//另外一种用法</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;).then(</span><br><span class="line">  (data) =&gt; &#123;&#125;, <span class="comment">//函数1满足时执行</span></span><br><span class="line">  (error) =&gt; &#123;&#125; <span class="comment">//函数2不满足时执行</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><strong>我们先来认认真真的读一读这个程序到底做了什么？</strong></p><p>new Promise 很明显是创建一个 Promise 对象</p><p>小括号中((resolve, reject) =&gt; {})也很明显就是一个函数，而且我们这里用的是之前刚刚学习过的箭头函数。</p><p><strong>但是 resolve, reject 它们是什么呢？</strong></p><p>我们先知道一个事实：在创建 Promise 时，传入的这个箭头函数是固定的（一般我们都会这样写）</p><p>resolve 和 reject 它们两个也是函数，通常情况下，我们会根据请求数据的成功和失败来决定调用哪一个。</p><p><strong>成功还是失败？</strong></p><p>如果是成功的，那么通常我们会调用 resolve(messsage)，这个时候，我们后续的 then 会被回调。</p><p>如果是失败的，那么通常我们会调用 reject(error)，这个时候，我们后续的 catch 会被回调。</p><p>OK，这就是 Promise 最基本的使用了。</p><h2 id="🎉Promise-如何实现？"><a href="#🎉Promise-如何实现？" class="headerlink" title="🎉Promise 如何实现？"></a>🎉Promise 如何实现？</h2><p><img src= "/img/loading.gif" data-lazy-src="https://uploader.shimo.im/f/aPvpb5qDzrFt4UHS.png!thumbnail#align=left&display=inline&height=152&margin=%5Bobject%20Object%5D&originHeight=152&originWidth=409&status=done&style=none&width=409"></p><p>首先, 当我们开发中有异步操作时, 就可以给异步操作包装一个<strong>Promise</strong></p><p>异步操作之后会有三种状态</p><p>我们一起来看一下这三种状态:</p><p><strong>pending</strong></p><p>等待状态，比如正在进行网络请求，或者定时器没有到时间。</p><p><strong>fulfill</strong></p><p>满足状态，当我们主动回调了 resolve 时，就处于该状态，并且会回调.then()</p><p><strong>reject</strong></p><p>拒绝状态，当我们主动回调了 reject 时，就处于该状态，并且会回调.catch()</p><h2 id="🎉Promise-简写？"><a href="#🎉Promise-简写？" class="headerlink" title="🎉Promise 简写？"></a>🎉Promise 简写？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    setTimeout((data) &#x3D;&gt; &#123; &#x2F;&#x2F;模拟异步请求</span><br><span class="line">        resolve(&#39;aaa&#39;)</span><br><span class="line">        reject(&#39;error&#39;)</span><br><span class="line">    &#125;, 3000)</span><br><span class="line">&#125;).then((data) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(data)  &#x2F;&#x2F;打印获取的初始结果</span><br><span class="line">    return data + &#39;111&#39; &#x2F;&#x2F;拼接代码并传入下一个then</span><br><span class="line">&#125;).then((data) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(data)   &#x2F;&#x2F;打印第一次拼接结果</span><br><span class="line">    return data + &#39;222&#39; &#x2F;&#x2F;拼接代码并传入下一个then</span><br><span class="line">&#125;).then((data) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(data)  &#x2F;&#x2F;打印第二次拼接结果</span><br><span class="line">&#125;).catch(</span><br><span class="line">    (error) &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&#39;error&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="Promise-All？"><a href="#Promise-All？" class="headerlink" title="Promise All？"></a>Promise All？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all([</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;, <span class="comment">//第一个请求</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;  <span class="comment">//第二个请求</span></span><br><span class="line">]).then(&#123;</span><br><span class="line">  results =&gt; &#123; <span class="comment">//返回一个数组</span></span><br><span class="line">  result[<span class="number">0</span>], <span class="comment">//第一个请求结果</span></span><br><span class="line">  result[<span class="number">1</span>], <span class="comment">//第二个请求结果</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="什么是-Vuex-呢？"><a href="#什么是-Vuex-呢？" class="headerlink" title="什么是 Vuex 呢？"></a>什么是 Vuex 呢？</h1><h2 id="🎉-初识-Vuex？"><a href="#🎉-初识-Vuex？" class="headerlink" title="🎉 初识 Vuex？"></a>🎉 初识 Vuex？</h2><p><strong>官方解释？</strong></p><p>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。</p><p>它采用 集中式存储管理 应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p><p>Vuex 也集成到 Vue 的官方调试工具 devtools extension，提供了诸如零配置的 time-travel 调试、状态快照导入导出等高级调试功能。</p><p><strong>状态管理到底是什么？</strong></p><p>状态管理模式、集中式存储管理这些名词听起来就非常高大上，让人捉摸不透。</p><p>其实，你可以简单的将其看成把需要多个组件共享的变量全部存储在一个对象里面。</p><p>然后，将这个对象放在顶层的 Vue 实例中，让其他组件可以使用。</p><p>那么，多个组件是不是就可以共享这个对象中的所有变量属性了呢？</p><p>等等，如果是这样的话，为什么官方还要专门出一个插件 Vuex 呢？难道我们不能自己封装一个</p><p><strong>对象来管理吗？</strong></p><p>当然可以，只是我们要先想想 VueJS 带给我们最大的便利是什么呢？没错，就是响应式。</p><p>如果你自己封装实现一个对象能不能保证它里面所有的属性做到响应式呢？当然也可以，只是自己封装可能稍微麻烦一些。</p><p>不用怀疑，Vuex 就是为了提供这样一个在多个组件间共享状态的插件，用它就可以了。</p><h2 id="🎉Vuex-管理什么东西？"><a href="#🎉Vuex-管理什么东西？" class="headerlink" title="🎉Vuex 管理什么东西？"></a>🎉Vuex 管理什么东西？</h2><p>但是，有什么状态时需要我们在多个组件间共享的呢？</p><p>如果你做过大型开放，你一定遇到过多个状态，在多个界面间的共享问题。</p><p>比如用户的登录状态、用户名称、头像、地理位置信息等等。</p><p>比如商品的收藏、购物车中的物品等等。</p><p>这些状态信息，我们都可以放在统一的地方，对它进行保存和管理，而且它们还是响应式的（待会儿我们就可以看到代码了，莫着急）。</p><p>OK，从理论上理解了状态管理之后，让我们从实际的代码再来看看状态管理。</p><p>毕竟，Talk is cheap, Show me the code.(来自 Linus)</p><p>我们先来看看单界面的状态管理吧.</p><h2 id="🎉Vue-单界面的状态管理？"><a href="#🎉Vue-单界面的状态管理？" class="headerlink" title="🎉Vue 单界面的状态管理？"></a>🎉Vue 单界面的状态管理？</h2><p>State：不用多说，就是我们的状态。（你姑且可以当做就是 data 中的属性）</p><p>View：视图层，可以针对 State 的变化，显示不同的信息。（这个好理解吧？）</p><p>Actions：这里的 Actions 主要是用户的各种操作：点击、输入等等，会导致状态的改变。</p><h2 id="🎉Vue-多界面状态管理？"><a href="#🎉Vue-多界面状态管理？" class="headerlink" title="🎉Vue 多界面状态管理？"></a>🎉Vue 多界面状态管理？</h2><p><strong>Vue 已经帮我们做好了单个界面的状态管理，但是如果是多个界面呢？</strong></p><p>多个试图都依赖同一个状态（一个状态改了，多个界面需要进行更新）</p><p>不同界面的 Actions 都想修改同一个状态（Home.vue 需要修改，Profile.vue 也需要修改这个状态）</p><p>也就是说对于某些状态(状态 1/状态 2/状态 3)来说只属于我们某一个试图，但是也有一些状态(状态 a/状态 b/状态 c)属于多个试图共同想要维护的</p><p>状态 1/状态 2/状态 3 你放在自己的房间中，你自己管理自己用，没问题。</p><p>但是状态 a/状态 b/状态 c 我们希望交给一个大管家来统一帮助我们管理！！！</p><p>没错，Vuex 就是为我们提供这个大管家的工具。</p><p><strong>全局单例模式（大管家）</strong></p><p>我们现在要做的就是将共享的状态抽取出来，交给我们的大管家，统一进行管理。</p><p>之后，你们每个试图，按照我规定好的规定，进行访问和修改等操作。</p><p>这就是 Vuex 背后的基本思想。</p><p><strong>store.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>; <span class="comment">//引入Vue</span></span><br><span class="line">Vue.use(Vuex); <span class="comment">//安装Vuex</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  <span class="comment">//为了使用Vuex，创建对象</span></span><br><span class="line">  state: &#123;</span><br><span class="line">    counter, <span class="comment">//这里存放公共数据counter，通过$store.state.counter使用</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="comment">//方法</span></span><br><span class="line">    increment(state) &#123;</span><br><span class="line">      state.counter++;</span><br><span class="line">    &#125;,</span><br><span class="line">    decrement(state) &#123;</span><br><span class="line">      state.counter--;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;&#125;,</span><br><span class="line">  modules: &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>main.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.js中引入vuex</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store, <span class="comment">//在vue组件内注册</span></span><br><span class="line">  render: <span class="function">(<span class="params">h</span>) =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.commit(<span class="string">&quot;increment&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    minus() &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.commit(<span class="string">&quot;decrement&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://uploader.shimo.im/f/tmGboV4vsWAUeHj6.png!thumbnail#align=left&display=inline&height=368&margin=%5Bobject%20Object%5D&originHeight=368&originWidth=468&status=done&style=none&width=468"></p><h1 id="Vuex-核心概念？"><a href="#Vuex-核心概念？" class="headerlink" title="Vuex 核心概念？"></a>Vuex 核心概念？</h1><h2 id="🎉State？"><a href="#🎉State？" class="headerlink" title="🎉State？"></a>🎉State？</h2><h4 id="Vuex-单一状态树？"><a href="#Vuex-单一状态树？" class="headerlink" title="Vuex 单一状态树？"></a><strong>Vuex 单一状态树？</strong></h4><p>英文名称是 Single Source of Truth，也可以翻译成单一数据源。</p><p>OK，我用一个生活中的例子做一个简单的类比。</p><p>我们知道，在国内我们有很多的信息需要被记录，比如上学时的个人档案，工作后的社保记录，公积金记录，结婚后的婚姻信息，以及其他相关的户口、医疗、文凭、房产记录等等（还有很多信息）。</p><p>这些信息被分散在很多地方进行管理，有一天你需要办某个业务时(比如入户某个城市)，你会发现你需要到各个对应的工作地点去打印、盖章各种资料信息，最后到一个地方提交证明你的信息无误。</p><p>这种保存信息的方案，不仅仅低效，而且不方便管理，以及日后的维护也是一个庞大的工作(需要大量的各个部门的人力来维护，当然国家目前已经在完善我们的这个系统了)。</p><h4 id="实际应用开发？"><a href="#实际应用开发？" class="headerlink" title="实际应用开发？"></a><strong>实际应用开发？</strong></h4><p>如果你的状态信息是保存到多个 Store 对象中的，那么之后的管理和维护等等都会变得特别困难。</p><p>所以 Vuex 也使用了单一状态树来管理应用层级的全部状态。</p><p>单一状态树能够让我们最直接的方式找到某个状态的片段，而且在之后的维护和调试过程中，也可以非常方便的管理和维护。</p><h2 id="🎉Getters？"><a href="#🎉Getters？" class="headerlink" title="🎉Getters？"></a>🎉Getters？</h2><h4 id="基本使用方法？"><a href="#基本使用方法？" class="headerlink" title="基本使用方法？"></a>基本使用方法？</h4><p>有时候，我们需要从 store 中获取一些 state 变异后的状态，比如下面的 Store 中：</p><p>获取学生年龄大于 20 的个数。</p><p>我们可以在 Store 中定义 getters。</p><p>getters 默认是不能传递参数的, 如果希望传递参数, 那么只能让 getters 本身返回另一个函数.</p><p>如果我们已经有了一个获取所有年龄大于 20 岁学生列表的 getters, 那么代码可以这样来写</p><p>比如上面的案例中,我们希望根据 ID 获取用户的信息</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">state:&#123;</span><br><span class="line">  students:[...]</span><br><span class="line">&#125;</span><br><span class="line">getters:&#123;</span><br><span class="line">more20stu(state)&#123;<span class="comment">//计算属性</span></span><br><span class="line">  <span class="keyword">return</span> state.students.filter(<span class="function"><span class="params">s</span> =&gt;</span> s.age &gt; <span class="number">20</span>) <span class="comment">//$store.getters.more20stu</span></span><br><span class="line">&#125;</span><br><span class="line">more20lenth(state,getters)&#123;<span class="comment">//计算属性</span></span><br><span class="line">  <span class="keyword">return</span> getters.more20stu.lenth</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉Mutation？"><a href="#🎉Mutation？" class="headerlink" title="🎉Mutation？"></a>🎉Mutation？</h2><h4 id="基本使用方法？-1"><a href="#基本使用方法？-1" class="headerlink" title="基本使用方法？"></a>基本使用方法？</h4><p>Vuex 的 store 状态的更新唯一方式：提交 Mutation</p><p>Mutation 主要包括两部分：</p><ol><li>字符串的事件类型（type）</li><li>一个回调函数（handler）,该回调函数的第一个参数就是 state。</li></ol><p>在通过 mutation 更新数据的时候, 有可能我们希望携带一些额外的参数</p><p>参数被称为是 mutation 的载荷(Payload)</p><p><strong>App.vue(template 阶段，触发点击事件,并传入载荷）</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">//通过app的methods进行数据传递</span></span><br><span class="line">    add() &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.commit(<span class="string">&quot;increment&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    minus() &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.commit(<span class="string">&quot;decrement&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    increcount(count) &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.commit(<span class="string">&quot;incrementcount&quot;</span>, count);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>store.js(mutations 阶段，进行方法调用)</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mutations:&#123;<span class="comment">//接收来自app传递的触发指令，执行数据更新</span></span><br><span class="line">    increment(state)&#123;</span><br><span class="line">    state.counter++</span><br><span class="line">  &#125;,</span><br><span class="line">  decrement(state)&#123;</span><br><span class="line">    state.counter--</span><br><span class="line">  &#125;,</span><br><span class="line">  incrementcount(state,count)&#123;</span><br><span class="line">    state.counter += count</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="但是如果参数不是一个呢"><a href="#但是如果参数不是一个呢" class="headerlink" title="但是如果参数不是一个呢?"></a><strong>但是如果参数不是一个呢?</strong></h4><p>比如我们有很多参数需要传递.</p><p>这个时候, 我们通常会以对象的形式传递, 也就是 payload 是一个对象.</p><p>这个时候可以再从对象中取出相关的信息.</p><h4 id="提交风格差异？"><a href="#提交风格差异？" class="headerlink" title="提交风格差异？"></a><strong>提交风格差异？</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1.普通提交</span><br><span class="line">this.$store.commit(&#39;提交需要执行的内容&#39;,count)</span><br><span class="line">&#x2F;&#x2F;2.特殊提交</span><br><span class="line">this.$store.commit(&#123;</span><br><span class="line">type:&#39;提交需要执行的内容&#39;,</span><br><span class="line">count  &#x2F;&#x2F;这时候提交的是对象，需要通过count.count获取对象中所需的值</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="Vue2-0-实现响应式添加和删除？"><a href="#Vue2-0-实现响应式添加和删除？" class="headerlink" title="Vue2.0 实现响应式添加和删除？"></a><strong>Vue2.0 实现响应式添加和删除？</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组</span></span><br><span class="line">Vue.set(state.info, <span class="number">1</span>, <span class="string">&quot;china&quot;</span>);</span><br><span class="line">Vue.delete(state.info, <span class="number">1</span>);</span><br><span class="line"><span class="comment">//对象</span></span><br><span class="line">Vue.set(state.info, <span class="string">&quot;address&quot;</span>, <span class="string">&quot;china&quot;</span>);</span><br><span class="line">Vue.delete(state.info, <span class="string">&quot;address&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="Mutation-常量类型-–-代码？"><a href="#Mutation-常量类型-–-代码？" class="headerlink" title="Mutation 常量类型 – 代码？"></a><strong>Mutation 常量类型 – 代码？</strong></h4><p>我们来考虑下面的问题:</p><p>在 mutation 中, 我们定义了很多事件类型(也就是其中的方法名称).</p><p>当我们的项目增大时, Vuex 管理的状态越来越多, 需要更新状态的情况越来越多, 那么意味着 Mutation 中的方法越来越多.</p><p>方法过多, 使用者需要花费大量的经历去记住这些方法, 甚至是多个文件间来回切换, 查看方法名称, 甚至如果不是复制的时候, 可能还会出现写错的情况.</p><p>如何避免上述的问题呢?</p><p>在各种 Flux 实现中, 一种很常见的方案就是使用常量替代 Mutation 事件的类型.</p><p>我们可以将这些常量放在一个单独的文件中, 方便管理以及让整个 app 所有的事件类型一目了然.</p><p>具体怎么做呢?</p><p>我们可以创建一个文件: mutation-types.js, 并且在其中定义我们的常量.</p><p>定义常量时, 我们可以使用 ES2015 中的风格, 使用一个常量来作为函数的名称.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;mutation-types.js中定义一个常量</span><br><span class="line">export const UPDATE &#x3D; &#39;update-info&#39;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;导入</span><br><span class="line">import &#123;UPDATE&#125; from &#39;path&#39;</span><br><span class="line">&#x2F;&#x2F;函数使用</span><br><span class="line">[UPDATE]()&#123;...&#125;</span><br><span class="line">&#x2F;&#x2F;提交使用</span><br><span class="line">this.$store.commit(UPDATE,count)</span><br></pre></td></tr></table></figure><h2 id="🎉Action？"><a href="#🎉Action？" class="headerlink" title="🎉Action？"></a>🎉Action？</h2><h4 id="不要再-Mutation-中进行异步操作？"><a href="#不要再-Mutation-中进行异步操作？" class="headerlink" title="不要再 Mutation 中进行异步操作？"></a>不要再 Mutation 中进行异步操作？</h4><p>但是某些情况, 我们确实希望在 Vuex 中进行一些异步操作, 比如网络请求, 必然是异步的. 这个时候怎么处理呢?</p><p>Action 类似于 Mutation, 但是是用来代替 Mutation 进行异步操作的.</p><p>Action 的基本使用代码如下:</p><p><strong>App.vue(template 阶段，触发点击事件）</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;button @click=&quot;appUpdateInfo()&quot;&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    appUpdateInfo() &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;aUpdateInfo&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>store.js(action 阶段，进行异步请求，并传递）</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">actions:&#123;</span><br><span class="line"><span class="comment">//context 上下文</span></span><br><span class="line">  aUpdateInfo(context)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">      content.commit(<span class="string">&#x27;updateInfo&#x27;</span>)</span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>store.js(mutations 阶段，进行方法调用)</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mutations:&#123;<span class="comment">//接收来自action阶段传递的触发指令，执行数据更新</span></span><br><span class="line">  updateInfo(state)&#123;</span><br><span class="line">    state.counter++</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>}</p><h4 id="context-是什么"><a href="#context-是什么" class="headerlink" title="context 是什么?"></a>context 是什么?</h4><p>context 是和 store 对象具有相同方法和属性的对象.</p><p>也就是说, 我们可以通过 context 去进行 commit 相关的操作, 也可以获取 context.state 等.</p><p>但是注意, 这里它们并不是同一个对象, 为什么呢? 我们后面学习 Modules 的时候, 再具体说.</p><p>这样的代码是否多此一举呢?</p><p>我们定义了 actions, 然后又在 actions 中去进行 commit, 这不是脱裤放屁吗?</p><p>事实上并不是这样, 如果在 Vuex 中有异步操作, 那么我们就可以在 actions 中完成了.</p><h4 id="vuex-异步请求的回调？"><a href="#vuex-异步请求的回调？" class="headerlink" title="vuex 异步请求的回调？"></a><strong>vuex 异步请求的回调？</strong></h4><p><strong>方案一</strong></p><p><strong>1.App.vue(template 阶段，触发点击事件）</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;button @click=&quot;appUpdateInfo()&quot;&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    appUpdateInfo() &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;aUpdateInfo&quot;</span>, &#123;</span><br><span class="line">        message: <span class="string">&quot;我是传入的信息！&quot;</span>,</span><br><span class="line">        success: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;异步操作完成！&quot;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>2.store.js(action 阶段，进行异步请求，并回调）</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">actions:&#123;</span><br><span class="line"><span class="comment">//context 上下文</span></span><br><span class="line">  aUpdateInfo(context,payload)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">      content.commit(<span class="string">&#x27;updateInfo&#x27;</span>);</span><br><span class="line">      payload.success()   <span class="comment">//这里是回调操作</span></span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>方案二</strong></p><p><strong>1.App.vue(template 阶段，触发点击事件）</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;button @click=&quot;appUpdateInfo()&quot;&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    appUpdateInfo() &#123;</span><br><span class="line">      <span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;aUpdateInfo&quot;</span>).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;里面完成了提交！&quot;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>2.store.js(action 阶段，进行异步请求，并回调）</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">actions:&#123;</span><br><span class="line"><span class="comment">//context 上下文</span></span><br><span class="line">  aUpdateInfo(context,payload)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">reslove,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">      content.commit(<span class="string">&#x27;updateInfo&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">3000</span>);</span><br><span class="line">     reslove(<span class="number">111</span>) <span class="comment">//成功执行回调then,并传入参数</span></span><br><span class="line">  &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉Module？"><a href="#🎉Module？" class="headerlink" title="🎉Module？"></a>🎉Module？</h2><p>Module 是模块的意思, 为什么在 Vuex 中我们要使用模块呢?</p><p>Vue 使用单一状态树,那么也意味着很多状态都会交给 Vuex 来管理.</p><p>当应用变得非常复杂时,store 对象就有可能变得相当臃肿.</p><p>为了解决这个问题, Vuex 允许我们将 store 分割成模块(Module), 而每个模块拥有自己的 state、mutations、actions、getters 等。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>:&#123;</span><br><span class="line"> moduleA:&#123;</span><br><span class="line">  state:&#123;...&#125;,</span><br><span class="line">  getters:&#123;...&#125;,</span><br><span class="line">  actions:&#123;...&#125;,</span><br><span class="line">  getters:&#123;...&#125;,</span><br><span class="line"> &#125;,</span><br><span class="line">  moduleB:&#123;</span><br><span class="line">  state:&#123;...&#125;,</span><br><span class="line">  getters:&#123;...&#125;,</span><br><span class="line">  actions:&#123;...&#125;,</span><br><span class="line">  getters:&#123;...&#125;,</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的代码中, 我们已经有了整体的组织结构, 下面我们来看看具体的局部模块中的代码如何书写.<br>我们在 moduleA 中添加 state、mutations、getters、mutations 和 getters 接收的第一个参数是局部状态对象。</p><h4 id="🎉-项目结构？"><a href="#🎉-项目结构？" class="headerlink" title="🎉 项目结构？"></a>🎉 项目结构？</h4><p><img src= "/img/loading.gif" data-lazy-src="https://uploader.shimo.im/f/bUmN1InfJLvGZsjx.png!thumbnail#align=left&display=inline&height=249&margin=%5Bobject%20Object%5D&originHeight=249&originWidth=501&status=done&style=none&width=501"></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的轮播手动置顶文章</title>
      <link href="2020/11/17/2020-11-17/"/>
      <url>2020/11/17/2020-11-17/</url>
      
        <content type="html"><![CDATA[<h2 id="当前教程已暂停维护"><a href="#当前教程已暂停维护" class="headerlink" title="当前教程已暂停维护"></a>当前教程已暂停维护</h2><p>最新教程，请参考最新教程<a href="https://akilar.top/posts/8e1264d1/">akilar- 基于 swiper 的首页置顶轮播图</a></p><h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/top.png#alt=example"></p><p>感谢<a href="https://www.hack-gov.com.cn/">xwcker</a>提供的魔改思路。</p><p>因为置顶文章过多太占位置，所以写了这个手动置顶的部件。</p><p>项目用到了 swiper</p><p>资源包地址：<a href="https://github.com/Zfour/Butterfly-swiper">https://github.com/Zfour/Butterfly-swiper</a></p><p><a href="https://github.com/Zfour/Butterfly-swiper">资源包下载</a></p><p>废话不多说了，开始教学。</p><hr><h2 id="步骤-1：修改-pug-代码"><a href="#步骤-1：修改-pug-代码" class="headerlink" title="步骤 1：修改 pug 代码"></a>步骤 1：修改 pug 代码</h2><blockquote><p>这次由于 vue 没有配置成功，因此打算 2.0 版本再进行 vue 适配。</p></blockquote><h3 id="下载资源包"><a href="#下载资源包" class="headerlink" title="下载资源包"></a>下载资源包</h3><p><a href="https://github.com/Zfour/Butterfly-swiper">资源包下载</a></p><h3 id="增加、替换代码"><a href="#增加、替换代码" class="headerlink" title="增加、替换代码"></a>增加、替换代码</h3><p>前往”根目录\themes\butterfly\layout”文件夹</p><p>将资源包中的”sliderbar.pug”复制到文件夹中。</p><p>将”index.pug”复制并重命名为”index-re.pug”作为备份。</p><p>将资源包 pug 文件夹的 Original 中的”index.pug”覆盖进行替换。</p><p>或者打开”index.pug”按照以下代码进行修改。修改的起始点为”#recent-posts.recent-posts”。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">extends includes&#x2F;layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug</span><br><span class="line">  #recent-posts.recent-posts</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;height:auto;width:100%&#39;)</span><br><span class="line">        include sliderbar.pug</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;height:0px;clear:both;margin-top: 0px;&#39;)</span><br><span class="line">    +postUI</span><br><span class="line">    include includes&#x2F;pagination.pug</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-2：添加引入-js、css-代码"><a href="#步骤-2：添加引入-js、css-代码" class="headerlink" title="步骤 2：添加引入 js、css 代码"></a>步骤 2：添加引入 js、css 代码</h2><h3 id="放置资源包"><a href="#放置资源包" class="headerlink" title="放置资源包"></a>放置资源包</h3><p>将下载包中的 swiper 文件夹放入主题目录的”source”文件夹下。</p><h3 id="引入-js-和-css"><a href="#引入-js-和-css" class="headerlink" title="引入 js 和 css"></a>引入 js 和 css</h3><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/swiper/swiper.min.css&quot;&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/swiper/swiperstyle.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/swiper/swiper.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/swiper/swiperindex.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="步骤-3：填写自定义属性的-js-配置"><a href="#步骤-3：填写自定义属性的-js-配置" class="headerlink" title="步骤 3：填写自定义属性的 js 配置"></a>步骤 3：填写自定义属性的 js 配置</h2><p>本置顶配色完全适配黑暗模式，为主题适配配色。</p><h3 id="配置置顶"><a href="#配置置顶" class="headerlink" title="配置置顶"></a>配置置顶</h3><p>首先这次需要对 pug 进行修改，打开”sliderbar.pug”。</p><p>其中以下代码部分为主要修改项。默认展示五个，你可以通过复制这段代码增加展示的个数。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.blog-slider__item.swiper-slide(style&#x3D;&#39;width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;&#39;)</span><br><span class="line">      .blog-slider__img</span><br><span class="line">        img(src&#x3D;&#39;https:&#x2F;&#x2F;zfe.space&#x2F;images&#x2F;letter&#x2F;m.png(这里配置展示的图片)&#39;, alt&#x3D;&#39;https:&#x2F;&#x2F;zfe.space&#x2F;images&#x2F;letter&#x2F;m.png(这里配置展示的图片)&#39;)</span><br><span class="line">      .blog-slider__content</span><br><span class="line">        span.blog-slider__code 2020-11-05(这里配置文章时间)</span><br><span class="line">        a.blog-slider__title(href&#x3D;&#39;https:&#x2F;&#x2F;zfe.space&#x2F;2020&#x2F;11&#x2F;05&#x2F;2020-11-05&#x2F;&#39;) 教程：基于Butterfly主题的新闻资讯侧边栏(这里配置文章标题和文章链接)</span><br><span class="line">        .blog-slider__text 这个插件基于RollToolsApi,在使用前请先在微信搜索小程序“Roll地盘”获取api.id和api.key。(这里配置文章简介)</span><br><span class="line">        a.blog-slider__button(href&#x3D;&#39;https:&#x2F;&#x2F;zfe.space&#x2F;2020&#x2F;11&#x2F;05&#x2F;2020-11-05&#x2F;&#39;) 详情(这里配置文章链接)</span><br></pre></td></tr></table></figure><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>此时，”hexo g &amp;&amp; hexo s”可发现已加载。</p><p>若有问题请与我邮件联系<a href="mailto:&#x34;&#57;&#x39;&#57;&#x38;&#x34;&#53;&#51;&#50;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;">&#x34;&#57;&#x39;&#57;&#x38;&#x34;&#53;&#51;&#50;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十四、vue中的路由进阶</title>
      <link href="2020/11/15/2020-11-15/"/>
      <url>2020/11/15/2020-11-15/</url>
      
        <content type="html"><![CDATA[<h1 id="路由传递参数的方式？"><a href="#路由传递参数的方式？" class="headerlink" title="路由传递参数的方式？"></a>路由传递参数的方式？</h1><h2 id="🎉params-的类型？"><a href="#🎉params-的类型？" class="headerlink" title="🎉params 的类型？"></a>🎉params 的类型？</h2><p>配置路由格式: /router/:id</p><p>传递的方式: 在 path 后面跟上对应的值</p><p>传递后形成的路径: /router/123, /router/abc</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;路由设置</span><br><span class="line">&#123;</span><br><span class="line">  path:&#39;user&#x2F;:id&#39;，</span><br><span class="line">  comptent:User</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;动态绑定</span><br><span class="line">&lt;router-link :to&#x3D;&quot;&#39;&#x2F;user&#x2F;&#39;+id&quot;&gt;Home&lt;&#x2F;router-link&gt;</span><br><span class="line">&#x2F;&#x2F;拿到链接参数</span><br><span class="line">&#x2F;&#x2F;注意，这里是route指的是子路由也就是组件路由</span><br><span class="line">&lt;h2&gt;&#123;&#123;$route.parms.id&#125;&#125;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><h2 id="🎉query-的类型？"><a href="#🎉query-的类型？" class="headerlink" title="🎉query 的类型？"></a>🎉query 的类型？</h2><p>配置路由格式: /router, 也就是普通配置</p><p>传递的方式: 对象中使用 query 的 key 作为传递方式</p><p>传递后形成的路径: /router?id=123, /router?id=abc</p><blockquote><p>1、传输协议：http，https<br>2、域名： 例<a href="http://www.baidu.com为网站名字./">www.baidu.com为网站名字。</a> baidu.com 为一级域名，www 是服务器<br>3、端口： 不填写的话默认走的是 80 端口号<br>4、路径  <a href="http://www.baidu.com/%E8%B7%AF%E5%BE%841/%E8%B7%AF%E5%BE%841.2%E3%80%82/%E8%A1%A8%E7%A4%BA%E6%A0%B9%E7%9B%AE%E5%BD%95">http://www.baidu.com/路径1/路径1.2。/表示根目录</a><br>5、携带的参数：？name=mo<br>6、哈希值：#dowell</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="tag"><span class="string">&#123;</span></span></span><br><span class="line"><span class="tag"><span class="string">  path:&#x27;/profile&#x27;,</span></span></span><br><span class="line"><span class="tag"><span class="string">  query:&#123;</span></span></span><br><span class="line"><span class="tag"><span class="string">    name:&#x27;zfe&#x27;,</span></span></span><br><span class="line"><span class="tag"><span class="string">    age:&#x27;18&#x27;,</span></span></span><br><span class="line"><span class="tag"><span class="string">    height:&#x27;160cm&#x27;,</span></span></span><br><span class="line"><span class="tag"><span class="string">  &#125;</span></span></span><br><span class="line"><span class="tag"><span class="string">&#125;</span></span></span><br><span class="line"><span class="tag"><span class="string">&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;$route.query.name&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;$route.query.age&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;$route.query.height&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>手动绑定的方式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;linkTouser&quot;&gt;用户&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">---省略代码---</span><br><span class="line"></span><br><span class="line">methods:&#123;</span><br><span class="line">  linkTouser: () &#x3D;&gt; &#123;</span><br><span class="line">    this.$router.push(&#123;</span><br><span class="line">      path:&#39;&#x2F;profile&#39;,</span><br><span class="line">  query:&#123;</span><br><span class="line">    name:&#39;zfe&#39;,</span><br><span class="line">    age:&#39;18&#39;,</span><br><span class="line">    height:&#39;160cm&#39;,</span><br><span class="line">  &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h1 id="router-的区别？"><a href="#router-的区别？" class="headerlink" title="router 的区别？"></a><img src= "/img/loading.gif" data-lazy-src="https://g.yuque.com/gr/latex?route%E5%92%8C#card=math&code=route%E5%92%8C">router 的区别？</h1><h2 id="🎉-router？"><a href="#🎉-router？" class="headerlink" title="🎉$router？"></a>🎉$router？</h2><p>为 VueRouter 实例，想要导航到不同 URL，则使用$router.push 方法</p><h2 id="🎉-route？"><a href="#🎉-route？" class="headerlink" title="🎉$route？"></a>🎉$route？</h2><p>为当前 router 跳转对象里面可以获取 name、path、query、params 等</p><h1 id="为什么使用导航守卫？"><a href="#为什么使用导航守卫？" class="headerlink" title="为什么使用导航守卫？"></a>为什么使用导航守卫？</h1><h2 id="🎉-在一个-SPA-应用中-如何改变网页的标题呢"><a href="#🎉-在一个-SPA-应用中-如何改变网页的标题呢" class="headerlink" title="🎉 在一个 SPA 应用中, 如何改变网页的标题呢?"></a>🎉 在一个 SPA 应用中, 如何改变网页的标题呢?</h2><p>网页标题是通过 title 来显示的, 但是 SPA 只有一个固定的 HTML, 切换不同的页面时, 标题并不会改变.</p><p>但是我们可以通过 JavaScript 来修改 title 标签的内容.window.document.title = ‘新的标题’.</p><h2 id="🎉Vue-项目中普通的修改方式？"><a href="#🎉Vue-项目中普通的修改方式？" class="headerlink" title="🎉Vue 项目中普通的修改方式？"></a>🎉Vue 项目中普通的修改方式？</h2><p>我们比较容易想到的修改标题的位置是每一个路由对应的组件.vue 文件中.</p><p>通过 mounted 声明周期函数, 执行对应的代码进行修改即可.</p><p>但是当页面比较多时, 这种方式不容易维护(因为需要在多个页面执行类似的代码).</p><p>有没有更好的办法呢? 使用导航守卫即可.</p><h2 id="🎉-什么是导航守卫"><a href="#🎉-什么是导航守卫" class="headerlink" title="🎉 什么是导航守卫?"></a>🎉 什么是导航守卫?</h2><p>vue-router 提供的导航守卫主要用来监听监听路由的进入和离开的.</p><p>vue-router 提供了 beforeEach 和 afterEach 的钩子函数, 它们会在路由即将改变前和改变后触发.</p><p>我们可以利用 beforeEach 来完成标题的修改.</p><p>首先, 我们可以在钩子当中定义一些标题, 可以利用 meta 来定义</p><p>其次, 利用导航守卫,修改我们的标题</p><p>to: 即将要进入的目标的路由对象</p><p>from: 当前导航即将要离开的路由对象</p><p>next: 调用该方法后, 才能进入下一个钩子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前置钩子</span></span><br><span class="line">roter.beforeEach(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  windows.document.title = to.meta.title;</span><br><span class="line">  <span class="comment">// windows.document.title = to.matched[0].meta.title</span></span><br><span class="line">  <span class="comment">//首页的特殊情况</span></span><br><span class="line">  next();</span><br><span class="line">  <span class="comment">//这里必须传入next()，调用该方法后, 才能进入下一个钩子</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//后置钩子</span></span><br><span class="line">roter.afterEach(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  windows.document.title = to.meta.title;</span><br><span class="line">  <span class="comment">// windows.document.title = to.matched[0].meta.title</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>参考资料<br>路由独享的守卫.<br>组件内的守卫.<br><a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E8%B7%AF%E7%94%B1%E7%8B%AC%E4%BA%AB%E7%9A%84%E5%AE%88%E5%8D%AB">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E8%B7%AF%E7%94%B1%E7%8B%AC%E4%BA%AB%E7%9A%84%E5%AE%88%E5%8D%AB</a></p></blockquote><h1 id="keep-alive-？"><a href="#keep-alive-？" class="headerlink" title="keep-alive ？"></a>keep-alive ？</h1><h2 id="🎉-概念？"><a href="#🎉-概念？" class="headerlink" title="🎉 概念？"></a>🎉 概念？</h2><p>keep-alive 是 Vue 内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染。</p><h2 id="🎉-它们有两个非常重要的属性？"><a href="#🎉-它们有两个非常重要的属性？" class="headerlink" title="🎉 它们有两个非常重要的属性？"></a>🎉 它们有两个非常重要的属性？</h2><p>include - 字符串或正则表达，只有匹配的组件会被缓存</p><p>exclude - 字符串或正则表达式，任何匹配的组件都不会被缓存</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">exclude</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="🎉router-view-包裹在-keep-alive-里面？"><a href="#🎉router-view-包裹在-keep-alive-里面？" class="headerlink" title="🎉router-view 包裹在 keep-alive 里面？"></a>🎉router-view 包裹在 keep-alive 里面？</h2><p>router-view 也是一个组件，如果直接被包在 keep-alive 里面，所有路径匹配到的视图组件都会被缓存：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--所有路径匹配到的组件将会被缓存--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><p>通过 create 声明周期函数来验证</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteLeave()&#123;</span><br><span class="line"><span class="built_in">this</span>,path = <span class="built_in">this</span>.$route.path</span><br><span class="line"><span class="comment">//在离开子路由的时候保存当前组件的子路由的路径</span></span><br><span class="line">&#125;,</span><br><span class="line">activated()&#123;</span><br><span class="line">  <span class="built_in">this</span>.$router.push(<span class="built_in">this</span>.path)</span><br><span class="line">  <span class="comment">//在当前组件活跃的时候传入之前离开时的子路由路径</span></span><br><span class="line">&#125;</span><br><span class="line">destroyed()&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//activated()和destroyed()只会在使用&lt;keep-alive&gt;时才会被调用</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十三、vue中的脚手架v3和路由基础</title>
      <link href="2020/11/14/2020-11-14/"/>
      <url>2020/11/14/2020-11-14/</url>
      
        <content type="html"><![CDATA[<h1 id="Runtime-Compiler-和-Runtime-only-的区别？"><a href="#Runtime-Compiler-和-Runtime-only-的区别？" class="headerlink" title="Runtime-Compiler 和 Runtime-only 的区别？"></a>Runtime-Compiler 和 Runtime-only 的区别？</h1><h2 id="🎉-代码区别？"><a href="#🎉-代码区别？" class="headerlink" title="🎉 代码区别？"></a>🎉 代码区别？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Runtime-Compiler</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//Runtime-only</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  render: funtion (h) &#123;</span><br><span class="line">    <span class="keyword">return</span> h(app)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="🎉-运行流程？"><a href="#🎉-运行流程？" class="headerlink" title="🎉 运行流程？"></a>🎉 运行流程？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;Runtime-Compiler(v1)</span><br><span class="line">&#x2F;&#x2F;template -&gt; ast -&gt; render -&gt;vdom -&gt; UI</span><br><span class="line">&#x2F;&#x2F;Runtime-only(v2)  1.下面性能更好2.下面代码量更少</span><br><span class="line">&#x2F;&#x2F;render -&gt; vdom -&gt; UI</span><br><span class="line">&#x2F;&#x2F;那么.vue中的template由什么来处理的呢？</span><br><span class="line">&#x2F;&#x2F;vue-template-compiler来处理的</span><br></pre></td></tr></table></figure><h1 id="脚手架-vue-cli3？"><a href="#脚手架-vue-cli3？" class="headerlink" title="脚手架 vue-cli3？"></a>脚手架 vue-cli3？</h1><h2 id="🎉-区别？"><a href="#🎉-区别？" class="headerlink" title="🎉 区别？"></a>🎉 区别？</h2><p>vue-cli 3 与 2 版本有很大区别。</p><p>vue-cli 3 是基于 webpack 4 打造，vue-cli 2 还是 webapck 3。</p><p>vue-cli 3 的设计原则是“0 配置”，移除的配置文件根目录下的，build 和 config 等目录。</p><p>vue-cli 3 提供了 vue ui 命令，提供了可视化配置，更加人性化。</p><p>移除了 static 文件夹，新增了 public 文件夹，并且 index.html 移动到 public 中。</p><h2 id="🎉-配置？"><a href="#🎉-配置？" class="headerlink" title="🎉 配置？"></a>🎉 配置？</h2><p><img src= "/img/loading.gif" data-lazy-src="https://uploader.shimo.im/f/V4mnbnRG63ZBsaId.png!thumbnail#align=left&display=inline&height=373&margin=%5Bobject%20Object%5D&originHeight=373&originWidth=908&status=done&style=none&width=908"></p><h2 id="🎉-文件夹含义？"><a href="#🎉-文件夹含义？" class="headerlink" title="🎉 文件夹含义？"></a>🎉 文件夹含义？</h2><p><img src= "/img/loading.gif" data-lazy-src="https://uploader.shimo.im/f/OHPkcH8y1YbLEXIM.png!thumbnail#align=left&display=inline&height=429&margin=%5Bobject%20Object%5D&originHeight=429&originWidth=895&status=done&style=none&width=895"></p><h2 id="🎉-图形界面？"><a href="#🎉-图形界面？" class="headerlink" title="🎉 图形界面？"></a>🎉 图形界面？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$vue ui</span><br></pre></td></tr></table></figure><h1 id="箭头函数？"><a href="#箭头函数？" class="headerlink" title="箭头函数？"></a>箭头函数？</h1><h2 id="🎉-是什么？"><a href="#🎉-是什么？" class="headerlink" title="🎉 是什么？"></a>🎉 是什么？</h2><p>箭头函数也是一种定义函数的方式。</p><h2 id="🎉-怎么用？"><a href="#🎉-怎么用？" class="headerlink" title="🎉 怎么用？"></a>🎉 怎么用？</h2><p><strong>普通用法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> aaa = <span class="function">(<span class="params">参数列表</span>) =&gt;</span> &#123;&#125;;</span><br></pre></td></tr></table></figure><p><strong>两个参数</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bbb = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>一个参数</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ccc = <span class="function">(<span class="params">a</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a * a;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>一行代码</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ddd = <span class="function">(<span class="params">a</span>) =&gt;</span> a * a;</span><br><span class="line"><span class="keyword">const</span> sss = <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&quot;hahaha&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>this 的使用</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;问题：箭头函数的this是如何查找的？</span><br><span class="line">&#x2F;&#x2F;答案：向外层作用域中，一层一层查找this，直到有this的定义。</span><br></pre></td></tr></table></figure><h1 id="什么是路由和映射关系？"><a href="#什么是路由和映射关系？" class="headerlink" title="什么是路由和映射关系？"></a>什么是路由和映射关系？</h1><h2 id="🎉-说起路由你想起了什么？"><a href="#🎉-说起路由你想起了什么？" class="headerlink" title="🎉 说起路由你想起了什么？"></a>🎉 说起路由你想起了什么？</h2><p>路由是一个网络工程里面的术语。</p><p>路由（routing）就是通过互联的网络把信息从源地址传输到目的地址的活动. — 维基百科</p><h2 id="🎉-什么是路由？"><a href="#🎉-什么是路由？" class="headerlink" title="🎉 什么是路由？"></a>🎉 什么是路由？</h2><p>在生活中, 我们有没有听说过路由的概念呢? 当然了, 路由器嘛.</p><p>路由器是做什么的? 你有想过吗?</p><p>路由器提供了两种机制: 路由和转送.</p><p>路由是决定数据包从来源到目的地的路径.</p><p>转送将输入端的数据转移到合适的输出端.</p><p>路由中有一个非常重要的概念叫路由表.</p><p>路由表本质上就是一个映射表, 决定了数据包的指向.</p><h2 id="🎉-什么是前端渲染，什么是后端渲染？"><a href="#🎉-什么是前端渲染，什么是后端渲染？" class="headerlink" title="🎉 什么是前端渲染，什么是后端渲染？"></a>🎉 什么是前端渲染，什么是后端渲染？</h2><p>1.后端渲染</p><p>jsp/php</p><p>2.前端渲染</p><p>通过 ajax 向服务器发送请求，通过其他 js 来展示获得的数据。</p><h2 id="🎉-什么是后端路由？"><a href="#🎉-什么是后端路由？" class="headerlink" title="🎉 什么是后端路由？"></a>🎉 什么是后端路由？</h2><p><strong>早期的网站开发整个 HTML 页面是由服务器来渲染的.</strong></p><p>服务器直接生产渲染好对应的 HTML 页面, 返回给客户端进行展示.</p><p><strong>但是, 一个网站, 这么多页面服务器如何处理呢?</strong></p><p>一个页面有自己对应的网址, 也就是 URL.</p><p>URL 会发送到服务器, 服务器会通过正则对该 URL 进行匹配, 并且最后交给一个 Controller 进行处理.</p><p>Controller 进行各种处理, 最终生成 HTML 或者数据, 返回给前端.</p><p>这就完成了一个 IO 操作.</p><p><strong>上面的这种操作, 就是后端路由.</strong></p><p>当我们页面中需要请求不同的路径内容时, 交给服务器来进行处理, 服务器渲染好整个页面, 并且将页面返回给客户顿.</p><p>这种情况下渲染好的页面, 不需要单独加载任何的 js 和 css, 可以直接交给浏览器展示, 这样也有利于 SEO 的优化.</p><p><strong>后端路由的缺点:</strong></p><p>一种情况是整个页面的模块由后端人员来编写和维护的.</p><p>另一种情况是前端开发人员如果要开发页面, 需要通过 PHP 和 Java 等语言来编写页面代码.</p><p>而且通常情况下 HTML 代码和数据以及对应的逻辑会混在一起, 编写和维护都是非常糟糕的事情.</p><h2 id="🎉-什么是前后端分离？"><a href="#🎉-什么是前后端分离？" class="headerlink" title="🎉 什么是前后端分离？"></a>🎉 什么是前后端分离？</h2><p><strong>前后端分离阶段：</strong></p><p>随着 Ajax 的出现, 有了前后端分离的开发模式.</p><p>后端只提供 API 来返回数据, 前端通过 Ajax 获取数据, 并且可以通过 JavaScript 将数据渲染到页面中.</p><p>这样做最大的优点就是前后端责任的清晰, 后端专注于数据上, 前端专注于交互和可视化上.</p><p>并且当移动端(iOS/Android)出现后, 后端不需要进行任何处理, 依然使用之前的一套 API 即可.</p><p>目前很多的网站依然采用这种模式开发.</p><h2 id="🎉-什么是单页面富应用阶段？"><a href="#🎉-什么是单页面富应用阶段？" class="headerlink" title="🎉 什么是单页面富应用阶段？"></a>🎉 什么是单页面富应用阶段？</h2><p>单页面富应用阶段:</p><p>其实 SPA 最主要的特点就是在前后端分离的基础上加了一层前端路由.</p><p>也就是前端来维护一套路由规则.</p><p>前端路由的核心是什么呢？</p><p>改变 URL，但是页面不进行整体的刷新。</p><p>如何实现呢？</p><h1 id="如何改变-url-不使页面刷新？"><a href="#如何改变-url-不使页面刷新？" class="headerlink" title="如何改变 url 不使页面刷新？"></a>如何改变 url 不使页面刷新？</h1><h2 id="🎉location-hash？"><a href="#🎉location-hash？" class="headerlink" title="🎉location.hash？"></a>🎉location.hash？</h2><p>URL 的 hash</p><p>URL 的 hash 也就是锚点(#), 本质上是改变 window.location 的 href 属性.</p><p>我们可以通过直接赋值 location.hash 来改变 href, 但是页面不发生刷新</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location.href = <span class="string">&quot;aaa&quot;</span>; <span class="comment">//这种会进行跳转</span></span><br><span class="line">location.hash = <span class="string">&quot;aaa&quot;</span>; <span class="comment">//这种不会进行跳转</span></span><br></pre></td></tr></table></figure><h2 id="🎉HTML5-的-history-模式"><a href="#🎉HTML5-的-history-模式" class="headerlink" title="🎉HTML5 的 history 模式?"></a>🎉HTML5 的 history 模式?</h2><p>history 接口是 HTML5 新增的, 它有五种模式改变 URL 而不刷新页面.</p><p><strong>history.pushState() 类似一种栈结构，可点击返回和前进</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.pushState(&#123;&#125;, <span class="string">&quot;&quot;</span>, <span class="string">&quot;/foo&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>history.replaceState() 无法返回</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.replaceState(&#123;&#125;, <span class="string">&quot;&quot;</span>, <span class="string">&quot;/foo&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>history.go()</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.go(<span class="number">-1</span>); <span class="comment">//数字代表栈弹出的数量</span></span><br></pre></td></tr></table></figure><p>上面只演示了三个方法</p><p>因为 history.back() 等价于 history.go(-1)</p><p>history.forward() 则等价于 history.go(1)</p><p>这三个接口等同于浏览器界面的前进后退。</p><h1 id="vue-router？"><a href="#vue-router？" class="headerlink" title="vue-router？"></a>vue-router？</h1><h2 id="🎉-认识-vue-router？"><a href="#🎉-认识-vue-router？" class="headerlink" title="🎉 认识 vue-router？"></a>🎉 认识 vue-router？</h2><p>vue-router 是 Vue.js 官方的路由插件，它和 vue.js 是深度集成的，适合用于构建单页面应用。</p><p>我们可以访问其官方网站对其进行学习:<a href="https://router.vuejs.org/zh/">https://router.vuejs.org/zh/</a></p><h2 id="🎉-安装和使用-vue-router？"><a href="#🎉-安装和使用-vue-router？" class="headerlink" title="🎉 安装和使用 vue-router？"></a>🎉 安装和使用 vue-router？</h2><h4 id="安装-vue-router"><a href="#安装-vue-router" class="headerlink" title="安装 vue-router"></a>安装 vue-router</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$npm</span> install vue<span class="literal">-router</span> -<span class="literal">-save</span></span><br></pre></td></tr></table></figure><h4 id="引入-vue-router"><a href="#引入-vue-router" class="headerlink" title="引入 vue-router"></a>引入 vue-router</h4><p>在模块化工程中使用它(因为是一个插件, 所以可以通过 Vue.use()来安装路由功能)</p><p>第一步：导入路由对象，并且调用 Vue.use(VueRouter)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&quot;../views/Home.vue&quot;</span>; <span class="comment">//这里是导入需要路由的组件</span></span><br><span class="line">Vue.use(VueRouter);</span><br></pre></td></tr></table></figure><p>第二步：创建路由实例，并且传入路由映射配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  <span class="comment">//创建路由数组</span></span><br><span class="line">];</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes, <span class="comment">//配置路由和组件之间的关系</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//将router对象传入到实例中</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p>第三步：在 Vue 实例中挂载创建的路由实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>; <span class="comment">//导入</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router, <span class="comment">//挂载</span></span><br><span class="line">  render: <span class="function">(<span class="params">h</span>) =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="使用-vue-router"><a href="#使用-vue-router" class="headerlink" title="使用 vue-router"></a>使用 vue-router</h4><p>第一步: 创建路由组件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">About.vue &#x2F;&#x2F;关于</span><br><span class="line">Home.vue &#x2F;&#x2F;首页</span><br></pre></td></tr></table></figure><p>第二步: 配置路由映射: 组件和路径映射关系</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;Home&quot;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//配置路由和组件之间的关系</span></span><br><span class="line">    path: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    name: <span class="string">&quot;About&quot;</span>,</span><br><span class="line">    <span class="comment">// route level code-splitting</span></span><br><span class="line">    <span class="comment">// this generates a separate chunk (about.[hash].js) for this route</span></span><br><span class="line">    <span class="comment">// which is lazy-loaded when the route is visited.</span></span><br><span class="line">    component: <span class="function">() =&gt;</span></span><br><span class="line">      <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="string">&quot;../views/About.vue&quot;</span>),</span><br><span class="line">    <span class="comment">//这里使用了路由的懒加载</span></span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>第三步: 使用路由: 通过和</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="🎉vue-router-的使用技巧？"><a href="#🎉vue-router-的使用技巧？" class="headerlink" title="🎉vue-router 的使用技巧？"></a>🎉vue-router 的使用技巧？</h2><h4 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h4><p>我们在 routes 中又配置了一个映射.</p><p>path 配置的是根路径: /</p><p>redirect 是重定向, 也就是我们将根路径重定向到/home 的路径下, 这样就可以得到我们想要的结果了.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path:&#39;&#x2F;&#39;,</span><br><span class="line">  redirect:&#39;&#x2F;home&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="使链接的-消失"><a href="#使链接的-消失" class="headerlink" title="使链接的#消失"></a>使链接的#消失</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes,</span><br><span class="line">  mode: <span class="string">&quot;history&quot;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="router-link-补充？"><a href="#router-link-补充？" class="headerlink" title="router-link 补充？"></a>router-link 补充？</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&#x27;/home&#x27;</span> <span class="attr">tag</span>=<span class="string">&#x27;li&#x27;</span> <span class="attr">replace</span> <span class="attr">active-class</span>=<span class="string">&#x27;active&#x27;</span> &gt;</span></span><br></pre></td></tr></table></figure><p>还有一些其他属性:<br>to: 用于指定跳转的路径.</p><p>tag: tag 可以指定之后渲染成什么组件, 比如上面的代码会被渲染成一个</p><ul><li>元素, 而不是</li></ul><p>replace: replace 不会留下 history 记录, 所以指定 replace 的情况下, 后退键返回不能返回到上一个页面中</p><p>active-class: 当对应的路由匹配成功时, 会自动给当前元素设置一个 router-link-active 的 class, 设置 active-class 可以修改默认的名称.该 class 具体的名称也可以通过 router 实例的属性进行修改</p><p>在进行高亮显示的导航菜单或者底部 tabbar 时, 会使用到该类.</p><p>但是通常不会修改类的属性, 会直接使用默认的 router-link-active 即可.</p><h4 id="router-link-的自定义事件跳转？"><a href="#router-link-的自定义事件跳转？" class="headerlink" title="router-link 的自定义事件跳转？"></a>router-link 的自定义事件跳转？</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;linkTohome&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">---省略代码---</span><br><span class="line">methods:&#123;</span><br><span class="line">  linkTohome: () =&gt; &#123;</span><br><span class="line">    this.$router.push(&#x27;/home&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉vue-router-的动态加载？"><a href="#🎉vue-router-的动态加载？" class="headerlink" title="🎉vue-router 的动态加载？"></a>🎉vue-router 的动态加载？</h2><h4 id="动态路由？"><a href="#动态路由？" class="headerlink" title="动态路由？"></a>动态路由？</h4><p>在某些情况下，一个页面的 path 路径可能是不确定的，比如我们进入用户界面时，希望是如下的路径：</p><p>/user/aaaa 或/user/bbbb</p><p>除了有前面的/user 之外，后面还跟上了用户的 ID</p><p>这种 path 和 Component 的匹配关系，我们称之为动态路由(也是路由传递数据的一种方式)。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;路由设置</span><br><span class="line">&#123;</span><br><span class="line">  path:&#39;user&#x2F;:id&#39;，</span><br><span class="line">  comptent:User</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;动态绑定</span><br><span class="line">&lt;router-link :to&#x3D;&quot;&#39;&#x2F;user&#x2F;&#39;+id&quot;&gt;Home&lt;&#x2F;router-link&gt;</span><br><span class="line">&#x2F;&#x2F;拿到链接参数</span><br><span class="line">&#x2F;&#x2F;注意，这里是route指的是子路由也就是组件路由</span><br><span class="line">&lt;h2&gt;&#123;&#123;$route.parms.id&#125;&#125;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><h4 id="路由的懒加载？"><a href="#路由的懒加载？" class="headerlink" title="路由的懒加载？"></a>路由的懒加载？</h4><p><strong>官方给出了解释:</strong></p><p>当打包构建应用时，Javascript 包会变得非常大，影响页面加载。</p><p>如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应组件，这样就更加高效了</p><p><strong>官方在说什么呢?</strong></p><p>首先, 我们知道路由中通常会定义很多不同的页面.</p><p>这个页面最后被打包在哪里呢? 一般情况下, 是放在一个 js 文件中.</p><p>但是, 页面这么多放在一个 js 文件中, 必然会造成这个页面非常的大.</p><p>如果我们一次性从服务器请求下来这个页面, 可能需要花费一定的时间, 甚至用户的电脑上还出现了短暂空白的情况.</p><p>如何避免这种情况呢? 使用路由懒加载就可以了.</p><p><strong>路由懒加载做了什么?</strong></p><p>路由懒加载的主要作用就是将路由对应的组件打包成一个个的 js 代码块.</p><p>只有在这个路由被访问到的时候, 才加载对应的组</p><p><strong>怎么写？</strong></p><p>三种方式。</p><p><strong>方式一：结合 vue 的异步组件和 webpack 的代码分析。</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">require</span>.ensure([<span class="string">&quot;../components/Home.vue&quot;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="built_in">require</span>(<span class="string">&quot;../components/Home.vue&quot;</span>));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>方式二: AMD 写法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> About = <span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">require</span>([<span class="string">&quot;../components/About.vue&quot;</span>], resolve);</span><br></pre></td></tr></table></figure><p><strong>方式三: 在 ES6 中, 我们可以有更加简单的写法来组织 Vue 异步组件和 Webpack 的代码分割</strong>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const Home &#x3D; () &#x3D;&gt; import(&#39;..&#x2F;components&#x2F;Home.vue&#39;)</span><br></pre></td></tr></table></figure><p>此时需要修改</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//import Home from &#x27;../views/Home.vue&#x27;//这里是之前的导入方式</span></span><br><span class="line"><span class="keyword">const</span> Home = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../components/Home.vue&quot;</span>);</span><br><span class="line"><span class="comment">//这里是现在的导入方式</span></span><br></pre></td></tr></table></figure><h4 id="嵌套路由？"><a href="#嵌套路由？" class="headerlink" title="嵌套路由？"></a><strong>嵌套路由？</strong></h4><p>嵌套路由是一个很常见的功能</p><p>比如在 home 页面中, 我们希望通过/home/news 和/home/message 访问一些内容.</p><p>一个路径映射一个组件, 访问这两个路径也会分别渲染两个组件.</p><p>路径和组件的关系如下:</p><p><img src= "/img/loading.gif" data-lazy-src="https://uploader.shimo.im/f/vd1pURLTyTIxbibz.png!thumbnail#align=left&display=inline&height=255&margin=%5Bobject%20Object%5D&originHeight=255&originWidth=253&status=done&style=none&width=253"></p><p>实现嵌套路由有两个步骤:</p><p>创建对应的子组件, 并且在路由映射中配置对应的子路由.</p><p>在组件内部使用标签.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义两个子组件</span></span><br><span class="line">HomeNews.vue</span><br><span class="line">HomeMessage.vue</span><br><span class="line"><span class="comment">//在Home.vue中插入&lt;router-link&gt;和&lt;router-view&gt;</span></span><br><span class="line">&lt;router-link to=<span class="string">&#x27;/home/news&#x27;</span>&gt;&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=<span class="string">&#x27;/home/message&#x27;</span>&gt;&lt;/router-link&gt;</span><br><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line"><span class="comment">//引入到路由main.js中</span></span><br><span class="line"><span class="keyword">const</span> HomeNews = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/HomeNews.vue&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HomeMessage = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/HomeMessage.vue&#x27;</span>)</span><br><span class="line"><span class="comment">//配置子路由</span></span><br><span class="line">&#123;</span><br><span class="line">  path:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">  componet:Home,</span><br><span class="line">  children:[</span><br><span class="line">  &#123;</span><br><span class="line">    path:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    redirect:<span class="string">&#x27;news&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">    component:HomeNews</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path:<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">    component:HomeMessage</span><br><span class="line">  &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十二、vue中的webpack配置和脚手架v2</title>
      <link href="2020/11/11/2020-11-11/"/>
      <url>2020/11/11/2020-11-11/</url>
      
        <content type="html"><![CDATA[<h1 id="在-webpack-中配置-vue-的过程？"><a href="#在-webpack-中配置-vue-的过程？" class="headerlink" title="在 webpack 中配置 vue 的过程？"></a>在 webpack 中配置 vue 的过程？</h1><h2 id="🎉-引入-vue-js"><a href="#🎉-引入-vue-js" class="headerlink" title="🎉 引入 vue.js?"></a>🎉 引入 vue.js?</h2><p>后续项目中，我们会使用 Vuejs 进行开发，而且会以特殊的文件来组织 vue 的组件。</p><p>所以，下面我们来学习一下如何在我们的 webpack 环境中集成 Vuejs。</p><p>现在，我们希望在项目中使用 Vuejs，那么必然需要对其有依赖，所以需要先进行安装。</p><blockquote><p>注：因为我们后续是在实际项目中也会使用 vue 的，所以并不是开发时依赖-D 而是生产依赖-S。</p></blockquote><p>因此安装命令为：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> vue <span class="literal">-D</span></span><br></pre></td></tr></table></figure><p>安装完成后可使用命令引入并使用 vuejs：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">&quot;hello!&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>runtime-only 和 runtime-compiler 存在区别。</p><p>runtime-only 不能包含 temple，但 new vue 的时候创建了默认的 temple。因此我们需要切换到 runtime-compiler。切换方法修改 webpack.config.js 为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&quot;./src/index.js&quot;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">    path: resolve(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    <span class="comment">//这里是声明别名</span></span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="comment">//这里指定使用的版本</span></span><br><span class="line">      vue$: <span class="string">&quot;vue/dist/vue.esm.js&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="在-webpack-中使用-vue？"><a href="#在-webpack-中使用-vue？" class="headerlink" title="在 webpack 中使用 vue？"></a>在 webpack 中使用 vue？</h1><h2 id="🎉el-和-template？"><a href="#🎉el-和-template？" class="headerlink" title="🎉el 和 template？"></a>🎉el 和 template？</h2><p>如果我们希望将 data 中的数据显示在界面中，就必须是修改 index.html。</p><p>如果我们后面自定义了组件，也必须修改 index.html 来使用组件</p><p>但是 html 模板在之后的开发中，我并不希望手动的来频繁修改，是否可以做到呢？</p><p>定义 template 属性：</p><p>在前面的 Vue 实例中，我们定义了 el 属性，用于和 index.html 中的#app 进行绑定，让 Vue 实例之后可以管理它其中的内容。</p><p>这里，我们可以将 div 元素中的内容删掉，只保留一个基本的 id 为 div 的元素。</p><p>但是如果我依然希望在其中显示的内容，应该怎么处理呢？</p><p>我们可以再定义一个 template 属性，代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;&#123;&#123;age&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;p&gt;&#123;&#123;name&#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">&quot;hello!&quot;</span>,</span><br><span class="line">    age: <span class="number">17</span>,</span><br><span class="line">    name: <span class="string">&quot;zfe&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="vue-文件的封装？"><a href="#vue-文件的封装？" class="headerlink" title=".vue 文件的封装？"></a>.vue 文件的封装？</h2><p>将原有的 js 中的 template 模板中的内容进行抽离。</p><p>抽离的结果。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./vue/app.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">  template: <span class="string">`&lt;App/&gt;`</span>,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>通过.vue 文件分成三部分书写：template、script、style，结构变得非常清晰。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--这里放模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;age&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;add(1,2)&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--这里放脚本--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">//这里可以引入其他.vue文件</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Cpn <span class="keyword">from</span> <span class="string">&#x27;./Cpn.vue&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        name: <span class="string">&quot;app&quot;</span>,</span></span><br><span class="line">        components:&#123;Cpn&#125;,</span><br><span class="line">        data() &#123;</span><br><span class="line"><span class="javascript">           <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                message: <span class="string">&#x27;hello!&#x27;</span>,</span></span><br><span class="line">                    age: 17,</span><br><span class="line"><span class="javascript">                name: <span class="string">&#x27;zfe&#x27;</span></span></span><br><span class="line">           &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            add(a,b)&#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> a + b</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--这里放样式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">  p&#123;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span><span class="selector-pseudo">:blue</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>需要事先安装依赖。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> vue<span class="literal">-loader</span> vue<span class="literal">-template</span><span class="literal">-compiler</span> vue<span class="literal">-loader</span><span class="literal">-plugin</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><p>在 index.js 中引入。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="comment">//引入vue-loader-plugin</span></span><br><span class="line"><span class="keyword">const</span> VueLoaderPlugin = <span class="built_in">require</span>(<span class="string">&quot;vue-loader-plugin&quot;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&quot;./src/index.js&quot;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">    path: resolve(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">//使用vue-loader加载.vue文件</span></span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        use: [<span class="string">&quot;vue-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">//使用vue-loader-plugin</span></span><br><span class="line">    <span class="keyword">new</span> VueLoaderPlugin(),</span><br><span class="line">  ],</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      vue$: <span class="string">&quot;vue/dist/vue.esm.js&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ps:后缀名的省略方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">extensions:[<span class="string">&#x27;.js&#x27;</span>,<span class="string">&#x27;.vue&#x27;</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="给代码加上版权声明？"><a href="#给代码加上版权声明？" class="headerlink" title="给代码加上版权声明？"></a>给代码加上版权声明？</h1><h2 id="🎉-实现方法？"><a href="#🎉-实现方法？" class="headerlink" title="🎉 实现方法？"></a>🎉 实现方法？</h2><p>导入</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&quot;webpack&quot;</span>);</span><br></pre></td></tr></table></figure><p>使用插件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">  <span class="comment">//使用webpack.BannerPlugin</span></span><br><span class="line">  <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&quot;最终版权由冰卡诺所有&quot;</span>),</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h1 id="将代码合并实现不同配置？"><a href="#将代码合并实现不同配置？" class="headerlink" title="将代码合并实现不同配置？"></a>将代码合并实现不同配置？</h1><h2 id="🎉-实现方法？-1"><a href="#🎉-实现方法？-1" class="headerlink" title="🎉 实现方法？"></a>🎉 实现方法？</h2><p>安装</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> webpack<span class="literal">-merge</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><p>导入</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> WebpackMerge = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>);</span><br><span class="line"><span class="comment">//导入公共参数</span></span><br><span class="line"><span class="keyword">const</span> BaseConfig = <span class="built_in">require</span>(<span class="string">&#x27;./base.config.js&#x27;</span>);</span><br><span class="line"><span class="comment">//合并参数</span></span><br><span class="line"><span class="built_in">module</span>.exports = WebpackMerge(BaseConfig,&#123;...&#125;)</span><br></pre></td></tr></table></figure><p>设置 package.json</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生产环境webpack打包指令</span></span><br><span class="line"><span class="string">&quot;build&quot;</span>:<span class="string">&quot;webpack --config 生产环境的config文件目录&quot;</span></span><br><span class="line"><span class="comment">//开发环境webpack打包指令</span></span><br><span class="line"><span class="string">&quot;build&quot;</span>:<span class="string">&quot;webpack --config 开发环境的config文件目录&quot;</span></span><br></pre></td></tr></table></figure><h1 id="什么是-vue-cli？"><a href="#什么是-vue-cli？" class="headerlink" title="什么是 vue-cli？"></a>什么是 vue-cli？</h1><h2 id="🎉-什么是脚手架？"><a href="#🎉-什么是脚手架？" class="headerlink" title="🎉 什么是脚手架？"></a>🎉 什么是脚手架？</h2><p>如果你只是简单写几个 Vue 的 Demo 程序, 那么你不需要 Vue CLI。</p><p>如果你在开发大型项目, 那么你需要, 并且必然需要使用 Vue CLI。</p><p>使用 Vue.js 开发大型应用时，我们需要考虑代码目录结构、项目结构和部署、热加载、代码单元测试等事情。</p><p>如果每个项目都要手动完成这些工作，那无以效率比较低效，所以通常我们会使用一些脚手架工具来帮助完成这些事情。</p><h2 id="🎉CLI-是什么意思"><a href="#🎉CLI-是什么意思" class="headerlink" title="🎉CLI 是什么意思?"></a>🎉CLI 是什么意思?</h2><p>CLI 是 Command-Line Interface, 翻译为命令行界面, 但是俗称脚手架。</p><p>Vue CLI 是一个官方发布 vue.js 项目脚手架。</p><p>使用 vue-cli 可以快速搭建 Vue 开发环境以及对应的 webpack 配置。</p><h2 id="🎉-依赖"><a href="#🎉-依赖" class="headerlink" title="🎉 依赖?"></a>🎉 依赖?</h2><p>依赖 node 和 webpack。</p><h1 id="vue-cli2-0-的安装与使用？"><a href="#vue-cli2-0-的安装与使用？" class="headerlink" title="vue-cli2.0 的安装与使用？"></a>vue-cli2.0 的安装与使用？</h1><h2 id="🎉-安装"><a href="#🎉-安装" class="headerlink" title="🎉 安装?"></a>🎉 安装?</h2><p>由于目前元 vue-cli 插件已经更名为@vue/cli 所以为了使用旧版，需要额外安装一个依赖。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i  @vue/<span class="built_in">cli</span><span class="literal">-init</span></span><br></pre></td></tr></table></figure><p>使用以下命令拉取 vue-cli2.0 模板</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$vue</span> init webpack my<span class="literal">-project</span></span><br></pre></td></tr></table></figure><p>回车后开始选择配置项</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$</span>？Project name //项目名称不能包含大写</span><br><span class="line"><span class="variable">$</span>？Project description  //项目的描述信息</span><br><span class="line"><span class="variable">$</span>？Author //作者信息，默认从git中获取</span><br><span class="line"><span class="variable">$</span>？Vue build //选择构建的模式 runtime<span class="literal">-only</span>或runtime<span class="literal">-compiler</span></span><br><span class="line"><span class="variable">$</span>？Install vue<span class="literal">-router</span>？  //是否安装路由</span><br><span class="line"><span class="variable">$</span>？Use ESLint to lint your code？//是否检测代码规范</span><br><span class="line"><span class="variable">$</span>？<span class="built_in">Set</span> up unit tests //是否写单元测试</span><br><span class="line"><span class="variable">$</span>？<span class="built_in">Set</span> e2e tests with Nightwatch？//是否进行e2e测试</span><br><span class="line"><span class="variable">$</span>？Should we run `npm install` <span class="keyword">for</span> you after the project has been created? (recommended) //选择node管理器</span><br></pre></td></tr></table></figure><p>目录结构</p><p><img src= "/img/loading.gif" data-lazy-src="https://uploader.shimo.im/f/rQNv0NFxlxM9bCXq.png!thumbnail#align=left&display=inline&height=572&margin=%5Bobject%20Object%5D&originHeight=572&originWidth=885&status=done&style=none&width=885"></p><h2 id="🎉-使用"><a href="#🎉-使用" class="headerlink" title="🎉 使用?"></a>🎉 使用?</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;webpack-dev-server --inline --progress --config build/webpack.dev.conf.js&quot;</span>,</span><br><span class="line"><span class="string">&quot;start&quot;</span>: <span class="string">&quot;npm run dev&quot;</span>,</span><br><span class="line"><span class="string">&quot;lint&quot;</span>: <span class="string">&quot;eslint --ext .js,.vue src&quot;</span>,</span><br><span class="line"><span class="string">&quot;build&quot;</span>: <span class="string">&quot;node build/build.js&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十一、webpack：从零到精通</title>
      <link href="2020/11/10/2020-11-10/"/>
      <url>2020/11/10/2020-11-10/</url>
      
        <content type="html"><![CDATA[<h1 id="第一章-Webpack-简介？"><a href="#第一章-Webpack-简介？" class="headerlink" title="第一章 Webpack 简介？"></a>第一章 Webpack 简介？</h1><h2 id="🎉-什么是-Webpack？"><a href="#🎉-什么是-Webpack？" class="headerlink" title="🎉 什么是 Webpack？"></a>🎉 什么是 Webpack？</h2><p>webpack 是一种前端资源构建工具，一个静态模块打包器(module bundler)。 在 webpack 看来, 前端的所有资源文件(js/json/css/img/less/…)都会作为模块处理。 它将根据模块的依赖关系进行静态分析，打包生成对应的静态资源(bundle)。</p><h2 id="🎉webpack-五个核心概念？"><a href="#🎉webpack-五个核心概念？" class="headerlink" title="🎉webpack 五个核心概念？"></a>🎉webpack 五个核心概念？</h2><h3 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h3><p>入口(Entry)：指示 webpack 以哪个文件为入口起点开始打包，分析构建内部依赖图。</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>输出(Output)：指示 webpack 打包后的资源 bundles 输出到哪里去，以及如何命名。</p><h3 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h3><p>Loader：让 webpack 能够去处理那些非 JS 的文件，比如样式文件、图片文件(webpack 自身只理解 JS)</p><h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><p>插件(Plugins)：可以用于执行范围更广的任务。插件的范围包括，从打包优化和压缩，</p><p>一直到重新定义环境中的变量等。</p><h3 id="Mode"><a href="#Mode" class="headerlink" title="Mode"></a>Mode</h3><p>模式(Mode)：指示 webpack 使用相应模式的配置。</p><table><thead><tr><th align="left">选项</th><th align="left">描述</th><th align="left">特点</th></tr></thead><tbody><tr><td align="left">development</td><td align="left">会将 DefinePlugin 中 process.env.NODE_ENV 的值设置为 development。启用 NamedChunksPlugin 和 NamedModulesPlugin。</td><td align="left">能让代码本地调试运行的环境</td></tr><tr><td align="left">production</td><td align="left">会将 DefinePlugin 中 process.env.NODE_ENV 的值设置为 production。启用 FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin 和 TerserPlugin。</td><td align="left">能让代码优化上线运行的环境</td></tr></tbody></table><h1 id="第二章-Webpack-初体验？"><a href="#第二章-Webpack-初体验？" class="headerlink" title="第二章 Webpack 初体验？"></a>第二章 Webpack 初体验？</h1><h2 id="🎉-初始化配置？"><a href="#🎉-初始化配置？" class="headerlink" title="🎉 初始化配置？"></a>🎉 初始化配置？</h2><h4 id="初始化-package-json："><a href="#初始化-package-json：" class="headerlink" title="初始化 package.json："></a>初始化 package.json：</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$npm</span> init</span><br></pre></td></tr></table></figure><h4 id="下载安装-webpack："><a href="#下载安装-webpack：" class="headerlink" title="下载安装 webpack："></a>下载安装 webpack：</h4><p>(webpack4 以上的版本需要全局/本地都安装 webpack-cli)</p><p><strong>全局安装：</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i webpack webpack<span class="literal">-cli</span> <span class="literal">-g</span></span><br></pre></td></tr></table></figure><p><strong>本地安装：</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i webpack webpack<span class="literal">-cli</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><blockquote><p>CNPM 介绍：<br>说明：因为谷歌安装插件是从国外服务器下载，受网络影响大，可能出现异常，如果谷歌的服务器在中国就好了，所以我们乐于分享的淘宝团队干了这事来自官网：“这是一个完整 npmjs.org 镜像，你可以用此代替官方版本（只读），同步频率目前为 10 分钟一次以保证尽量与官方服务同步“。<br>官方网址：<a href="http://npm.taobao.org/">http://npm.taobao.org</a><br>安装：命令提示符执行 npm install cnpm -g –registry=<a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a><br>注意：安装完后最好查看其版本 cnpm -v 或关闭命令提示符重新打开，安装完直接使用有可能会出现错误</p></blockquote><h2 id="🎉-编译打包应用？"><a href="#🎉-编译打包应用？" class="headerlink" title="🎉 编译打包应用？"></a>🎉 编译打包应用？</h2><h4 id="创建初始文件夹"><a href="#创建初始文件夹" class="headerlink" title="创建初始文件夹"></a>创建初始文件夹</h4><p><strong>输入入口：</strong>src 文件夹，在文件夹内新建 index.js。</p><p><strong>输出出口：</strong>build 文件夹，作为输出文件的存放地址。</p><h4 id="打包指令"><a href="#打包指令" class="headerlink" title="打包指令"></a>打包指令</h4><p><strong>开发环境：</strong></p><p>webpack 会以 ./src/index.js 为入口文件开始打包，打包后输出到 ./build/built.js 整体打包环境，是开发环境。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$webpack</span> ./src/index.js ^</span><br><span class="line"><span class="literal">-o</span> ./build/built.js ^</span><br><span class="line">-<span class="literal">-mode</span>=development</span><br></pre></td></tr></table></figure><p><strong>生产环境：</strong></p><p>webpack 会以 ./src/index.js 为入口文件开始打包，打包后输出到 ./build/built.js 整体打包环境，是生产环境。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$webpack</span> ./src/index.js ^</span><br><span class="line"><span class="literal">-o</span> ./build/built.js ^</span><br><span class="line">-<span class="literal">-mode</span>=production</span><br></pre></td></tr></table></figure><p><strong>注意：</strong></p><p>1.webpack 本身能处理 js/json 资源，不能处理 css/img 等其他资源。</p><p>2.生产环境和开发环境将 ES6 模块化编译成浏览器能识别的模块化，</p><p>但是不能处理 ES6 的基本语法转化为 ES5（需要借助 loader）。</p><p>3.生产环境比开发环境多一个压缩 js 代码。</p><h1 id="第三章-Webpack-开发环境的基本配置？"><a href="#第三章-Webpack-开发环境的基本配置？" class="headerlink" title="第三章 Webpack 开发环境的基本配置？"></a>第三章 Webpack 开发环境的基本配置？</h1><h2 id="🎉Webpack-安装？"><a href="#🎉Webpack-安装？" class="headerlink" title="🎉Webpack 安装？"></a>🎉Webpack 安装？</h2><p>为了保障能够正常运行 Webpack，在开始项目前，可以在项目的根目录安装</p><h2 id="🎉Webpack-定义配置文件？"><a href="#🎉Webpack-定义配置文件？" class="headerlink" title="🎉Webpack 定义配置文件？"></a>🎉Webpack 定义配置文件？</h2><p>webpack.config.js 是 webpack 的配置文件。</p><p>作用: 指示 webpack 干哪些活（当你运行 webpack 指令时，会加载里面的配置）</p><p>因此请将 webpack.config.js 放在打包文件的根目录里。</p><p><strong>注意：</strong>所有构建工具都是基于 nodejs 平台运行的，模块化默认采用 commonjs。</p><p>基本的配置文件如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//resolve用来拼接绝对路径</span></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//webpack配置</span></span><br><span class="line">  <span class="comment">//入口起点</span></span><br><span class="line">  entry: <span class="string">&quot;./src/index.js&quot;</span>,</span><br><span class="line">  <span class="comment">//输出</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">//输出文件名</span></span><br><span class="line">    filename: <span class="string">&quot;built.js&quot;</span>,</span><br><span class="line">    <span class="comment">//__dirname是nodejs的变量，代表当前文件的目录绝对路径</span></span><br><span class="line">    path: resolve(__dirname, <span class="string">&quot;build&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//loader的配置</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      <span class="comment">//详细的loader配置</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//plugins的配置</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">//详细的插件配置</span></span><br><span class="line">  ],</span><br><span class="line">  mode: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">  <span class="comment">// mode:&#x27;production&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="第四章-Webpack-打包资源？"><a href="#第四章-Webpack-打包资源？" class="headerlink" title="第四章 Webpack 打包资源？"></a>第四章 Webpack 打包资源？</h1><h2 id="🎉-打包前准备？"><a href="#🎉-打包前准备？" class="headerlink" title="🎉 打包前准备？"></a>🎉 打包前准备？</h2><p>js 和 css 资源需要提前引入。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;./index.less&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./index.css&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./xx.js&quot;</span>;</span><br></pre></td></tr></table></figure><h2 id="🎉Webpack-打包-css-less-样式资源？"><a href="#🎉Webpack-打包-css-less-样式资源？" class="headerlink" title="🎉Webpack 打包 css/less 样式资源？"></a>🎉Webpack 打包 css/less 样式资源？</h2><h3 id="css-打包的方法"><a href="#css-打包的方法" class="headerlink" title="css 打包的方法"></a><strong>css 打包的方法</strong></h3><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>使用前需要安装 style-loader 和 css-loader。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i style<span class="literal">-loader</span> css<span class="literal">-loader</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">    <span class="comment">//详细的loader配置</span></span><br><span class="line">  &#123; <span class="comment">//通过正则表达式取到.css结尾的文件</span></span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    <span class="comment">//使用哪些loader</span></span><br><span class="line">    use:[</span><br><span class="line">        <span class="comment">//use数组中loader的执行顺序：从右到左，从下到上依次执行</span></span><br><span class="line">        <span class="comment">//创建一个style标签，将js中的样式资源插入进去，添加到页面中的head中生效</span></span><br><span class="line">      <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">        <span class="comment">//将css文件变成commonjs模块加载到js中，里面内容是样式字符串</span></span><br><span class="line">      <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure><h3 id="less-打包的方法"><a href="#less-打包的方法" class="headerlink" title="less 打包的方法"></a><strong>less 打包的方法</strong></h3><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a><strong>安装</strong></h4><p>使用前需要安装 style-loader、css-loader、less@xxx 和 less-loader。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i style<span class="literal">-loader</span> css<span class="literal">-loader</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="修改配置-1"><a href="#修改配置-1" class="headerlink" title="修改配置"></a>修改配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">//不同文件必须配置不同的loader处理</span></span><br><span class="line">  test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">  use:[</span><br><span class="line">    <span class="comment">//创建一个style标签，将js中的样式资源插入进去，添加到页面中的head中生效</span></span><br><span class="line">    <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">    <span class="comment">//将css文件变成commonjs模块加载到js中，里面内容是样式字符串</span></span><br><span class="line">    <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">      <span class="comment">//将less文件变为css文件</span></span><br><span class="line">    <span class="string">&#x27;less-loader&#x27;</span>,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉Webpack-打包-loader-与-plugins-的区别？"><a href="#🎉Webpack-打包-loader-与-plugins-的区别？" class="headerlink" title="🎉Webpack 打包 loader 与 plugins 的区别？"></a>🎉Webpack 打包 loader 与 plugins 的区别？</h2><p><strong>loader：</strong>1.下载 2.使用（配置 loader）</p><p><strong>plugins：</strong>1.下载 2.引入 3.使用</p><h2 id="🎉Webpack-打包-html-和图片资源？"><a href="#🎉Webpack-打包-html-和图片资源？" class="headerlink" title="🎉Webpack 打包 html 和图片资源？"></a>🎉Webpack 打包 html 和图片资源？</h2><h3 id="html-打包的方法"><a href="#html-打包的方法" class="headerlink" title="html 打包的方法"></a><strong>html 打包的方法</strong></h3><h4 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h4><p>使用前需要安装 html-webpack-plugin。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i html<span class="literal">-webpack</span><span class="literal">-plugin</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="修改配置-2"><a href="#修改配置-2" class="headerlink" title="修改配置"></a>修改配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="comment">//默认会创建一个空的html文件，自动引入打包输出的所有资源（js/css）</span></span><br><span class="line">    <span class="comment">//需求：需要一个有结构的html文件</span></span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        <span class="comment">//复制一个的html文件，自动引入打包输出的所有资源（js/css）</span></span><br><span class="line">        template:<span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//详细的插件配置</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure><h3 id="图片打包的方法"><a href="#图片打包的方法" class="headerlink" title="图片打包的方法"></a><strong>图片打包的方法</strong></h3><blockquote><p>教程中的 4.0 版本的教学在最新 5.0 版本中会报错，需要在 output 中加上</p></blockquote><h4 id="解决报错"><a href="#解决报错" class="headerlink" title="解决报错"></a>解决报错</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">publicPath: <span class="string">&quot;./&quot;</span>;</span><br></pre></td></tr></table></figure><h4 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h4><p>使用前需要安装 html-loader、file-loader 和 url-loader。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i html<span class="literal">-loader</span> file<span class="literal">-loader</span> url<span class="literal">-loader</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="修改配置-3"><a href="#修改配置-3" class="headerlink" title="修改配置"></a>修改配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//resolve用来拼接绝对路径</span></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//webpack配置</span></span><br><span class="line">  <span class="comment">//入口起点</span></span><br><span class="line">  entry: <span class="string">&quot;./src/index.js&quot;</span>,</span><br><span class="line">  <span class="comment">//输出</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">//输出文件名</span></span><br><span class="line">    filename: <span class="string">&quot;built.js&quot;</span>,</span><br><span class="line">    <span class="comment">//__dirname是nodejs的变量，代表当前文件的目录绝对路径</span></span><br><span class="line">    path: resolve(__dirname, <span class="string">&quot;build&quot;</span>),</span><br><span class="line">    publicPath: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//loader的配置</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="comment">//使用多个资源处理use</span></span><br><span class="line">        use: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;, <span class="comment">//详细的loader配置</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif)$/</span>,</span><br><span class="line">        <span class="comment">//使用一个loader</span></span><br><span class="line">        loader: <span class="string">&quot;url-loader&quot;</span>,</span><br><span class="line">        <span class="comment">//url-loader依赖file-loader</span></span><br><span class="line">        options: &#123;</span><br><span class="line">          <span class="comment">//图片大小小于8kb就会被base64处理</span></span><br><span class="line">          <span class="comment">//优点：减少请求数量（减轻服务器压力）</span></span><br><span class="line">          <span class="comment">//缺点：图片体积会变大（文件请求速度变慢）</span></span><br><span class="line">          limit: <span class="number">8</span> * <span class="number">1024</span>,</span><br><span class="line">          <span class="comment">//定义名字的哈希值</span></span><br><span class="line">          name: <span class="string">&quot;[10].[ext]&quot;</span>,</span><br><span class="line">          <span class="comment">//问题：因为url-loader默认使用es6模块化解析，</span></span><br><span class="line">          <span class="comment">//而 html-loader使用commonjs，因此这里要转化一下</span></span><br><span class="line">          esModule: <span class="literal">false</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.html$/</span>,</span><br><span class="line">        <span class="comment">//处理html中的图片（负责引入img）</span></span><br><span class="line">        use: <span class="string">&quot;html-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//plugins的配置</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">//默认会创建一个空的html文件，自动引入打包输出的所有资源（js/css）</span></span><br><span class="line">    <span class="comment">//需求：需要一个有结构的html文件</span></span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      <span class="comment">//复制一个的html文件，自动引入打包输出的所有资源（js/css）</span></span><br><span class="line">      template: <span class="string">&quot;./src/index.html&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">//详细的插件配置</span></span><br><span class="line">  ],</span><br><span class="line">  mode: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">  <span class="comment">// mode:&#x27;production&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="🎉其他资源的打包的方法"><a href="#🎉其他资源的打包的方法" class="headerlink" title="🎉其他资源的打包的方法"></a>🎉<strong>其他资源的打包的方法</strong></h2><h4 id="安装-4"><a href="#安装-4" class="headerlink" title="安装"></a>安装</h4><p>使用前需要安装 file-loader。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i file<span class="literal">-loader</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="修改配置-4"><a href="#修改配置-4" class="headerlink" title="修改配置"></a>修改配置</h4><p>然后修改配置。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当处理css、js、html之外的资源时</span></span><br><span class="line"><span class="comment">//可使用file-loader进行打包</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//这里使用exclude进行排除</span></span><br><span class="line">exclude:  <span class="regexp">/\.(css|js|html)$/</span>,</span><br><span class="line">use:<span class="string">&#x27;file-loader&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉-开发服务器-devServer-配置？"><a href="#🎉-开发服务器-devServer-配置？" class="headerlink" title="🎉 开发服务器_devServer 配置？"></a>🎉 开发服务器_devServer 配置？</h2><blockquote><p>配置中出现的问题：<br>webpack-dev-server 并没有兼容最新版的 webpack-cli<br>会报错 Error: Cannot find module ‘webpack-cli/bin/config-yargs’<br>因此需要卸载最新版的脚手架<br>采用符合 webpack-dev-server 依赖的版本</p></blockquote><h4 id="卸载之前的-webpack-cli"><a href="#卸载之前的-webpack-cli" class="headerlink" title="卸载之前的 webpack-cli"></a>卸载之前的 webpack-cli</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$npm</span> uninstall webpack<span class="literal">-cli</span></span><br></pre></td></tr></table></figure><h4 id="安装符合依赖的-webpack-cli-webpack-dev-server-最新版对应-3-3）"><a href="#安装符合依赖的-webpack-cli-webpack-dev-server-最新版对应-3-3）" class="headerlink" title="安装符合依赖的 webpack-cli(webpack-dev-server 最新版对应 3.3）"></a>安装符合依赖的 webpack-cli(webpack-dev-server 最新版对应 3.3）</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$npm</span> install webpack<span class="literal">-cli</span> webpack<span class="literal">-cli</span>@<span class="number">3.3</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="详细配置："><a href="#详细配置：" class="headerlink" title="详细配置："></a>详细配置：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用来自动化编译和hexo s差不多</span></span><br><span class="line"><span class="comment">//只会在内存中编译打包，不会有任何输出</span></span><br><span class="line"><span class="comment">//启动指令为：webpack-dev-server，需要下载对应的包</span></span><br><span class="line">devServer:&#123;</span><br><span class="line">    设置路径</span><br><span class="line">    contentBase:resolve(__dirname,<span class="string">&#x27;build&#x27;</span>),</span><br><span class="line">    <span class="comment">//是否使用gzip进行压缩</span></span><br><span class="line">    compress:<span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//服务端口号</span></span><br><span class="line">    port:<span class="number">3000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉-最终开发环境配置？"><a href="#🎉-最终开发环境配置？" class="headerlink" title="🎉 最终开发环境配置？"></a>🎉 最终开发环境配置？</h2><blockquote><p>切记单一 loader 请用 loader 不要用 use，不然会报错！！！</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//resolve用来拼接绝对路径</span></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="comment">//引入&#x27;html-webpack-plugin&#x27;插件</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//webpack配置</span></span><br><span class="line">  <span class="comment">//入口起点</span></span><br><span class="line">  entry: <span class="string">&quot;./src/js/index.js&quot;</span>,</span><br><span class="line">  <span class="comment">//输出</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">//输出文件名</span></span><br><span class="line">    filename: <span class="string">&quot;js/built.js&quot;</span>,</span><br><span class="line">    <span class="comment">//__dirname是nodejs的变量，代表当前文件的目录绝对路径</span></span><br><span class="line">    path: resolve(__dirname, <span class="string">&quot;build&quot;</span>),</span><br><span class="line">    <span class="comment">//公共路径为当前路径</span></span><br><span class="line">    publicPath: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//loader的配置</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    <span class="comment">//过滤条件</span></span><br><span class="line">    rules: [</span><br><span class="line">      <span class="comment">//过滤css</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">//使用多个资源处理use</span></span><br><span class="line">        use: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤less</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="comment">//使用多个资源处理use</span></span><br><span class="line">        use: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤图片</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif)$/</span>,</span><br><span class="line">        <span class="comment">//使用一个loader</span></span><br><span class="line">        loader: <span class="string">&quot;url-loader&quot;</span>,</span><br><span class="line">        <span class="comment">//url-loader依赖file-loader</span></span><br><span class="line">        options: &#123;</span><br><span class="line">          outputPath: <span class="string">&quot;images&quot;</span>,</span><br><span class="line">          <span class="comment">//图片大小小于8kb就会被base64处理</span></span><br><span class="line">          <span class="comment">//优点：减少请求数量（减轻服务器压力）</span></span><br><span class="line">          <span class="comment">//缺点：图片体积会变大（文件请求速度变慢）</span></span><br><span class="line">          limit: <span class="number">8</span> * <span class="number">1024</span>,</span><br><span class="line">          <span class="comment">//定义名字的哈希值</span></span><br><span class="line">          name: <span class="string">&quot;[10].[ext]&quot;</span>,</span><br><span class="line">          <span class="comment">//问题：因为url-loader默认使用es6模块化解析，</span></span><br><span class="line">          <span class="comment">//而 html-loader使用commonjs，因此这里要转化一下</span></span><br><span class="line">          esModule: <span class="literal">false</span>,</span><br><span class="line">          <span class="comment">// outputPath: &#x27;images&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤html</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.html$/</span>,</span><br><span class="line">        <span class="comment">//处理html中的图片（负责引入img）</span></span><br><span class="line">        loader: <span class="string">&quot;html-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤其他</span></span><br><span class="line">      <span class="comment">//当处理css、js、html之外的资源时</span></span><br><span class="line">      <span class="comment">//可使用file-loader进行打包</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">//这里使用exclude进行排除</span></span><br><span class="line">        exclude: <span class="regexp">/\.(gif|png|jpg|less|css|js|html)$/</span>,</span><br><span class="line">        loader: <span class="string">&quot;file-loader&quot;</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          outputPath: <span class="string">&quot;media&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//plugins的配置</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">//默认会创建一个空的html文件，自动引入打包输出的所有资源（js/css）</span></span><br><span class="line">    <span class="comment">//需求：需要一个有结构的html文件</span></span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      <span class="comment">//复制一个的html文件，自动引入打包输出的所有资源（js/css）</span></span><br><span class="line">      template: <span class="string">&quot;./src/index.html&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">//详细的插件配置</span></span><br><span class="line">  ],</span><br><span class="line">  mode: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">  <span class="comment">// mode:&#x27;production&#x27;</span></span><br><span class="line">  <span class="comment">//用来自动化编译和hexo s差不多</span></span><br><span class="line">  <span class="comment">//只会在内存中编译打包，不会有任何输出</span></span><br><span class="line">  <span class="comment">//启动指令为：webpack-dev-server，需要下载对应的包</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    <span class="comment">//设置路径</span></span><br><span class="line">    contentBase: resolve(__dirname, <span class="string">&quot;build&quot;</span>),</span><br><span class="line">    <span class="comment">//是否使用gzip进行压缩</span></span><br><span class="line">    compress: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//服务端口号</span></span><br><span class="line">    port: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">//自动打开浏览</span></span><br><span class="line">    open: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="第五章-Webpack-生产环境的基本配置？"><a href="#第五章-Webpack-生产环境的基本配置？" class="headerlink" title="第五章 Webpack 生产环境的基本配置？"></a>第五章 Webpack 生产环境的基本配置？</h1><h2 id="🎉-提取-css-成为单个文件？"><a href="#🎉-提取-css-成为单个文件？" class="headerlink" title="🎉 提取 css 成为单个文件？"></a>🎉 提取 css 成为单个文件？</h2><h4 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a><strong>安装插件</strong></h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i mini<span class="literal">-css</span><span class="literal">-extract</span><span class="literal">-plugin</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="引入插件"><a href="#引入插件" class="headerlink" title="引入插件"></a><strong>引入插件</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="插入插件"><a href="#插入插件" class="headerlink" title="插入插件"></a><strong>插入插件</strong></h4><p>修改 ccs 使用的 loader</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    <span class="comment">//使用多个资源处理use</span></span><br><span class="line">    use: [</span><br><span class="line">    <span class="comment">//这里使用该插件的loader实现css从js中抽出</span></span><br><span class="line">    MiniCssExtractPlugin.loader,</span><br><span class="line">    <span class="string">&#x27;css-loader&#x27;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="引入配置"><a href="#引入配置" class="headerlink" title="引入配置"></a>引入配置</h4><p>通过修改 filename 修改 css 导出的路径。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">  filename: <span class="string">&quot;css/main.css&quot;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="🎉css-兼容性处理？"><a href="#🎉css-兼容性处理？" class="headerlink" title="🎉css 兼容性处理？"></a>🎉css 兼容性处理？</h2><h4 id="安装依赖插件"><a href="#安装依赖插件" class="headerlink" title="安装依赖插件"></a><strong>安装依赖插件</strong></h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i postcss<span class="literal">-loader</span> postcss<span class="literal">-preset</span><span class="literal">-env</span> autoprefixer <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="配置项-webpack-config-js"><a href="#配置项-webpack-config-js" class="headerlink" title="配置项 webpack.config.js"></a><strong>配置项 webpack.config.js</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">css兼容性处理： </span></span><br><span class="line"><span class="comment">postcss --》 postcss-loader postcss-preset-env</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//设置环境变量</span></span><br><span class="line">process.env.NODE_ENV = <span class="string">&quot;development&quot;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use: [MiniCssExtractPlugin.loader, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;postcss-loader&quot;</span>];</span><br></pre></td></tr></table></figure><h4 id="postcss-配置"><a href="#postcss-配置" class="headerlink" title="postcss 配置"></a><strong>postcss 配置</strong></h4><p>在 webpack.config.js 同级目录新建 postcss.config.js 配置项。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">//这里写你需要引入的插件</span></span><br><span class="line">    <span class="built_in">require</span>(<span class="string">&quot;autoprefixer&quot;</span>), <span class="comment">//处理前缀兼容问题</span></span><br><span class="line">    <span class="built_in">require</span>(<span class="string">&quot;postcss-preset-env&quot;</span>), <span class="comment">//适配不同浏览器环境</span></span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="修改-package-json"><a href="#修改-package-json" class="headerlink" title="修改 package.json"></a><strong>修改 package.json</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;browserslist&quot;</span>:&#123;</span><br><span class="line">  <span class="string">&quot;development&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;last 1 chrome version&quot;</span>,</span><br><span class="line">    <span class="string">&quot;last 1 firefox version&quot;</span>,</span><br><span class="line">    <span class="string">&quot;last 1 safari version&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;production&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;&gt;0.2%&quot;</span>,<span class="comment">//兼容大多数浏览器</span></span><br><span class="line">    <span class="string">&quot;not dead&quot;</span>,<span class="comment">//去除死亡浏览器</span></span><br><span class="line">    <span class="string">&quot;not op_mini all&quot;</span><span class="comment">//去除open—mini</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉-压缩-css-文件？"><a href="#🎉-压缩-css-文件？" class="headerlink" title="🎉 压缩 css 文件？"></a>🎉 压缩 css 文件？</h2><h4 id="安装插件-1"><a href="#安装插件-1" class="headerlink" title="安装插件"></a>安装插件</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i <span class="built_in">optimize-css</span><span class="literal">-assets</span><span class="literal">-webpack</span><span class="literal">-plugin</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="插件引入"><a href="#插件引入" class="headerlink" title="插件引入"></a><strong>插件引入</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> OptimizeCssAssetWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;optimize-css-assets-webpack-plugin&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="🎉js-语法检查？"><a href="#🎉js-语法检查？" class="headerlink" title="🎉js 语法检查？"></a>🎉js 语法检查？</h2><h4 id="安装插件-2"><a href="#安装插件-2" class="headerlink" title="安装插件"></a>安装插件</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i eslint eslint<span class="literal">-loader</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="使用-airbnb-风格语言"><a href="#使用-airbnb-风格语言" class="headerlink" title="使用 airbnb 风格语言"></a><strong>使用 airbnb 风格语言</strong></h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i eslint eslint<span class="literal">-plugin</span><span class="literal">-import</span> eslint<span class="literal">-config</span><span class="literal">-airbnb</span><span class="literal">-base</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="配置-package-json"><a href="#配置-package-json" class="headerlink" title="配置 package.json"></a>配置 package.json</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;eslintConfig&quot;</span>:&#123;</span><br><span class="line">  <span class="string">&quot;extends&quot;</span>:<span class="string">&quot;airbnb-base&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="配置自动修复"><a href="#配置自动修复" class="headerlink" title="配置自动修复"></a>配置自动修复</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="comment">//只检查自己写的代码，第三方库不用检查</span></span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">&#x27;eslint-loader&#x27;</span>,</span><br><span class="line">    enforce:<span class="string">&#x27;pre&#x27;</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">        <span class="comment">//设置检查规则</span></span><br><span class="line">        <span class="comment">//在package.json中进行设置</span></span><br><span class="line">        <span class="comment">//在eslintConfig中进行设置</span></span><br><span class="line">        <span class="comment">//推荐使用airbnb规则</span></span><br><span class="line">        <span class="comment">//为了使用它</span></span><br><span class="line">        <span class="comment">//需要下载三个库 airbnb -》 eslint eslint-plugin-import eslint-config-airbnb-base</span></span><br><span class="line">        <span class="comment">//fix:true自动修复</span></span><br><span class="line">        fix:<span class="literal">true</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="忽略某一行（如-console-log"><a href="#忽略某一行（如-console-log" class="headerlink" title="忽略某一行（如 console.log)"></a>忽略某一行（如 console.log)</h4><p>加入注释，忽略下一行检查</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;eslint-disable-next-line</span><br></pre></td></tr></table></figure><h2 id="🎉js-的基本兼容性问题？"><a href="#🎉js-的基本兼容性问题？" class="headerlink" title="🎉js 的基本兼容性问题？"></a>🎉js 的基本兼容性问题？</h2><h4 id="安装插件-3"><a href="#安装插件-3" class="headerlink" title="安装插件"></a>安装插件</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i babel<span class="literal">-loader</span> @babel/p<span class="built_in">reset-env</span> @babel/core<span class="selector-tag">@</span>^<span class="number">7.0</span>.<span class="number">0</span><span class="literal">-0</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="新增配置"><a href="#新增配置" class="headerlink" title="新增配置"></a>新增配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">        <span class="comment">//预设：指示babel做哪些兼容处理</span></span><br><span class="line">        <span class="comment">//不兼容高级语法，如promise</span></span><br><span class="line">        presets: [<span class="string">&#x27;@babel/preset-env&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="🎉js-的全部兼容性问题处理？（非常暴力，但已弃用）"><a href="#🎉js-的全部兼容性问题处理？（非常暴力，但已弃用）" class="headerlink" title="🎉js 的全部兼容性问题处理？（非常暴力，但已弃用）"></a>🎉js 的全部兼容性问题处理？（非常暴力，但已弃用）</h2><h4 id="安装插件-4"><a href="#安装插件-4" class="headerlink" title="安装插件"></a>安装插件</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i @babel/pollyfill <span class="literal">-D</span>  //已经弃用</span><br></pre></td></tr></table></figure><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#39;@babel&#x2F;pollyfill&#39; &#x2F;&#x2F;已经弃用</span><br></pre></td></tr></table></figure><h2 id="🎉js-的按需求处理兼容性问题？"><a href="#🎉js-的按需求处理兼容性问题？" class="headerlink" title="🎉js 的按需求处理兼容性问题？"></a>🎉js 的按需求处理兼容性问题？</h2><h4 id="安装插件-5"><a href="#安装插件-5" class="headerlink" title="安装插件"></a>安装插件</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i core<span class="literal">-js</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">loader: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">options: &#123;</span><br><span class="line"><span class="comment">//预设：指示babel做哪些兼容处理</span></span><br><span class="line"><span class="comment">//这里是数组套数组的写法</span></span><br><span class="line">        presets: [[<span class="string">&#x27;@babel/preset-env&#x27;</span>,</span><br><span class="line">&#123;<span class="comment">//按需加载</span></span><br><span class="line">useBuiltIns: <span class="string">&#x27;usage&#x27;</span>,</span><br><span class="line"><span class="comment">//指定core-js的版本</span></span><br><span class="line">corejs: &#123;</span><br><span class="line">version: <span class="number">3</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//指定具体要做到某个浏览器的哪一个版本</span></span><br><span class="line">targets: &#123;</span><br><span class="line">chrome: <span class="string">&#x27;60&#x27;</span>,</span><br><span class="line">firefox: <span class="string">&#x27;60&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;]]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉js-和-html-的压缩处理？"><a href="#🎉js-和-html-的压缩处理？" class="headerlink" title="🎉js 和 html 的压缩处理？"></a>🎉js 和 html 的压缩处理？</h2><h4 id="js-压缩"><a href="#js-压缩" class="headerlink" title="js 压缩"></a>js 压缩</h4><p>将 mode 从 development 变为 production。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mode: &#x27;development&#x27;,</span></span><br><span class="line">mode: <span class="string">&quot;production&quot;</span>;</span><br></pre></td></tr></table></figure><h2 id="🎉-最终生产环境配置？"><a href="#🎉-最终生产环境配置？" class="headerlink" title="🎉 最终生产环境配置？"></a>🎉 最终生产环境配置？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//resolve用来拼接绝对路径</span></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="comment">//引入&#x27;html-webpack-plugin&#x27;插件</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> OptimizeCssAssetWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;optimize-css-assets-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="comment">//设置环境变量</span></span><br><span class="line"><span class="comment">//process.env.NODE_ENV=&#x27;development&#x27;;</span></span><br><span class="line"><span class="comment">//复用loader</span></span><br><span class="line"><span class="keyword">const</span> commonCssLoader = [</span><br><span class="line">  MiniCssExtractPlugin.loader,</span><br><span class="line">  <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">  <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">];</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//webpack配置</span></span><br><span class="line">  <span class="comment">//入口起点</span></span><br><span class="line">  entry: <span class="string">&quot;./src/js/index.js&quot;</span>,</span><br><span class="line">  <span class="comment">//输出</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">//输出文件名</span></span><br><span class="line">    filename: <span class="string">&quot;js/built.js&quot;</span>,</span><br><span class="line">    <span class="comment">//__dirname是nodejs的变量，代表当前文件的目录绝对路径</span></span><br><span class="line">    path: resolve(__dirname, <span class="string">&quot;build&quot;</span>),</span><br><span class="line">    <span class="comment">//公共路径为当前路径</span></span><br><span class="line">    publicPath: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//loader的配置</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    <span class="comment">//过滤条件</span></span><br><span class="line">    rules: [</span><br><span class="line">      <span class="comment">//js兼容性处理</span></span><br><span class="line">      <span class="comment">// 1.使用babel进行基本的兼容性处理</span></span><br><span class="line">      <span class="comment">// 使用babel-loader @babel/preset-env @babel/core</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line"></span><br><span class="line">        loader: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          <span class="comment">//预设：指示babel做哪些兼容处理</span></span><br><span class="line">          presets: [<span class="string">&quot;@babel/preset-env&quot;</span>],</span><br><span class="line">          <span class="comment">// presets: [[&#x27;@babel/preset-env&#x27;,</span></span><br><span class="line">          <span class="comment">//     &#123;//按需加载</span></span><br><span class="line">          <span class="comment">//         useBuiltIns: &#x27;usage&#x27;,</span></span><br><span class="line">          <span class="comment">//         //指定core-js的版本</span></span><br><span class="line">          <span class="comment">//         corejs: &#123;</span></span><br><span class="line">          <span class="comment">//             version: 3,</span></span><br><span class="line">          <span class="comment">//         &#125;,</span></span><br><span class="line">          <span class="comment">//         //指定具体要做到哪一个版本</span></span><br><span class="line">          <span class="comment">//         targets: &#123;</span></span><br><span class="line">          <span class="comment">//             chrome: &#x27;60&#x27;,</span></span><br><span class="line">          <span class="comment">//             firefox: &#x27;60&#x27;</span></span><br><span class="line">          <span class="comment">//         &#125;</span></span><br><span class="line">          <span class="comment">//     &#125;]]</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">//只检查自己写的代码，第三方库不用检查</span></span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        loader: <span class="string">&quot;eslint-loader&quot;</span>,</span><br><span class="line">        <span class="comment">//优先执行</span></span><br><span class="line">        enforce: <span class="string">&quot;pre&quot;</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          <span class="comment">//设置检查规则</span></span><br><span class="line">          <span class="comment">//在package.json中进行设置</span></span><br><span class="line">          <span class="comment">//在eslintConfig中进行设置</span></span><br><span class="line">          <span class="comment">//推荐使用airbnb规则</span></span><br><span class="line">          <span class="comment">//为了使用它</span></span><br><span class="line">          <span class="comment">//需要下载三个库 airbnb -》 eslint eslint-plugin-import eslint-config-airbnb-base</span></span><br><span class="line">          <span class="comment">//fix:true自动修复</span></span><br><span class="line">          fix: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤css</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">//使用多个资源处理use</span></span><br><span class="line">        use: [...commonCssLoader],</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤less</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="comment">//使用多个资源处理use</span></span><br><span class="line">        use: [...commonCssLoader, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤图片</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif)/</span>,</span><br><span class="line">        <span class="comment">//使用一个loader</span></span><br><span class="line">        loader: <span class="string">&quot;url-loader&quot;</span>,</span><br><span class="line">        <span class="comment">//url-loader依赖file-loader</span></span><br><span class="line">        options: &#123;</span><br><span class="line">          <span class="comment">//图片大小小于8kb就会被base64处理</span></span><br><span class="line">          <span class="comment">//优点：减少请求数量（减轻服务器压力）</span></span><br><span class="line">          <span class="comment">//缺点：图片体积会变大（文件请求速度变慢）</span></span><br><span class="line">          limit: <span class="number">8</span> * <span class="number">1024</span>,</span><br><span class="line">          <span class="comment">//定义名字的哈希值</span></span><br><span class="line">          name: <span class="string">&quot;[10].[ext]&quot;</span>,</span><br><span class="line">          <span class="comment">//问题：因为url-loader默认使用es6模块化解析，</span></span><br><span class="line">          <span class="comment">//而 html-loader使用commonjs，因此这里要转化一下</span></span><br><span class="line">          esModule: <span class="literal">false</span>,</span><br><span class="line">          outputPath: <span class="string">&quot;images&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤html</span></span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.html$/</span>,</span><br><span class="line">        <span class="comment">//处理html中的图片（负责引入img）</span></span><br><span class="line">        loader: <span class="string">&quot;html-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//过滤其他</span></span><br><span class="line">      <span class="comment">//当处理css、js、html之外的资源时</span></span><br><span class="line">      <span class="comment">//可使用file-loader进行打包</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">//这里使用exclude进行排除</span></span><br><span class="line">        exclude: <span class="regexp">/\.(gif|png|jpg|less|css|js|html)$/</span>,</span><br><span class="line">        loader: <span class="string">&quot;file-loader&quot;</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          outputPath: <span class="string">&quot;media&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//plugins的配置</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">//默认会创建一个空的html文件，自动引入打包输出的所有资源（js/css）</span></span><br><span class="line">    <span class="comment">//需求：需要一个有结构的html文件</span></span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      <span class="comment">//复制一个的html文件，自动引入打包输出的所有资源（js/css）</span></span><br><span class="line">      template: <span class="string">&quot;./src/index.html&quot;</span>,</span><br><span class="line">      minify: &#123;</span><br><span class="line">        <span class="comment">//移除空格</span></span><br><span class="line">        collapseWhitespace: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">//移除注释</span></span><br><span class="line">        removeComments: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: <span class="string">&quot;css/main.css&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> OptimizeCssAssetWebpackPlugin(),</span><br><span class="line">    <span class="comment">//详细的插件配置</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// mode: &#x27;development&#x27;,</span></span><br><span class="line">  mode: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">  <span class="comment">//用来自动化编译和hexo s差不多</span></span><br><span class="line">  <span class="comment">//只会在内存中编译打包，不会有任何输出</span></span><br><span class="line">  <span class="comment">//启动指令为：webpack-dev-server，需要下载对应的包</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    <span class="comment">//设置路径</span></span><br><span class="line">    contentBase: resolve(__dirname, <span class="string">&quot;build&quot;</span>),</span><br><span class="line">    <span class="comment">//是否使用gzip进行压缩</span></span><br><span class="line">    compress: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//服务端口号</span></span><br><span class="line">    port: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">//自动打开浏览</span></span><br><span class="line">    open: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="第六章开发环境webpack-性能优化？"><a href="#第六章开发环境webpack-性能优化？" class="headerlink" title="第六章开发环境webpack 性能优化？"></a>第六章<strong>开发环境</strong>webpack 性能优化？</h1><h2 id="🎉-基本介绍？"><a href="#🎉-基本介绍？" class="headerlink" title="🎉 基本介绍？"></a>🎉 基本介绍？</h2><p>主要分为开发环境性能优化和生产环境性能优化。</p><p><strong>开发环境的优化目的：</strong>优化打包速度及优化代码调试</p><p><strong>生产环境的优化目的：</strong>优化代码打包速度及优化代码的性能</p><h2 id="🎉-打包速度优化-HMR？"><a href="#🎉-打包速度优化-HMR？" class="headerlink" title="🎉 打包速度优化-HMR？"></a>🎉 打包速度优化-HMR？</h2><blockquote><p>webpack 在使用 webpack-dev-server 时，如果你修改了打包原始文件中任意一项，打包会重新调用所有模块资源。为了实现资源的模块化刷新功能，需要使用 HMR（Hot module repalcement）——热模块替换/模块热替换。<br>一个模块变化，只会打包这一个模块，而不是打包所有<br>帮我们极大提升构建速度</p></blockquote><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><p>只需要在 dev-server 处开启 hot:true 就可以了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    <span class="comment">//设置路径</span></span><br><span class="line">    contentBase: resolve(__dirname, <span class="string">&#x27;build&#x27;</span>),</span><br><span class="line">    <span class="comment">//是否使用gzip进行压缩</span></span><br><span class="line">    compress: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//服务端口号</span></span><br><span class="line">    port: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">//自动打开浏览</span></span><br><span class="line">    open: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//当修改了webpack配置记得重启webpack服务</span></span><br><span class="line">    <span class="comment">//新配置要想生效必须重启webpack服务</span></span><br><span class="line">    hot:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="存在问题"><a href="#存在问题" class="headerlink" title="存在问题"></a>存在问题</h4><p><strong>CSS 样式文件：</strong>可以使用 HMR 功能，style-loader 内部实现</p><p><strong>JS 文件：</strong>默认不能使用 HMR 功能 –》需要修改 js 代码，添加支持 mhr 功能的代码</p><p><strong>HTML 文件：</strong>默认不能使用 HMR 功能，同时导致 html 文件不能热更新。在创建项目时只会创建 1 个 html 文件，当改变 js 和 css 时，html 一定会改，所以不需要 HMR。</p><h4 id="解决策略"><a href="#解决策略" class="headerlink" title="解决策略"></a>解决策略</h4><p>html 问题的解决措施为修改 entry 为数组并加入 html 文件,重启服务</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//入口起点</span></span><br><span class="line">entry: [<span class="string">&quot;./src/js/index.js&quot;</span>, <span class="string">&quot;./src/index.html&quot;</span>];</span><br></pre></td></tr></table></figure><p>js 需要手动设置热更代码，只针对非入口文件的 js 来做。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">  <span class="comment">//一旦发现开启热模块，就执行以下方法</span></span><br><span class="line">  <span class="built_in">module</span>.hot.accept(<span class="string">&quot;./print.js&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//方法会监听print.js的变化，其他默认不会打包构建</span></span><br><span class="line">    <span class="comment">//会执行后面的回调函数</span></span><br><span class="line">    print();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉-代码调试优化-source-map？"><a href="#🎉-代码调试优化-source-map？" class="headerlink" title="🎉 代码调试优化-source-map？"></a>🎉 代码调试优化-source-map？</h2><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>source-map 是一种提供源代码到构建后代码映射的技术。</p><p>如果构建后的代码出错了，通过映射关系可以追踪到源代码的错误。</p><h4 id="基本使用方法"><a href="#基本使用方法" class="headerlink" title="基本使用方法"></a>基本使用方法</h4><p>只需加入 devtool:’source-map’即可。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mode:<span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">devtool:<span class="string">&#x27;source-map&#x27;</span>,</span><br><span class="line"><span class="comment">//提供错误信息和源代码的错误未知</span></span><br></pre></td></tr></table></figure><h4 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">devtool: <span class="string">&quot;xxx-source-map&quot;</span>;</span><br><span class="line"><span class="comment">/*1.内联source-map文件，</span></span><br><span class="line"><span class="comment">嵌入js之中，</span></span><br><span class="line"><span class="comment">只会生成一个，</span></span><br><span class="line"><span class="comment">因此不会生成本地文件，构建速度更快</span></span><br><span class="line"><span class="comment">提供错误信息和源代码的错误位置</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">inline - source - map;</span><br><span class="line"><span class="comment">/*2.外联source-map文件</span></span><br><span class="line"><span class="comment">提供错误信息和提示构建后代码错误位置</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">hidden - source - map;</span><br><span class="line"><span class="comment">/*3.内联source-map文件，</span></span><br><span class="line"><span class="comment">会在每一个js文件后生成对应的source-map</span></span><br><span class="line"><span class="comment">都在eval函数之中</span></span><br><span class="line"><span class="comment">提供错误信息和提示构建后代码错误位置和哈希值</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">eval</span> - source - map;</span><br><span class="line"><span class="comment">//4.外联source-map文件</span></span><br><span class="line"><span class="comment">//只有错误信息，无源代码信息</span></span><br><span class="line">nosource - source - map;</span><br><span class="line"><span class="comment">//5.外联source-map文件</span></span><br><span class="line"><span class="comment">//只精确到行而不是列</span></span><br><span class="line">cheap - source - map;</span><br><span class="line">cheap - <span class="built_in">module</span> - source - map;</span><br></pre></td></tr></table></figure><h4 id="具体使用方法"><a href="#具体使用方法" class="headerlink" title="具体使用方法"></a>具体使用方法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//开发环境，速度快，调试更友好--》eval-source-map</span></span><br><span class="line">(<span class="built_in">eval</span>&gt;inline&gt;cheap...)</span><br><span class="line">速度最快：<span class="built_in">eval</span>-cheap-source-map</span><br><span class="line">调试最友好：source-map/cheap-<span class="built_in">module</span>-source-map/cheap-source-map</span><br><span class="line"><span class="comment">//生产环境，源代码要不要隐藏？调试要不要更友好</span></span><br><span class="line"><span class="comment">//生产环境内联会增大代码体积，所以不用内联</span></span><br><span class="line">nosource-source-map</span><br><span class="line">hidden-source-map</span><br><span class="line">--》source-map/cheap-<span class="built_in">module</span>-source-map</span><br></pre></td></tr></table></figure><h1 id="第七章生产环境webpack-性能优化？"><a href="#第七章生产环境webpack-性能优化？" class="headerlink" title="第七章生产环境webpack 性能优化？"></a>第七章<strong>生产环境</strong>webpack 性能优化？</h1><h2 id="🎉-打包速度优化-oneOf？"><a href="#🎉-打包速度优化-oneOf？" class="headerlink" title="🎉 打包速度优化-oneOf？"></a>🎉 打包速度优化-oneOf？</h2><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>以下 loader 只会匹配一个。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">  (oneOf: [</span><br><span class="line">    &#123; ... &#125;, <span class="comment">//处理js的loader</span></span><br><span class="line">    &#123; ... &#125;, <span class="comment">//处理css的loader</span></span><br><span class="line">    &#123; ... &#125;, <span class="comment">//处理less的loader</span></span><br><span class="line">    &#123; ... &#125;, <span class="comment">//处理图片的loader</span></span><br><span class="line">    &#123; ... &#125; <span class="comment">//处理其他文件的loader</span></span><br><span class="line">  ]),</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>当两个 loader 处理同一种文件类型时，把其中一个放在 oneof 外面。</p><h2 id="🎉-打包速度优化-缓存？"><a href="#🎉-打包速度优化-缓存？" class="headerlink" title="🎉 打包速度优化-缓存？"></a>🎉 打包速度优化-缓存？</h2><h4 id="babel-缓存"><a href="#babel-缓存" class="headerlink" title="babel 缓存"></a><strong>babel 缓存</strong></h4><p>开启 babel 缓存,第二次构建时会读取第一次的缓存。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cacheDirectory: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><h4 id="基本的服务器代码"><a href="#基本的服务器代码" class="headerlink" title="基本的服务器代码"></a><strong>基本的服务器代码</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">服务器代码</span></span><br><span class="line"><span class="comment">启动服务器指令：</span></span><br><span class="line"><span class="comment">nodemon server.js</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)；</span><br><span class="line"><span class="keyword">const</span> app = express()；</span><br><span class="line">app.use(express.static(<span class="string">&#x27;build&#x27;</span>,&#123;<span class="attr">maxAge</span>:<span class="number">1000</span>*<span class="number">3600</span>&#125;));</span><br><span class="line">app.listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure><h4 id="文件资源缓存"><a href="#文件资源缓存" class="headerlink" title="文件资源缓存"></a>文件资源缓存</h4><p><strong>方案一 hash</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用哈希值，在webpack构建时将filename附上哈希值</span></span><br><span class="line"><span class="comment">//问题：这样会导致所有缓存失效</span></span><br><span class="line"><span class="comment">//js和css哈希值一样</span></span><br><span class="line">filename:built.[hash:<span class="number">10</span>].js</span><br><span class="line">filename:built.[hash:<span class="number">10</span>].css</span><br></pre></td></tr></table></figure><p><strong>方案二 chunkhash</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据chunk生成哈希值，如果打包来源于同一个chunk，那么哈希值就一样</span></span><br><span class="line"><span class="comment">//问题：js和css哈希值一样</span></span><br><span class="line"><span class="comment">//原因：因为css是在js中被引入的，所以同属于一个chunk</span></span><br><span class="line">filename:built.[chunkhash:<span class="number">10</span>].js</span><br><span class="line">filename:built.[chunkhash:<span class="number">10</span>].css</span><br></pre></td></tr></table></figure><p><strong>最终方案三 contenthash</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据文件内容生成哈希值，如果文件内容不一样，那么哈希值就不一样</span></span><br><span class="line">filename:built.[contenthash:<span class="number">10</span>].js</span><br><span class="line">filename:built.[contenthash:<span class="number">10</span>].css</span><br></pre></td></tr></table></figure><h2 id="🎉-打包速度优化-多进程打包？"><a href="#🎉-打包速度优化-多进程打包？" class="headerlink" title="🎉 打包速度优化-多进程打包？"></a>🎉 打包速度优化-多进程打包？</h2><h4 id="安装-5"><a href="#安装-5" class="headerlink" title="安装"></a>安装</h4><p>使用前需要安装 html-webpack-plugin。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i th<span class="built_in">read-loader</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h4><p>在 use 中引入</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use: [thread - loader, xxx - loader];</span><br></pre></td></tr></table></figure><h4 id="使用多进程打包的利弊"><a href="#使用多进程打包的利弊" class="headerlink" title="使用多进程打包的利弊"></a>使用多进程打包的利弊</h4><p>启动需要 600 毫秒，进程通信也具有时间成本。如果本身打包时间较短，无需使用多进程打包。</p><p>只有工作时间较长才需要。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">loader</span>:thread-loader，</span><br><span class="line">options:&#123;</span><br><span class="line">  workers:<span class="number">2</span>, <span class="comment">//进程2个</span></span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉-代码性能优化-tree-shaking？"><a href="#🎉-代码性能优化-tree-shaking？" class="headerlink" title="🎉 代码性能优化-tree-shaking？"></a>🎉 代码性能优化-tree-shaking？</h2><h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h4><p>将代码中未经应用的代码去除。</p><p>前提：1.使用 ES6 模块化 2.开启 production 环境</p><p>作用：减少代码体积</p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>在 package.json 中配置</p><p>“sodeEffects“:false 所有代码都没有副作用（都可以进行 tree shaking）</p><p>问题：可能会把 css/其他文件文件干掉</p><p>解决：</p><p>“sodeEffects“:[“*.css”]</p><h2 id="🎉-代码性能优化-代码分割-code-split？"><a href="#🎉-代码性能优化-代码分割-code-split？" class="headerlink" title="🎉 代码性能优化-代码分割 code split？"></a>🎉 代码性能优化-代码分割 code split？</h2><h4 id="多入口出口文件的重命名"><a href="#多入口出口文件的重命名" class="headerlink" title="多入口出口文件的重命名"></a>多入口出口文件的重命名</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将entry修改为对象，并对入口进行命名</span></span><br><span class="line"><span class="comment">//在filename处增加[name]</span></span><br><span class="line">entry: &#123;</span><br><span class="line">    index:<span class="string">&#x27;./src/js/index.js&#x27;</span>,</span><br><span class="line">    main:<span class="string">&#x27;./src/index.html&#x27;</span>,</span><br><span class="line">    text:<span class="string">&#x27;./src/js/text.js&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line">output: &#123;</span><br><span class="line">    <span class="comment">//输出文件名</span></span><br><span class="line">    filename: <span class="string">&quot;js/[name].built.[contenthash:10].js&quot;</span>,</span><br><span class="line">    <span class="comment">//__dirname是nodejs的变量，代表当前文件的目录绝对路径</span></span><br><span class="line">    path: resolve(__dirname, <span class="string">&#x27;build&#x27;</span>),</span><br><span class="line">    <span class="comment">//公共路径为当前路径</span></span><br><span class="line">    publicPath: <span class="string">&#x27;./&#x27;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="多文件处理"><a href="#多文件处理" class="headerlink" title="多文件处理"></a>多文件处理</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.optimization配置可以将node_modules中的代码单独打包成一个chunk最终输出</span></span><br><span class="line"><span class="comment">//2.optimization配置会自动分析多入口chunk中，有没有公共的代码</span></span><br><span class="line"><span class="comment">//如果有会打包成单独的一个chunk</span></span><br><span class="line">optimization:&#123;</span><br><span class="line">  splitChunks:&#123;</span><br><span class="line">    chunks:<span class="string">&#x27;all&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//3.通过js代码，让某个文件被单独打包成一个chunk</span></span><br><span class="line"><span class="comment">//import动态导入语法：能将某个文件单独打包</span></span><br><span class="line"><span class="comment">//通过注释可以给单独打包的Chunk起名字</span></span><br><span class="line"><span class="keyword">import</span> (<span class="comment">/* webpackChunkName:&#x27;test&#x27;*/</span><span class="string">&#x27;./text&#x27;</span>)</span><br><span class="line">.then(<span class="function">(<span class="params">result</span>) =&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;加载失败&#x27;</span>)</span><br><span class="line">  &#125;）</span><br></pre></td></tr></table></figure><h2 id="🎉-代码性能优化-lazy-loading？"><a href="#🎉-代码性能优化-lazy-loading？" class="headerlink" title="🎉 代码性能优化-lazy loading？"></a>🎉 代码性能优化-lazy loading？</h2><h4 id="概念-2"><a href="#概念-2" class="headerlink" title="概念"></a>概念</h4><p>当需要加载某个 js 的时候再进行加载</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//import &#123;mul&#125; form &#x27;./test&#x27;</span></span><br><span class="line"><span class="comment">//这里是直接加载的方法</span></span><br><span class="line"><span class="comment">//这里是懒加载</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn&#x27;</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="comment">//这里的webPrefetch是预加载的意思，会等其他资源加载完毕再加载预加载资源</span></span><br><span class="line"><span class="comment">//正常加载我们可以理解为并行加载(同一时间加载多个文件)</span></span><br><span class="line">  <span class="keyword">import</span> (<span class="comment">/* webpackChunkName:&#x27;test&#x27;,webPrefetch:true*/</span><span class="string">&#x27;./text&#x27;</span>)</span><br><span class="line">.then(<span class="function">(<span class="params">&#123;mul&#125;</span>) =&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(mul(<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;加载失败&#x27;</span>)</span><br><span class="line">  &#125;）</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉-代码性能优化-PWA？"><a href="#🎉-代码性能优化-PWA？" class="headerlink" title="🎉 代码性能优化-PWA？"></a>🎉 代码性能优化-PWA？</h2><h4 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h4><p>渐进式网络开发应用程序（离线可访问技术）</p><p>workbox –》 workbox-webpack-plugin</p><h4 id="安装-6"><a href="#安装-6" class="headerlink" title="安装"></a>安装</h4><p>使用前需要安装 html-webpack-plugin。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i workbox<span class="literal">-webpack</span><span class="literal">-plugin</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h4 id="引入-1"><a href="#引入-1" class="headerlink" title="引入"></a>引入</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> WorkboxWebpackPlugin = <span class="built_in">require</span>(<span class="string">&quot;workbox-webpack-plugin&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="修改配置-5"><a href="#修改配置-5" class="headerlink" title="修改配置"></a>修改配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> WorkboxWebpackPlugin.GenerateSW(&#123;</span><br><span class="line"> clientsClaim:<span class="literal">true</span>,</span><br><span class="line"> skipWaiting:<span class="literal">true</span></span><br><span class="line"> <span class="comment">//1.帮助sw快速启动</span></span><br><span class="line"> <span class="comment">//2.删除旧的sw</span></span><br><span class="line"> <span class="comment">//生成sw配置文件</span></span><br><span class="line">&#125;）</span><br></pre></td></tr></table></figure><h4 id="注册-sw"><a href="#注册-sw" class="headerlink" title="注册 sw"></a>注册 sw</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="string">&#x27;serviceWorker&#x27;</span> <span class="keyword">in</span> navigator)&#123;</span><br><span class="line">  windows.addEventListener(<span class="string">&#x27;load&#x27;</span>,<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    navigator.serviceWorker.register(<span class="string">&#x27;/service-worker&#x27;</span>);</span><br><span class="line">    .then(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;SW注册失败&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">.catch(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;SW注册失败&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure><h4 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.eslint 不认识window、 navigator等变量。</span></span><br><span class="line"><span class="comment">//解决：需要修改package.json中的eslintConfig配置。</span></span><br><span class="line"><span class="string">&quot;env&quot;</span>：&#123;</span><br><span class="line">  <span class="string">&quot;browser&quot;</span>:<span class="literal">true</span><span class="comment">//支持浏览器变量</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.sw代码必须运行在服务器上</span></span><br><span class="line"><span class="comment">//--》 nodeJS代码</span></span><br><span class="line"><span class="comment">//--》</span></span><br><span class="line"> cnpm i serve -g</span><br><span class="line"> serve -s build 启动服务器，将build下所有资源作为静态资源暴露</span><br></pre></td></tr></table></figure><h2 id="🎉-代码性能优化-externals？"><a href="#🎉-代码性能优化-externals？" class="headerlink" title="🎉 代码性能优化-externals？"></a>🎉 代码性能优化-externals？</h2><h4 id="概念-3"><a href="#概念-3" class="headerlink" title="概念"></a><strong>概念</strong></h4><p><strong>将需要用 cdn 资源引入的 js 屏蔽掉。</strong></p><h4 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a><strong>方法</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">externals: &#123;</span><br><span class="line">  <span class="comment">// 拒绝jQuery被打包进来(通过cdn引入，速度会快一些)</span></span><br><span class="line">  <span class="comment">// 忽略的库名 -- npm包名</span></span><br><span class="line">  <span class="comment">//需要手动引入cdn链接</span></span><br><span class="line">  jquery: <span class="string">&quot;jQuery&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉-代码性能优化-DLL？"><a href="#🎉-代码性能优化-DLL？" class="headerlink" title="🎉 代码性能优化-DLL？"></a>🎉 代码性能优化-DLL？</h2><h4 id="概念-4"><a href="#概念-4" class="headerlink" title="概念"></a>概念</h4><p>dll：让某些库单独打包，后直接引入到 build 中。可以在 code split 分割出 node_modules 后再用 dll 更细的分割，优化代码运行的性能。</p><h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  node_modules的库会打包到一起，但是很多库的时候打包输出的js文件就太大了</span></span><br><span class="line"><span class="comment">  使用dll技术，对某些库（第三方库：jquery、react、vue...）进行单独打包</span></span><br><span class="line"><span class="comment">  当运行webpack时，默认查找webpack.config.js配置文件</span></span><br><span class="line"><span class="comment">  需求：需要运行webpack.dll.js文件</span></span><br><span class="line"><span class="comment">    --&gt; webpack --config webpack.dll.js（运行这个指令表示以这个配置文件打包）</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&quot;webpack&quot;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    <span class="comment">// 最终打包生成的[name] --&gt; jquery</span></span><br><span class="line">    <span class="comment">// [&#x27;jquery] --&gt; 要打包的库是jquery</span></span><br><span class="line">    jquery: [<span class="string">&quot;jquery&quot;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// 输出出口指定</span></span><br><span class="line">    filename: <span class="string">&quot;[name].js&quot;</span>, <span class="comment">// name就是jquery</span></span><br><span class="line">    path: resolve(__dirname, <span class="string">&quot;dll&quot;</span>), <span class="comment">// 打包到dll目录下</span></span><br><span class="line">    library: <span class="string">&quot;[name]_[hash]&quot;</span>, <span class="comment">// 打包的库里面向外暴露出去的内容叫什么名字</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// 打包生成一个manifest.json --&gt; 提供jquery的映射关系（告诉webpack：jquery之后不需要再打包和暴露内容的名称）</span></span><br><span class="line">    <span class="keyword">new</span> webpack.DllPlugin(&#123;</span><br><span class="line">      name: <span class="string">&quot;[name]_[hash]&quot;</span>, <span class="comment">// 映射库的暴露的内容名称</span></span><br><span class="line">      path: resolve(__dirname, <span class="string">&quot;dll/manifest.json&quot;</span>), <span class="comment">// 输出文件路径</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  mode: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>webpack.config.js 配置：(告诉 webpack 不需要再打包 jquery，并将之前打包好的 jquery 跟其他打包好的资源一同输出到 build 目录下)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入插件</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> AddAssetHtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;add-asset-html-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="comment">// plugins中配置：</span></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">    template: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="comment">// 告诉webpack哪些库不参与打包，同时使用时的名称也得变</span></span><br><span class="line">  <span class="keyword">new</span> webpack.DllReferencePlugin(&#123;</span><br><span class="line">    manifest: resolve(__dirname, <span class="string">&#x27;dll/manifest.json&#x27;</span>)</span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="comment">// 将某个文件打包输出到build目录下，并在html中自动引入该资源</span></span><br><span class="line">  <span class="keyword">new</span> AddAssetHtmlWebpackPlugin(&#123;</span><br><span class="line">    filepath: resolve(__dirname, <span class="string">&#x27;dll/jquery.js&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">],</span><br></pre></td></tr></table></figure><h1 id="第八章-webpack-配置详解？"><a href="#第八章-webpack-配置详解？" class="headerlink" title="第八章 webpack 配置详解？"></a>第八章 webpack 配置详解？</h1><h2 id="🎉entry？"><a href="#🎉entry？" class="headerlink" title="🎉entry？"></a>🎉entry？</h2><h4 id="string-类型"><a href="#string-类型" class="headerlink" title="string 类型"></a>string 类型</h4><p>–&gt; ‘./src/index.js’，单入口</p><p>打包形成一个 chunk。 输出一个 bundle 文件。此时 chunk 的名称默认是 main。</p><h4 id="array-类型"><a href="#array-类型" class="headerlink" title="array 类型"></a>array 类型</h4><p>–&gt; [‘./src/index.js’, ‘./src/add.js’]，多入口</p><p>所有入口文件最终只会形成一个 chunk，输出出去只有一个 bundle 文件。</p><p>（一般只用在 HMR 功能中让 html 热更新生效）。</p><h4 id="object-类型"><a href="#object-类型" class="headerlink" title="object 类型"></a>object 类型</h4><p>多入口，有几个入口文件就形成几个 chunk，输出几个 bundle 文件，此时 chunk 的名称是 key 值。</p><p>–&gt; 特殊用法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">  <span class="comment">// 最终只会形成一个chunk, 输出出去只有一个bundle文件。</span></span><br><span class="line">  index: [<span class="string">&#x27;./src/index.js&#x27;</span>, <span class="string">&#x27;./src/count.js&#x27;</span>],</span><br><span class="line">  <span class="comment">// 形成一个chunk，输出一个bundle文件。</span></span><br><span class="line">  add: <span class="string">&#x27;./src/add.js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉output？"><a href="#🎉output？" class="headerlink" title="🎉output？"></a>🎉output？</h2><h4 id="配置-2"><a href="#配置-2" class="headerlink" title="配置"></a>配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> output: &#123;</span><br><span class="line">  <span class="comment">// 文件名称（指定名称+哈希值+目录）</span></span><br><span class="line">  filename: <span class="string">&#x27;js/[name].[contenthash:10].js&#x27;</span>,</span><br><span class="line">  <span class="comment">// 输出文件目录（将来所有资源输出的公共目录）</span></span><br><span class="line">  path: resolve(__dirname, <span class="string">&#x27;build&#x27;</span>),</span><br><span class="line">  <span class="comment">// 所有资源引入公共路径前缀 --&gt; &#x27;imgs/a.jpg&#x27; --&gt; &#x27;/imgs/a.jpg&#x27;</span></span><br><span class="line">  publicPath: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">  chunkFilename: <span class="string">&#x27;js/[name]..[contenthash:10]_chunk.js&#x27;</span>, <span class="comment">// 指定非入口chunk的名称</span></span><br><span class="line">  library: <span class="string">&#x27;[name].[contenthash:10]&#x27;</span>, <span class="comment">// 打包整个库后向外暴露的变量名</span></span><br><span class="line">  libraryTarget: <span class="string">&#x27;window&#x27;</span> <span class="comment">// 变量名添加到哪个上 browser：window</span></span><br><span class="line">  <span class="comment">// libraryTarget: &#x27;global&#x27; // node：global</span></span><br><span class="line">  <span class="comment">// libraryTarget: &#x27;commonjs&#x27; // conmmonjs模块 exports</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="🎉module？"><a href="#🎉module？" class="headerlink" title="🎉module？"></a>🎉module？</h2><h4 id="配置-3"><a href="#配置-3" class="headerlink" title="配置"></a>配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    <span class="comment">// loader的配置</span></span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">      <span class="comment">// 多个loader用use</span></span><br><span class="line">      use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">      <span class="comment">// 排除node_modules下的js文件</span></span><br><span class="line">      exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">      <span class="comment">// 只检查src下的js文件</span></span><br><span class="line">      include: resolve(__dirname, <span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">      enforce: <span class="string">&#x27;pre&#x27;</span>, <span class="comment">// 优先执行</span></span><br><span class="line">      <span class="comment">// enforce: &#x27;post&#x27;, // 延后执行</span></span><br><span class="line">      <span class="comment">// 单个loader用loader</span></span><br><span class="line">      loader: <span class="string">&#x27;eslint-loader&#x27;</span>,</span><br><span class="line">      options: &#123;&#125; <span class="comment">// 指定配置选项</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// 以下配置只会生效一个</span></span><br><span class="line">      oneOf: []</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="🎉module？-1"><a href="#🎉module？-1" class="headerlink" title="🎉module？"></a>🎉module？</h2><h4 id="配置-4"><a href="#配置-4" class="headerlink" title="配置"></a>配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解析模块的规则</span></span><br><span class="line">resolve: &#123;</span><br><span class="line">  <span class="comment">// 配置解析模块路径别名: 优点：当目录层级很复杂时，简写路径；缺点：路径不会提示</span></span><br><span class="line">  alias: &#123;</span><br><span class="line">    $css: resolve(__dirname, <span class="string">&#x27;src/css&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 配置省略文件路径的后缀名（引入时就可以不写文件后缀名了）</span></span><br><span class="line">  extensions: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>, <span class="string">&#x27;.jsx&#x27;</span>, <span class="string">&#x27;.css&#x27;</span>],</span><br><span class="line">  <span class="comment">// 告诉 webpack 解析模块应该去找哪个目录</span></span><br><span class="line">  modules: [resolve(__dirname, <span class="string">&#x27;../../node_modules&#x27;</span>), <span class="string">&#x27;node_modules&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样配置后，引入文件就可以这样简写：<code>import &#39;$css/index&#39;;</code></p><h2 id="🎉devServer？"><a href="#🎉devServer？" class="headerlink" title="🎉devServer？"></a>🎉devServer？</h2><h4 id="配置-5"><a href="#配置-5" class="headerlink" title="配置"></a>配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">  <span class="comment">// 运行代码所在的目录</span></span><br><span class="line">  contentBase: resolve(__dirname, <span class="string">&#x27;build&#x27;</span>),</span><br><span class="line">  <span class="comment">// 监视contentBase目录下的所有文件，一旦文件变化就会reload</span></span><br><span class="line">  watchContentBase: <span class="literal">true</span>,</span><br><span class="line">  watchOptions: &#123;</span><br><span class="line">    <span class="comment">// 忽略文件</span></span><br><span class="line">    ignored: <span class="regexp">/node_modules/</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 启动gzip压缩</span></span><br><span class="line">  compress: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 端口号</span></span><br><span class="line">  port: <span class="number">5000</span>,</span><br><span class="line">  <span class="comment">// 域名</span></span><br><span class="line">  host: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">  <span class="comment">// 自动打开浏览器</span></span><br><span class="line">  open: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 开启HMR功能</span></span><br><span class="line">  hot: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 不要显示启动服务器日志信息</span></span><br><span class="line">  clientLogLevel: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">  <span class="comment">// 除了一些基本信息外，其他内容都不要显示</span></span><br><span class="line">  quiet: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 如果出错了，不要全屏提示</span></span><br><span class="line">  overlay: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 服务器代理，--&gt; 解决开发环境跨域问题</span></span><br><span class="line">  proxy: &#123;</span><br><span class="line">    <span class="comment">// 一旦devServer(5000)服务器接收到/api/xxx的请求，就会把请求转发到另外一个服务器3000</span></span><br><span class="line">    <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">      target: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line">      <span class="comment">// 发送请求时，请求路径重写：将/api/xxx --&gt; /xxx （去掉/api）</span></span><br><span class="line">      pathRewrite: &#123;</span><br><span class="line">        <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中，跨域问题：同源策略中不同的协议、端口号、域名就会产生跨域。<br>正常的浏览器和服务器之间有跨域，但是服务器之间没有跨域。代码通过代理服务器运行，所以浏览器和代理服务器之间没有跨域，浏览器把请求发送到代理服务器上，代理服务器替你转发到另外一个服务器上，服务器之间没有跨域，所以请求成功。代理服务器再把接收到的响应响应给浏览器。这样就解决开发环境下的跨域问题。</p><p>contenthash 缓存会导致一个问题：修改 a 文件导致 b 文件 contenthash 变化。</p><p>因为在 index.js 中引入 a.js，打包后 index.js 中记录了 a.js 的 hash 值，而 a.js 改变，其重新打包后的 hash 改变，导致 index.js 文件内容中记录的 a.js 的 hash 也改变，从而重新打包后 index.js 的 hash 值也会变，这样就会使缓存失效。（改变的是 a.js 文件但是 index.js 文件的 hash 值也改变了）</p><p>解决办法：runtimeChunk –&gt; 将当前模块记录其他模块的 hash 单独打包为一个文件 runtime，这样 a.js 的 hash 改变只会影响 runtime 文件，不会影响到 index.js 文件</p><h2 id="🎉module？-2"><a href="#🎉module？-2" class="headerlink" title="🎉module？"></a>🎉module？</h2><h4 id="配置-6"><a href="#配置-6" class="headerlink" title="配置"></a>配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">  filename: <span class="string">&#x27;js/[name].[contenthash:10].js&#x27;</span>,</span><br><span class="line">  path: resolve(__dirname, <span class="string">&#x27;build&#x27;</span>),</span><br><span class="line">  chunkFilename: <span class="string">&#x27;js/[name].[contenthash:10]_chunk.js&#x27;</span> <span class="comment">// 指定非入口文件的其他chunk的名字加_chunk</span></span><br><span class="line">&#125;,</span><br><span class="line">optimization: &#123;</span><br><span class="line">  splitChunks: &#123;</span><br><span class="line">    chunks: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">    <span class="comment">/* 以下都是splitChunks默认配置，可以不写</span></span><br><span class="line"><span class="comment">    miniSize: 30 * 1024, // 分割的chunk最小为30kb（大于30kb的才分割）</span></span><br><span class="line"><span class="comment">    maxSize: 0, // 最大没有限制</span></span><br><span class="line"><span class="comment">    minChunks: 1, // 要提取的chunk最少被引用1次</span></span><br><span class="line"><span class="comment">    maxAsyncRequests: 5, // 按需加载时并行加载的文件的最大数量为5</span></span><br><span class="line"><span class="comment">    maxInitialRequests: 3, // 入口js文件最大并行请求数量</span></span><br><span class="line"><span class="comment">    automaticNameDelimiter: &#x27;~&#x27;, // 名称连接符</span></span><br><span class="line"><span class="comment">    name: true, // 可以使用命名规则</span></span><br><span class="line"><span class="comment">    cacheGroups: &#123; // 分割chunk的组</span></span><br><span class="line"><span class="comment">      vendors: &#123;</span></span><br><span class="line"><span class="comment">        // node_modules中的文件会被打包到vendors组的chunk中，--&gt; vendors~xxx.js</span></span><br><span class="line"><span class="comment">        // 满足上面的公共规则，大小超过30kb、至少被引用一次</span></span><br><span class="line"><span class="comment">        test: /[\\/]node_modules[\\/]/,</span></span><br><span class="line"><span class="comment">        // 优先级</span></span><br><span class="line"><span class="comment">        priority: -10</span></span><br><span class="line"><span class="comment">      &#125;,</span></span><br><span class="line"><span class="comment">      default: &#123;</span></span><br><span class="line"><span class="comment">        // 要提取的chunk最少被引用2次</span></span><br><span class="line"><span class="comment">        minChunks: 2,</span></span><br><span class="line"><span class="comment">        prority: -20,</span></span><br><span class="line"><span class="comment">        // 如果当前要打包的模块和之前已经被提取的模块是同一个，就会复用，而不是重新打包</span></span><br><span class="line"><span class="comment">        reuseExistingChunk: true</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">    &#125; */</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 将index.js记录的a.js的hash值单独打包到runtime文件中</span></span><br><span class="line">  runtimeChunk: &#123;</span><br><span class="line">    name: <span class="function"><span class="params">entrypoint</span> =&gt;</span> <span class="string">`runtime-<span class="subst">$&#123;entrypoint.name&#125;</span>`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  minimizer: [</span><br><span class="line">    <span class="comment">// 配置生产环境的压缩方案：js/css</span></span><br><span class="line">    <span class="keyword">new</span> TerserWebpackPlugin(&#123;</span><br><span class="line">      <span class="comment">// 开启缓存</span></span><br><span class="line">      cache: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// 开启多进程打包</span></span><br><span class="line">      parallel: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// 启用sourceMap(否则会被压缩掉)</span></span><br><span class="line">      sourceMap: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="第九章-webpack5-的新特性？"><a href="#第九章-webpack5-的新特性？" class="headerlink" title="第九章 webpack5 的新特性？"></a>第九章 webpack5 的新特性？</h1><h2 id="🎉-重点内容？"><a href="#🎉-重点内容？" class="headerlink" title="🎉 重点内容？"></a>🎉 重点内容？</h2><p>此版本重点关注以下内容:</p><ul><li>通过持久缓存提高构建性能.</li><li>使用更好的算法和默认值来改善长期缓存.</li><li>通过更好的树摇和代码生成来改善捆绑包大小.</li><li>清除处于怪异状态的内部结构，同时在 v4 中实现功能而不引入任何重大更改.</li><li>通过引入重大更改来为将来的功能做准备，以使我们能够尽可能长时间地使用 v5.</li></ul><h2 id="🎉-下载？（截止-2020-年-11-月已经可以直接下了）"><a href="#🎉-下载？（截止-2020-年-11-月已经可以直接下了）" class="headerlink" title="🎉 下载？（截止 2020 年 11 月已经可以直接下了）"></a>🎉 下载？（截止 2020 年 11 月已经可以直接下了）</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cnpm</span> i webpack webpack<span class="literal">-cli</span> <span class="literal">-D</span></span><br></pre></td></tr></table></figure><h2 id="🎉-自动删除-Node-js-Polyfills"><a href="#🎉-自动删除-Node-js-Polyfills" class="headerlink" title="🎉 自动删除 Node.js Polyfills?"></a>🎉 自动删除 Node.js Polyfills?</h2><p>早期，webpack 的目标是允许在浏览器中运行大多数 node.js 模块，但是模块格局发生了变化，许多模块用途现在主要是为前端目的而编写的。webpack &lt;= 4 附带了许多 node.js 核心模块的 polyfill，一旦模块使用任何核心模块（即 crypto 模块），这些模块就会自动应用。</p><p>尽管这使使用为 node.js 编写的模块变得容易，但它会将这些巨大的 polyfill 添加到包中。在许多情况下，这些 polyfill 是不必要的。</p><p>webpack 5 会自动停止填充这些核心模块，并专注于与前端兼容的模块。</p><p>迁移：</p><ul><li>尽可能尝试使用与前端兼容的模块。</li><li>可以为 node.js 核心模块手动添加一个 polyfill。错误消息将提示如何实现该目标。</li></ul><p>Chunk 和模块 ID</p><p>添加了用于长期缓存的新算法。在生产模式下默认情况下启用这些功能。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chunkIds: <span class="string">&quot;deterministic&quot;</span>, <span class="attr">moduleIds</span>: <span class="string">&quot;deterministic&quot;</span></span><br></pre></td></tr></table></figure><h2 id="🎉Chunk-ID？"><a href="#🎉Chunk-ID？" class="headerlink" title="🎉Chunk ID？"></a>🎉Chunk ID？</h2><p>你可以不用使用<code>import(/* webpackChunkName: &quot;name&quot; */ &quot;module&quot;)</code>在开发环境来为 chunk 命名，生产环境还是有必要的</p><p>webpack 内部有 chunk 命名规则，不再是以 id(0, 1, 2)命名了</p><h2 id="🎉Tree-Shaking？"><a href="#🎉Tree-Shaking？" class="headerlink" title="🎉Tree Shaking？"></a>🎉Tree Shaking？</h2><ol><li>webpack 现在能够处理对嵌套模块的 tree shaking</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// inner.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="comment">// module.js</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> inner <span class="keyword">from</span> <span class="string">&quot;./inner&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; inner &#125;;</span><br><span class="line"><span class="comment">// user.js</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="built_in">module</span> <span class="keyword">from</span> <span class="string">&quot;./module&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">module</span>.inner.a);</span><br></pre></td></tr></table></figure><p>在生产环境中, inner 模块暴露的<code>b</code>会被删除</p><ol><li>webpack 现在能够多个模块之前的关系</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; something &#125; <span class="keyword">from</span> <span class="string">&quot;./something&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">usingSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> something;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> usingSomething();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当设置了<code>&quot;sideEffects&quot;: false</code>时，一旦发现<code>test</code>方法没有使用，不但删除<code>test</code>，还会删除<code>&quot;./something&quot;</code></p><ol><li>webpack 现在能处理对 Commonjs 的 tree shaking</li></ol><h2 id="🎉Output？"><a href="#🎉Output？" class="headerlink" title="🎉Output？"></a>🎉Output？</h2><p>webpack 4 默认只能输出 ES5 代码</p><p>webpack 5 开始新增一个属性 output.ecmaVersion, 可以生成 ES5 和 ES6 / ES2015 代码.</p><p>如：<code>output.ecmaVersion: 2015</code></p><p>SplitChunk</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack4</span></span><br><span class="line">minSize: <span class="number">30000</span>;</span><br><span class="line"><span class="comment">// webpack5</span></span><br><span class="line">minSize: &#123;</span><br><span class="line">  javascript: <span class="number">30000</span>,</span><br><span class="line">  style: <span class="number">50000</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="🎉Caching？"><a href="#🎉Caching？" class="headerlink" title="🎉Caching？"></a>🎉Caching？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 配置缓存</span></span><br><span class="line">cache: &#123;</span><br><span class="line">  <span class="comment">// 磁盘存储</span></span><br><span class="line">  type: <span class="string">&quot;filesystem&quot;</span>,</span><br><span class="line">  buildDependencies: &#123;</span><br><span class="line">    <span class="comment">// 当配置修改时，缓存失效</span></span><br><span class="line">    config: [__filename]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>缓存将存储到<code>node_modules/.cache/webpack</code></p><h2 id="🎉-监视输出文件？"><a href="#🎉-监视输出文件？" class="headerlink" title="🎉 监视输出文件？"></a>🎉 监视输出文件？</h2><p>之前 webpack 总是在第一次构建时输出全部文件，但是监视重新构建时会只更新修改的文件。</p><p>此次更新在第一次构建时会找到输出文件看是否有变化，从而决定要不要输出全部文件。</p><h2 id="🎉-默认值？"><a href="#🎉-默认值？" class="headerlink" title="🎉 默认值？"></a>🎉 默认值？</h2><ul><li><code>entry: &quot;./src/index.js</code></li><li><code>output.path: path.resolve(__dirname, &quot;dist&quot;)</code></li><li><code>output.filename: &quot;[name].js&quot;</code></li></ul><blockquote><p>尚硅谷 2020 最新版 Webpack5 实战教程(从入门到精通)<br><a href="https://www.bilibili.com/video/BV1e7411j7T5?p=1">https://www.bilibili.com/video/BV1e7411j7T5?p=1</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十、vue中的组件间的数据访问和插槽</title>
      <link href="2020/11/09/2020-11-09/"/>
      <url>2020/11/09/2020-11-09/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-组件化-父组件访问子组件？"><a href="#Vue-组件化-父组件访问子组件？" class="headerlink" title="Vue 组件化-父组件访问子组件？"></a>Vue 组件化-父组件访问子组件？</h1><h2 id="🎉-父组件访问子组件-children、refs？"><a href="#🎉-父组件访问子组件-children、refs？" class="headerlink" title="🎉 父组件访问子组件 children、refs？"></a>🎉 父组件访问子组件 children、refs？</h2><p>有时候我们需要父组件直接访问子组件，子组件直接访问父组件，或者是子组件访问跟组件。</p><p>父组件访问子组件：使用<img src= "/img/loading.gif" data-lazy-src="https://g.yuque.com/gr/latex?children%E6%88%96#card=math&code=children%E6%88%96">refs</p><p>子组件访问父组件：使用$parent</p><p><strong>使用$children：</strong></p><p>通过$children 访问子组件时，是一个数组类型，访问其中的子组件必须通过索引值。</p><p>但是当子组件过多，我们需要拿到其中一个时，往往不能确定它的索引值，甚至还可能会发生变化。</p><p>有时候，我们想明确获取其中一个特定的组件，这个时候就可以使用$refs</p><p><strong>使用$refs：</strong></p><p>$refs 和 ref 指令通常是一起使用的。</p><p>首先，我们通过 ref 给某一个子组件绑定一个特定的 ID。</p><p>其次，通过 this.$refs.ID 就可以访问到该组件了。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮获取子组件fuc<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">ref</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  我是子组件</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data:&#123;</span><br><span class="line"><span class="javascript">      message:<span class="string">&#x27;你好！&#x27;</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      btnClick()&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.$children);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$children[<span class="number">0</span>].showMessage();</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.$children[<span class="number">0</span>].name);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//根据顺序取值</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.$refs.aaa);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//根据key取值</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      cpn :&#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line">        data()&#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            name:<span class="string">&#x27;233&#x27;</span></span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">          showMessage()&#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;showmessage&#x27;</span>)</span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="🎉-子组件访问父组件-parent、root？"><a href="#🎉-子组件访问父组件-parent、root？" class="headerlink" title="🎉 子组件访问父组件 parent、root？"></a>🎉 子组件访问父组件 parent、root？</h2><p>如果我们想在子组件中直接访问父组件，可以通过$parent</p><p>注意事项：</p><p>尽管在 Vue 开发中，我们允许通过$parent 来访问父组件，但是在真实开发中尽量不要这样做。</p><p>子组件应该尽量避免直接访问父组件的数据，因为这样耦合度太高了。</p><p>如果我们将子组件放在另外一个组件之内，很可能该父组件没有对应的属性，往往会引起问题。</p><p>另外，更不好做的是通过$parent 直接修改父组件的状态，那么父组件中的状态将变得飘忽不定，很不利于我的调试和维护。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.$parent</span><br><span class="line">this。$root</span><br></pre></td></tr></table></figure><h1 id="Vue-组件化-组件插槽？"><a href="#Vue-组件化-组件插槽？" class="headerlink" title="Vue 组件化-组件插槽？"></a>Vue 组件化-组件插槽？</h1><h2 id="🎉-组件插槽-slot？"><a href="#🎉-组件插槽-slot？" class="headerlink" title="🎉 组件插槽 slot？"></a>🎉 组件插槽 slot？</h2><p>组件的插槽也是为了让我们封装的组件更加具有扩展性。</p><p>让使用者可以决定组件内部的一些内容到底展示什么。</p><p>一样的写死，不一样的预留插槽。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;cpn&gt;&lt;button&gt;我是插槽中的自定义的代码&lt;&#x2F;button&gt;&lt;&#x2F;cpn&gt;</span><br><span class="line">&lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">&lt;slot&gt;&lt;button&gt;我是插槽中的默认代码&lt;&#x2F;button&gt;&lt;&#x2F;slot&gt;</span><br></pre></td></tr></table></figure><h2 id="🎉-什么是具名插槽？"><a href="#🎉-什么是具名插槽？" class="headerlink" title="🎉 什么是具名插槽？"></a>🎉 什么是具名插槽？</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">slot</span>=<span class="string">&quot;left&quot;</span>&gt;</span>我是插槽中的自定义的代码<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--这时会替换模板中left插槽的内容--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>左边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>右边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="🎉-什么是编译的作用域？"><a href="#🎉-什么是编译的作用域？" class="headerlink" title="🎉 什么是编译的作用域？"></a>🎉 什么是编译的作用域？</h2><p>官方给出了一条准则：父组件模板的所有东西都会在父级作用域内编译；子组件模板的所有东西都会在子级作用域内编译。</p><p>而我们在使用的时候，整个组件的使用过程是相当于在父组件中出现的。</p><p>那么他的作用域就是父组件，使用的属性也是属于父组件的属性。</p><p>因此，isShow 使用的是 Vue 实例中的属性，而不是子组件的属性。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--这里使用的是父组件的isShow--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--这里使用的是子组件的isShow--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> cpn = &#123;</span></span><br><span class="line"><span class="javascript">    template:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line">    data()&#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        isShow:<span class="literal">false</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data:&#123;</span><br><span class="line"><span class="javascript">      message:<span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      isShow:<span class="literal">true</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      cpn</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="🎉-什么是作用域插槽？"><a href="#🎉-什么是作用域插槽？" class="headerlink" title="🎉 什么是作用域插槽？"></a>🎉 什么是作用域插槽？</h2><p>父组件替换插槽的标签，但是内容由子组件来提供。</p><p>我们先提一个需求：</p><p>子组件中包括一组数据，比如：pLanguages: [‘JavaScript’, ‘Python’, ‘Swift’, ‘Go’, ‘C++’]</p><p>需要在多个界面进行展示：</p><p>某些界面是以水平方向一一展示的，</p><p>某些界面是以列表形式展示的，</p><p>某些界面直接展示一个数组</p><p>内容在子组件，希望父组件告诉我们如何展示，怎么办呢？</p><p>利用 slot 作用域插槽就可以了</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;slot&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-for</span>=<span class="string">&quot;item in slot.data&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;-<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">slot</span> <span class="attr">:data</span>=<span class="string">&quot;pLanguages&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in pLanguages&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> cpn = &#123;</span></span><br><span class="line"><span class="javascript">    template: <span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        pLanguages: [</span><br><span class="line"><span class="javascript">          <span class="string">&quot;JavaScript&quot;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">&quot;Python&quot;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">&quot;Swift&quot;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">&quot;Go&quot;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">&quot;C++&quot;</span>,</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="JS-基础-模块化开发？"><a href="#JS-基础-模块化开发？" class="headerlink" title="JS 基础-模块化开发？"></a>JS 基础-模块化开发？</h1><h2 id="🎉JavaScript-原始功能？"><a href="#🎉JavaScript-原始功能？" class="headerlink" title="🎉JavaScript 原始功能？"></a>🎉JavaScript 原始功能？</h2><p>在网页开发的早期，js 制作作为一种脚本语言，做一些简单的表单验证或动画实现等，那个时候代码还是很少的。那个时候直接将代码写在 script 标签中即可。</p><p>随着 ajax 异步请求的出现，慢慢形成了前后端的分离，客户端需要完成的事情越来越多，代码量也是与日俱增。</p><p>为了应对代码量的剧增，我们通常会将代码组织在多个 js 文件中，进行维护。但是这种维护方式，依然不能避免一些灾难性的问题。比如全局变量同名问题。</p><p>另外，这种代码的编写方式对 js 文件的依赖顺序几乎是强制性的。但是当 js 文件过多，比如有几十个的时候，弄清楚它们的顺序是一件比较同时的事情。而且即使你弄清楚顺序了，也不能避免上面出现的这种尴尬问题的发生。</p><h2 id="🎉-匿名函数的解决方案？"><a href="#🎉-匿名函数的解决方案？" class="headerlink" title="🎉 匿名函数的解决方案？"></a>🎉 匿名函数的解决方案？</h2><p>我们可以使用匿名函数来解决方面的重名问题</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">//匿名函数闭包</span></span><br></pre></td></tr></table></figure><h2 id="🎉-模块化出口？"><a href="#🎉-模块化出口？" class="headerlink" title="🎉 模块化出口？"></a>🎉 模块化出口？</h2><p>我们可以使用将需要暴露到外面的变量，使用一个模块作为出口，什么意思呢？</p><p>来看下对应的代码：</p><p>出口：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">module</span> = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">//匿名函数闭包</span></span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.flag) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;成功使用了flag！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里做了什么事情呢？</p><p>非常简单，在匿名函数内部，定义一个对象。</p><p>给对象添加各种需要暴露到外面的属性和方法(不需要暴露的直接定义即可)。</p><p>最后将这个对象返回，并且在外面使用了一个 moudle 接受。</p><p>接下来，我们在 man.js 中怎么使用呢？</p><p>我们只需要使用属于自己模块的属性和方法即可</p><p>这就是模块最基础的封装，事实上模块的封装还有很多高级的话题：</p><p>但是我们这里就是要认识一下为什么需要模块，以及模块的原始雏形。</p><p>幸运的是，前端模块化开发已经有了很多既有的规范，以及对应的实现方案。</p><p>常见的模块化规范：</p><p>CommonJS、AMD、CMD，也有 ES6 的 Modules</p><h2 id="🎉CommonJS-的模块化？"><a href="#🎉CommonJS-的模块化？" class="headerlink" title="🎉CommonJS 的模块化？"></a>🎉CommonJS 的模块化？</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  自定义属性：值</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="keyword">var</span> &#123;自定义属性<span class="number">1</span>,自定义属性<span class="number">2</span>,自定义属性<span class="number">3</span>&#125; = <span class="built_in">require</span>(<span class="string">&quot;/js/xxx.js&quot;</span>)</span><br><span class="line"><span class="comment">//输入</span></span><br></pre></td></tr></table></figure><h2 id="🎉ES6-自带模块化？"><a href="#🎉ES6-自带模块化？" class="headerlink" title="🎉ES6 自带模块化？"></a>🎉ES6 自带模块化？</h2><p>导出：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name =<span class="string">&quot;xiaoming&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> age = <span class="string">&quot;18&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(sum(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//1.导出方法1，直接导出</span></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">    flag,</span><br><span class="line">    sum,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.导出方法2，边定义边导出</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> number = <span class="number">6</span>;</span><br><span class="line"><span class="comment">//3.导出函数和类</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  run()&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;在奔跑&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4.导出default，但default只能有一个</span></span><br><span class="line"><span class="keyword">const</span> address = <span class="string">&quot;北京市&quot;</span></span><br><span class="line"><span class="keyword">export</span> defult address</span><br></pre></td></tr></table></figure><p>我们使用 export 指令导出了模块对外提供的接口，下面我们就可以通过 import 命令来加载对应的这个模块了</p><p>首先，我们需要在 HTML 代码中引入两个 js 文件，并且类型需要设置为 module。</p><p>如果我们希望某个模块中所有的信息都导入，一个个导入显然有些麻烦：</p><p>通过*可以导入模块中所有的 export 变量</p><p>但是通常情况下我们需要给*起一个别名，方便后续的使用</p><p>导入：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;flag,sum&#125; <span class="keyword">from</span> <span class="string">&quot;./aaa.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> *<span class="keyword">as</span> <span class="keyword">from</span> <span class="string">&quot;./aaa.js&quot;</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的新闻资讯侧边栏</title>
      <link href="2020/11/05/2020-11-05/"/>
      <url>2020/11/05/2020-11-05/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/news.png#alt=example"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/news2.png#alt=example"></p><p>这个插件基于<a href="https://www.mxnzp.com/">RollToolsApi</a></p><p>在使用前请先在微信搜索小程序“Roll 地盘”获取 api.id 和 api.key。</p><blockquote><p>**想体验接口？ **<br>可获取临时 app_id 测试，获取方式：扫描下方小程序码-&gt;选择 TAB-我的-&gt;点击获取临时 app_id 即可获取临时体验接口的 app_id 和 app_secret，此 app_id 仅为测试使用，次日凌晨自动重置，重置之后之前生成的 app_id 将失效，真正使用接口请申请属于自己专属的 app_id。</p><p>**如何注册 app_id 和 app_secret 呢？ **<br>搜索微信小程序【Roll 地盘】，进入我的页面，绑定手机号之后即可获取你的专属 app_id 和 app_secret，使用新方式吧骚年！</p><p><strong>捐助 api？</strong><br>由于服务器端的维护以及部分接口的维护都是需要付费的，所以如果此项目对您有帮助，还希望您捐赠支持，让我能好好的一直坚持下去。金额不在于多少，一份心意就好！在此感谢捐赠列表中所有的捐赠者，你们的鼓励是我最大的动力！</p><p><img src= "/img/loading.gif" data-lazy-src="/images/juanzhu.png#alt=example"></p></blockquote><p>本侧边栏部件通过 vuejs 进行编码。</p><p>资源包地址：<a href="https://github.com/Zfour/Butterfly-news">https://github.com/Zfour/Butterfly-news</a></p><p><a href="https://github.com/Zfour/Butterfly-news">资源包下载</a></p><p>废话不多说了，开始教学。</p><hr><h2 id="步骤-1：修改-pug-代码"><a href="#步骤-1：修改-pug-代码" class="headerlink" title="步骤 1：修改 pug 代码"></a>步骤 1：修改 pug 代码</h2><h3 id="下载资源包"><a href="#下载资源包" class="headerlink" title="下载资源包"></a>下载资源包</h3><p><a href="https://github.com/Zfour/Butterfly-news">资源包下载</a></p><h3 id="增加、替换代码"><a href="#增加、替换代码" class="headerlink" title="增加、替换代码"></a>增加、替换代码</h3><p>将资源包中 pug 文件夹的 card_news.pug 文件放入”\themes\butterfly\layout\includes\widget”目录下。</p><p>将资源包 pug 文件夹的 index.pug 文件放入”\themes\butterfly\layout\includes\widget”目录下替换。(适用于 3.1 版本以上)</p><p>若你的版本较低或存在侧边栏魔改，请打开”\themes\butterfly\layout\includes\widget”路径下的”index.pug”</p><p>将 card_news 代码部分添加至 card_author 代码块后。添加的代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_news.enable</span><br><span class="line">  !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_news&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”aside:”设置处</p><p>添加 news 开关代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_news:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><hr><h2 id="步骤-2：添加引入-js、css-代码"><a href="#步骤-2：添加引入-js、css-代码" class="headerlink" title="步骤 2：添加引入 js、css 代码"></a>步骤 2：添加引入 js、css 代码</h2><h3 id="放置资源包"><a href="#放置资源包" class="headerlink" title="放置资源包"></a>放置资源包</h3><p>将下载包中的 news 文件夹放入根目录的”source”文件夹下。</p><h3 id="引入-js-和-css"><a href="#引入-js-和-css" class="headerlink" title="引入 js 和 css"></a>引入 js 和 css</h3><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><p>若已有 vue 引入，请确保 vue 的版本为 2.6 以上。</p><p>keys.js 一定要放在 news.js 之前。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/news/css/news.css&quot;/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/npm/vue@2.6.11&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/news/js/keys.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/news/js/news.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="步骤-3：填写-key"><a href="#步骤-3：填写-key" class="headerlink" title="步骤 3：填写 key"></a>步骤 3：填写 key</h2><p>请获取微信小程序【Roll 地盘】中的 api.id 和 api.key。</p><h3 id="配置-key-信息"><a href="#配置-key-信息" class="headerlink" title="配置 key 信息"></a>配置 key 信息</h3><p>打开’source/news/js/keys.js’文件，将对应的 api.id 和 api.key 填入。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newskey = &#123;</span><br><span class="line">  id: <span class="string">&quot;********&quot;</span>,</span><br><span class="line">  key: <span class="string">&quot;*******&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>此时，”hexo g &amp;&amp; hexo s”可发现已加载。</p><h3 id="js-文件的加密"><a href="#js-文件的加密" class="headerlink" title="js 文件的加密"></a>js 文件的加密</h3><p>在确保加载成功后，需进行 js 文件的加密。</p><p>为了保障自己的 key 不被泄露及恶意引用，需要对 keys.js 进行加密处理。</p><p>前往<a href="https://www.jsjiami.com/">https://www.jsjiami.com/</a>进行 js 加密。</p><p>在点击 js 混淆加密之前，设置高级选项，进行域名限制防止恶意调用。</p><p><strong>但这样在 localhost 时也会禁止调用且会导致浏览器卡死，请在本地调试时将 inject 的 keys.js 注释掉。</strong></p><p>你也可以选择其他加密手段，请确保对引入 js 的访问限制及加密混淆。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/lock.png#alt=example"></p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>若有问题请与我邮件联系<a href="mailto:&#52;&#x39;&#x39;&#x39;&#x38;&#52;&#53;&#x33;&#50;&#x40;&#113;&#x71;&#46;&#99;&#111;&#x6d;">&#52;&#x39;&#x39;&#x39;&#x38;&#52;&#53;&#x33;&#50;&#x40;&#113;&#x71;&#46;&#99;&#111;&#x6d;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的双栏卡片主页文章css样式</title>
      <link href="2020/10/30/2020-10-26/"/>
      <url>2020/10/30/2020-10-26/</url>
      
        <content type="html"><![CDATA[<h2 id="步骤-1：调整文章图片布局"><a href="#步骤-1：调整文章图片布局" class="headerlink" title="步骤 1：调整文章图片布局"></a>步骤 1：调整文章图片布局</h2><p>首先你需要确保文章的图片位置为左侧布局。</p><p>打开主题配置文件，搜索封面顯示的位置。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># the position of cover in home page (封面顯示的位置)</span><br><span class="line">  # left&#x2F;right&#x2F;both</span><br><span class="line">  position: left</span><br></pre></td></tr></table></figure><p>将 position 改为 left。</p><p>同时设置 hexo 的页面展示文章数首页文章数最好大于 20 篇。</p><p>目前已修复，不过最好多一点不然侧边栏会显得过长。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Home page setting</span><br><span class="line"># path: Root path for your blogs index page. (default &#x3D; &#39;&#39;)</span><br><span class="line"># per_page: Posts displayed per page. (0 &#x3D; disable pagination)</span><br><span class="line"># order_by: Posts order. (Order by date descending by default)</span><br><span class="line">index_generator:</span><br><span class="line">  path: &#39;&#39;</span><br><span class="line">  per_page: 20</span><br><span class="line">  order_by: -date</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-2：接入-CSS"><a href="#步骤-2：接入-CSS" class="headerlink" title="步骤 2：接入 CSS"></a>步骤 2：接入 CSS</h2><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>原生添加以下代码或下载 css 从本地导入：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.css&quot;/&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#recent-posts</span>&#123;</span><br><span class="line">    <span class="attribute">margin-top</span>:-<span class="number">1rem</span>;  <span class="comment">/*头部为空时抵消间隔，若有磁贴或日历请注释掉该行*/</span></span><br><span class="line">    <span class="attribute">align-content</span>:flex-start;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap; <span class="comment">/*规定灵活的项目在必要的时候拆行或拆列。*/</span></span><br><span class="line">    <span class="attribute">justify-content</span>: space-between; <span class="comment">/*。*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">  <span class="comment">/*max-height:324px;*/</span>  <span class="comment">/*文章容器最大高度*/</span></span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">1rem</span>; <span class="comment">/*最小间距*/</span></span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">height</span>:auto; <span class="comment">/*高度自动*/</span></span><br><span class="line">  <span class="attribute">width</span>:<span class="number">49%</span>;<span class="comment">/*文章容器容器宽度*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.post_cover</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/*图片封面宽度*/</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;<span class="comment">/*图片封面高度*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.post_cover</span> <span class="selector-tag">img</span><span class="selector-class">.post_bg</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;<span class="comment">/*图片宽度*/</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;<span class="comment">/*图片高度*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &gt;<span class="selector-class">.recent-post-info</span> &gt; <span class="selector-class">.content</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:none;<span class="comment">/*隐藏文章详情*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">-webkit-flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line">  <span class="attribute">-ms-flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line">  <span class="attribute">flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.left_radius</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span> <span class="number">0</span>;<span class="comment">/*圆角修改*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.right_radius</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span> <span class="number">0</span>;<span class="comment">/*圆角修改*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.recent-post-item</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:auto <span class="meta">!important</span>;<span class="comment">/*容器高度自动*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recent-post-info</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">40px</span>;<span class="comment">/*容器内部文字左右间距*/</span></span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">1em</span>;<span class="comment">/*容器内部文字上间距*/</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span><span class="meta">!important</span>;<span class="comment">/*容器宽度*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &gt; <span class="selector-class">.recent-post-info</span> &gt; <span class="selector-class">.article-title</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-line-clamp</span>: <span class="number">1</span>;<span class="comment">/*控制标题的行数*/</span></span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0.3rem</span>; <span class="comment">/*控制标题的上间距*/</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0.3rem</span>;<span class="comment">/*控制标题的下间距*/</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.2em</span>; <span class="comment">/*控制标题的字体大小*/</span></span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.4</span>;<span class="comment">/*控制标题的行高*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &gt;<span class="selector-class">.recent-post-info</span> &gt; <span class="selector-class">.article-meta-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;<span class="comment">/*控制标题meta信息的底部间距*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">768px</span>) &#123;</span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line"> <span class="attribute">width</span>:<span class="number">100%</span>;<span class="comment">/*控制手机自适应*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>链接进入后，你会发现，布局神奇地变成了双栏布局。</p><hr><h2 id="步骤-2：修改-pug"><a href="#步骤-2：修改-pug" class="headerlink" title="步骤 2：修改 pug"></a>步骤 2：修改 pug</h2><h3 id="原生主题用户"><a href="#原生主题用户" class="headerlink" title="原生主题用户"></a>原生主题用户</h3><p>如果你想让发布时间、分类、标签不在一行显示可以修改 pug。</p><p>打开”\themes\hexo-theme-butterfly\layout\includes\mixins\post-ui.pug”。</p><p>在__separator 和 i.fas 之间加上换行符 br。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">span.article-meta__separator</span><br><span class="line">br</span><br><span class="line">i.fas.fa-tag.article-meta__icon</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-4：相关-BUG-解决"><a href="#步骤-4：相关-BUG-解决" class="headerlink" title="步骤 4：相关 BUG 解决"></a>步骤 4：相关 BUG 解决</h2><p>在 Android 大佬的指导下已完美解决文章不够时的样式问题，使用新的 cdn 链接即可。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的侧边栏说说</title>
      <link href="2020/10/20/2020-10-20/"/>
      <url>2020/10/20/2020-10-20/</url>
      
        <content type="html"><![CDATA[<h2 id="当前教程已暂停维护"><a href="#当前教程已暂停维护" class="headerlink" title="当前教程已暂停维护"></a>当前教程已暂停维护</h2><p>最新教程，请参考最新教程<a href="https://akilar.top/posts/f1004b1d/">akilar- 基于 Butterfly 的侧边栏 Artitalk</a></p><h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/shuo.png#alt=example"></p><p>因为想着想把说说放在主页，但又觉得放文章主区域比较碍事。<br>于是写了这个侧边栏的样式。<br>比较苦恼的是，我更新之后的 artitalk 在主页不能正常调用，于是我写的额外的 js。<br>至于 artitalk 的配置教程这里不过与赘述。不过如果你使用 vline 的话，<br>请将 artitalk 和 vline 配置在同一个应用中。<br>artitalk 的 leancloud 主要配置方法请参考<br><a href="https://artitalk.js.org/doc.html">https://artitalk.js.org/doc.html</a></p><blockquote><ol><li>前往 <a href="https://leancloud.app/">LeanCloud 国际版 </a>，注册账号。</li><li>注册完成之后根据 LeanCloud 的提示绑定手机号和邮箱。</li><li>绑定完成之后点击<code>创建应用</code>，应用名称随意，接着在<code>结构化数据</code>中创建 <code>class</code>，命名为 <code>shuoshuo</code>。</li><li>在你新建的应用中找到<code>结构化数据</code>下的<code>用户</code>。点击<code>添加用户</code>，输入想用的用户名及密码。</li><li>回到<code>结构化数据</code>中，点击 <code>class</code> 下的 <code>shuoshuo</code>。找到权限，在 <code>Class 访问权限</code>中将 <code>add_fields</code> 以及 <code>create</code> 权限设置为指定用户，输入你刚才输入的用户名会自动匹配。为了安全起见，将 <code>delete</code> 和 <code>update</code> 也设置为跟它们一样的权限。</li><li>然后新建一个名为<code>atComment</code>的 class，权限什么的使用默认的即可。</li><li>点击 <code>class</code> 下的 <code>_User</code> 添加列，列名称为 <code>img</code>，默认值填上你这个账号想要用的发布说说的头像 url，这一项不进行配置，说说头像会显示为默认头像 —— Artitalk 的 logo。</li><li>在最菜单栏中找到设置-&gt; 应用 keys，记下来 <code>AppID</code> 和 <code>AppKey</code> ，一会会用。</li><li>最后将 <code>_User</code> 中的权限全部调为指定用户，或者数据创建者，为了保证不被篡改用户数据已达到强制发布说说。</li></ol><p>资源包地址：<a href="https://github.com/Zfour/Butterfly-shuo">https://github.com/Zfour/Butterfly-shuo</a></p></blockquote><p><a href="https://github.com/Zfour/Butterfly-shuo">资源包下载</a></p><hr><h2 id="步骤-1：修改-pug-代码"><a href="#步骤-1：修改-pug-代码" class="headerlink" title="步骤 1：修改 pug 代码"></a>步骤 1：修改 pug 代码</h2><h3 id="下载资源包"><a href="#下载资源包" class="headerlink" title="下载资源包"></a>下载资源包</h3><p><a href="https://github.com/Zfour/Butterfly-shuo">资源包下载</a></p><h3 id="增加、替换代码"><a href="#增加、替换代码" class="headerlink" title="增加、替换代码"></a>增加、替换代码</h3><p>前往”根目录\themes\butterfly\layout\includes\widget”文件夹，将资源包中的”card_shuo.pug”复制到文件夹中。</p><p>打开”\themes\butterfly\layout\includes\widget”路径下的”index.pug”</p><p>使用文件夹中的”index.pug”进行替换，如果你存在侧边栏魔改请手动修改。</p><p>将 card_shuo 代码添加至 card_author 代码块后。添加后的代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#aside_content.aside_content</span><br><span class="line">  if theme.aside.card_author.enable</span><br><span class="line">    include .&#x2F;card_author.pug</span><br><span class="line">  if theme.aside.card_shuo.enable</span><br><span class="line">    include .&#x2F;card_shuo.pug</span><br><span class="line">  .sticky_layout</span><br><span class="line">    if theme.aside.card_announcement.enable</span><br><span class="line">      include .&#x2F;card_announcement.pug</span><br><span class="line">    if theme.aside.card_recent_post.enable</span><br><span class="line">      include .&#x2F;card_recent_post.pug</span><br><span class="line">    if theme.newest_comments.enable</span><br><span class="line">      include .&#x2F;card_newest_comment.pug</span><br><span class="line">    if theme.ad &amp;&amp; theme.ad.aside</span><br><span class="line">      include .&#x2F;card_ad.pug</span><br><span class="line">    if theme.aside.card_categories.enable</span><br><span class="line">      include .&#x2F;card_categories.pug</span><br><span class="line">    if theme.aside.card_tags.enable</span><br><span class="line">      include .&#x2F;card_tags.pug</span><br><span class="line">    if theme.aside.card_archives.enable</span><br><span class="line">      include .&#x2F;card_archives.pug</span><br><span class="line">    if theme.aside.card_webinfo.enable</span><br><span class="line">      include .&#x2F;card_webinfo.pug</span><br></pre></td></tr></table></figure><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”aside:”设置处</p><p>添加 card_shuo 开关代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_shuo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><hr><h2 id="步骤-2：添加引入-js、css-代码"><a href="#步骤-2：添加引入-js、css-代码" class="headerlink" title="步骤 2：添加引入 js、css 代码"></a>步骤 2：添加引入 js、css 代码</h2><h3 id="放置资源包"><a href="#放置资源包" class="headerlink" title="放置资源包"></a>放置资源包</h3><p>将下载包中的 shuoshuo 文件夹放入根目录的”source”文件夹下。</p><h3 id="引入-js-和-css"><a href="#引入-js-和-css" class="headerlink" title="引入 js 和 css"></a>引入 js 和 css</h3><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><p>你需要更改”artitalkkey.js”中的 ID 和 appKey 为你的 vline 相同的应用信息。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/shuoshuo/css/shuo.css&quot;/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/npm/artitalk&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/shuoshuo/js/shuo.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/shuoshuo/js/artitalkkey.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>此时，”hexo g &amp;&amp; hexo s”可发现说说已经完成配置。</p><p>点击编辑可展开隐藏的登录和写说说的按钮。</p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>若有问题请与我邮件联系<a href="mailto:&#x34;&#x39;&#x39;&#57;&#56;&#x34;&#x35;&#51;&#50;&#x40;&#113;&#x71;&#46;&#99;&#111;&#x6d;">&#x34;&#x39;&#x39;&#57;&#56;&#x34;&#x35;&#51;&#50;&#x40;&#113;&#x71;&#46;&#99;&#111;&#x6d;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>九、vue中的父子通信</title>
      <link href="2020/10/20/2020-10-21/"/>
      <url>2020/10/20/2020-10-21/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-组件化-父子组件通讯"><a href="#Vue-组件化-父子组件通讯" class="headerlink" title="Vue 组件化-父子组件通讯"></a>Vue 组件化-父子组件通讯</h1><h3 id="🎉-父传子-props？"><a href="#🎉-父传子-props？" class="headerlink" title="🎉 父传子 props？"></a>🎉 父传子 props？</h3><p>但是，在开发中，往往一些数据确实需要从上层传递到下层：</p><p>比如在一个页面中，我们从服务器请求到了很多的数据。</p><p>其中一部分数据，并非是我们整个页面的大组件来展示的，而是需要下面的子组件进行展示。</p><p>这个时候，并不会让子组件再次发送一个网络请求，而是直接让大组件(父组件)将数据传递给小组件(子组件)。</p><p>官方提到：</p><p>① 通过 props 向子组件传递数据</p><p>② 通过事件向父组件发送消息</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/vue.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:cmovie</span>=<span class="string">&quot;movie&quot;</span> <span class="attr">:cmessage</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;cmessage&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;cmovie&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> cpn =    &#123;</span></span><br><span class="line"><span class="javascript">            template:<span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            props: [<span class="string">&#x27;cmovie&#x27;</span>,<span class="string">&#x27;cmessage&#x27;</span>],</span></span><br><span class="line">            data()&#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">                el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">                data:&#123;</span><br><span class="line"><span class="javascript">                    message:<span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    movie: [<span class="string">&quot;海王&quot;</span>,<span class="string">&quot;海贼王&quot;</span>,<span class="string">&quot;海盗王&quot;</span>,<span class="string">&quot;赶海王&quot;</span>]</span></span><br><span class="line">                &#125;,</span><br><span class="line">                components:&#123;</span><br><span class="line">                    cpn</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>常见的 props 写法：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1.可以传递一个数组</span><br><span class="line">props:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]</span><br><span class="line">2.可以传递一个对象</span><br><span class="line">props:&#123;</span><br><span class="line">  apple:String,</span><br><span class="line">  numbers:Number,</span><br><span class="line">&#125;</span><br><span class="line">3.可以提供初始值,以及必传值</span><br><span class="line">props:&#123;</span><br><span class="line">  apple:&#123;</span><br><span class="line">    type:String,</span><br><span class="line">    default:&quot;山东枣庄大苹果&quot;，</span><br><span class="line">    required:true</span><br><span class="line">  &#125;,</span><br><span class="line">  members:&#123;</span><br><span class="line">    type:Array,</span><br><span class="line">    default()&#123;</span><br><span class="line">      return []</span><br><span class="line">    &#125;，</span><br><span class="line">    required:true</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><h3 id="🎉-验证都支持哪些数据类型呢？"><a href="#🎉-验证都支持哪些数据类型呢？" class="headerlink" title="🎉 验证都支持哪些数据类型呢？"></a>🎉 验证都支持哪些数据类型呢？</h3><p>String</p><p>Number</p><p>Boolean</p><p>Array</p><p>Object</p><p>Date</p><p>Function</p><p>Symbol</p><h3 id="🎉props-的驼峰标识？"><a href="#🎉props-的驼峰标识？" class="headerlink" title="🎉props 的驼峰标识？"></a>🎉props 的驼峰标识？</h3><p>在绑定时 v-bind 不支持驼峰标识，</p><p>在绑定 cIndex 等具有驼峰标识的属性时</p><p>通过以下写法进行转换</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:c-index &#x2F;&#x2F;利用-替换驼峰</span><br></pre></td></tr></table></figure><h3 id="🎉-子传父-props？"><a href="#🎉-子传父-props？" class="headerlink" title="🎉 子传父 props？"></a>🎉 子传父 props？</h3><p>props 用于父组件向子组件传递数据，</p><p>还有一种比较常见的是子组件传递数据或事件到父组件中。</p><p>我们应该如何处理呢？</p><p>这个时候，我们需要使用自定义事件来完成。</p><p>什么时候需要自定义事件呢？</p><p>当子组件需要向父组件传递数据时，就要用到自定义事件了。</p><p>我们之前学习的 v-on 不仅仅可以用于监听 DOM 事件，也可以用于组件间的自定义事件。</p><p>自定义事件的流程：</p><p>在子组件中，通过$emit()来触发事件。</p><p>在父组件中，通过 v-on 来监听子组件事件。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/vue.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span> @<span class="attr">itemclick</span>=<span class="string">&quot;cpnclick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-for</span>=<span class="string">&quot;item in cata&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;itemclick(item)&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> cpn =    &#123;</span></span><br><span class="line"><span class="javascript">            template:<span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line"></span><br><span class="line">            data()&#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line">                cata:[</span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="string">&quot;aaa&quot;</span>,<span class="attr">name</span>:<span class="string">&quot;大圣归来&quot;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="string">&quot;bbb&quot;</span>,<span class="attr">name</span>:<span class="string">&quot;大鱼海棠&quot;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="string">&quot;ccc&quot;</span>,<span class="attr">name</span>:<span class="string">&quot;哪吒&quot;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">id</span>:<span class="string">&quot;ddd&quot;</span>,<span class="attr">name</span>:<span class="string">&quot;火影忍者&quot;</span>&#125;,</span></span><br><span class="line">                ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                itemclick(item)&#123;</span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(item);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//发射,这里使用的是$emit</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.$emit(<span class="string">&#x27;itemclick&#x27;</span>,item)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">                el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">                data:&#123;</span><br><span class="line"><span class="javascript">                    message:<span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    movie: [<span class="string">&quot;海王&quot;</span>,<span class="string">&quot;海贼王&quot;</span>,<span class="string">&quot;海盗王&quot;</span>,<span class="string">&quot;赶海王&quot;</span>]</span></span><br><span class="line">                &#125;,</span><br><span class="line">                components:&#123;</span><br><span class="line">                    cpn</span><br><span class="line">                &#125;,</span><br><span class="line">                methods:&#123;</span><br><span class="line">                    cpnclick(item)&#123;</span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(item.name);</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎉-父子组件通信案例？"><a href="#🎉-父子组件通信案例？" class="headerlink" title="🎉 父子组件通信案例？"></a>🎉 父子组件通信案例？</h3><p>通过子组件将数据读取再通过 input 改变后返回给父组件，</p><p>并将改变的值再次传入子组件中。</p><p>注意要点，</p><p>首先需要在改变子组件值的时候使用子组件的 data 进行一步中转，</p><p>然后在传回父组件时，对 v-model 进行拆解，将 input 事件进行抽离。</p><p>再通过$emit()传回数据。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">这里首先通过绑定父组件的data（num1和num2）；</span></span><br><span class="line"><span class="comment">再通过子组件传递的自定义事件调用父组件中的方法。</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span>=<span class="string">&quot;num1&quot;</span> <span class="attr">:number2</span>=<span class="string">&quot;num2&quot;</span></span></span><br><span class="line"><span class="tag">         @<span class="attr">numberchange1</span>=<span class="string">&quot;numberchange1&quot;</span></span></span><br><span class="line"><span class="tag">         @<span class="attr">numberchange2</span>=<span class="string">&quot;numberchange2&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">            props:&#123;&#123;number1&#125;&#125;</span><br><span class="line">            data:&#123;&#123;datanum1&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">:value</span>=<span class="string">&quot;datanum1&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;inputnum1&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--将v-model进行拆分绑定，绑定value和监听input事件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">            props:&#123;&#123;number2&#125;&#125;</span><br><span class="line">            data:&#123;&#123;datanum2&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">:value</span>=<span class="string">&quot;datanum2&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;inputnum2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="javascript">            message: <span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line">            num1: 1,</span><br><span class="line">            num2: 2</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            numberchange1(value)&#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.num1 =  <span class="built_in">parseInt</span>(value)</span></span><br><span class="line">            &#125; ,</span><br><span class="line">            numberchange2(value)&#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.num2 =  <span class="built_in">parseInt</span>(value)</span></span><br><span class="line">            &#125; ,</span><br><span class="line">        &#125;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            cpn: &#123;</span><br><span class="line"><span class="javascript">                template: <span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line">                props: &#123;</span><br><span class="line"><span class="javascript">                    number1: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">                    number2: <span class="built_in">Number</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                data()&#123;</span><br><span class="line"><span class="javascript">                  <span class="keyword">return</span>   &#123;</span></span><br><span class="line"><span class="javascript">                      datanum1:<span class="built_in">this</span>.number1,</span></span><br><span class="line"><span class="javascript">                      datanum2:<span class="built_in">this</span>.number2,</span></span><br><span class="line"><span class="javascript">                      <span class="comment">//这里需要对props的数据进行一次复用</span></span></span><br><span class="line"><span class="javascript">                      <span class="comment">//不能直接使用props的数据</span></span></span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">               methods:&#123;</span><br><span class="line">                    inputnum1(event)&#123;</span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.datanum1 = event.target.value;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.$emit(<span class="string">&quot;numberchange1&quot;</span>,<span class="built_in">this</span>.datanum1)</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//发射数据</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    inputnum2(event)&#123;</span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.datanum2 = event.target.value;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.$emit(<span class="string">&quot;numberchange2&quot;</span>,<span class="built_in">this</span>.datanum2)</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的分类磁贴2.0版</title>
      <link href="2020/10/18/2020-10-18/"/>
      <url>2020/10/18/2020-10-18/</url>
      
        <content type="html"><![CDATA[<h2 id="当前教程已暂停维护"><a href="#当前教程已暂停维护" class="headerlink" title="当前教程已暂停维护"></a>当前教程已暂停维护</h2><p>最新教程，请参考最新教程<a href="https://akilar.top/posts/a9131002/">akilar- 基于 Butterfly 主题的分类磁贴</a></p><h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/magnet2.0.png#alt=example"></p><p>灵感来源于原生主题的 gallery 以及在其他主题见到过的分类列表。</p><p>考虑到部分小伙伴的 tag 比较多，因此用 categories 为标准进行分类。</p><p>这里用到了 hexo 主题自带的帮助函数 list_categories()。帮助函数的作用在于能够自动帮你生成一些信息。</p><p>笔者对于函数及 function 进行了深入研究，利用 vue 实现了磁贴的自动获取和部分样式配置。</p><p>资源包地址：<a href="https://github.com/Zfour/Butterfly-magnet">https://github.com/Zfour/Butterfly-magnet</a></p><p><a href="https://github.com/Zfour/Butterfly-magnet">资源包下载</a></p><p>废话不多说了，开始教学。</p><hr><h2 id="步骤-1：修改-pug-代码"><a href="#步骤-1：修改-pug-代码" class="headerlink" title="步骤 1：修改 pug 代码"></a>步骤 1：修改 pug 代码</h2><blockquote><p>在开始一切工作之前，先确保你有至少 4 篇不同 categories 的文章。如果没有的话需要新建示例文章。<br>分类为自动获取的主分类。</p></blockquote><h3 id="下载资源包"><a href="#下载资源包" class="headerlink" title="下载资源包"></a>下载资源包</h3><p><a href="https://github.com/Zfour/Butterfly-magnet">资源包下载</a></p><h3 id="增加、替换代码"><a href="#增加、替换代码" class="headerlink" title="增加、替换代码"></a>增加、替换代码</h3><p>前往”根目录\themes\butterfly\layout”文件夹，将资源包中的”catalogMagnet.pug”复制到文件夹中。</p><p>将”index.pug”复制并重命名为”index-re.pug”作为备份。</p><p>将资源包中的”index.pug”覆盖进行替换。</p><p>或者打开”index.pug”按照以下代码进行修改。修改的起始点为”#recent-posts.recent-posts”。</p><p>ps:如果分类前有 gitcalendar 等块级元素的话在”photo-tag(style=’”后加”margin-top: 20px”来增加块之间的间隔。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">extends includes&#x2F;layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug</span><br><span class="line">  #recent-posts.recent-posts</span><br><span class="line">    .recent-post-item.photo-tag(style&#x3D;&#39;width:100%;height:auto;float:left;padding:5px;flex-wrap:wrap;justify-content : center;flex-direction: row; &#39;)</span><br><span class="line">      include catalogMagnet.pug</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;height:0px;clear:both;margin-top: 0px;&#39;)</span><br><span class="line">    +postUI</span><br><span class="line">    include includes&#x2F;pagination.pug</span><br></pre></td></tr></table></figure><blockquote><p>这里部分新手在使用时会出现 bug<br>磁贴和文章间会空出很大一行，<br>这时请使用备用兼容的 pug<br>.recent-post-item(style=’height:0px;clear:both;margin-top: 0px;’)的目的是重置换行</p></blockquote><hr><h2 id="步骤-2：添加引入-js、css-代码"><a href="#步骤-2：添加引入-js、css-代码" class="headerlink" title="步骤 2：添加引入 js、css 代码"></a>步骤 2：添加引入 js、css 代码</h2><h3 id="放置资源包"><a href="#放置资源包" class="headerlink" title="放置资源包"></a>放置资源包</h3><p>将下载包中的 magnet 文件夹放入根目录的”source”文件夹下。</p><h3 id="向-styl-里添加代码"><a href="#向-styl-里添加代码" class="headerlink" title="向 styl 里添加代码"></a>向 styl 里添加代码</h3><p>因为在调试过程中出现了 bug，且尚未解决，所以需要将以下代码加入到 style 里。</p><p>前往”博客根目录\themes\butterfly\source\css_layout”打开”third-party.styl”</p><p>提示：这里最好不要备份，备份的话不要放在 css 目录下（你可以复制一份到桌面）。</p><p>在末尾处填写以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.color-card</span></span><br><span class="line">  <span class="selector-tag">width</span>: 24%!<span class="selector-tag">important</span></span><br><span class="line">  <span class="selector-tag">height</span>: 180<span class="selector-tag">px</span>!<span class="selector-tag">important</span></span><br><span class="line">  <span class="selector-tag">margin</span>: 0<span class="selector-class">.3rem</span> 0<span class="selector-class">.5</span>%!<span class="selector-tag">important</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">650px</span>)</span><br><span class="line"> .color-card</span><br><span class="line">  <span class="attribute">width:</span> <span class="number">48%</span>!important</span><br><span class="line">  <span class="attribute">height:</span> <span class="number">150px</span>!important</span><br><span class="line">  <span class="attribute">margin:</span> <span class="number">0.3rem</span> <span class="number">1%</span>!important</span><br></pre></td></tr></table></figure><h3 id="引入-js-和-css"><a href="#引入-js-和-css" class="headerlink" title="引入 js 和 css"></a>引入 js 和 css</h3><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><p>若已有 vue 引入，请确保 vue 的版本为 2.6 以上。</p><p>你也可使用“<a href="https://cdn.jsdelivr.net/npm/vue@2.6.11%E2%80%9D%E8%BF%9B%E8%A1%8Ccdn%E5%BC%95%E5%85%A5%E3%80%82">https://cdn.jsdelivr.net/npm/vue@2.6.11”进行cdn引入。</a></p><p>bottom:</p><h2 id=""><a href="#" class="headerlink" title="-"></a>-</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;p&gt;此时，&quot;hexo s&quot;可发现文章的分类已经全部加载。&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;&lt;&#x2F;hr&gt;</span><br><span class="line"></span><br><span class="line">## 步骤2：了解控制自定义属性的js配置 ##</span><br><span class="line"></span><br><span class="line">&lt;p&gt;本磁贴通过catalogMagnet.js的配置项实现以下自定义属性。&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">### 磁贴背景图片 ###</span><br><span class="line"></span><br><span class="line">&lt;p&gt;按照从左到右，从上到下的顺序填写，可增加任意数量数组元素。&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;js</span><br><span class="line">        &#x2F;&#x2F;这里是磁贴背景图片</span><br><span class="line">        img:[</span><br><span class="line">            &quot;&#x2F;images&#x2F;b1.JPG&quot;,</span><br><span class="line">            &quot;&#x2F;images&#x2F;b2.JPG&quot;,</span><br><span class="line">            &quot;&#x2F;images&#x2F;b3.JPG&quot;,</span><br><span class="line">            &quot;&#x2F;images&#x2F;b4.JPG&quot;,</span><br><span class="line">            &quot;&#x2F;images&#x2F;b5.JPG&quot;,</span><br><span class="line">            &quot;&#x2F;images&#x2F;b6.JPG&quot;,</span><br><span class="line">            &quot;&#x2F;images&#x2F;b7.JPG&quot;,</span><br><span class="line">            &quot;&#x2F;images&#x2F;b8.JPG&quot;,</span><br><span class="line">        ],</span><br></pre></td></tr></table></figure><h3 id="磁贴描述信息"><a href="#磁贴描述信息" class="headerlink" title="磁贴描述信息"></a>磁贴描述信息</h3><p>按照从左到右，从上到下的顺序填写，可增加任意数量数组元素。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里是磁贴描述信息</span></span><br><span class="line">describe:[</span><br><span class="line">    <span class="string">&quot;日本早安新闻&quot;</span>,</span><br><span class="line">    <span class="string">&quot;vue学习记录&quot;</span>,</span><br><span class="line">    <span class="string">&quot;我的各种作品&quot;</span>,</span><br><span class="line">    <span class="string">&quot;我的学习整理&quot;</span>,</span><br><span class="line">    <span class="string">&quot;我的各种教程&quot;</span>,</span><br><span class="line">    <span class="string">&quot;我的游戏评测&quot;</span>,</span><br><span class="line">    <span class="string">&quot;生活点点滴滴&quot;</span>,</span><br><span class="line">    <span class="string">&quot;一切胡思乱想&quot;</span>,</span><br><span class="line">],</span><br></pre></td></tr></table></figure><h3 id="磁贴样式配置"><a href="#磁贴样式配置" class="headerlink" title="磁贴样式配置"></a>磁贴样式配置</h3><p>你可以通过此项修改磁贴的文字颜色，图片遮罩、阴影等效果。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">      <span class="comment">//这里是磁贴的文字颜色</span></span><br><span class="line">figLetColor: &#123;<span class="attr">color</span>:<span class="string">&#x27;white&#x27;</span>&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//这里是磁贴的文字遮罩</span></span><br><span class="line">figLetimg: &#123;<span class="attr">backgroundImage</span>: <span class="string">&#x27;linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%)&#x27;</span>&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//这里是当磁贴图片为透明背景png时默认展示的背景颜色</span></span><br><span class="line">figbackColor: &#123;<span class="attr">background</span>:<span class="string">&#x27;#000000 URL()&#x27;</span>&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//这里是当磁贴图片为透明背景png时默认展示的凹凸效果</span></span><br><span class="line">figShadow: &#123;<span class="attr">boxShadow</span>: <span class="string">&#x27;inset 3px 3px 18px 0px rgba(50,50,50, 0.4)&#x27;</span>&#125;,</span><br></pre></td></tr></table></figure><hr><h3 id="定制展示配置"><a href="#定制展示配置" class="headerlink" title="定制展示配置"></a>定制展示配置</h3><p>通过增加以下 js 代码可隐藏不需要展示的分类。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;.color-card&quot;</span>).eq(<span class="number">0</span>).css(&#123; <span class="attr">display</span>: <span class="string">&quot;none&quot;</span> &#125;);</span><br><span class="line"><span class="comment">//隐藏出现在列表中的第一个磁贴</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;.color-card&quot;</span>).eq(<span class="number">1</span>).css(&#123; <span class="attr">display</span>: <span class="string">&quot;none&quot;</span> &#125;);</span><br><span class="line"><span class="comment">//隐藏出现在列表中的第二个磁贴</span></span><br></pre></td></tr></table></figure><p>如果以上方法不成功请尝试 css 方法。（来自 zero）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">figure</span><span class="selector-class">.gallery-group</span><span class="selector-class">.color-card</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在添加新分类后，分类排序可能出现变化，请对应修改配置项。</p><p>若有问题请与我邮件联系<a href="mailto:&#52;&#x39;&#x39;&#x39;&#x38;&#x34;&#x35;&#x33;&#x32;&#64;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;">&#52;&#x39;&#x39;&#x39;&#x38;&#x34;&#x35;&#x33;&#x32;&#64;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的模拟电子钟侧边栏小部件3.0版</title>
      <link href="2020/10/16/2020-10-16-1/"/>
      <url>2020/10/16/2020-10-16-1/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><h3 id="去-jquery-版本"><a href="#去-jquery-版本" class="headerlink" title="去 jquery 版本"></a>去 jquery 版本</h3><p><a href="https://akilar.top/posts/4e39cf4a/">https://akilar.top/posts/4e39cf4a/</a></p><h3 id="基础版本"><a href="#基础版本" class="headerlink" title="基础版本"></a>基础版本</h3><p><img src= "/img/loading.gif" data-lazy-src="/images/clock3.0.png#alt=example"></p><h3 id="3-0-模拟时钟小部件主要包含："><a href="#3-0-模拟时钟小部件主要包含：" class="headerlink" title="3.0 模拟时钟小部件主要包含："></a>3.0 模拟时钟小部件主要包含：</h3><ul><li><p>日期（年、月、日、星期）</p></li><li><p>天气（天气图标、温度）</p></li><li><p>湿度(百分比）</p></li><li><p>空气质量（US AQI）</p></li><li><p>时间（当地时间、AM/PM）</p></li><li><p>地理位置（IP 地址地理位置）</p></li><li><p>每日访问上限：约 500 次</p></li><li><p>每月访问上限：10000 次</p></li></ul><h3 id="预览地址：https-zfe-space"><a href="#预览地址：https-zfe-space" class="headerlink" title="预览地址：https://zfe.space"></a>预览地址：<a href="https://zfe.space/">https://zfe.space</a></h3><p>调用过猛可能会上限不显示。</p><p>相比<a href="https://zfe.space/2020/08/16/2020-08-16-1/">1.0 版本</a>，加快了访问速度并优化了加载效果。</p><p>相比<a href="https://zfe.space/2020/08/31/2020-08-31-1/">2.0 版本</a>，通过 vue 替换 jquery 的 dom 操作提升了性能。</p><p>解决了 date class 会导致相关文章的时间样式出错的 BUG。</p><p>资源包地址：<a href="https://github.com/Zfour/Butterfly-clock/releases/tag/3.01">https://github.com/Zfour/Butterfly-clock/releases/tag/3.01</a></p><p><a href="https://github.com/Zfour/Butterfly-clock/releases/tag/3.01">资源包下载</a></p><h3 id="内测-3-1-版本"><a href="#内测-3-1-版本" class="headerlink" title="内测 3.1 版本"></a>内测 3.1 版本</h3><p><img src= "/img/loading.gif" data-lazy-src="/images/clock3.1.png#alt=example"></p><h3 id="3-1-内测模拟时钟小部件主要包含："><a href="#3-1-内测模拟时钟小部件主要包含：" class="headerlink" title="3.1 内测模拟时钟小部件主要包含："></a>3.1 内测模拟时钟小部件主要包含：</h3><ul><li><p>日期（年、月、日、星期）</p></li><li><p>天气（天气图标、温度）</p></li><li><p>湿度(百分比）</p></li><li><p>时间（当地时间、AM/PM）</p></li><li><p>地理位置（相比 3.0 优化了 ip 信息定位的不准确问题）</p></li><li><p>ip 信息（替代了空气质量信息）</p></li><li><p>每日访问上限：无限次</p></li><li><p>相比 3.0 优化了加载动画和信息显示效果。</p></li></ul><p>资源包地址：<a href="https://github.com/Zfour/Butterfly-clock/">https://github.com/Zfour/Butterfly-clock/</a></p><p><a href="https://github.com/Zfour/Butterfly-clock/">资源包下载</a></p><hr><h2 id="步骤-1：申请-api-key"><a href="#步骤-1：申请-api-key" class="headerlink" title="步骤 1：申请 api key"></a>步骤 1：申请 api key</h2><h3 id="基础版本-1"><a href="#基础版本-1" class="headerlink" title="基础版本"></a>基础版本</h3><p>这里介绍下如何申请 AirVisual api key。</p><p>① 打开网站，注册帐号。</p><p><a href="https://www.iqair.com/auth/login">https://www.iqair.com/auth/login</a></p><p>② 登录后访问，”<a href="https://www.iqair.com/dashboard/api&quot;">https://www.iqair.com/dashboard/api&quot;</a></p><p><a href="https://www.iqair.com/dashboard/api">https://www.iqair.com/dashboard/api</a></p><p>③ 点击“+ NEW KEY”按钮。选择“Community”得到对应的 key。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/apikey.png#alt=example"></p><h3 id="内测-3-1-版本-1"><a href="#内测-3-1-版本-1" class="headerlink" title="内测 3.1 版本"></a>内测 3.1 版本</h3><p>① 打开网站<a href="https://openweathermap.org/">https://openweathermap.org</a>，注册帐号，验证邮箱。<br>② 打开<a href="https://home.openweathermap.org/api_keys">https://home.openweathermap.org/api_keys</a>得到对应的 key。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/api2.png#alt=example"></p><hr><h2 id="步骤-2：添加小部件-pug"><a href="#步骤-2：添加小部件-pug" class="headerlink" title="步骤 2：添加小部件 pug"></a>步骤 2：添加小部件 pug</h2><p><a href="https://github.com/Zfour/Butterfly-clock">基础 3.0 版本资源包下载</a><br><a href="https://github.com/Zfour/Butterfly-clock/">内测 3.1 版本资源包下载</a></p><p>将资源包中 pug 文件夹的 card_clock.pug 文件放入”\themes\butterfly\layout\includes\widget”目录下。</p><p>将资源包 pug 文件夹的 index.pug 文件放入”\themes\butterfly\layout\includes\widget”目录下替换。(适用于 Butterfly3.3 版本以上)</p><p>若你的版本较低或存在侧边栏魔改，请打开”\themes\butterfly\layout\includes\widget”路径下的”index.pug”</p><p>将 card_clock 代码添加至 card_author 代码块后。添加后的代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_clock.enable</span><br><span class="line">  !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_clock&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#aside_content.aside_content</span><br><span class="line">  if theme.aside.card_author.enable</span><br><span class="line">    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_author&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">  if theme.aside.card_announcement.enable</span><br><span class="line">    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_announcement&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">  if theme.aside.card_clock.enable</span><br><span class="line">    !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_clock&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">  .sticky_layout</span><br><span class="line">    if is_post()</span><br><span class="line">      if showToc</span><br><span class="line">        include .&#x2F;card_post_toc.pug</span><br><span class="line">      if theme.aside.card_recent_post.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.ad &amp;&amp; theme.ad.aside</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">    else</span><br><span class="line">      if theme.aside.card_recent_post.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.ad &amp;&amp; theme.ad.aside</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.newest_comments.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_newest_comment&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_categories.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_categories&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_tags.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_tags&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_archives.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_archives&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_webinfo.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_webinfo&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”aside:”设置处</p><p>添加 clock 开关代码：</p><hr><h2 id="步骤-3：导入-CSS、JS、图片等资源文件"><a href="#步骤-3：导入-CSS、JS、图片等资源文件" class="headerlink" title="步骤 3：导入 CSS、JS、图片等资源文件"></a>步骤 3：导入 CSS、JS、图片等资源文件</h2><p>将下载包中的 clock 文件夹放入根目录的”source”文件夹下。</p><blockquote><p>如果报错，请将文件夹中的 pug 文件夹删除！！！</p></blockquote><h3 id="基础版本-2"><a href="#基础版本-2" class="headerlink" title="基础版本"></a>基础版本</h3><p>打开 clock 文件夹中的 clock.js。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> clockurl =</span><br><span class="line">  <span class="string">&quot;https://api.airvisual.com/v2/nearest_city?key=888888888-8888-8888-8888-888888888888&quot;</span>;</span><br></pre></td></tr></table></figure><p>将该部分链接的 key 值（888888888-8888-8888-8888-888888888888）改为步骤一在 airvisual 官网申请的 key 值。</p><h3 id="内测-3-1-版本-2"><a href="#内测-3-1-版本-2" class="headerlink" title="内测 3.1 版本"></a>内测 3.1 版本</h3><p>打开 clock 文件夹中的 clock.js。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mykey = &#123; <span class="attr">weather</span>: <span class="string">&quot;888888888888888888888&quot;</span> &#125;;</span><br></pre></td></tr></table></figure><p>将该部分链接的 key 值（888888888888888888888）改为步骤一在 openweathermap.org 官网申请的 key 值。</p><hr><h2 id="步骤-4：接入-CSS-与-JS"><a href="#步骤-4：接入-CSS-与-JS" class="headerlink" title="步骤 4：接入 CSS 与 JS"></a>步骤 4：接入 CSS 与 JS</h2><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  - &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;/clock/css/clock.css&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">  bottom:</span><br><span class="line">  - &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2.6.11&quot;&gt;&lt;/script&gt;</span><br><span class="line">  - &lt;script src=&quot;/clock/js/clock.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>butterfly 3.4 以上的版本请引入 jquery。<br>或参考<a href="https://akilar.top/posts/4e39cf4a/">https://akilar.top/posts/4e39cf4a/</a> 使用无 jquery 版本。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  - &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;/clock/css/clock.css&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">  bottom:</span><br><span class="line">  - &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2.6.11&quot;&gt;&lt;/script&gt;</span><br><span class="line">  - &lt;script  src=&quot;https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  - &lt;script src=&quot;/clock/js/clock.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在本地进行开发时基础版建议关掉”card_clock: enable: true”选项，以免出现多次调用上限的问题。</p><p>3.1 内测版无限制。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>八、vue中的组件化开发</title>
      <link href="2020/10/15/2020-10-16-2/"/>
      <url>2020/10/15/2020-10-16-2/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-组件化-什么是组件化？"><a href="#Vue-组件化-什么是组件化？" class="headerlink" title="Vue 组件化-什么是组件化？"></a>Vue 组件化-什么是组件化？</h1><h3 id="🎉-组件化的实现和使用步骤？"><a href="#🎉-组件化的实现和使用步骤？" class="headerlink" title="🎉 组件化的实现和使用步骤？"></a>🎉 组件化的实现和使用步骤？</h3><p>如果我们将一个页面中所有的处理逻辑全部放在一起，处理起来就会变得非常复杂，而且不利于后续的管理以及扩展。</p><p>但如果，我们讲一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能，那么之后整个页面的管理和维护就变得非常容易了。</p><p>步骤：</p><p>① 创建组件的构造器</p><p>② 注册组件</p><p>③ 使用组件</p><h3 id="🎉-组件化的基本使用过程？"><a href="#🎉-组件化的基本使用过程？" class="headerlink" title="🎉 组件化的基本使用过程？"></a>🎉 组件化的基本使用过程？</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cpnC = Vue.extend(&#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;div&gt;</span></span><br><span class="line"><span class="string">  &lt;h2&gt;我是标题&lt;/h2&gt;</span></span><br><span class="line"><span class="string">  &lt;p&gt;我是内容1&lt;/p&gt;</span></span><br><span class="line"><span class="string">  &lt;p&gt;我是内容2&lt;/p&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">&#125;); <span class="comment">//1.创建构造器对象</span></span><br><span class="line">Vue.component(<span class="string">`my-cpn`</span>, cpnC); <span class="comment">//2.注册组件</span></span><br></pre></td></tr></table></figure><p>1.Vue.extend()：</p><p>调用 Vue.extend()创建的是一个组件构造器。</p><p>通常在创建组件构造器时，传入 template 代表我们自定义组件的模板。</p><p>该模板就是在使用到组件的地方，要显示的 HTML 代码。</p><p>事实上，这种写法在 Vue2.x 的文档中几乎已经看不到了，它会直接使用下面我们会讲到的语法糖，但是在很多资料还是会提到这种方式，而且这种方式是学习后面方式的基础。</p><p>2.Vue.component()：</p><p>调用 Vue.component()是将刚才的组件构造器注册为一个组件，并且给它起一个组件的标签名称。</p><p>所以需要传递两个参数：1、注册组件的标签名 2、组件构造器</p><p>3.组件必须挂载在某个 Vue 实例下，否则它不会生效。</p><h3 id="🎉-全局组件和局部组件？"><a href="#🎉-全局组件和局部组件？" class="headerlink" title="🎉 全局组件和局部组件？"></a>🎉 全局组件和局部组件？</h3><p>当我们通过调用 Vue.component()注册组件时，组件的注册是全局的，</p><p>这意味着该组件可以在任意 Vue 示例下使用。</p><p>如果我们注册的组件是挂载在某个实例中, 那么就是一个局部组件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#96;my-cpn&#96;,cpnC);   &#x2F;&#x2F;这里是注册的全局组件</span><br><span class="line">const app &#x3D; new Vue(&#123;</span><br><span class="line">  el:&#39;#app&#39;,</span><br><span class="line">  data:&#123;</span><br><span class="line">    message:&#39;你好！&#39;</span><br><span class="line">  &#125;，</span><br><span class="line">  component:｛</span><br><span class="line">    cpn:cpnC   &#x2F;&#x2F;这里是注册的局部组件</span><br><span class="line">  ｝</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="🎉-父组件和子组件？"><a href="#🎉-父组件和子组件？" class="headerlink" title="🎉 父组件和子组件？"></a>🎉 父组件和子组件？</h3><p>组件和组件之间存在层级关系</p><p>而其中一种非常重要的关系就是父子组件的关系</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> cpnC1 = Vue.extend(&#123;</span><br><span class="line">     template:<span class="string">`</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"><span class="string">&lt;h2&gt;我是标题1&lt;/h2&gt;</span></span><br><span class="line"><span class="string">&lt;p&gt;我是子组件&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">     `</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> cpnC2 = Vue.extend(&#123;</span><br><span class="line">    template:<span class="string">`</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"><span class="string">&lt;h2&gt;我是标题2&lt;/h2&gt;</span></span><br><span class="line"><span class="string">&lt;p&gt;我是父组件&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;cpn1&gt;&lt;/cpn1&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">     `</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn1:cpnC1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:<span class="string">&#x27;你好！&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn2:cpnC2</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉-注册组件的语法糖？"><a href="#🎉-注册组件的语法糖？" class="headerlink" title="🎉 注册组件的语法糖？"></a>🎉 注册组件的语法糖？</h3><p>在上面注册组件的方式，可能会有些繁琐。</p><p>Vue 为了简化这个过程，提供了注册的语法糖。</p><p>主要是省去了调用 Vue.extend()的步骤，而是可以直接使用一个对象来代替。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&quot;cpn1&quot;,&#123;</span><br><span class="line">  template:&#96;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;我是标题2&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;p&gt;我是全局组件&lt;&#x2F;p&gt;</span><br><span class="line">&lt;cpn1&gt;&lt;&#x2F;cpn1&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">     &#96;</span><br><span class="line">&#125;)   &#x2F;&#x2F;注册全局组件</span><br><span class="line"> components: &#123;</span><br><span class="line">      cpn2:&#123;</span><br><span class="line">  template:&#96;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;我是标题2&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;p&gt;我是局部组件&lt;&#x2F;p&gt;</span><br><span class="line">&lt;cpn1&gt;&lt;&#x2F;cpn1&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">     &#96;</span><br><span class="line">&#125;</span><br><span class="line"> &#125;  &#x2F;&#x2F;注册局部组件</span><br></pre></td></tr></table></figure><h3 id="🎉-组件模板的抽离？"><a href="#🎉-组件模板的抽离？" class="headerlink" title="🎉 组件模板的抽离？"></a>🎉 组件模板的抽离？</h3><p>Vue 提供了两种方案来定义 HTML 模块内容：</p><p>使用 script 标签</p><p>使用 template 标签</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方案一，在外部写具有type为text/x-template的script</span></span><br><span class="line">&lt;script type=<span class="string">&quot;text/x-template&quot;</span> id=<span class="string">&quot;mycpn1&quot;</span>&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;我是标题<span class="number">2</span>&lt;/h2&gt;</span><br><span class="line">&lt;p&gt;我是局部组件&lt;/p&gt;</span><br><span class="line">&lt;cpn1&gt;&lt;/cpn1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">Vue.component(<span class="string">&quot;cpn1&quot;</span>,&#123;</span><br><span class="line">  template:<span class="string">&quot;#mycpn1&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//方案一，在外部写template标签</span></span><br><span class="line">&lt;template id=<span class="string">&quot;mycpn1&quot;</span>&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;我是标题<span class="number">2</span>&lt;/h2&gt;</span><br><span class="line">&lt;p&gt;我是局部组件&lt;/p&gt;</span><br><span class="line">&lt;cpn1&gt;&lt;/cpn1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">Vue.component(<span class="string">&quot;cpn1&quot;</span>,&#123;</span><br><span class="line">  template:<span class="string">&quot;#mycpn1&quot;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="🎉-为什么组件的-data-必须是函数？"><a href="#🎉-为什么组件的-data-必须是函数？" class="headerlink" title="🎉 为什么组件的 data 必须是函数？"></a>🎉 为什么组件的 data 必须是函数？</h3><p>组件对象也有一个 data 属性(也可以有 methods 等属性，下面我们有用到)</p><p>只是这个 data 属性必须是一个函数</p><p>而且这个函数返回一个对象，对象内部保存着数据</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&quot;cpn1&quot;</span>,&#123;</span><br><span class="line">  template:</span><br><span class="line">  <span class="string">`</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"><span class="string">&lt;h2&gt;&#123;&#123;title&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">&lt;p&gt;我是局部组件&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;cpn1&gt;&lt;/cpn1&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">     ，</span><br><span class="line">  data()&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      title:<span class="string">&quot;abc&quot;</span>，</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>七、vue中的高阶函数和表单绑定</title>
      <link href="2020/10/14/2020-10-14/"/>
      <url>2020/10/14/2020-10-14/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-语法-Vue-中涉及的-js-高阶函数？"><a href="#Vue-语法-Vue-中涉及的-js-高阶函数？" class="headerlink" title="Vue 语法-Vue 中涉及的 js 高阶函数？"></a>Vue 语法-Vue 中涉及的 js 高阶函数？</h1><h3 id="🎉-遍历数组的高阶函数语法？"><a href="#🎉-遍历数组的高阶函数语法？" class="headerlink" title="🎉 遍历数组的高阶函数语法？"></a>🎉 遍历数组的高阶函数语法？</h3><p>数组索引值的获取：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shownum()&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> <span class="built_in">this</span>.books)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i) <span class="comment">//获取索引值i</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>数组元素的获取：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">showitem()&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> <span class="built_in">this</span>.books)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item) <span class="comment">//获取数组元素item</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="🎉-一般的编程范式？"><a href="#🎉-一般的编程范式？" class="headerlink" title="🎉 一般的编程范式？"></a>🎉 一般的编程范式？</h3><p>编程范式：命令式编程/声明式编程</p><p>编程范式：面向对象编程（第一公民：对象）/函数式编程（第一公民：数组）</p><h3 id="🎉-高阶函数-filter？"><a href="#🎉-高阶函数-filter？" class="headerlink" title="🎉 高阶函数 filter？"></a>🎉 高阶函数 filter？</h3><p>filter 中的回调函数有一个要求：必须返回一个布尔值</p><p>true：当返回 true 时，函数内部会自动将这次回调的 n 加入到新的数组中</p><p>false：当返回 false 时，会默认过滤掉这次的 n</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newarr = filter(<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n &lt; <span class="number">100</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="🎉-高阶函数-map？"><a href="#🎉-高阶函数-map？" class="headerlink" title="🎉 高阶函数 map？"></a>🎉 高阶函数 map？</h3><p>对数组的所有元素进行一次变化处理可以采用 map 函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newarr2 = newarr.map(<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n * <span class="number">2</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="🎉-高阶函数-reduce？"><a href="#🎉-高阶函数-reduce？" class="headerlink" title="🎉 高阶函数 reduce？"></a>🎉 高阶函数 reduce？</h3><p>对数组中所有元素进行汇总可以用 reduce</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> total = newarr2.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">preValue, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="comment">//第一次：preValue 0 n 20</span></span><br><span class="line"><span class="comment">//第二次：preValue 100 n 40</span></span><br><span class="line"><span class="comment">//第三次：preValue 100 n 80</span></span><br><span class="line"><span class="comment">//第四次：preValue 100 n 100</span></span><br><span class="line"><span class="keyword">let</span> total = newarr2.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">preValue, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> preValue + n;</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="comment">//第一次：preValue 0 n 20</span></span><br><span class="line"><span class="comment">//第二次：preValue 20 n 40</span></span><br><span class="line"><span class="comment">//第三次：preValue 60 n 80</span></span><br><span class="line"><span class="comment">//第四次：preValue 140 n 100</span></span><br><span class="line"><span class="comment">//最终返回 240</span></span><br></pre></td></tr></table></figure><h3 id="🎉-高阶函数嵌套？"><a href="#🎉-高阶函数嵌套？" class="headerlink" title="🎉 高阶函数嵌套？"></a>🎉 高阶函数嵌套？</h3><p>一步式实现需求。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const nums &#x3D; [10,20,30,40,50,60];</span><br><span class="line">let total &#x3D;</span><br><span class="line">nums.filter(n &#x3D;&gt; n&lt;100).map(n &#x3D;&gt; n*2).reduce((pre,n) &#x3D;&gt; pre + n);</span><br></pre></td></tr></table></figure><h1 id="Vue-语法-Vue-中表单绑定-v-model？"><a href="#Vue-语法-Vue-中表单绑定-v-model？" class="headerlink" title="Vue 语法-Vue 中表单绑定 v-model？"></a>Vue 语法-Vue 中表单绑定 v-model？</h1><h3 id="🎉v-model-的使用和原理？"><a href="#🎉v-model-的使用和原理？" class="headerlink" title="🎉v-model 的使用和原理？"></a>🎉v-model 的使用和原理？</h3><p>表单控件在实际开发中是非常常见的。特别是对于用户信息的提交，需要大量的表单。</p><p>Vue 中使用 v-model 指令来实现表单元素和数据的双向绑定。</p><p>当我们在输入框输入内容时</p><p>因为 input 中的 v-model 绑定了 message，所以会实时将输入的内容传递给 message，message 发生改变。</p><p>当 message 发生改变时，因为上面我们使用 Mustache 语法，将 message 的值插入到 DOM 中，所以 DOM 会发生响应的改变。</p><p>所以，通过 v-model 实现了双向的绑定。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line"> //改变input输入值，message的值也发生改变</span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>v-model 其实是个语法糖</p><p>它包含了 v-bind 指令用于绑定 value</p><p>同时通过监听 input 事件给当前元素绑定最新的 value</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;message&quot;&gt;</span><br><span class="line">&lt;input</span><br><span class="line">type&#x3D;&quot;text&quot;</span><br><span class="line">:value&#x3D;&quot;message&quot;</span><br><span class="line">@input&#x3D;&quot;message &#x3D; $event.target.value&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉v-model-结合-radio-类型？"><a href="#🎉v-model-结合-radio-类型？" class="headerlink" title="🎉v-model 结合 radio 类型？"></a>🎉v-model 结合 radio 类型？</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;male&quot;</span> <span class="attr">value</span>=<span class="string">&quot;男&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>男</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;female&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>女</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里省略 name 也可以达到互斥的效果。</p><h3 id="🎉v-model-结合-checkbox-类型？"><a href="#🎉v-model-结合-checkbox-类型？" class="headerlink" title="🎉v-model 结合 checkbox 类型？"></a>🎉v-model 结合 checkbox 类型？</h3><p>单选框对应布尔值：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;label for&#x3D;&quot;agree&quot;&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;agree&quot; v-model&#x3D;&quot;isAgree&quot;&gt;同意协议</span><br><span class="line">  &lt;&#x2F;label&gt;</span><br><span class="line">  &lt;h2&gt;您的选择是：&#123;&#123;isAgree&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">  &lt;button :disabled&#x3D;&quot;!isAgree&quot;&gt;</span><br><span class="line">    下一步</span><br><span class="line">  &lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>多选框对应数组：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;agree&quot; value&#x3D;&quot;篮球&quot;</span><br><span class="line">v-model&#x3D;&quot;hobby&quot;&gt;篮球</span><br><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;agree1&quot; value&#x3D;&quot;足球&quot;</span><br><span class="line">v-model&#x3D;&quot;hobby&quot;&gt;足球</span><br><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;agree2&quot;  value&#x3D;&quot;羽毛球&quot;</span><br><span class="line">v-model&#x3D;&quot;hobby&quot;&gt;羽毛球</span><br><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;agree3&quot; value&#x3D;&quot;排球&quot;</span><br><span class="line">v-model&#x3D;&quot;hobby&quot;&gt;排球</span><br><span class="line">&lt;h2&gt;您的选择是：&#123;&#123;hobby&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉v-model-结合-select-类型？"><a href="#🎉v-model-结合-select-类型？" class="headerlink" title="🎉v-model 结合 select 类型？"></a>🎉v-model 结合 select 类型？</h3><p>单选框对应字符串：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;select v-model&#x3D;&quot;noodles&quot;&gt;</span><br><span class="line">    &lt;option v-for&#x3D;&quot;item in food&quot; :value&#x3D;&quot;item&quot; &gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;option&gt;</span><br><span class="line">  &lt;&#x2F;select&gt;</span><br><span class="line">  &lt;h2&gt;您选择的面是 &#123;&#123;noodles&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;..&#x2F;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app &#x3D; new Vue(&#123;</span><br><span class="line">    el:&#39;#app&#39;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#39;你好！&#39;,</span><br><span class="line">      food:[&quot;热干面&quot;,&quot;杂酱面&quot;,&quot;担担面&quot;,&quot;乌冬面&quot;],</span><br><span class="line">      noodles: &quot;热干面&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>多选框对应数组：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;select v-model&#x3D;&quot;noodles&quot; multiple&gt;</span><br><span class="line">    &lt;option v-for&#x3D;&quot;item in food&quot; :value&#x3D;&quot;item&quot; &gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;option&gt;</span><br><span class="line">  &lt;&#x2F;select&gt;</span><br><span class="line">  &lt;h2&gt;您选择的面是 &#123;&#123;noodles&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;..&#x2F;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app &#x3D; new Vue(&#123;</span><br><span class="line">    el:&#39;#app&#39;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#39;你好！&#39;,</span><br><span class="line">      food:[&quot;热干面&quot;,&quot;杂酱面&quot;,&quot;担担面&quot;,&quot;乌冬面&quot;],</span><br><span class="line">      noodles: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉v-model-中的值绑定？"><a href="#🎉v-model-中的值绑定？" class="headerlink" title="🎉v-model 中的值绑定？"></a>🎉v-model 中的值绑定？</h3><p>初看 Vue 官方值绑定的时候，我很疑惑：what the hell is that？</p><p>但是仔细阅读之后，发现很简单，就是动态的给 value 赋值而已：</p><p>我们前面的 value 中的值，可以回头去看一下，都是在定义 input 的时候直接给定的。</p><p>但是真实开发中，这些 input 的值可能是从网络获取或定义在 data 中的。</p><p>所以我们可以通过 v-bind:value 动态的给 value 绑定值。</p><p>这不就是 v-bind 吗？</p><p>这不就是 v-bind 在 input 中的应用吗？搞的我看了很久，搞不清他想讲什么。</p><p>这里不再给出对应的代码，因为会用 v-bind，就会值绑定的应用了。</p><h1 id="Vue-语法-Vue-中-v-mode-的修饰符？"><a href="#Vue-语法-Vue-中-v-mode-的修饰符？" class="headerlink" title="Vue 语法-Vue 中 v-mode 的修饰符？"></a>Vue 语法-Vue 中 v-mode 的修饰符？</h1><h3 id="🎉lazy-修饰符？"><a href="#🎉lazy-修饰符？" class="headerlink" title="🎉lazy 修饰符？"></a>🎉lazy 修饰符？</h3><p>默认情况下，v-model 默认是在 input 事件中同步输入框的数据的。</p><p>也就是说，一旦有数据发生改变对应的 data 中的数据就会自动发生改变。</p><p>lazy 修饰符可以让数据在失去焦点或者回车时才会更新。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎉number-修饰符？"><a href="#🎉number-修饰符？" class="headerlink" title="🎉number 修饰符？"></a>🎉number 修饰符？</h3><p>默认情况下，在输入框中无论我们输入的是字母还是数字，都会被当做字符串类型进行处理。</p><p>但是如果我们希望处理的是数字类型，那么最好直接将内容当做数字处理。</p><p>number 修饰符可以让在输入框中输入的内容自动转成数字类型。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.number</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎉trim-修饰符？"><a href="#🎉trim-修饰符？" class="headerlink" title="🎉trim 修饰符？"></a>🎉trim 修饰符？</h3><p>如果输入的内容首尾有很多空格，通常我们希望将其去除</p><p>trim 修饰符可以过滤内容左右两边的空格</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>butterfly随机背景最简单的写法</title>
      <link href="2020/10/13/2020-10-13/"/>
      <url>2020/10/13/2020-10-13/</url>
      
        <content type="html"><![CDATA[<p>找到 Butterfly 主题文件的 inject:处。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  bottom:</span><br></pre></td></tr></table></figure><p>在 bottom 处插入以下代码。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;script&gt; let backimg =[&quot;url(/images/draw.JPG)&quot;,&quot;url(/images/life.jpg)&quot;,&quot;url(/images/idea.jpg)&quot;,&quot;url(/images/study.jpg)&quot;];let index =Math.ceil(Math.random() * (backimg.length-1))-1;document.getElementById(&quot;web_bg&quot;).style.backgroundImage = backimg[index]&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>在 backimg 数组里替换自己想要的图片链接。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">backimg &#x3D;[&quot;url(&#x2F;images&#x2F;draw.JPG)&quot;,&quot;url(&#x2F;images&#x2F;life.jpg)&quot;,&quot;url(&#x2F;images&#x2F;idea.jpg)&quot;,&quot;url(&#x2F;images&#x2F;study.jpg)&quot;]</span><br></pre></td></tr></table></figure><p>完成。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>六、vue中的遍历操作和过滤器</title>
      <link href="2020/10/12/2020-10-12/"/>
      <url>2020/10/12/2020-10-12/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-语法-Vue-中的-v-for？"><a href="#Vue-语法-Vue-中的-v-for？" class="headerlink" title="Vue 语法-Vue 中的 v-for？"></a>Vue 语法-Vue 中的 v-for？</h1><h3 id="🎉v-for-的遍历数组基本语法？"><a href="#🎉v-for-的遍历数组基本语法？" class="headerlink" title="🎉v-for 的遍历数组基本语法？"></a>🎉v-for 的遍历数组基本语法？</h3><p>当我们有一组数据需要进行渲染时，我们就可以使用 v-for 来完成。</p><p>v-for 的语法类似于 JavaScript 中的 for 循环。</p><p>如果在遍历的过程中不需要使用索引值</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果在遍历的过程中需要拿到元素在数组中的索引值</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in items&quot;</span>&gt;</span>&#123;&#123;index+1&#125;&#125;&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">//其中的index就代表了取出的item在原数组的索引值。</span><br></pre></td></tr></table></figure><h3 id="🎉v-for-的遍历对象基本语法？"><a href="#🎉v-for-的遍历对象基本语法？" class="headerlink" title="🎉v-for 的遍历对象基本语法？"></a>🎉v-for 的遍历对象基本语法？</h3><p>在遍历对象的时候，如果知识获取一个值只能获取一个值 value。</p><p>如果想显示 key 则需要加（）。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, key) in items&quot;</span>&gt;</span>&#123;&#123;key&#125;&#125;-&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">//其中的key就代表了取出的item在原数组的key值。</span><br></pre></td></tr></table></figure><h3 id="🎉-在使用-v-for-时给对应的组件添加-key-属性？"><a href="#🎉-在使用-v-for-时给对应的组件添加-key-属性？" class="headerlink" title="🎉 在使用 v-for 时给对应的组件添加:key 属性？"></a>🎉 在使用 v-for 时给对应的组件添加:key 属性？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for&#x3D;&quot;item in letters&quot; key&#x3D;&quot;item&quot;&gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;..&#x2F;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app &#x3D; new Vue(&#123;</span><br><span class="line">    el:&#39;#app&#39;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#39;你好！&#39;,</span><br><span class="line">      letters:[&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!-- 在数组中插入一个值 --&gt;</span><br><span class="line">app.letters.splice(2,0,&quot;F&quot;)</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="/images/key1.png#alt=%E5%9B%BE%E7%89%87"></p><p>没有 key 的 Diff 算法</p><p><img src= "/img/loading.gif" data-lazy-src="/images/key2.png#alt=%E5%9B%BE%E7%89%87"></p><p>有 key 的 Diff 算法</p><p>所以我们需要使用 key 来给每个节点做一个唯一标识</p><p>Diff 算法就可以正确的识别此节点</p><p>找到正确的位置区插入新的节点</p><h3 id="🎉-哪些数组的方法是响应式的？"><a href="#🎉-哪些数组的方法是响应式的？" class="headerlink" title="🎉 哪些数组的方法是响应式的？"></a>🎉 哪些数组的方法是响应式的？</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span> <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in letters&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data:&#123;</span><br><span class="line"><span class="javascript">      message:<span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      letters:[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>]</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      btnClick()&#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//1.push方法</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.letters.push(&quot;aaa&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//2.通过索引值修改数组中元素（不能做到响应式）！！！</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.letters[0] = &quot;bbbb&quot;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//3.从最后一项删除</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.letters.pop()</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//4.从第一项删除</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.letters.shift()</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//5.在数组最前面添加元素</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.letters.unshift(&quot;ssss&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//6.在数组最前面删除元素、添加元素、替换元素</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.letters.splice()</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//splice(start)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//删除元素，删除几个元素</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//splice(start,4)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//替换元素</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//splice(start,4,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//插入元素</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//splice(start,0,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//7.在数组中排序</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.letters.sort()</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//8.在数组中反转</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//this.letters.reverse()</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//9.vue的修改方法</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//vue.set(要修改的对象，索引值，修改后的值)</span></span></span><br><span class="line"><span class="javascript">        vue.set(<span class="built_in">this</span>.letters,<span class="number">0</span>,<span class="string">&quot;bbbb&quot;</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h1 id="Vue-语法-Vue-实现购物车？"><a href="#Vue-语法-Vue-实现购物车？" class="headerlink" title="Vue 语法-Vue 实现购物车？"></a>Vue 语法-Vue 实现购物车？</h1><h3 id="🎉-实现效果？"><a href="#🎉-实现效果？" class="headerlink" title="🎉 实现效果？"></a>🎉 实现效果？</h3><p><img src= "/img/loading.gif" data-lazy-src="/images/homework1.png#alt=%E5%9B%BE%E7%89%87"></p><h3 id="🎉-实现代码？"><a href="#🎉-实现代码？" class="headerlink" title="🎉 实现代码？"></a>🎉 实现代码？</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table table-striped table-bordered&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span> 书籍名称 <span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span> 出版日期 <span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span> 价格 <span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span> 购买数量 <span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span> 操作 <span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-show</span>=<span class="string">&quot;havenobook&quot;</span> &gt;</span><span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span> <span class="attr">colspan</span>=<span class="string">&quot;6&quot;</span>&gt;</span>购物车为空！<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in books&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span> &#123;&#123;index + 1&#125;&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">b</span>&gt;</span>&#123;&#123;item.name&#125;&#125; <span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span> &#123;&#123;item.date&#125;&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span> &#123;&#123;item.price&#125;&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default btn-sm&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;numdown(index)&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> &gt;</span>&#123;&#123;item.num&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default btn-sm&quot;</span>  @<span class="attr">click</span>=<span class="string">&quot;numup(index)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default btn-sm&quot;</span>  @<span class="attr">click</span>=<span class="string">&quot;reducebook(index)&quot;</span>&gt;</span>移除<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;6&quot;</span>&gt;</span>总价：￥&#123;&#123;Math.round(totalprice)/100&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data:&#123;</span><br><span class="line"><span class="javascript">      message:<span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line">      books:[</span><br><span class="line"><span class="javascript">          &#123;<span class="attr">name</span>:<span class="string">&quot;《算法导论》&quot;</span>,<span class="attr">date</span>:<span class="string">&quot;2006-9&quot;</span>,<span class="attr">price</span>:<span class="string">&quot;￥85.12&quot;</span>,<span class="attr">num</span>:<span class="number">1</span>&#125;,</span></span><br><span class="line"><span class="javascript">          &#123;<span class="attr">name</span>:<span class="string">&quot;《UNIX编程艺术》&quot;</span>,<span class="attr">date</span>:<span class="string">&quot;2006-2&quot;</span>,<span class="attr">price</span>:<span class="string">&quot;￥59.25&quot;</span>,<span class="attr">num</span>:<span class="number">1</span>&#125;,</span></span><br><span class="line"><span class="javascript">          &#123;<span class="attr">name</span>:<span class="string">&quot;《编程珠玑》&quot;</span>,<span class="attr">date</span>:<span class="string">&quot;2008-10&quot;</span>,<span class="attr">price</span>:<span class="string">&quot;￥39.34&quot;</span>,<span class="attr">num</span>:<span class="number">1</span>&#125;,</span></span><br><span class="line"><span class="javascript">          &#123;<span class="attr">name</span>:<span class="string">&quot;《代码大全》&quot;</span>,<span class="attr">date</span>:<span class="string">&quot;2006-3&quot;</span>,<span class="attr">price</span>:<span class="string">&quot;￥128.45&quot;</span>,<span class="attr">num</span>:<span class="number">1</span>&#125;</span></span><br><span class="line">      ],</span><br><span class="line"><span class="javascript">      havenobook:<span class="literal">false</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      numup(index)&#123;</span><br><span class="line"><span class="javascript">       <span class="built_in">this</span>.books[index].num++</span></span><br><span class="line">      &#125;,</span><br><span class="line">      numdown(index)&#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(<span class="built_in">this</span>.books[index].num &gt; <span class="number">1</span>)&#123;<span class="built_in">this</span>.books[index].num--&#125;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      reducebook(index)&#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.books.splice(index,<span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(<span class="built_in">this</span>.books.length === <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="javascript">          alert(<span class="string">&quot;购物车为空!&quot;</span>);</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.havenobook = <span class="literal">true</span></span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line"><span class="javascript">      totalprice:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> result = <span class="number">0</span> ;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt; <span class="built_in">this</span>.books.length;i++)&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> prices = <span class="built_in">this</span>.books[i].price.split(<span class="string">&quot;￥&quot;</span>)</span></span><br><span class="line"><span class="javascript">          result += <span class="built_in">parseFloat</span>(prices[<span class="number">1</span>]) * <span class="number">100</span> * <span class="built_in">this</span>.books[i].num</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> result</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h1 id="Vue-语法-Vue-过滤器？"><a href="#Vue-语法-Vue-过滤器？" class="headerlink" title="Vue 语法-Vue 过滤器？"></a>Vue 语法-Vue 过滤器？</h1><p>在官方文档中，是这样说明的：可被用于一些常见的文本格式化，vue 中过滤器的作用可被用于一些常见的文本格式化。（也就是修饰文本，但是文本内容不会改变）</p><p>补充：</p><p>过滤器分全局过滤器和局部过滤器，下边我着重说下全局过滤器，因为全局过滤器在项目中使用频率非常高！</p><h3 id="🎉-局部过滤器："><a href="#🎉-局部过滤器：" class="headerlink" title="🎉 局部过滤器："></a>🎉 局部过滤器：</h3><p>过滤器可以用在两个地方：双花括号插值 或 v-bind 表达式。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>电脑价格：&#123;&#123;price | addPriceIcon&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"> <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data:&#123;</span><br><span class="line">        price:200</span><br><span class="line">    &#125;,</span><br><span class="line">    filters:&#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//处理函数</span></span></span><br><span class="line">        addPriceIcon(value)&#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(value)<span class="comment">//200</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="string">&#x27;¥&#x27;</span> + value</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上边代码，我的需求是想把价格前面加上人民币符号（¥），模板中文本后边需要添加管道符号（ | ）作为分隔，管道符 | 后边是文本的处理函数，处理函数的第一个参数是：管道符前边的——文本内容，如果处理函数上边传递参数，则从第二个参数依次往后是传递的参数。可能有人会问：你手动加上去不就得了！如果页面有上千个价格需要添加，怎么办？几十个页面需要添加怎么办呢，手动加能累晕！所以这种通用机制很重要。</p><h3 id="🎉-全局过滤器使用："><a href="#🎉-全局过滤器使用：" class="headerlink" title="🎉 全局过滤器使用："></a>🎉 全局过滤器使用：</h3><p>Vue.filter( filterName，( )=&gt;{ return // 数据处理结果 } )</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;h3&gt;&#123;&#123;viewContent | addNamePrefix&#125;&#125;&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.filter(&quot;addNamePrefix&quot;,(value)&#x3D;&gt;&#123;</span><br><span class="line">        return &quot;my name is&quot; + value</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    let vm &#x3D; new Vue(&#123;</span><br><span class="line">        el:&quot;#app&quot;,</span><br><span class="line">        data:&#123;</span><br><span class="line">            viewContent:&quot;吕星辰&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>五、vue中的事件监听和条件判断</title>
      <link href="2020/10/11/2020-10-11/"/>
      <url>2020/10/11/2020-10-11/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-语法-Vue-中的需要掌握的-ES6-语法？"><a href="#Vue-语法-Vue-中的需要掌握的-ES6-语法？" class="headerlink" title="Vue 语法-Vue 中的需要掌握的 ES6 语法？"></a>Vue 语法-Vue 中的需要掌握的 ES6 语法？</h1><h3 id="🎉-什么是-const？"><a href="#🎉-什么是-const？" class="headerlink" title="🎉 什么是 const？"></a>🎉 什么是 const？</h3><p>使用 const 修饰的标识符为常量, 不可以再次赋值。</p><p>在 ES6 开发中,优先使用 const, 只有需要改变某一个标识符的时候才使用 let.</p><p>注意：</p><p>①const 修饰的标识符被赋值后，不能修改</p><p>② 使用 const 定义标识符，必须赋值</p><p>③ 常量的含义是对象不能修改，但可以改变对象的属性</p><h3 id="🎉-什么是对象增强写法？"><a href="#🎉-什么是对象增强写法？" class="headerlink" title="🎉 什么是对象增强写法？"></a>🎉 什么是对象增强写法？</h3><p>属性的增强写法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const name &#x3D; &quot;why&quot;</span><br><span class="line">const age &#x3D; 25</span><br><span class="line">const name &#x3D; 1.88</span><br><span class="line">&#x2F;&#x2F;es5写法</span><br><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  name:name,</span><br><span class="line">  age:age,</span><br><span class="line">  height:height</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;es6写法</span><br><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  name,</span><br><span class="line">  age,</span><br><span class="line">  height</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>函数的增强写法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;es5写法</span><br><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  run:function()&#123;&#125;,</span><br><span class="line">  eat:function()&#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;es6写法</span><br><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  run()&#123;&#125;,</span><br><span class="line">  eat()&#123;&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Vue-语法-Vue-中的事件监听？"><a href="#Vue-语法-Vue-中的事件监听？" class="headerlink" title="Vue 语法-Vue 中的事件监听？"></a>Vue 语法-Vue 中的事件监听？</h1><h3 id="🎉-什么是-v-on？"><a href="#🎉-什么是-v-on？" class="headerlink" title="🎉 什么是 v-on？"></a>🎉 什么是 v-on？</h3><p>作用：绑定事件监听器</p><p>缩写：@</p><p>预期：Function | Inline Statement | Object</p><p>参数：event</p><h3 id="🎉-什么是-v-on-参数传递？"><a href="#🎉-什么是-v-on-参数传递？" class="headerlink" title="🎉 什么是 v-on 参数传递？"></a>🎉 什么是 v-on 参数传递？</h3><p>当通过 methods 中定义方法，以供@click 调用时，需要注意参数问题：</p><p>情况一：如果该方法不需要额外参数，那么方法后的()可以不添加。</p><p>但是注意：如果方法本身中有一个参数，那么会默认将原生事件 event 参数传递进去</p><p>情况二：如果需要同时传入某个参数，同时需要 event 时，可以通过$event 传入事件。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1click&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">//函数·有传参的情况，返回事件event</span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1click()&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">//函数·有传参的情况,返回undefind</span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1click(&#x27;aaa&#x27;)&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">//函数·有传参的情况,返回字符串aaa</span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2click(&#x27;aaa&#x27;，$event)&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">//函数·有传参的情况,返回字符串, 用$event传入事件event</span><br><span class="line">methods:&#123;</span><br><span class="line">  btn1click(abc)&#123;</span><br><span class="line">    console.log(abc)</span><br><span class="line">  &#125;，</span><br><span class="line">  btn2click(abc,event)&#123;</span><br><span class="line">  console.log(abc,event)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="🎉-什么是-v-on-修饰符？"><a href="#🎉-什么是-v-on-修饰符？" class="headerlink" title="🎉 什么是 v-on 修饰符？"></a>🎉 什么是 v-on 修饰符？</h3><p>在某些情况下，我们拿到 event 的目的可能是进行一些事件处理。</p><p>Vue 提供了修饰符来帮助我们方便的处理一些事件：</p><p>.stop - 调用 event.stopPropagation()。</p><p>.prevent - 调用 event.preventDefault()。</p><p>.{keyCode | keyAlias} - 只当事件是从特定键触发时才触发回调。</p><p>.native - 监听组件根元素的原生事件。</p><p>.once - 只触发一次回调。</p><p>stop-停止冒泡：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div @click&#x3D;&quot;click1&quot;&gt;</span><br><span class="line"> &lt;h1&gt;我是div&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;button @click.stop&#x3D;&quot;click2&quot;&gt;button1&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">methods:&#123;</span><br><span class="line">  click1()&#123;</span><br><span class="line">  console.log(&quot;click1&quot;)</span><br><span class="line">  &#125;,</span><br><span class="line">  click2()&#123;</span><br><span class="line">    console.log(&quot;click2&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>prevent-阻止默认行为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;submit&quot; @click.prevent&#x3D;&quot;click2&quot;&gt;&lt;&#x2F;input&gt;</span><br><span class="line">&#x2F;&#x2F;阻止了默认提交事件</span><br></pre></td></tr></table></figure><p>{keyCode | keyAlias} -监听某个键帽：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input  @keyup&#x3D;&quot;click2&quot;&gt;&lt;&#x2F;input&gt; &#x2F;&#x2F;监听所有按键</span><br><span class="line">&lt;input @keyup.enter&#x3D;&quot;click2&quot;&gt;&lt;&#x2F;input&gt; &#x2F;&#x2F;监听enter按键</span><br></pre></td></tr></table></figure><p>once -只触发一次</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;submit&quot; @click.once&#x3D;&quot;click2&quot;&gt;&lt;&#x2F;input&gt;</span><br><span class="line">&#x2F;&#x2F;只触发一次事件</span><br></pre></td></tr></table></figure><h1 id="Vue-语法-Vue-中的条件判断？"><a href="#Vue-语法-Vue-中的条件判断？" class="headerlink" title="Vue 语法-Vue 中的条件判断？"></a>Vue 语法-Vue 中的条件判断？</h1><h3 id="🎉-什么是-v-if？"><a href="#🎉-什么是-v-if？" class="headerlink" title="🎉 什么是 v-if？"></a>🎉 什么是 v-if？</h3><p>v-if 后面的条件为 false 时，对应的元素以及其子元素不会渲染。</p><p>v-if 后面的条件为 true 时，对应的元素以及其子元素渲染。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;true&quot;</span>&gt;</span>渲染&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>不渲染&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎉-什么是-v-if-v-else-v-else-if？"><a href="#🎉-什么是-v-if-v-else-v-else-if？" class="headerlink" title="🎉 什么是 v-if,v-else,v-else-if？"></a>🎉 什么是 v-if,v-else,v-else-if？</h3><p>Vue 的条件指令可以根据表达式的值在 DOM 中渲染或销毁元素或组件</p><p>与 JavaScript 的条件语句 if、else、else if 类似。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2 v-if&#x3D;&quot;score&gt;&#x3D;90&quot;&gt;优秀&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;h2 v-else-if&#x3D;&quot;score&gt;&#x3D;80&quot;&gt;良好&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;h2 v-else-if&#x3D;&quot;score&gt;&#x3D;70&quot;&gt;一般&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;h2 v-else-if&#x3D;&quot;score&gt;&#x3D;60&quot;&gt;及格&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;h2 v-else&gt;不及格&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉-怎么实现按键切换登录方式？"><a href="#🎉-怎么实现按键切换登录方式？" class="headerlink" title="🎉 怎么实现按键切换登录方式？"></a>🎉 怎么实现按键切换登录方式？</h3><p>我的写法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;label for&#x3D;&quot;login&quot;&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;label&gt;</span><br><span class="line">  &lt;input :placeholder&#x3D;&quot;placeholder&quot; id&#x3D;&quot;login&quot;&gt;</span><br><span class="line">  &lt;button @click&#x3D;&quot;changeType&quot;&gt;切换类型&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;..&#x2F;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app &#x3D; new Vue(&#123;</span><br><span class="line">    el:&#39;#app&#39;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      title:&#39;用户账号：&#39;,</span><br><span class="line">      placeholder:&quot;用户账号&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      changeType()&#123;</span><br><span class="line">        if(this.placeholder &#x3D;&#x3D; &#39;用户账号&#39;)&#123;</span><br><span class="line">          this.title &#x3D; &#39;用户邮箱：&#39;;</span><br><span class="line">          this.placeholder &#x3D; &quot;用户邮箱&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        else if (this.placeholder &#x3D;&#x3D; &#39;用户邮箱&#39;)&#123;</span><br><span class="line">          this.title &#x3D; &#39;用户账号：&#39;;</span><br><span class="line">          this.placeholder &#x3D; &quot;用户账号&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p>案例写法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;span v-if&#x3D;&quot;isUser&quot;&gt;</span><br><span class="line">    &lt;label for&#x3D;&quot;loginaccount&quot;&gt;用户账号&lt;&#x2F;label&gt;</span><br><span class="line">  &lt;input placeholder&#x3D;&quot;用户账号&quot; id&#x3D;&quot;loginaccount&quot;&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span v-else&gt;</span><br><span class="line">    &lt;label for&#x3D;&quot;loginmail&quot;&gt;用户邮箱&lt;&#x2F;label&gt;</span><br><span class="line">  &lt;input placeholder&#x3D;&quot;用户邮箱&quot; id&#x3D;&quot;loginmail&quot;&gt;</span><br><span class="line">  &lt;&#x2F;span&gt;</span><br><span class="line">  &lt;button @click&#x3D;&quot;isUser &#x3D; !isUser&quot;&gt;切换类型&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;..&#x2F;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app &#x3D; new Vue(&#123;</span><br><span class="line">    el:&#39;#app&#39;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      isUser:true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉-什么是虚拟-DOM？"><a href="#🎉-什么是虚拟-DOM？" class="headerlink" title="🎉 什么是虚拟 DOM？"></a>🎉 什么是虚拟 DOM？</h3><p>virtual DOM 虚拟 DOM，用普通 js 对象来描述 DOM 结构，因为不是真实 DOM，所以称之为虚拟 DOM。</p><p>虚拟 dom 是相对于浏览器所渲染出来的真实 dom 而言的，在 react，vue 等技术出现之前，我们要改变页面展示的内容只能通过遍历查询 dom 树的方式找到需要修改的 dom 然后修改样式行为或者结构，来达到更新 ui 的目的。</p><p>这种方式相当消耗计算资源，因为每次查询 dom 几乎都需要遍历整颗 dom 树，如果建立一个与 dom 树对应的虚拟 dom 对象（ js 对象），以对象嵌套的方式来表示 dom 树及其层级结构，那么每次 dom 的更改就变成了对 js 对象的属性的增删改查，这样一来查找 js 对象的属性变化要比查询 dom 树的性能开销小。</p><p>参考资料：<a href="https://blog.csdn.net/dichu2296/article/details/102233749?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param">详解 Vue 中的虚拟 DOM</a></p><h3 id="🎉v-if-和-v-show-对比？"><a href="#🎉v-if-和-v-show-对比？" class="headerlink" title="🎉v-if 和 v-show 对比？"></a>🎉v-if 和 v-show 对比？</h3><h4 id="v-if-和-v-show-都可以决定一个元素是否渲染，那么开发中我们如何选择呢？"><a href="#v-if-和-v-show-都可以决定一个元素是否渲染，那么开发中我们如何选择呢？" class="headerlink" title="v-if 和 v-show 都可以决定一个元素是否渲染，那么开发中我们如何选择呢？"></a>v-if 和 v-show 都可以决定一个元素是否渲染，那么开发中我们如何选择呢？</h4><p>v-if 当条件为 false 时，压根不会有对应的元素在 DOM 中。</p><p>v-show 当条件为 false 时，仅仅是将元素的 display 属性设置为 none 而已。</p><h4 id="开发中如何选择呢？"><a href="#开发中如何选择呢？" class="headerlink" title="开发中如何选择呢？"></a>开发中如何选择呢？</h4><p>当需要在显示与隐藏之间切片很频繁时，使用 v-show</p><p>当只有一次切换时，通过使用 v-if</p><h1 id="作业：实现-vue-点击当前元素添加-class-去掉兄弟的-class？"><a href="#作业：实现-vue-点击当前元素添加-class-去掉兄弟的-class？" class="headerlink" title="作业：实现 vue 点击当前元素添加 class 去掉兄弟的 class？"></a>作业：实现 vue 点击当前元素添加 class 去掉兄弟的 class？</h1><h4 id="我的实现方法："><a href="#我的实现方法：" class="headerlink" title="我的实现方法："></a>我的实现方法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .active&#123;</span><br><span class="line">      color: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li v-for&#x3D;&quot;(movie,index) in movies&quot; :id&#x3D;index @click&#x3D;&quot;clickfun($event)&quot; class&#x3D;&quot;&quot; &gt;</span><br><span class="line">    &#123;&#123;index&#125;&#125;-&#123;&#123;movie&#125;&#125;</span><br><span class="line">  &lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;..&#x2F;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app &#x3D; new Vue(&#123;</span><br><span class="line">    el:&#39;#app&#39;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#39;你好！&#39;,</span><br><span class="line">      movies:[&quot;火影忍者&quot;,&quot;海贼王&quot;,&quot;一拳超人&quot;,&quot;宝可梦日月&quot;],</span><br><span class="line">      isactive: false,</span><br><span class="line">      listchange:document.getElementsByTagName(&quot;li&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      clickfun(e)&#123;</span><br><span class="line">        for(let i&#x3D;0; i&lt; this.listchange.length;i++)&#123;</span><br><span class="line">          if(this.listchange[i].id &#x3D;&#x3D; e.target.id)&#123;</span><br><span class="line">            this.listchange[i].classList.add(&quot;active&quot;)</span><br><span class="line">          &#125;</span><br><span class="line">          else &#123;</span><br><span class="line">            this.listchange[i].classList.remove(&quot;active&quot;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; e.target 是你当前点击的元素</span><br><span class="line">        &#x2F;&#x2F; e.currentTarget 是你绑定事件的元素</span><br><span class="line">    &#125;&#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h4 id="vue-的标准方法："><a href="#vue-的标准方法：" class="headerlink" title="vue 的标准方法："></a>vue 的标准方法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;vue 点击当前元素添加class 去掉兄弟的class&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;script src&#x3D;&quot;..&#x2F;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">  ul li &#123;cursor: pointer;&#125;</span><br><span class="line">  .blue &#123;color: #2175bc;&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for&#x3D;&quot;(movie, index) in movies&quot; v-on:click&#x3D;&quot;addClass(index)&quot; v-bind:class&#x3D;&quot;&#123; blue:index&#x3D;&#x3D;current&#125;&quot;&gt;</span><br><span class="line">      &#123;&#123;index&#125;&#125;-&#123;&#123;movie&#125;&#125;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: &#39;#app&#39;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      current:undefined,</span><br><span class="line">      movies: [&quot;火影忍者&quot;,&quot;海贼王&quot;,&quot;一拳超人&quot;,&quot;宝可梦日月&quot;]</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      addClass:function(index)&#123;</span><br><span class="line">        this.current&#x3D;index;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>四、vue中的样式绑定和计算属性</title>
      <link href="2020/10/10/2020-10-10/"/>
      <url>2020/10/10/2020-10-10/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-语法-Vue-的动态绑定-style-相关操作"><a href="#Vue-语法-Vue-的动态绑定-style-相关操作" class="headerlink" title="Vue 语法-Vue 的动态绑定 style 相关操作"></a>Vue 语法-Vue 的动态绑定 style 相关操作</h1><h3 id="🎉Vue-绑定-style-的对象语法？"><a href="#🎉Vue-绑定-style-的对象语法？" class="headerlink" title="🎉Vue 绑定 style 的对象语法？"></a>🎉Vue 绑定 style 的对象语法？</h3><p>style 后面跟的是一个对象类型</p><p>对象的 key 是 CSS 属性名称</p><p>对象的 value 是具体赋的值，值可以来自于 data 中的属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 :style&#x3D;&quot;&#123;fontSize : &#39;50px&#39;&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;h2 :style&#x3D;&quot;&#123;fontSize : finalsize&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;h2 :style&#x3D;&quot;&#123;fontSize : finalsize + &#39;px&#39;&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-绑定-style-的数组语法？"><a href="#🎉Vue-绑定-style-的数组语法？" class="headerlink" title="🎉Vue 绑定 style 的数组语法？"></a>🎉Vue 绑定 style 的数组语法？</h3><p>style 后面跟的是一个数组类型</p><p>多个值以，分割即可</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;[baseStyles, overridingStyles]&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line">baseStyles: &#123;backgroundColor:&#x27;red&#x27;&#125;,</span><br><span class="line"> overridingStyles: &#123;fontSize:&#x27;100px&#x27;&#125;,</span><br></pre></td></tr></table></figure><h1 id="Vue-语法-Vue-的计算属性"><a href="#Vue-语法-Vue-的计算属性" class="headerlink" title="Vue 语法-Vue 的计算属性"></a>Vue 语法-Vue 的计算属性</h1><h3 id="🎉Vue-中的计算属性？"><a href="#🎉Vue-中的计算属性？" class="headerlink" title="🎉Vue 中的计算属性？"></a>🎉Vue 中的计算属性？</h3><p>计算属性是写在实例的 computed 选项。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullname&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line">computed:&#123;</span><br><span class="line">  fullname: function () &#123;</span><br><span class="line">    return this.firstname + &#x27; &#x27; + this.lastname</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-中的复杂的计算属性？"><a href="#🎉Vue-中的复杂的计算属性？" class="headerlink" title="🎉Vue 中的复杂的计算属性？"></a>🎉Vue 中的复杂的计算属性？</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">data:&#123;</span><br><span class="line">  books:[</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">110</span>,<span class="attr">name</span>:<span class="string">&#x27;大学生物&#x27;</span>,<span class="attr">price</span>:<span class="number">113</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">111</span>,<span class="attr">name</span>:<span class="string">&#x27;大学语文&#x27;</span>,<span class="attr">price</span>:<span class="number">140</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">112</span>,<span class="attr">name</span>:<span class="string">&#x27;大学化学&#x27;</span>,<span class="attr">price</span>:<span class="number">112</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">113</span>,<span class="attr">name</span>:<span class="string">&#x27;大学地理&#x27;</span>,<span class="attr">price</span>:<span class="number">130</span>&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">computed:&#123;</span><br><span class="line">  totalprice:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt; <span class="built_in">this</span>.books.length;i++)&#123;</span><br><span class="line">      result += <span class="built_in">this</span>.books[i].price</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-中的计算属性的-getter-和-setter？"><a href="#🎉Vue-中的计算属性的-getter-和-setter？" class="headerlink" title="🎉Vue 中的计算属性的 getter 和 setter？"></a>🎉Vue 中的计算属性的 getter 和 setter？</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">   <span class="comment">//fullN:function f() &#123;</span></span><br><span class="line"><span class="comment">// return this.firstN + &quot; &quot; + this.lastN</span></span><br><span class="line">   <span class="comment">// &#125;</span></span><br><span class="line">   <span class="comment">//计算属性一般没有set方法，只读属性。</span></span><br><span class="line">   fullN:&#123;</span><br><span class="line">     set:<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">     get:<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">this</span>.firstN + <span class="string">&quot; &quot;</span> + <span class="built_in">this</span>.lastN</span><br><span class="line">     &#125;,</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-中的实现计算的方法？"><a href="#🎉Vue-中的实现计算的方法？" class="headerlink" title="🎉Vue 中的实现计算的方法？"></a>🎉Vue 中的实现计算的方法？</h3><p>1.直接拼接</p><p>2.定义 methods</p><p>3.通过 computed</p><h1 id="Vue-语法-Vue-中的需要掌握的-ES6-语法？"><a href="#Vue-语法-Vue-中的需要掌握的-ES6-语法？" class="headerlink" title="Vue 语法-Vue 中的需要掌握的 ES6 语法？"></a>Vue 语法-Vue 中的需要掌握的 ES6 语法？</h1><h3 id="🎉-为什么要用-let-而不是-var？"><a href="#🎉-为什么要用-let-而不是-var？" class="headerlink" title="🎉 为什么要用 let 而不是 var？"></a>🎉 为什么要用 let 而不是 var？</h3><p>事实上 var 的设计可以看成 JavaScript 语言设计上的错误. 但是这种错误多半不能修复和移除, 以为需要向后兼容。大概十年前, Brendan Eich 就决定修复这个问题, 于是他添加了一个新的关键字:<strong>let</strong>。我们可以将 let 看成更完美的 var。</p><p>参考阅读：<a href="https://www.javascriptcn.com/read-78971.html">从 var 到 let，JS 用了整整 18 年！</a></p><h3 id="🎉-什么是块级作用域？"><a href="#🎉-什么是块级作用域？" class="headerlink" title="🎉 什么是块级作用域？"></a>🎉 什么是块级作用域？</h3><p>变量作用域：变量在什么范围内是可用的</p><p>JS 中使用 var 来声明一个变量时, 变量的作用域主要是和函数的定义有关。</p><p>针对于其他块定义来说是没有作用域的，比如 if/for 等，这在我们开发中往往会引起一些问题。</p><h3 id="🎉-有无块级作用域会产生什么问题？"><a href="#🎉-有无块级作用域会产生什么问题？" class="headerlink" title="🎉 有无块级作用域会产生什么问题？"></a>🎉 有无块级作用域会产生什么问题？</h3><h4 id="①-没有：if-的块级影响"><a href="#①-没有：if-的块级影响" class="headerlink" title="① 没有：if 的块级影响"></a>① 没有：if 的块级影响</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func;</span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> name =<span class="string">&quot;kobe&quot;</span></span><br><span class="line">  func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name)     <span class="comment">//此处打印的是kobe</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- 在其他模块调用 --&gt;</span><br><span class="line">name =<span class="string">&quot;why&quot;</span></span><br><span class="line">func()                   <span class="comment">//此处调用的目的是打印出kobe</span></span><br><span class="line"><span class="built_in">console</span>.log(name)        <span class="comment">//但此处打印的是why</span></span><br><span class="line">&lt;!--</span><br><span class="line">该模块具有相同的name赋值变量，</span><br><span class="line">会作用于func()，</span><br><span class="line">改变func()中的name赋值</span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure><h4 id="②-没有：for-的块级影响"><a href="#②-没有：for-的块级影响" class="headerlink" title="② 没有：for 的块级影响"></a>② 没有：for 的块级影响</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;button&gt;<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">&lt;button&gt;<span class="number">2</span>&lt;/button&gt;</span><br><span class="line">&lt;button&gt;<span class="number">3</span>&lt;/button&gt;</span><br><span class="line">&lt;button&gt;<span class="number">4</span>&lt;/button&gt;</span><br><span class="line">&lt;button&gt;<span class="number">5</span>&lt;/button&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;btns.length;i++)&#123;</span><br><span class="line">    btns[i].addEventListener(<span class="string">&quot;click&quot;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;第&quot;</span> + i + <span class="string">&quot;个按钮被点击&quot;</span> )</span><br><span class="line">      <span class="comment">//此处打印的是5</span></span><br><span class="line">      <span class="comment">//因为在打印前执行了5层次循环，i已变为5</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="③-有：function-的块级影响"><a href="#③-有：function-的块级影响" class="headerlink" title="③ 有：function 的块级影响"></a>③ 有：function 的块级影响</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;button&gt;<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">&lt;button&gt;<span class="number">2</span>&lt;/button&gt;</span><br><span class="line">&lt;button&gt;<span class="number">3</span>&lt;/button&gt;</span><br><span class="line">&lt;button&gt;<span class="number">4</span>&lt;/button&gt;</span><br><span class="line">&lt;button&gt;<span class="number">5</span>&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;btns.length;i++)&#123;</span><br><span class="line">   (<span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">       btns[num].addEventListener(<span class="string">&quot;click&quot;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;第&quot;</span> + num + <span class="string">&quot;个按钮被点击&quot;</span> )</span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;)(i)</span><br><span class="line">   <span class="comment">//此处通过匿名函数建立了一个闭包，</span></span><br><span class="line">   <span class="comment">//在执行时，将i作为function的参数num立即传入</span></span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="③-有：let-的块级影响"><a href="#③-有：let-的块级影响" class="headerlink" title="③ 有：let 的块级影响"></a>③ 有：let 的块级影响</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;button&gt;1&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button&gt;2&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button&gt;3&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button&gt;4&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button&gt;5&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let btns &#x3D; document.getElementsByClassName(&quot;button&quot;);</span><br><span class="line">  for (let i&#x3D;0; i&lt;btns.length;i++)&#123;</span><br><span class="line">    btns[i].addEventListener(&quot;click&quot;,function () &#123;</span><br><span class="line">      console.log(&quot;第&quot; + i + &quot;个按钮被点击&quot; )</span><br><span class="line">      &#x2F;&#x2F;let有独立的作用域</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 10月09日</title>
      <link href="2020/10/09/2020-10-09/"/>
      <url>2020/10/09/2020-10-09/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.10.09.png#alt=example"></p><p>① コロナの原因で修学旅行は地元や近隣の省に変わった。</p><p>② 日本の会社は印鑑を廃棄することで事務効率を高めている。印鑑職人に危機感を与えた。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>三、vue中的生命周期和插值操作</title>
      <link href="2020/10/04/2020-10-04/"/>
      <url>2020/10/04/2020-10-04/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-入门-Vue-的生命周期函数种类"><a href="#Vue-入门-Vue-的生命周期函数种类" class="headerlink" title="Vue 入门-Vue 的生命周期函数种类"></a>Vue 入门-Vue 的生命周期函数种类</h1><h3 id="🎉-什么是回调函数"><a href="#🎉-什么是回调函数" class="headerlink" title="🎉 什么是回调函数?"></a>🎉 什么是回调函数?</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;定义主函数，回调函数作为参数</span><br><span class="line">function A(callback) &#123;</span><br><span class="line">    callback();</span><br><span class="line">    console.log(&#39;我是主函数&#39;);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;定义回调函数</span><br><span class="line">function B()&#123;</span><br><span class="line">    setTimeout(&quot;console.log(&#39;我是回调函数&#39;)&quot;, 3000);&#x2F;&#x2F;模仿耗时操作</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;调用主函数，将函数B传进去</span><br><span class="line">A(B);</span><br><span class="line">&#x2F;&#x2F;输出结果</span><br><span class="line">我是主函数</span><br><span class="line">我是回调函数</span><br></pre></td></tr></table></figure><h3 id="🎉-什么是-Vue-中的钩子（hook）"><a href="#🎉-什么是-Vue-中的钩子（hook）" class="headerlink" title="🎉 什么是 Vue 中的钩子（hook）?"></a>🎉 什么是 Vue 中的钩子（hook）?</h3><p><img src= "/img/loading.gif" data-lazy-src="/images/life-cycle.png#alt=%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"></p><hr><h1 id="Vue-入门-Vue-的-template"><a href="#Vue-入门-Vue-的-template" class="headerlink" title="Vue 入门-Vue 的 template"></a>Vue 入门-Vue 的 template</h1><h3 id="🎉Vue-的代码缩进规范？"><a href="#🎉Vue-的代码缩进规范？" class="headerlink" title="🎉Vue 的代码缩进规范？###"></a>🎉Vue 的代码缩进规范？###</h3><p>缩进：两个空格。</p><h1 id="Vue-语法-Vue-的插值相关操作"><a href="#Vue-语法-Vue-的插值相关操作" class="headerlink" title="Vue 语法-Vue 的插值相关操作"></a>Vue 语法-Vue 的插值相关操作</h1><h3 id="🎉Vue-的插值操作（Mustache）？"><a href="#🎉Vue-的插值操作（Mustache）？" class="headerlink" title="🎉Vue 的插值操作（Mustache）？"></a>🎉Vue 的插值操作（Mustache）？</h3><p>Mustache：翻译为胡须，也可称为双大括号语法。</p><p>Mustache 语法中不仅可以写变量，也可以写简单的表达式。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;message&#125;&#125;</span><br><span class="line">&#123;&#123;message * 2&#125;&#125;</span><br><span class="line">&#123;&#123;message1 + &#x27;&#x27; + message2&#125;&#125;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-的“v-once”？"><a href="#🎉Vue-的“v-once”？" class="headerlink" title="🎉Vue 的“v-once”？"></a>🎉Vue 的“v-once”？</h3><p>该指令表示元素和组件(组件后面才会学习)只渲染一次，不会随着数据的改变而改变。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎉Vue-的“v-html”？"><a href="#🎉Vue-的“v-html”？" class="headerlink" title="🎉Vue 的“v-html”？"></a>🎉Vue 的“v-html”？</h3><p>该指令后面往往会跟上一个 string 类型，会将 string 的 html 解析出来并且进行渲染。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line">data:&#123;</span><br><span class="line">  url: &quot;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;http://baidu.com&#x27;</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-的“v-text”？"><a href="#🎉Vue-的“v-text”？" class="headerlink" title="🎉Vue 的“v-text”？"></a>🎉Vue 的“v-text”？</h3><p>v-text 作用和 Mustache 比较相似：都是用于将数据显示在界面中。</p><p>v-text 通常情况下，接受一个 string 类型。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;h2 v-text&#x3D;&quot;message&quot;&gt;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-的“v-pre”？"><a href="#🎉Vue-的“v-pre”？" class="headerlink" title="🎉Vue 的“v-pre”？"></a>🎉Vue 的“v-pre”？</h3><p>v-pre 用于跳过这个元素和它子元素的编译过程，用于显示原本的 Mustache 语法。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;h2 v-pre&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-的“v-cloak”？"><a href="#🎉Vue-的“v-cloak”？" class="headerlink" title="🎉Vue 的“v-cloak”？"></a>🎉Vue 的“v-cloak”？</h3><p>在某些情况下，我们浏览器可能会直接显然出未编译的 Mustache 标签。</p><p>而 v-cloak 可以实现为标签附加属性，从而控制 css 样式。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-attr">[v-cloak]</span>&#123;</span></span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">v-cloak</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h1 id="Vue-语法-Vue-的绑定相关操作"><a href="#Vue-语法-Vue-的绑定相关操作" class="headerlink" title="Vue 语法-Vue 的绑定相关操作"></a>Vue 语法-Vue 的绑定相关操作</h1><h3 id="🎉Vue-的“v-bind”？"><a href="#🎉Vue-的“v-bind”？" class="headerlink" title="🎉Vue 的“v-bind”？"></a>🎉Vue 的“v-bind”？</h3><p>作用：动态绑定属性</p><p>缩写：:</p><p>预期：any (with argument) | Object (without argument)</p><p>参数：attrOrProp (optional)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;imgurl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line">data:&#123;</span><br><span class="line">imgurl:&quot;http://www.suntop168.com/blog/zb_users/upload/2014/2/19728151.png&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-的“v-bind”的语法糖？"><a href="#🎉Vue-的“v-bind”的语法糖？" class="headerlink" title="🎉Vue 的“v-bind”的语法糖？"></a>🎉Vue 的“v-bind”的语法糖？</h3><p>缩写：:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img :src&#x3D;&quot;imgurl&quot; alt&#x3D;&quot;&quot;&gt;</span><br></pre></td></tr></table></figure><h3 id="🎉Vue-的“v-bind”动态绑定“class”之对象语法？"><a href="#🎉Vue-的“v-bind”动态绑定“class”之对象语法？" class="headerlink" title="🎉Vue 的“v-bind”动态绑定“class”之对象语法？"></a>🎉Vue 的“v-bind”动态绑定“class”之对象语法？</h3><p>用法一：直接通过{}绑定一个类</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 :class&#x3D;&quot;&#123;&#39;active&#39;: isActive&#125;&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><p>用法二：也可以通过判断，传入多个值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 :class&#x3D;&quot;&#123;&#39;active&#39;: isActive, &#39;line&#39;: isLine&#125;&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><p>用法三：和普通的类同时存在，并不冲突</p><p>注：如果 isActive 和 isLine 都为 true，那么会有 title/active/line 三个类</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 class&#x3D;&quot;title&quot; :class&#x3D;&quot;&#123;&#39;active&#39;: isActive, &#39;line&#39;: isLine&#125;&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><p>用法四：如果过于复杂，可以放在一个 methods 或者 computed 中</p><p>注：classes 是一个计算属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 class&#x3D;&quot;title&quot; :class&#x3D;&quot;classes&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><p>例子：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.active</span>&#123;</span></span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.line</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">dashed</span> <span class="selector-id">#000</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123;active:isactive,line:isline&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--对象语法--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--点击切换属性--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data:&#123;</span><br><span class="line"><span class="javascript">      message:<span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      active:<span class="string">&quot;active&quot;</span>,</span></span><br><span class="line"><span class="javascript">      isactive:<span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">      isline:<span class="literal">true</span>,</span></span><br><span class="line">    &#125;，</span><br><span class="line">    methods:&#123;</span><br><span class="line"><span class="javascript">      btnClick: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.isactive = !<span class="built_in">this</span>.isactive</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎉Vue-的“v-bind”动态绑定“class”之数组语法？（用的较少）"><a href="#🎉Vue-的“v-bind”动态绑定“class”之数组语法？（用的较少）" class="headerlink" title="🎉Vue 的“v-bind”动态绑定“class”之数组语法？（用的较少）"></a>🎉Vue 的“v-bind”动态绑定“class”之数组语法？（用的较少）</h3><p>用法一：直接通过{}绑定一个类</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 :class&#x3D;&quot;[&#39;active&#39;]&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><p>用法二：也可以传入多个值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 :class&#x3D;“[‘active’, &#39;line&#39;]&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><p>用法三：和普通的类同时存在，并不冲突</p><p>注：会有 title/active/line 三个类</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 class&#x3D;&quot;title&quot; :class&#x3D;“[‘active’, &#39;line&#39;]&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure><p>用法四：如果过于复杂，可以放在一个 methods 或者 computed 中</p><p>注：classes 是一个计算属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 class&#x3D;&quot;title&quot; :class&#x3D;&quot;classes&quot;&gt;Hello World&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>庐山游记</title>
      <link href="2020/10/03/2020-10-03/"/>
      <url>2020/10/03/2020-10-03/</url>
      
        <content type="html"><![CDATA[<div class="justified-gallery"><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/1.jpg#alt=%E5%A6%82%E6%83%85%E6%B9%96%E7%95%94%C2%B7%E6%83%AC"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/2.jpg#alt=%E9%94%A6%E7%BB%A3%E4%B9%8B%E8%B0%B7%C2%B7%E6%9B%B2"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/3.jpg#alt=%E8%BF%9C%E7%9C%BA%E4%B9%8B%E6%99%AF%C2%B7%E6%B8%BA"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/4.jpg#alt=%E6%A2%B5%E9%9F%B3%E4%B9%8B%E6%B3%89%C2%B7%E7%BC%98"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/5.jpg#alt=%E5%B1%B1%E9%97%B4%E5%B0%8F%E8%B7%AF%C2%B7%E5%83%BB"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/6.jpg#alt=%E6%82%AC%E7%B4%A2%E9%93%81%E6%A1%A5%C2%B7%E9%99%A9"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/7.jpg#alt=%E9%93%81%E8%88%B9%E4%B9%8B%E5%B3%B0%C2%B7%E5%A3%AE"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/8.jpg#alt=%E7%9F%B3%E6%B6%A7%E4%B9%8B%E6%B0%B4%C2%B7%E6%BD%BA"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/9.jpg#alt=%E9%9D%92%E9%BE%99%E4%B9%8B%E6%BD%AD%C2%B7%E7%A2%A7"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/10.jpg#alt=%E7%9F%B3%E9%97%A8%E4%B9%8B%E6%B6%A7%C2%B7%E7%80%91"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/11.jpg#alt=%E5%B1%B1%E7%9F%B3%E6%B5%81%E6%B0%B4%C2%B7%E5%B9%BD"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/12.jpg#alt=%E4%B8%89%E5%8F%A0%E4%B9%8B%E6%B3%89%C2%B7%E8%8D%A1"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/13.jpg#alt=%E5%B1%B1%E5%A4%A9%E4%B8%80%E8%89%B2%C2%B7%E9%98%94"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/meilu/14.jpg#alt=%E7%BE%8E%E5%BA%90%E4%B9%8B%E8%88%8D%C2%B7%E9%9B%85"></p>          </div>]]></content>
      
      
      <categories>
          
          <category> 生活趣闻 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活趣闻 </tag>
            
            <tag> 游记 </tag>
            
            <tag> 庐山 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二、vue中的基本操作</title>
      <link href="2020/09/29/2020-09-29/"/>
      <url>2020/09/29/2020-09-29/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-入门-Vue-的列表展示"><a href="#Vue-入门-Vue-的列表展示" class="headerlink" title="Vue 入门-Vue 的列表展示"></a>Vue 入门-Vue 的列表展示</h1><h3 id="🎉vue-如何展示列表？"><a href="#🎉vue-如何展示列表？" class="headerlink" title="🎉vue 如何展示列表？"></a>🎉vue 如何展示列表？</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;movie in movies&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;movie&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            message:<span class="string">&#x27;你好！&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            movies: [<span class="string">&#x27;星际穿越&#x27;</span>,<span class="string">&#x27;大话西游&#x27;</span>,<span class="string">&#x27;盗梦空间&#x27;</span>,<span class="string">&#x27;少年派&#x27;</span>]</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎉vue-如何增加列表元素？"><a href="#🎉vue-如何增加列表元素？" class="headerlink" title="🎉vue 如何增加列表元素？"></a>🎉vue 如何增加列表元素？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.movies.push(&quot;海王&quot;)</span><br></pre></td></tr></table></figure><h1 id="Vue-入门-初识-Vue-的点击事件"><a href="#Vue-入门-初识-Vue-的点击事件" class="headerlink" title="Vue 入门-初识 Vue 的点击事件"></a>Vue 入门-初识 Vue 的点击事件</h1><h3 id="🎉vue-如何增加点击事件元素？"><a href="#🎉vue-如何增加点击事件元素？" class="headerlink" title="🎉vue 如何增加点击事件元素？"></a>🎉vue 如何增加点击事件元素？</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;counter++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;counter--&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎉vue-如何使用点击事件方法？"><a href="#🎉vue-如何使用点击事件方法？" class="headerlink" title="🎉vue 如何使用点击事件方法？"></a>🎉vue 如何使用点击事件方法？</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;plus&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;minus&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--省略代码--&gt;</span></span><br><span class="line"> methods:&#123;</span><br><span class="line">  plus:function () &#123;</span><br><span class="line">   console.log(&quot;加被执行！&quot;);</span><br><span class="line">   this.counter++</span><br><span class="line">        &#125;,</span><br><span class="line">  minus:function () &#123;</span><br><span class="line">   console.log(&quot;减被执行！&quot;);</span><br><span class="line">   this.counter--</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="🎉vue-语法糖？"><a href="#🎉vue-语法糖？" class="headerlink" title="🎉vue 语法糖？"></a>🎉vue 语法糖？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;plus&quot;&gt;+&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button @click&#x3D;&quot;minus&quot;&gt;-&lt;&#x2F;button&gt;</span><br><span class="line">&#x2F;&#x2F;语法糖：用于简写</span><br></pre></td></tr></table></figure><h1 id="Vue-入门-Vue-中的-MVVM"><a href="#Vue-入门-Vue-中的-MVVM" class="headerlink" title="Vue 入门-Vue 中的 MVVM"></a>Vue 入门-Vue 中的 MVVM</h1><h3 id="🎉-什么是-MVVM-Model-View-ViewModel-？"><a href="#🎉-什么是-MVVM-Model-View-ViewModel-？" class="headerlink" title="🎉 什么是 MVVM(Model-View-ViewModel)？"></a>🎉 什么是 MVVM(Model-View-ViewModel)？</h3><p>link:<a href="https://www.cnblogs.com/goloving/p/8520030.html">https://www.cnblogs.com/goloving/p/8520030.html</a></p><p><img src= "/img/loading.gif" data-lazy-src="/images/MVVM.png#alt=%E5%9B%BE%E7%89%87"></p><h1 id="Vue-入门-Vue-中的-options-选项"><a href="#Vue-入门-Vue-中的-options-选项" class="headerlink" title="Vue 入门-Vue 中的 options 选项"></a>Vue 入门-Vue 中的 options 选项</h1><h3 id="🎉vue-中的-options-有哪些？"><a href="#🎉vue-中的-options-有哪些？" class="headerlink" title="🎉vue 中的 options 有哪些？"></a>🎉vue 中的 options 有哪些？</h3><p>link:<a href="https://cn.vuejs.org/v2/api/">https://cn.vuejs.org/v2/api/</a></p><h3 id="🎉vue-中的-options-的基本类型？"><a href="#🎉vue-中的-options-的基本类型？" class="headerlink" title="🎉vue 中的 options 的基本类型？"></a>🎉vue 中的 options 的基本类型？</h3><p><strong>el：</strong></p><p>类型：string 丨 HTMLElement</p><p>作用：决定 Vue 实例会管理哪一个 DOM。</p><p><strong>data：</strong></p><p>类型：Object 丨 Function（组件当中 data 必须是一个函数）</p><p>作用：Vue 实例对应的数据对象。</p><p><strong>methods：（注意不要掉 s）</strong></p><p>类型：｛[key:string]:Function]｝</p><p>作用：定义属于 Vue 的一些方法，可以在其他地方调用，也可以在指令中调用。</p><p>注意：函数之间用“,”分隔。</p><h3 id="🎉-开发中什么时候叫函数什么时候叫方法？"><a href="#🎉-开发中什么时候叫函数什么时候叫方法？" class="headerlink" title="🎉 开发中什么时候叫函数什么时候叫方法？"></a>🎉 开发中什么时候叫函数什么时候叫方法？</h3><p>① 单词不一样。函数叫 function，方法叫 method。</p><p>② 是否与实例挂钩，挂钩的叫方法。主要特点是调用了实例中的参数。</p><h1 id="Vue-入门-Vue-的生命周期"><a href="#Vue-入门-Vue-的生命周期" class="headerlink" title="Vue 入门-Vue 的生命周期"></a>Vue 入门-Vue 的生命周期</h1><h3 id="🎉-什么是生命周期？"><a href="#🎉-什么是生命周期？" class="headerlink" title="🎉 什么是生命周期？"></a>🎉 什么是生命周期？</h3><p>概念：事物从诞生到灭亡的整个过程。</p><h3 id="🎉-在生命周期中-vue-做了哪些操作？"><a href="#🎉-在生命周期中-vue-做了哪些操作？" class="headerlink" title="🎉 在生命周期中 vue 做了哪些操作？"></a>🎉 在生命周期中 vue 做了哪些操作？</h3><p>link:<a href="https://segmentfault.com/a/1190000011381906">https://segmentfault.com/a/1190000011381906</a></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月28日</title>
      <link href="2020/09/28/2020-09-28-2/"/>
      <url>2020/09/28/2020-09-28-2/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.28.png#alt=example"></p><p>① 日本の第 3 のビール税が上がったのを、</p><p>纯正のビール税額も下落した。</p><p>値上げの前に、民衆は箱ごと安いビールを買った。</p><p>しかし、純粋なビールは値下げされていない。</p><p>② 企業の高校生に対する求人率が下がった。</p><p>また、新型インフルエンザの流行により、</p><p>学生の学校での準備が不十分であり、</p><p>面接シミュレーションの機会も大幅に減少した。</p><p>③ 最近展示されている聖徳太子絵伝は ar 形式で展示されている。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一、从零开始认识vuejs</title>
      <link href="2020/09/28/2020-09-28/"/>
      <url>2020/09/28/2020-09-28/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-入门-认识-Vue"><a href="#Vue-入门-认识-Vue" class="headerlink" title="Vue 入门-认识 Vue"></a>Vue 入门-认识 Vue</h1><h3 id="🎊-什么是-MVVM-架构？"><a href="#🎊-什么是-MVVM-架构？" class="headerlink" title="🎊 什么是 MVVM 架构？"></a>🎊 什么是 MVVM 架构？</h3><p><strong>link：</strong><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1108898947791072">廖雪峰的官方网站-</a><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1108898947791072">MVVM</a></p><p>**笔记:**通过 javascript 直接操纵数据，前端只负责纯展示。Model 和 Visual 分离。</p><h3 id="🎊-为什么学习-Vuejs？"><a href="#🎊-为什么学习-Vuejs？" class="headerlink" title="🎊 为什么学习 Vuejs？"></a>🎊 为什么学习 Vuejs？</h3><p>**笔记:**对原有项目进行重构。或者通过 Vuejs 开发新项目。目前的前端学习趋势。</p><h3 id="🎊-官方网站？"><a href="#🎊-官方网站？" class="headerlink" title="🎊 官方网站？"></a>🎊 官方网站？</h3><p><strong>link:</strong><a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p><h3 id="🎊Vue-的交互体验比-jquary-丰富？"><a href="#🎊Vue-的交互体验比-jquary-丰富？" class="headerlink" title="🎊Vue 的交互体验比 jquary 丰富？"></a>🎊Vue 的交互体验比 jquary 丰富？</h3><p>**笔记:**Vue 是一个渐进式开发框架，可以与 jquary 共存。打个比方，如果你要重构一个基于 jquery 或者原生 js 开发的项目，你可以一个页面一个页面进行重构而不用太担心会出现兼容问题。至于交互的丰富性后面的学习会提及。</p><h3 id="🎊-什么是-Vue-全家桶？"><a href="#🎊-什么是-Vue-全家桶？" class="headerlink" title="🎊 什么是 Vue 全家桶？"></a>🎊 什么是 Vue 全家桶？</h3><p>**笔记:**比如 Core+Vue-route+Vuex。可以满足各种各样需求。</p><h3 id="🎊Vue-高级功能？"><a href="#🎊Vue-高级功能？" class="headerlink" title="🎊Vue 高级功能？"></a>🎊Vue 高级功能？</h3><p><strong>笔记:</strong></p><p>解耦视图和数据</p><p>可复用组件</p><p>前端路由技术</p><p>状态管理</p><p>虚拟 DOM</p><p>👉 尚未解明</p><h1 id="Vue-入门-Vue-安装方式"><a href="#Vue-入门-Vue-安装方式" class="headerlink" title="Vue 入门-Vue 安装方式"></a>Vue 入门-Vue 安装方式</h1><h3 id="🎊CDN-引入"><a href="#🎊CDN-引入" class="headerlink" title="🎊CDN 引入"></a>🎊CDN 引入</h3><h4 id="开发环境版本"><a href="#开发环境版本" class="headerlink" title="开发环境版本"></a>开发环境版本</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="生产环境版本"><a href="#生产环境版本" class="headerlink" title="生产环境版本"></a>生产环境版本</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.12&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="🎊-下载引入"><a href="#🎊-下载引入" class="headerlink" title="🎊 下载引入"></a>🎊 下载引入</h3><h4 id="开发环境版本-1"><a href="#开发环境版本-1" class="headerlink" title="开发环境版本"></a>开发环境版本</h4><p><a href="https://cn.vuejs.org/js/vue.js">https://cn.vuejs.org/js/vue.js</a></p><h4 id="生产环境版本-1"><a href="#生产环境版本-1" class="headerlink" title="生产环境版本"></a>生产环境版本</h4><p><a href="https://cn.vuejs.org/js/vue.min.js">https://cn.vuejs.org/js/vue.min.js</a></p><h3 id="🎊NPM-安装"><a href="#🎊NPM-安装" class="headerlink" title="🎊NPM 安装"></a>🎊NPM 安装</h3><p>通过 webpack 和 CIL 的使用，使用该方法。</p><h1 id="Vue-初体验-Hello-Vue"><a href="#Vue-初体验-Hello-Vue" class="headerlink" title="Vue 初体验-Hello Vue"></a>Vue 初体验-Hello Vue</h1><h3 id="🎊ES6-声明变量？var-和-let、const-有什么区别？"><a href="#🎊ES6-声明变量？var-和-let、const-有什么区别？" class="headerlink" title="🎊ES6 声明变量？var 和 let、const 有什么区别？"></a>🎊ES6 声明变量？var 和 let、const 有什么区别？</h3><p><strong>笔记:</strong></p><p><a href="https://www.jianshu.com/p/4e9cd99ecbf5">https://www.jianshu.com/p/4e9cd99ecbf5</a></p><ul><li>var 用以声明一个变量，并且同时我们可以在声明语句中初始化所声明的变量。</li><li>let 语句在一个块级范围里声明一个局部变量。和 var 类似，我们可以在声明时初始化它的值。</li><li>const 语言中的变量只能被赋值一次，然后就不能在被赋值。const 语句的作用范围和 let 语句一样。</li></ul><p>在使用时，尽量少用 var。</p><h3 id="🎊-什么是命令式编程？什么又是声明式编程？"><a href="#🎊-什么是命令式编程？什么又是声明式编程？" class="headerlink" title="🎊 什么是命令式编程？什么又是声明式编程？"></a>🎊 什么是命令式编程？什么又是声明式编程？</h3><p>命令式编程即是原有的原生 js、jquery 开发模式。① 创建 div 元素，设置 ID② 定义变量 ③ 将变量放在 div 中显示。如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>     //创建div元素，设置ID</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> str = <span class="string">&quot;你好世界！&quot;</span>     <span class="comment">//定义变量</span></span></span><br><span class="line"><span class="javascript">$(<span class="string">&quot;#app&quot;</span>).text(str)      <span class="comment">//将变量放在div中显示</span></span></span><br><span class="line"><span class="handlebars"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span></span><br></pre></td></tr></table></figure><p>声明式编程即是现有的 vuejs 的模式，通过 vue 来对数据进行管理。如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="javascript">            message:<span class="string">&#x27;你好！&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎊vue-代码做了什么？"><a href="#🎊vue-代码做了什么？" class="headerlink" title="🎊vue 代码做了什么？"></a>🎊vue 代码做了什么？</h3><p>① 运用 const 创建了一个 vue 对象。</p><p>② 给 vue 对象传入了参数。</p><p>参数一：“el”定义了 vue 的挂载区域。</p><p>参数二：“data”定义了存储的数据。</p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> vuejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月27日</title>
      <link href="2020/09/27/2020-09-27/"/>
      <url>2020/09/27/2020-09-27/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.27.png#alt=example"></p><p>① 新型”コロナ”ウイルスの影響で経営悪化する病院がクラウドファンディングで自力での資金集めに奔走。</p><p>② 御嶽山噴火６年行方不明の息子探し父親が登山。</p><p>③ 児童養護施設の子ども退所後の支援が課題に。</p><p>④VR 技術開発に対する経済産業省の資金支援。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月26日</title>
      <link href="2020/09/26/2020-09-26/"/>
      <url>2020/09/26/2020-09-26/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.26.jpg#alt=example"></p><p>① 習近平主席と菅義偉主席は昨夜電話で連絡し、</p><p>政治経済などの分野で意見を交わした。</p><p>② 防疫が万全であるという条件のもと、</p><p>ある高校で学生運働会が行われた。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月24日</title>
      <link href="2020/09/24/2020-09-24/"/>
      <url>2020/09/24/2020-09-24/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.24.png#alt=example"></p><p>① 感染対策と経済の両立。</p><p>先月の米国の失業率は 4.8%だった。</p><p>② 国連総会、首脳演説、米中の対立はさらに激化になる。</p><p>③ 日本での口紅の販売は減ったが、スキンケアの売り上げは増えた。</p><p>運動機械の販売台数が増加した。</p><p>インターネットショッピングを利用する 70 歳の高齢者が増えた。</p><p>④ 京アニの新作が公開された。</p><p>火災で亡くなった従業員の遺作も含まれた。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：APlayer×Meting×JustAddMusic 音乐可视化</title>
      <link href="2020/09/23/2020-09-23/"/>
      <url>2020/09/23/2020-09-23/</url>
      
        <content type="html"><![CDATA[<h2 id="基于-APlayer-Meting-JustAddMusic"><a href="#基于-APlayer-Meting-JustAddMusic" class="headerlink" title="基于 APlayer Meting JustAddMusic"></a>基于 APlayer Meting JustAddMusic</h2><h3 id="例子"><a href="#例子" class="headerlink" title="例子:"></a>例子:</h3><p><img src= "/img/loading.gif" data-lazy-src="/images/AMJ1.png#alt=example"></p><p><a href="https://zfour.github.io/APlayer-Meting-JustAddMusic/index.html">Githubpage Demo</a></p><p><img src= "/img/loading.gif" data-lazy-src="/images/AMJ2.png#alt=example"></p><p><a href="https://zfe.one/">My Homepage Demo</a></p><p><img src= "/img/loading.gif" data-lazy-src="/images/AMJ3.png#alt=example"></p><p><a href="https://zfe.space/music">A Butterfly Hexo Theme Demo</a></p><h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖:"></a>依赖:</h3><p><a href="https://github.com/MoePlayer/APlayer">APlayer</a></p><p><a href="https://github.com/metowolf/MetingJS">MetingJS</a></p><p><a href="https://github.com/gskinner/JustAddMusic">JustAddMusic</a></p><hr><h2 id="一步安装到-Hexo-（Butterfly-主题为例）"><a href="#一步安装到-Hexo-（Butterfly-主题为例）" class="headerlink" title="一步安装到 Hexo （Butterfly 主题为例）"></a>一步安装到 Hexo （Butterfly 主题为例）</h2><p>从<a href="https://github.com/Zfour/APlayer-Meting-JustAddMusic">https://github.com/Zfour/APlayer-Meting-JustAddMusic</a>克隆项目。</p><p>存放于”D:\博客根目录\source”文件夹下。</p><p>将”Hexo page”文件夹里的”music”文件夹复制后，粘贴到”D:\博客根目录\source”文件夹下。</p><p>大功告成！</p><p>PS:如果你开启了主题的 APlayer 插件请关掉或在本页面禁用。</p><p>另外，本项目仍处于测试阶段，请使用能够正常播放（非 vip 歌曲）的 playlist 播放。</p><hr><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>喜欢就去点个 star 吧~</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于metro-ui的仿windows个人主页搭建（基础篇）</title>
      <link href="2020/09/19/2020-09-19/"/>
      <url>2020/09/19/2020-09-19/</url>
      
        <content type="html"><![CDATA[<h2 id="基于-metro-4-框架"><a href="#基于-metro-4-框架" class="headerlink" title="基于 metro 4 框架"></a>基于 metro 4 框架</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/metrouilogo.png#alt=example"></p><p>官网：<a href="https://metroui.org.ua/">https://metroui.org.ua/</a></p><hr><p>本教程翻译自官方英文文档：&gt;</p><blockquote><p><a href="https://metroui.org.ua/tiles.html#_tiles_badges">文档链接</a></p></blockquote><h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/zfe.one.png#alt=example"></p><p>案例：<a href="https://zfe.one/">https://zfe.one</a></p><p>案例源码下载：<a href="https://github.com/Zfour/zfe.one">模板</a></p><p>模板源码下载：<a href="https://github.com/olton/Metro-UI-CSS">源码</a></p><p>PS：建议使用案例直接开发！但也别忘了给原项目点个收藏！</p><hr><h2 id="🎈-入门属性"><a href="#🎈-入门属性" class="headerlink" title="🎈 入门属性"></a>🎈 入门属性</h2><h3 id="🎨-磁贴基本样式属性"><a href="#🎨-磁贴基本样式属性" class="headerlink" title="🎨 磁贴基本样式属性"></a>🎨 磁贴基本样式属性</h3><p>Metro 4 包含创建磁贴（如 Windows8/10 中的应用程序磁贴）的 class。</p><p>若要创建磁贴，可以在 div 添加到具有属性 data role 的元素。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/1.png#"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-role</span>=<span class="string">&quot;tile&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="🎨-磁贴尺寸"><a href="#🎨-磁贴尺寸" class="headerlink" title="🎨 磁贴尺寸"></a>🎨 磁贴尺寸</h3><p>你可以使用四种尺寸的磁贴：<strong>小</strong>、<strong>中</strong>、<strong>宽</strong>和<strong>大</strong>。要设置磁贴大小，请使用”data-size”属性。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/2.png#"></p><h3 id="🎨-磁贴图标和标签"><a href="#🎨-磁贴图标和标签" class="headerlink" title="🎨 磁贴图标和标签"></a>🎨 磁贴图标和标签</h3><p>要创建磁贴图标，需要添加 img 标签，并添加值为 icon 的 class。</p><p>也可以使用字体中的图标创建带有 icon class 的 span 标签作为磁贴图标。</p><p>字体图标的生成方法：&gt;</p><blockquote><p><a href="https://www.antmoe.com/iconfont/index.html">小康的 Iconfont 图标库</a></p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/3.png#"><br><img src= "/img/loading.gif" data-lazy-src="images/github.png#"><br><img src= "/img/loading.gif" data-lazy-src="images/github.png#"><br><img src= "/img/loading.gif" data-lazy-src="images/github.png#"><br><img src= "/img/loading.gif" data-lazy-src="/images/metroui/4.png#"><br>Branding bar 磁贴可同时拥有标题和 icon。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/5.png#"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-role</span>=<span class="string">&quot;tile&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/facebook.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;branding-bar&quot;</span>&gt;</span>Branding bar<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="🎈-初级属性"><a href="#🎈-初级属性" class="headerlink" title="🎈 初级属性"></a>🎈 初级属性</h2><h3 id="🎨-磁贴徽章"><a href="#🎨-磁贴徽章" class="headerlink" title="🎨 磁贴徽章"></a>🎨 磁贴徽章</h3><p>通过添加带有”badge-top”或”badge-bottom”class 的 span 标签，</p><p>能为磁贴创建用于展示数字等元素的徽章。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/10.png#"><br>10<br>10</p><h3 id="🎨-磁贴颜色"><a href="#🎨-磁贴颜色" class="headerlink" title="🎨 磁贴颜色"></a>🎨 磁贴颜色</h3><p>通过添加”bg-x”(x 为颜色英文）的或 class 或”background-color: #xxxxxx”的内联 style 样式。</p><p>可以改变磁贴的颜色。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/11.png#"></p><h3 id="🎨-磁贴选中"><a href="#🎨-磁贴选中" class="headerlink" title="🎨 磁贴选中"></a>🎨 磁贴选中</h3><p>通过添加”bg-x”(x 为颜色英文）的或 class，为磁贴添加选中状态。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/12.png#"><br>Applications</p><h3 id="🎨-磁贴图片封面"><a href="#🎨-磁贴图片封面" class="headerlink" title="🎨 磁贴图片封面"></a>🎨 磁贴图片封面</h3><p>通过添加 data-cover 属性可以为磁贴添加图片封面。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/13.png#"><br>Sergey Pimenov<br>Author</p><h3 id="🎨-磁贴相册"><a href="#🎨-磁贴相册" class="headerlink" title="🎨 磁贴相册"></a>🎨 磁贴相册</h3><p>通过在带有图片的 div 标签添加 data-effect=”image-set”可以实现相册的滚动闪烁。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/14.png#"><br><img src= "/img/loading.gif" data-lazy-src="images/1.jpg#"><img src= "/img/loading.gif" data-lazy-src="images/2.jpg#"><img src= "/img/loading.gif" data-lazy-src="images/3.jpg#"><img src= "/img/loading.gif" data-lazy-src="images/4.jpg#"><img src= "/img/loading.gif" data-lazy-src="images/5.jpg#"></p><h3 id="🎨-悬停动效"><a href="#🎨-悬停动效" class="headerlink" title="🎨 悬停动效"></a>🎨 悬停动效</h3><p>若要设置悬停效果，请使用 data-effect 属性的以下一个值：</p><p>hover-slide-up、   悬停向上滑动</p><p>hover-slide-down、 悬停向下滑动</p><p>hover-slide-left、 悬停向左滑动</p><p>hover-slide-right、悬停向右滑动</p><p>hover-zoom-up、     悬停向上缩放</p><p>hover-zoom-down、   悬停向下缩放</p><p>hover-zoom-left、   悬停向左缩放</p><p>hover-zoom-right   悬停向右缩放</p><p>同时需要添加一个封面 div 和封底 div。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/15.png#"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-role</span>=<span class="string">&quot;tile&quot;</span> <span class="attr">data-effect</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slide-front&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slide-back&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="🎈-进阶属性"><a href="#🎈-进阶属性" class="headerlink" title="🎈 进阶属性"></a>🎈 进阶属性</h2><h3 id="🎨-磁贴网格"><a href="#🎨-磁贴网格" class="headerlink" title="🎨 磁贴网格"></a>🎨 磁贴网格</h3><p>为了将磁贴划分网格，Metro 4 中设置了特殊的 class，</p><p>使用带有”.tiles-grid”的 class 可以创建网格来装载你的磁贴。</p><p>磁贴间距为 10px，通过”size-x”（x 为 1 到 10 整数）来限定网格的宽度。</p><p>例如添加值为 size-4 的 class 可以创建宽度为 8 个 small 磁贴或者 4 个 medium 磁贴宽度的容器。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/6.png#"><br><img src= "/img/loading.gif" data-lazy-src="/images/metroui/7.png#"></p><h3 id="🎨-磁贴固定"><a href="#🎨-磁贴固定" class="headerlink" title="🎨 磁贴固定"></a>🎨 磁贴固定</h3><p>你也可以通过 class 类”col-x”和”row-x”（x 为 1 到 12 整数）指定磁贴的位置。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/8.png#"></p><h3 id="🎨-磁贴组"><a href="#🎨-磁贴组" class="headerlink" title="🎨 磁贴组"></a>🎨 磁贴组</h3><p>要对图块进行分组，可以使用特殊的类。图块组。</p><p>若要设置组固定大小，请添加以下 class 之一：</p><p>size half、</p><p>size-x（x 为 1 到 10 整数）、</p><p>此外，还可以使用 CSS 媒体查询来更改大小。</p><p>要实现，请使用 class 类：</p><p>size-{media}-half、</p><p>size-{media}-x（x 为 1 到 10 整数）、</p><p>其中{media}是一个参数，对应不同响应尺寸：fs、sm、md、ld、xl、xxl。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/metroui/9.png#"><br>[</p><p>Github<br>       30<br>   ](<a href="https://github.com/olton/Metro-UI-CSS)Email10ChromeTables">https://github.com/olton/Metro-UI-CSS)Email10ChromeTables</a></p><hr><h2 id="🎈DIY-属性"><a href="#🎈DIY-属性" class="headerlink" title="🎈DIY 属性"></a>🎈DIY 属性</h2><h3 id="🎨-添加天气磁贴"><a href="#🎨-添加天气磁贴" class="headerlink" title="🎨 添加天气磁贴"></a>🎨 添加天气磁贴</h3><p>前往<a href="https://cj.weather.com.cn/plugin/index">中国天气网天气插件</a></p><p>设计自己的天气插件样式。打开 index.html 将 key 值改为自己的 key 值。同时调整宽度和高度。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">WIDGET &#x3D; &#123;</span><br><span class="line">  CONFIG: &#123;</span><br><span class="line"></span><br><span class="line">    &quot;layout&quot;: 1,</span><br><span class="line">    &quot;width&quot;: &quot;310&quot;,</span><br><span class="line">    &quot;height&quot;: &quot;150&quot;,</span><br><span class="line">    &quot;background&quot;: 1,</span><br><span class="line">    &quot;dataColor&quot;: &quot;FFFFFF&quot;,</span><br><span class="line">    &quot;borderRadius&quot;: 1,</span><br><span class="line">    &quot;key&quot;: &quot;FtmcNnOSjp&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="🎨-添加网站监控磁贴"><a href="#🎨-添加网站监控磁贴" class="headerlink" title="🎨 添加网站监控磁贴"></a>🎨 添加网站监控磁贴</h3><p>参考 flexiston 的教程<a href="https://blog.flesx.cn/posts/47424.html">UptimeRobot 免费网站存活监控</a></p><p>获取监控链接替换”<a href="https://stats.uptimerobot.com/2OkvpSkWAJ">https://stats.uptimerobot.com/2OkvpSkWAJ</a>“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;tiles-grid tiles-group size-2 fg-white&quot; data-group-title&#x3D;&quot;网站信息&quot;&gt;</span><br><span class="line">               &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stats.uptimerobot.com&#x2F;2OkvpSkWAJ&quot; data-role&#x3D;&quot;tile&quot; class&#x3D;&quot;bg-indigo fg-white&quot;&gt;</span><br><span class="line">                   &lt;span class&#x3D;&quot;fa icon-uniE903 icon&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">                   &lt;span class&#x3D;&quot;branding-bar&quot;&gt;网站监控&lt;&#x2F;span&gt;</span><br><span class="line">                   &lt;span class&#x3D;&quot;badge-bottom&quot;&gt;2&lt;&#x2F;span&gt;</span><br><span class="line">               &lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> metro-ui </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月17日</title>
      <link href="2020/09/17/2020-09-17/"/>
      <url>2020/09/17/2020-09-17/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.17.png#alt=example"></p><p>① 菅義偉政権が発足した。</p><p>② 日本郵銀行は、資金盗用事件について謝罪し、損失の全額を肩代わりした。</p><p>③ 幼稚園では早期教育の効果のためにマスクではなく防護マスクを使う。</p><p>④ イギリスは新しいワインボトルを開発した。主な材料は再生紙。</p><p>重さは普通のボトルの 5 分の 1。</p><p>⑤oecd が予測する世界成長率はマイナス 4.5%。</p><p>国別の成長率は、日本= 5.8%、アメリカ= 3.8%。</p><p>中国は 1.8%と、主要国の中で唯一成長している。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月16日</title>
      <link href="2020/09/16/2020-09-16/"/>
      <url>2020/09/16/2020-09-16/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.16.png#alt=example"></p><p>① 新しい内閣の構成に対して、閣僚の顔色が固くなった。</p><p>② 札幌市はコロナについて患者集計システムを開発し、市内の 15 の病院が参加した。</p><p>入院前に病院の状況を知らずに電話連絡をしたことによる病院のストレスを緩和した。</p><p>③ 屋外照明の led 交換について、環境省は一定の補償を行っている。</p><p>④ アメリカの学生の一部はネット授業に反対して、授業を実践していないと思って、学費は価値がない。</p><p>日本では,20%だけが対面授業であり,80%が対面プラスネット授業である。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月15日</title>
      <link href="2020/09/15/2020-09-15/"/>
      <url>2020/09/15/2020-09-15/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.15.png#alt=example"></p><p>① 菅義偉自民党総裁。</p><p>菅義偉は緊張しているが、責任感もある。</p><p>② 国賓調査員の支部に品はメルカリに作った。</p><p>③go to travel 東京地区を追加し、ツアーで pcr 検査サービスを提供した。</p><p>④ 未成年は生活が自立できない母親の看護を見るため、生活が苦しく、ストレスも多い。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 民生 </tag>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月14日</title>
      <link href="2020/09/14/2020-09-14/"/>
      <url>2020/09/14/2020-09-14/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.14.png#alt=example"></p><p>① 現在の票では、菅義偉氏が自民党総裁に選出されることは間違いない。</p><p>② コロナの予防とともにインフルエンザ予防のための仕事も怠らない。</p><p>昨日、全国で 440 人が感染し、東京は 146 人だった。</p><p>③ 今年の日本の国政調査はインターネットでできる。</p><p>④ 在宅勤務者に一定の補助金を与える。</p><p>⑤ 携帯電話で避難所の混雑度を確認し、避難場所を選択する。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 民生 </tag>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月13日</title>
      <link href="2020/09/13/2020-09-13/"/>
      <url>2020/09/13/2020-09-13/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.13.png#alt=example"></p><p>① 石野史敏教授、准教授の李知英(イ・ジヨン)教授らの研究チームは、</p><p>マウスの胚性幹細胞(ES 細胞)を利用し、</p><p>心臓を模した立体的な「ミニ臓器」を作った。</p><p>② 外国の技能実習生が相次いで「実態のない自主退職」</p><p>を迫られていることに気づいた。</p><p>実際、企業はコロナのせいで解雇された。</p><p>コロナは解雇すれば転職できるが、自主退職はできないからだ。</p><p>③ インターネットが眼精疲労の危険をもたらす。</p><p>大学生や小学生の患者を対象とした世田谷区の眼科病院の調査では、</p><p>48 人のうち 20 人が視力が低下していると答えた。</p><p>長時間のオンライン作業による眼精疲労が問題となりました。</p><p>それに対して、中学校の政策はある。</p><p>1)目をふらつかないように平板な角度を調整するため,</p><p>2)15 分間連続して使用した後,別の学生に質問発表。</p><p>日本人間工学会は 20*3 を提案している。</p><p>20 分ごとに 20s を休み、20 歩(6 m)離れた緑色の植物を見る。</p><p>意識的に目をパチパチさせて疲れを取る。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月12日</title>
      <link href="2020/09/12/2020-09-12/"/>
      <url>2020/09/12/2020-09-12/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.12.png#alt=example"></p><p>① 日本の雨はまだ高い降水量にある。</p><p>② 来月 1 月の東京地区での go to travel の検討を昨日行いました。</p><p>昨日の東京の感染者数は 187 人。</p><p>③ 首相選挙に立候補している 3 人は、</p><p>日本の経済再生や外交、安全保障などについて演説した。</p><p>菅義偉、「消費税引き上げ」に固執。</p><p>石破氏は「低所得者には消費税の負担が増えるので、</p><p>実態を考慮しなければならない」と指摘した。</p><p>岸田氏は「消費税の引き上げは難しい」と話した。</p><p>④ 現在、日本は ai 農業の新しい探索を展開する。</p><p>無人機を使って農薬を散布する。</p><p>対応する ai 農業政策を制定する。</p><p>人工知能で農作物の生長を検査する。</p><p>⑤ 日本では、不登校の小中学生がここ数年増えている。</p><p>地震や津波の後は、家庭の経済的負担のため、</p><p>子どもの学費を払えない家庭が多い。</p><p>⑥ 大阪湾のヤツデは豊作だった。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 民生 </tag>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月11日</title>
      <link href="2020/09/11/2020-09-11/"/>
      <url>2020/09/11/2020-09-11/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.11.png#alt=example"></p><p>① 菅義偉が勝つ確率が一番高い。</p><p>今後、日本は少子化で人口が減る傾向にあり、</p><p>消費税の引き上げはやむを得ない決断だと表明した。</p><p>② 翌月 1 日の東京地区の解禁に向けて分科会を開いた。</p><p>外に出なければ東京を出発到着する商品は最近決まり、</p><p>旅行商品の販売は 15 日後からとなる。</p><p>飲食店の営業時間制限も 15 日から解除される。</p><p>③ 昨日の全国の感染者数は 711 人、東京 276 人、大阪 92 人だった。</p><p>④dokomo 口座は本人確認不十分を認めた。</p><p>⑤ 福島の漁業復興計画が始まる。</p><p>現在は安全確保のため実験的に漁獲を行っている。</p><p>漁獲業には多くの若者が参入している。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 民生 </tag>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月10日</title>
      <link href="2020/09/10/2020-09-10/"/>
      <url>2020/09/10/2020-09-10/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.10.png#alt=example"></p><p>① 自民党総裁に選ばれた 3 人が育児問題について異色の演説を行った。</p><p>② ドコモの口座預金の不正転出は 34 件、計 1000 万元。</p><p>③ 昨日の東京感染者は 149 人であった。</p><p>飲食店の制限時間は 15 日までとなっており、</p><p>活動制限も緩和され、人数制限の範囲内での活動が認められている。</p><p>④ ボランティアの不明な疾病のため、</p><p>イギリスの薬企業は新冠ワクチンの試験を一時停止する。</p><p>ワクチンの実用化に向け、各国・政府の圧力で開発スピードが上がった。</p><p>⑤ 例年の夏とは違い、今年の富士山は人の影響がなく、</p><p>ただならぬ自然を見せている。</p><p>しかし、登山をしているうちに、</p><p>無証登山客が発見された。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 民生 </tag>
            
            <tag> 政治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月09日</title>
      <link href="2020/09/09/2020-09-09/"/>
      <url>2020/09/09/2020-09-09/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.09.png#alt=example"></p><p>① 大気の不安定さが続いている。</p><p>② 家賃が払えないための給付金請求が急増している。</p><p>③ コロナの影響で倒産した会社は 500 社に達し、</p><p>飲食店 69 社、旅館 53 社、衣料品店 34 社。</p><p>6、7 月には毎月 100 社を超え、8 月には 84 社になった。</p><p>④ 日本政府はワクチンを海外から購入して 6700 億円を前払いした。</p><p>⑤Go To eat 政策は、33 の府県が 25%の消費額を相殺する食券を発行する。</p><p>参加した飲食店は座席を空けて配置し,換気を徹底し,抜き取り調査を受けた。</p><p>食券は月中に販売される。</p><p>⑥ 帰還困難地域には約 2 万 6560 人が住んでおり、</p><p>うち 1 割の約 2670 人が帰還できないまま亡くなっている。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的git calendar</title>
      <link href="2020/09/08/2020-09-08-1/"/>
      <url>2020/09/08/2020-09-08-1/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/calendar.png#alt=example"></p><p>基于这个英文版本的<a href="https://www.npmjs.com/package/github-calendar">github-calendar.js</a>修改而来，进行了汉化。</p><p>根据 Butterfly 主题主题进行了 CSS 样式优化。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.recent-post-item(style&#x3D;&quot;width:100%;height:auto;&quot;)</span><br><span class="line">  img(src&#x3D;&#39;https:&#x2F;&#x2F;ghchart.rshah.org&#x2F;Zfour&#39;, alt style&#x3D;&quot;width:100%;height:100%;padding-left: 2em;padding-right: 2em;padding-top: 1.2em;padding-bottom: 1.5em;&quot;)</span><br></pre></td></tr></table></figure><p>即可。修改后代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">extends includes&#x2F;layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug</span><br><span class="line">  #recent-posts.recent-posts</span><br><span class="line">    .recent-post-item(style&#x3D;&quot;width:100%;height:auto;&quot;)</span><br><span class="line">      img(src&#x3D;&#39;https:&#x2F;&#x2F;ghchart.rshah.org&#x2F;Zfour&#39;, alt style&#x3D;&quot;width:100%;height:100%;padding-left: 2em;padding-right: 2em;padding-top: 1.2em;padding-bottom: 1.5em;&quot;)</span><br><span class="line">    +postUI</span><br><span class="line">    include includes&#x2F;pagination.pug</span><br></pre></td></tr></table></figure><h2 id="步骤-1：修改-pug-代码"><a href="#步骤-1：修改-pug-代码" class="headerlink" title="步骤 1：修改 pug 代码"></a>步骤 1：修改 pug 代码</h2><h3 id="替换代码"><a href="#替换代码" class="headerlink" title="替换代码"></a>替换代码</h3><p>前往”根目录\themes\butterfly\layout”文件夹，将”index.pug”复制并重命名为”index-re.pug”作为备份。</p><p>打开”index.pug”按照以下代码进行修改。将“.recent-post-item”“.calendar”加入。</p><p>你也可以直接替换以下代码。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">extends includes&#x2F;layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug</span><br><span class="line">  #recent-posts.recent-posts</span><br><span class="line">    .recent-post-item</span><br><span class="line">     .calendar</span><br><span class="line">    +postUI</span><br><span class="line">    include includes&#x2F;pagination.pug</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-2：编写-JS-样式代码"><a href="#步骤-2：编写-JS-样式代码" class="headerlink" title="步骤 2：编写 JS 样式代码"></a>步骤 2：编写 JS 样式代码</h2><p>在 hexo 根目录”source”文件夹下新建”js”文件夹，在”\source\js”路径下新建”calendar.js”</p><p>将你的你的 github 用户名进行替换，（我的是”Zfour”）填入以下代码后保存。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GitHubCalendar(<span class="string">&quot;.calendar&quot;</span>, <span class="string">&quot;你的github用户名&quot;</span>);</span><br><span class="line"><span class="comment">// or enable responsive functionality</span></span><br><span class="line">GitHubCalendar(<span class="string">&quot;.calendar&quot;</span>, <span class="string">&quot;你的github用户名&quot;</span>, &#123; <span class="attr">responsive</span>: <span class="literal">true</span> &#125;);</span><br></pre></td></tr></table></figure><p>在 hexo 根目录”source”文件夹下新建”js”文件夹，在”\source\js”路径下新建”gitcalendar.js”</p><p>填入以下代码后保存。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _typeof2 =</span><br><span class="line">  <span class="keyword">typeof</span> <span class="built_in">Symbol</span> === <span class="string">&quot;function&quot;</span> &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">Symbol</span>.iterator === <span class="string">&quot;symbol&quot;</span></span><br><span class="line">    ? <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> obj;</span><br><span class="line">      &#125;</span><br><span class="line">    : <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj &amp;&amp;</span><br><span class="line">          <span class="keyword">typeof</span> <span class="built_in">Symbol</span> === <span class="string">&quot;function&quot;</span> &amp;&amp;</span><br><span class="line">          obj.constructor === <span class="built_in">Symbol</span> &amp;&amp;</span><br><span class="line">          obj !== <span class="built_in">Symbol</span>.prototype</span><br><span class="line">          ? <span class="string">&quot;symbol&quot;</span></span><br><span class="line">          : <span class="keyword">typeof</span> obj;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _typeof =</span><br><span class="line">  <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp; <span class="string">&quot;symbol&quot;</span> == _typeof2(<span class="built_in">Symbol</span>.iterator)</span><br><span class="line">    ? <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> e === <span class="string">&quot;undefined&quot;</span> ? <span class="string">&quot;undefined&quot;</span> : _typeof2(e);</span><br><span class="line">      &#125;</span><br><span class="line">    : <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> e &amp;&amp;</span><br><span class="line">          <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">Symbol</span> &amp;&amp;</span><br><span class="line">          e.constructor === <span class="built_in">Symbol</span> &amp;&amp;</span><br><span class="line">          e !== <span class="built_in">Symbol</span>.prototype</span><br><span class="line">          ? <span class="string">&quot;symbol&quot;</span></span><br><span class="line">          : <span class="keyword">typeof</span> e === <span class="string">&quot;undefined&quot;</span></span><br><span class="line">          ? <span class="string">&quot;undefined&quot;</span></span><br><span class="line">          : _typeof2(e);</span><br><span class="line">      &#125;;</span><br><span class="line">!(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="string">&quot;object&quot;</span> ===</span><br><span class="line">    (<span class="string">&quot;undefined&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">exports</span> ? <span class="string">&quot;undefined&quot;</span> : _typeof(<span class="built_in">exports</span>)) &amp;&amp;</span><br><span class="line">  <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="built_in">module</span></span><br><span class="line">    ? (<span class="built_in">module</span>.exports = e())</span><br><span class="line">    : <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> define &amp;&amp; define.amd</span><br><span class="line">    ? define([], e)</span><br><span class="line">    : ((<span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="built_in">window</span></span><br><span class="line">        ? <span class="built_in">window</span></span><br><span class="line">        : <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="built_in">global</span></span><br><span class="line">        ? <span class="built_in">global</span></span><br><span class="line">        : <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> self</span><br><span class="line">        ? self</span><br><span class="line">        : <span class="built_in">this</span></span><br><span class="line">      ).GitHubCalendar = e());</span><br><span class="line">&#125;)(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params">s, u, i</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params">t, e</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (!u[t]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!s[t]) &#123;</span><br><span class="line">          <span class="keyword">var</span> r = <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">require</span> &amp;&amp; <span class="built_in">require</span>;</span><br><span class="line">          <span class="keyword">if</span> (!e &amp;&amp; r) <span class="keyword">return</span> r(t, !<span class="number">0</span>);</span><br><span class="line">          <span class="keyword">if</span> (l) <span class="keyword">return</span> l(t, !<span class="number">0</span>);</span><br><span class="line">          <span class="keyword">var</span> n = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;Cannot find module &#x27;&quot;</span> + t + <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">          <span class="keyword">throw</span> ((n.code = <span class="string">&quot;MODULE_NOT_FOUND&quot;</span>), n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> a = (u[t] = &#123; <span class="attr">exports</span>: &#123;&#125; &#125;);</span><br><span class="line">        s[t][<span class="number">0</span>].call(</span><br><span class="line">          a.exports,</span><br><span class="line">          <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> c(s[t][<span class="number">1</span>][e] || e);</span><br><span class="line">          &#125;,</span><br><span class="line">          a,</span><br><span class="line">          a.exports,</span><br><span class="line">          o,</span><br><span class="line">          s,</span><br><span class="line">          u,</span><br><span class="line">          i</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> u[t].exports;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (</span><br><span class="line">      <span class="keyword">var</span> l = <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="built_in">require</span> &amp;&amp; <span class="built_in">require</span>, e = <span class="number">0</span>;</span><br><span class="line">      e &lt; i.length;</span><br><span class="line">      e++</span><br><span class="line">    ) &#123;</span><br><span class="line">      c(i[e]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">  &#125;)(</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="number">1</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> h = e(<span class="string">&quot;github-calendar-parser&quot;</span>),</span><br><span class="line">            y = e(<span class="string">&quot;elly&quot;</span>),</span><br><span class="line">            v = e(<span class="string">&quot;add-subtract-date&quot;</span>),</span><br><span class="line">            M = e(<span class="string">&quot;formatoid&quot;</span>),</span><br><span class="line">            x = <span class="string">&quot;YYYY 年 MMM D 日&quot;</span>,</span><br><span class="line">            _ = <span class="string">&quot;MMMM D&quot;</span>,</span><br><span class="line">            S = [</span><br><span class="line">              <span class="string">&quot;Jan&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Feb&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mar&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Apr&quot;</span>,</span><br><span class="line">              <span class="string">&quot;May&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Jun&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Jul&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Aug&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Sep&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Oct&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Nov&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Dec&quot;</span>,</span><br><span class="line">            ];</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">k</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e + <span class="string">&quot; &quot;</span> + (<span class="number">1</span> === e ? <span class="string">&quot;day&quot;</span> : <span class="string">&quot;天&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          t.exports = <span class="function"><span class="keyword">function</span> (<span class="params">b, e, m</span>) </span>&#123;</span><br><span class="line">            (b = y(b)),</span><br><span class="line">              ((m = m || &#123;&#125;).summary_text =</span><br><span class="line">                m.summary_text ||</span><br><span class="line">                <span class="string">&#x27;数据来源 &lt;a href=&quot;https://github.com/&#x27;</span> +</span><br><span class="line">                  e +</span><br><span class="line">                  <span class="string">&#x27;&quot; target=&quot;blank&quot;&gt;@&#x27;</span> +</span><br><span class="line">                  e +</span><br><span class="line">                  <span class="string">&quot;&lt;/a&gt;&quot;</span>),</span><br><span class="line">              (m.cache = <span class="number">1e3</span> * (m.cache || <span class="number">86400</span>)),</span><br><span class="line">              !<span class="number">1</span> === m.global_stats &amp;&amp; (b.style.minHeight = <span class="string">&quot;175px&quot;</span>);</span><br><span class="line">            <span class="keyword">var</span> r = &#123;</span><br><span class="line">              content: <span class="string">&quot;gh_calendar_content.&quot;</span> + e,</span><br><span class="line">              expire_at: <span class="string">&quot;gh_calendar_expire.&quot;</span> + e,</span><br><span class="line">            &#125;;</span><br><span class="line">            (m.proxy =</span><br><span class="line">              m.proxy ||</span><br><span class="line">              <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> fetch(</span><br><span class="line">                  <span class="string">&quot;https://api.bloggify.net/gh-calendar/?username=&quot;</span> + e</span><br><span class="line">                ).then(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">return</span> e.text();</span><br><span class="line">                &#125;);</span><br><span class="line">              &#125;),</span><br><span class="line">              (m.getCalendar =</span><br><span class="line">                m.getCalendar ||</span><br><span class="line">                <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">if</span> (</span><br><span class="line">                    m.cache &amp;&amp;</span><br><span class="line">                    <span class="built_in">Date</span>.now() &lt; +<span class="built_in">localStorage</span>.getItem(r.expire_at)</span><br><span class="line">                  ) &#123;</span><br><span class="line">                    <span class="keyword">var</span> t = <span class="built_in">localStorage</span>.getItem(r.content);</span><br><span class="line">                    <span class="keyword">if</span> (t) <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(t);</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">return</span> m.proxy(e).then(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> (</span><br><span class="line">                      m.cache &amp;&amp;</span><br><span class="line">                        (<span class="built_in">localStorage</span>.setItem(r.content, e),</span><br><span class="line">                        <span class="built_in">localStorage</span>.setItem(</span><br><span class="line">                          r.expire_at,</span><br><span class="line">                          <span class="built_in">Date</span>.now() + m.cache</span><br><span class="line">                        )),</span><br><span class="line">                      e</span><br><span class="line">                    );</span><br><span class="line">                  &#125;);</span><br><span class="line">                &#125;);</span><br><span class="line">            <span class="keyword">return</span> (<span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">              <span class="keyword">return</span> m</span><br><span class="line">                .getCalendar(e)</span><br><span class="line">                .then(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">var</span> t = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">                  t.innerHTML = e;</span><br><span class="line">                  <span class="keyword">var</span> r,</span><br><span class="line">                    n,</span><br><span class="line">                    a,</span><br><span class="line">                    o,</span><br><span class="line">                    s,</span><br><span class="line">                    u,</span><br><span class="line">                    i,</span><br><span class="line">                    c,</span><br><span class="line">                    l,</span><br><span class="line">                    d,</span><br><span class="line">                    f,</span><br><span class="line">                    p = t.querySelector(<span class="string">&quot;.js-yearly-contributions&quot;</span>);</span><br><span class="line">                  y(<span class="string">&quot;.position-relative h2&quot;</span>, p).remove(),</span><br><span class="line">                    (p.querySelector(<span class="string">&quot;.float-left.text-gray&quot;</span>).innerHTML =</span><br><span class="line">                      m.summary_text),</span><br><span class="line">                    p.querySelector(<span class="string">&quot;include-fragment&quot;</span>)</span><br><span class="line">                      ? <span class="built_in">setTimeout</span>(g, <span class="number">500</span>)</span><br><span class="line">                      : (!<span class="number">0</span> === m.responsive &amp;&amp;</span><br><span class="line">                          ((n = (r = p.querySelector(</span><br><span class="line">                            <span class="string">&quot;svg.js-calendar-graph-svg&quot;</span></span><br><span class="line">                          )).getAttribute(<span class="string">&quot;width&quot;</span>)),</span><br><span class="line">                          (a = r.getAttribute(<span class="string">&quot;height&quot;</span>)),</span><br><span class="line">                          r.removeAttribute(<span class="string">&quot;height&quot;</span>),</span><br><span class="line">                          r.setAttribute(<span class="string">&quot;width&quot;</span>, <span class="string">&quot;100%&quot;</span>),</span><br><span class="line">                          r.setAttribute(<span class="string">&quot;viewBox&quot;</span>, <span class="string">&quot;0 0 &quot;</span> + n + <span class="string">&quot; &quot;</span> + a)),</span><br><span class="line">                        !<span class="number">1</span> !== m.global_stats &amp;&amp;</span><br><span class="line">                          ((s = (o = h(y(<span class="string">&quot;svg&quot;</span>, p).outerHTML)).current_streak</span><br><span class="line">                            ? M(o.current_streak_range[<span class="number">0</span>], _) +</span><br><span class="line">                              <span class="string">&quot; 日&quot;</span> +</span><br><span class="line">                              <span class="string">&quot; &amp;ndash; &quot;</span> +</span><br><span class="line">                              M(o.current_streak_range[<span class="number">1</span>], _)</span><br><span class="line">                            : o.last_contributed</span><br><span class="line">                            ? <span class="string">&quot;最后一次提交于&quot;</span> +</span><br><span class="line">                              <span class="string">&quot; &quot;</span> +</span><br><span class="line">                              M(o.last_contributed, _) +</span><br><span class="line">                              <span class="string">&quot;&quot;</span></span><br><span class="line">                            : <span class="string">&quot;Rock - Hard Place&quot;</span>),</span><br><span class="line">                          (u = o.longest_streak</span><br><span class="line">                            ? M(o.longest_streak_range[<span class="number">0</span>], _) +</span><br><span class="line">                              <span class="string">&quot; 日&quot;</span> +</span><br><span class="line">                              <span class="string">&quot; &amp;ndash; &quot;</span> +</span><br><span class="line">                              M(o.longest_streak_range[<span class="number">1</span>], _)</span><br><span class="line">                            : o.last_contributed</span><br><span class="line">                            ? <span class="string">&quot;最后一次提交于&quot;</span> +</span><br><span class="line">                              <span class="string">&quot; &quot;</span> +</span><br><span class="line">                              M(o.last_contributed, _) +</span><br><span class="line">                              <span class="string">&quot; &quot;</span></span><br><span class="line">                            : <span class="string">&quot;Rock - Hard Place&quot;</span>),</span><br><span class="line">                          (i = y(<span class="string">&quot;&lt;div&gt;&quot;</span>, &#123;</span><br><span class="line">                            class:</span><br><span class="line">                              <span class="string">&quot;contrib-column contrib-column-first table-column&quot;</span>,</span><br><span class="line">                            html:</span><br><span class="line">                              <span class="string">&#x27;&lt;span class=&quot;text-muted&quot;&gt;过去一年内提交&lt;/span&gt;\n                               &lt;span class=&quot;contrib-number&quot;&gt;&#x27;</span> +</span><br><span class="line">                              o.last_year +</span><br><span class="line">                              <span class="string">&#x27; 次&lt;/span&gt;\n                               &lt;span class=&quot;text-muted&quot;&gt;&#x27;</span> +</span><br><span class="line">                              M(</span><br><span class="line">                                v.add(</span><br><span class="line">                                  v.subtract(<span class="keyword">new</span> <span class="built_in">Date</span>(), <span class="number">1</span>, <span class="string">&quot;year&quot;</span>),</span><br><span class="line">                                  <span class="number">1</span>,</span><br><span class="line">                                  <span class="string">&quot;day&quot;</span></span><br><span class="line">                                ),</span><br><span class="line">                                x</span><br><span class="line">                              ) +</span><br><span class="line">                              <span class="string">&quot; &amp;ndash; &quot;</span> +</span><br><span class="line">                              M(<span class="keyword">new</span> <span class="built_in">Date</span>(), x) +</span><br><span class="line">                              <span class="string">&quot;&lt;/span&gt;&quot;</span>,</span><br><span class="line">                          &#125;)),</span><br><span class="line">                          (c = y(<span class="string">&quot;&lt;div&gt;&quot;</span>, &#123;</span><br><span class="line">                            class: &quot;contrib-column table-column&quot;,</span><br><span class="line">                            html:</span><br><span class="line">                              <span class="string">&#x27;&lt;span class=&quot;text-muted&quot;&gt;最长连续提交记录&lt;/span&gt;\n                               &lt;span class=&quot;contrib-number&quot;&gt;&#x27;</span> +</span><br><span class="line">                              k(o.longest_streak) +</span><br><span class="line">                              <span class="string">&#x27;&lt;/span&gt;\n                               &lt;span class=&quot;text-muted&quot;&gt;&#x27;</span> +</span><br><span class="line">                              u +</span><br><span class="line">                              <span class="string">&quot; 日&lt;/span&gt;&quot;</span>,</span><br><span class="line">                          &#125;)),</span><br><span class="line">                          (l = y(<span class="string">&quot;&lt;div&gt;&quot;</span>, &#123;</span><br><span class="line">                            class: &quot;contrib-column table-column&quot;,</span><br><span class="line">                            html:</span><br><span class="line">                              <span class="string">&#x27;&lt;span class=&quot;text-muted&quot;&gt;当前提交记录&lt;/span&gt;\n                               &lt;span class=&quot;contrib-number&quot;&gt;&#x27;</span> +</span><br><span class="line">                              k(o.current_streak) +</span><br><span class="line">                              <span class="string">&#x27;&lt;/span&gt;\n                               &lt;span class=&quot;text-muted&quot;&gt;&#x27;</span> +</span><br><span class="line">                              s +</span><br><span class="line">                              <span class="string">&quot; 日&lt;/span&gt;&quot;</span>,</span><br><span class="line">                          &#125;)),</span><br><span class="line">                          p.appendChild(i),</span><br><span class="line">                          p.appendChild(c),</span><br><span class="line">                          p.appendChild(l)),</span><br><span class="line">                        (b.innerHTML = p.innerHTML),</span><br><span class="line">                        !<span class="number">0</span> === m.tooltips &amp;&amp;</span><br><span class="line">                          ((d = b),</span><br><span class="line">                          (f = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>)).classList.add(</span><br><span class="line">                            <span class="string">&quot;day-tooltip&quot;</span></span><br><span class="line">                          ),</span><br><span class="line">                          d.appendChild(f),</span><br><span class="line">                          d.querySelectorAll(<span class="string">&quot;rect.day&quot;</span>).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                            e.addEventListener(<span class="string">&quot;mouseenter&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                              <span class="keyword">var</span> t = e.target.getAttribute(<span class="string">&quot;data-count&quot;</span>);</span><br><span class="line">                              <span class="string">&quot;0&quot;</span> === t</span><br><span class="line">                                ? (t = <span class="string">&quot;No contributions&quot;</span>)</span><br><span class="line">                                : <span class="string">&quot;1&quot;</span> === t</span><br><span class="line">                                ? (t = <span class="string">&quot;1 contribution&quot;</span>)</span><br><span class="line">                                : (t += <span class="string">&quot; contributions&quot;</span>);</span><br><span class="line">                              <span class="keyword">var</span> r = <span class="keyword">new</span> <span class="built_in">Date</span>(</span><br><span class="line">                                  e.target.getAttribute(<span class="string">&quot;data-date&quot;</span>)</span><br><span class="line">                                ),</span><br><span class="line">                                n =</span><br><span class="line">                                  S[r.getUTCMonth()] +</span><br><span class="line">                                  <span class="string">&quot; &quot;</span> +</span><br><span class="line">                                  r.getUTCDate() +</span><br><span class="line">                                  <span class="string">&quot;, &quot;</span> +</span><br><span class="line">                                  r.getUTCFullYear();</span><br><span class="line">                              (f.innerHTML =</span><br><span class="line">                                <span class="string">&quot;&lt;strong&gt;&quot;</span> + t + <span class="string">&quot;&lt;/strong&gt; on &quot;</span> + n),</span><br><span class="line">                                f.classList.add(<span class="string">&quot;is-visible&quot;</span>);</span><br><span class="line">                              <span class="keyword">var</span> a = e.target.getBoundingClientRect(),</span><br><span class="line">                                o =</span><br><span class="line">                                  a.left +</span><br><span class="line">                                  <span class="built_in">window</span>.pageXOffset -</span><br><span class="line">                                  f.offsetWidth / <span class="number">2</span> +</span><br><span class="line">                                  a.width / <span class="number">2</span>,</span><br><span class="line">                                s =</span><br><span class="line">                                  a.bottom +</span><br><span class="line">                                  <span class="built_in">window</span>.pageYOffset -</span><br><span class="line">                                  f.offsetHeight -</span><br><span class="line">                                  <span class="number">2</span> * a.height;</span><br><span class="line">                              (f.style.top = s + <span class="string">&quot;px&quot;</span>),</span><br><span class="line">                                (f.style.left = o + <span class="string">&quot;px&quot;</span>);</span><br><span class="line">                            &#125;),</span><br><span class="line">                              e.addEventListener(<span class="string">&quot;mouseleave&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                                f.classList.remove(<span class="string">&quot;is-visible&quot;</span>);</span><br><span class="line">                              &#125;);</span><br><span class="line">                          &#125;)));</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">return</span> <span class="built_in">console</span>.error(e);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;)();</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">&quot;add-subtract-date&quot;</span>: <span class="number">2</span>,</span><br><span class="line">          elly: <span class="number">4</span>,</span><br><span class="line">          formatoid: <span class="number">6</span>,</span><br><span class="line">          <span class="string">&quot;github-calendar-parser&quot;</span>: <span class="number">8</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">2</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">e</span>(<span class="params">t, r, n</span>) </span>&#123;</span><br><span class="line">              <span class="keyword">switch</span> (((r *= a), n)) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;years&quot;</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;year&quot;</span>:</span><br><span class="line">                  t.setFullYear(t.getFullYear() + r);</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;months&quot;</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;month&quot;</span>:</span><br><span class="line">                  t.setMonth(t.getMonth() + r);</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;weeks&quot;</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;week&quot;</span>:</span><br><span class="line">                  <span class="keyword">return</span> e(t, <span class="number">7</span> * r, <span class="string">&quot;days&quot;</span>);</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;days&quot;</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;day&quot;</span>:</span><br><span class="line">                  t.setDate(t.getDate() + r);</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;hours&quot;</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;hour&quot;</span>:</span><br><span class="line">                  t.setHours(t.getHours() + r);</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;minutes&quot;</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;minute&quot;</span>:</span><br><span class="line">                  t.setMinutes(t.getMinutes() + r);</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;seconds&quot;</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;second&quot;</span>:</span><br><span class="line">                  t.setSeconds(t.getSeconds() + r);</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;milliseconds&quot;</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;millisecond&quot;</span>:</span><br><span class="line">                  t.setMilliseconds(t.getMilliseconds() + r);</span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;Invalid range: &quot;</span> + n);</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">return</span> t;</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;</span><br><span class="line">          t.exports = &#123; <span class="attr">add</span>: n(<span class="number">1</span>), <span class="attr">subtract</span>: n(<span class="number">-1</span>) &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">3</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          (t.exports.en = [</span><br><span class="line">            <span class="string">&quot;Sunday&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">          ]),</span><br><span class="line">            (t.exports.en.abbr = [</span><br><span class="line">              <span class="string">&quot;Sun&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mon&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Tue&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Wed&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Thu&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Fri&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Sat&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.en.short = [<span class="string">&quot;Su&quot;</span>, <span class="string">&quot;Mo&quot;</span>, <span class="string">&quot;Tu&quot;</span>, <span class="string">&quot;We&quot;</span>, <span class="string">&quot;Th&quot;</span>, <span class="string">&quot;Fr&quot;</span>, <span class="string">&quot;Sa&quot;</span>]),</span><br><span class="line">            (t.exports.fr = [</span><br><span class="line">              <span class="string">&quot;dimanche&quot;</span>,</span><br><span class="line">              <span class="string">&quot;lundi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;mardi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;mercredi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;jeudi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;vendredi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;samedi&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.fr.abbr = [</span><br><span class="line">              <span class="string">&quot;dim&quot;</span>,</span><br><span class="line">              <span class="string">&quot;lun&quot;</span>,</span><br><span class="line">              <span class="string">&quot;mar&quot;</span>,</span><br><span class="line">              <span class="string">&quot;mer&quot;</span>,</span><br><span class="line">              <span class="string">&quot;jeu&quot;</span>,</span><br><span class="line">              <span class="string">&quot;ven&quot;</span>,</span><br><span class="line">              <span class="string">&quot;sam&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.fr.short = [<span class="string">&quot;di&quot;</span>, <span class="string">&quot;lu&quot;</span>, <span class="string">&quot;ma&quot;</span>, <span class="string">&quot;me&quot;</span>, <span class="string">&quot;je&quot;</span>, <span class="string">&quot;ve&quot;</span>, <span class="string">&quot;sa&quot;</span>]),</span><br><span class="line">            (t.exports.es = [</span><br><span class="line">              <span class="string">&quot;domingo&quot;</span>,</span><br><span class="line">              <span class="string">&quot;lunes&quot;</span>,</span><br><span class="line">              <span class="string">&quot;martes&quot;</span>,</span><br><span class="line">              <span class="string">&quot;miercoles&quot;</span>,</span><br><span class="line">              <span class="string">&quot;jueves&quot;</span>,</span><br><span class="line">              <span class="string">&quot;viernes&quot;</span>,</span><br><span class="line">              <span class="string">&quot;sabado&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.es.abbr = [</span><br><span class="line">              <span class="string">&quot;dom&quot;</span>,</span><br><span class="line">              <span class="string">&quot;lun&quot;</span>,</span><br><span class="line">              <span class="string">&quot;mar&quot;</span>,</span><br><span class="line">              <span class="string">&quot;mir&quot;</span>,</span><br><span class="line">              <span class="string">&quot;jue&quot;</span>,</span><br><span class="line">              <span class="string">&quot;vie&quot;</span>,</span><br><span class="line">              <span class="string">&quot;sab&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.es.short = [<span class="string">&quot;do&quot;</span>, <span class="string">&quot;lu&quot;</span>, <span class="string">&quot;ma&quot;</span>, <span class="string">&quot;mi&quot;</span>, <span class="string">&quot;ju&quot;</span>, <span class="string">&quot;vi&quot;</span>, <span class="string">&quot;sa&quot;</span>]),</span><br><span class="line">            (t.exports.it = [</span><br><span class="line">              <span class="string">&quot;Domenica&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Lunedi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Martedi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mercoledi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Giovedi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Venerdi&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Sabato&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.it.abbr = [</span><br><span class="line">              <span class="string">&quot;Dom&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Lun&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mar&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mer&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Gio&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Ven&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Sab&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.it.short = [<span class="string">&quot;D&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;Ma&quot;</span>, <span class="string">&quot;Me&quot;</span>, <span class="string">&quot;G&quot;</span>, <span class="string">&quot;V&quot;</span>, <span class="string">&quot;S&quot;</span>]),</span><br><span class="line">            (t.exports = [</span><br><span class="line">              <span class="string">&quot;Sunday&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.abbr = [</span><br><span class="line">              <span class="string">&quot;Sun&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mon&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Tue&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Wed&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Thu&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Fri&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Sat&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.short = [<span class="string">&quot;Su&quot;</span>, <span class="string">&quot;Mo&quot;</span>, <span class="string">&quot;Tu&quot;</span>, <span class="string">&quot;We&quot;</span>, <span class="string">&quot;Th&quot;</span>, <span class="string">&quot;Fr&quot;</span>, <span class="string">&quot;Sa&quot;</span>]);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">4</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> n = e(<span class="string">&quot;iterate-object&quot;</span>),</span><br><span class="line">            a = e(<span class="string">&quot;sliced&quot;</span>);</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params">r, e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;string&quot;</span> == <span class="keyword">typeof</span> r</span><br><span class="line">              ? <span class="string">&quot;&lt;&quot;</span> === r.charAt(<span class="number">0</span>)</span><br><span class="line">                ? ((r = <span class="built_in">document</span>.createElement(r.slice(<span class="number">1</span>, <span class="number">-1</span>))),</span><br><span class="line">                  n(e || &#123;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">switch</span> (t) &#123;</span><br><span class="line">                      <span class="keyword">case</span> <span class="string">&quot;text&quot;</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">void</span> (r.textContent = e);</span><br><span class="line">                      <span class="keyword">case</span> <span class="string">&quot;html&quot;</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">void</span> (r.innerHTML = e);</span><br><span class="line">                    &#125;</span><br><span class="line">                    r.setAttribute(t, e);</span><br><span class="line">                  &#125;),</span><br><span class="line">                  r)</span><br><span class="line">                : (e = e || <span class="built_in">document</span>).querySelector(r)</span><br><span class="line">              : r;</span><br><span class="line">          &#125;</span><br><span class="line">          (o.$$ = <span class="function"><span class="keyword">function</span> (<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;string&quot;</span> == <span class="keyword">typeof</span> e</span><br><span class="line">              ? ((t = t || <span class="built_in">document</span>), a(t.querySelectorAll(e)))</span><br><span class="line">              : [e];</span><br><span class="line">          &#125;),</span><br><span class="line">            (t.exports = o);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="string">&quot;iterate-object&quot;</span>: <span class="number">9</span>, <span class="attr">sliced</span>: <span class="number">13</span> &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">5</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          t.exports = <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">            r = r || <span class="string">&quot;0&quot;</span>;</span><br><span class="line">            <span class="keyword">var</span> n = (t = t || <span class="number">2</span>) - (e = e.toString()).length;</span><br><span class="line">            <span class="keyword">return</span> (n &lt;= <span class="number">0</span> ? <span class="string">&quot;&quot;</span> : r.repeat(n)) + e;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">6</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> n = e(<span class="string">&quot;months&quot;</span>),</span><br><span class="line">            a = e(<span class="string">&quot;days&quot;</span>),</span><br><span class="line">            o = e(<span class="string">&quot;fillo&quot;</span>),</span><br><span class="line">            s = e(<span class="string">&quot;parse-it&quot;</span>).Parser,</span><br><span class="line">            u = &#123;</span><br><span class="line">              YYYY: <span class="function"><span class="keyword">function</span> <span class="title">YYYY</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? e.getUTCFullYear() : e.getFullYear();</span><br><span class="line">              &#125;,</span><br><span class="line">              YY: <span class="function"><span class="keyword">function</span> <span class="title">YY</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> u.YYYY(e, t) % <span class="number">100</span>;</span><br><span class="line">              &#125;,</span><br><span class="line">              MMMM: <span class="function"><span class="keyword">function</span> <span class="title">MMMM</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? n[e.getUTCMonth()] : n[e.getMonth()];</span><br><span class="line">              &#125;,</span><br><span class="line">              MMM: <span class="function"><span class="keyword">function</span> <span class="title">MMM</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? n.abbr[e.getUTCMonth()] : n.abbr[e.getMonth()];</span><br><span class="line">              &#125;,</span><br><span class="line">              MM: <span class="function"><span class="keyword">function</span> <span class="title">MM</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o(t ? e.getUTCMonth() + <span class="number">1</span> : e.getMonth() + <span class="number">1</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              M: <span class="function"><span class="keyword">function</span> <span class="title">M</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? e.getUTCMonth() + <span class="number">1</span> : e.getMonth() + <span class="number">1</span>;</span><br><span class="line">              &#125;,</span><br><span class="line">              dddd: <span class="function"><span class="keyword">function</span> <span class="title">dddd</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> a[u.d(e, t)];</span><br><span class="line">              &#125;,</span><br><span class="line">              ddd: <span class="function"><span class="keyword">function</span> <span class="title">ddd</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> a.abbr[u.d(e, t)];</span><br><span class="line">              &#125;,</span><br><span class="line">              dd: <span class="function"><span class="keyword">function</span> <span class="title">dd</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> a.short[u.d(e, t)];</span><br><span class="line">              &#125;,</span><br><span class="line">              d: <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? e.getUTCDay() : e.getDay();</span><br><span class="line">              &#125;,</span><br><span class="line">              DD: <span class="function"><span class="keyword">function</span> <span class="title">DD</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o(u.D(e, t));</span><br><span class="line">              &#125;,</span><br><span class="line">              D: <span class="function"><span class="keyword">function</span> <span class="title">D</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? e.getUTCDate() : e.getDate();</span><br><span class="line">              &#125;,</span><br><span class="line">              A: <span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> u.a(e, t).toUpperCase();</span><br><span class="line">              &#125;,</span><br><span class="line">              a: <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">12</span> &lt;= u.H(e, t) ? <span class="string">&quot;pm&quot;</span> : <span class="string">&quot;am&quot;</span>;</span><br><span class="line">              &#125;,</span><br><span class="line">              hh: <span class="function"><span class="keyword">function</span> <span class="title">hh</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o(u.h(e, t));</span><br><span class="line">              &#125;,</span><br><span class="line">              h: <span class="function"><span class="keyword">function</span> <span class="title">h</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> u.H(e, t) % <span class="number">12</span> || <span class="number">12</span>;</span><br><span class="line">              &#125;,</span><br><span class="line">              HH: <span class="function"><span class="keyword">function</span> <span class="title">HH</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o(u.H(e, t));</span><br><span class="line">              &#125;,</span><br><span class="line">              H: <span class="function"><span class="keyword">function</span> <span class="title">H</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? e.getUTCHours() : e.getHours();</span><br><span class="line">              &#125;,</span><br><span class="line">              mm: <span class="function"><span class="keyword">function</span> <span class="title">mm</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o(u.m(e, t));</span><br><span class="line">              &#125;,</span><br><span class="line">              m: <span class="function"><span class="keyword">function</span> <span class="title">m</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? e.getUTCMinutes() : e.getMinutes();</span><br><span class="line">              &#125;,</span><br><span class="line">              ss: <span class="function"><span class="keyword">function</span> <span class="title">ss</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o(u.s(e, t));</span><br><span class="line">              &#125;,</span><br><span class="line">              s: <span class="function"><span class="keyword">function</span> <span class="title">s</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> t ? e.getUTCSeconds() : e.getSeconds();</span><br><span class="line">              &#125;,</span><br><span class="line">              S: <span class="function"><span class="keyword">function</span> <span class="title">S</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">Math</span>.round((u.s(e, t) / <span class="number">60</span>) * <span class="number">10</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              SS: <span class="function"><span class="keyword">function</span> <span class="title">SS</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o((u.s(e, t) / <span class="number">60</span>) * <span class="number">100</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              SSS: <span class="function"><span class="keyword">function</span> <span class="title">SSS</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o((u.s(e, t) / <span class="number">60</span>) * <span class="number">1e3</span>, <span class="number">3</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              Z: <span class="function"><span class="keyword">function</span> <span class="title">Z</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> t = -e.getTimezoneOffset();</span><br><span class="line">                <span class="keyword">return</span> (</span><br><span class="line">                  (<span class="number">0</span> &lt;= t ? <span class="string">&quot;+&quot;</span> : <span class="string">&quot;-&quot;</span>) + o(<span class="built_in">parseInt</span>(t / <span class="number">60</span>)) + <span class="string">&quot;:&quot;</span> + o(t % <span class="number">60</span>)</span><br><span class="line">                );</span><br><span class="line">              &#125;,</span><br><span class="line">              ZZ: <span class="function"><span class="keyword">function</span> <span class="title">ZZ</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> t = -e.getTimezoneOffset();</span><br><span class="line">                <span class="keyword">return</span> (<span class="number">0</span> &lt;= t ? <span class="string">&quot;+&quot;</span> : <span class="string">&quot;-&quot;</span>) + o(<span class="built_in">parseInt</span>(t / <span class="number">60</span>)) + o(t % <span class="number">60</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">            i = <span class="keyword">new</span> s(u);</span><br><span class="line">          t.exports = <span class="function"><span class="keyword">function</span> (<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> i.run(t, [e, e._useUTC]);</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="attr">days</span>: <span class="number">3</span>, <span class="attr">fillo</span>: <span class="number">5</span>, <span class="attr">months</span>: <span class="number">10</span>, <span class="string">&quot;parse-it&quot;</span>: <span class="number">11</span> &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">7</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          t.exports = [<span class="string">&quot;#eee&quot;</span>, <span class="string">&quot;#d6e685&quot;</span>, <span class="string">&quot;#8cc665&quot;</span>, <span class="string">&quot;#44a340&quot;</span>, <span class="string">&quot;#1e6823&quot;</span>];</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">8</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> i = e(<span class="string">&quot;github-calendar-legend&quot;</span>);</span><br><span class="line">          t.exports = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">              s.current_streak &gt; s.longest_streak &amp;&amp;</span><br><span class="line">                ((s.longest_streak = s.current_streak),</span><br><span class="line">                (s.longest_streak_range[<span class="number">0</span>] = s.current_streak_range[<span class="number">0</span>]),</span><br><span class="line">                (s.longest_streak_range[<span class="number">1</span>] = s.current_streak_range[<span class="number">1</span>]));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> s = &#123;</span><br><span class="line">                last_year: <span class="number">0</span>,</span><br><span class="line">                longest_streak: <span class="number">-1</span>,</span><br><span class="line">                longest_streak_range: [],</span><br><span class="line">                current_streak: <span class="number">0</span>,</span><br><span class="line">                current_streak_range: [],</span><br><span class="line">                weeks: [],</span><br><span class="line">                days: [],</span><br><span class="line">                last_contributed: <span class="literal">null</span>,</span><br><span class="line">              &#125;,</span><br><span class="line">              u = [];</span><br><span class="line">            <span class="keyword">return</span> (</span><br><span class="line">              e</span><br><span class="line">                .split(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">                .slice(<span class="number">2</span>)</span><br><span class="line">                .map(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">return</span> e.trim();</span><br><span class="line">                &#125;)</span><br><span class="line">                .forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">if</span> (e.startsWith(<span class="string">&quot;&lt;g transform&quot;</span>))</span><br><span class="line">                    <span class="keyword">return</span> u.length &amp;&amp; s.weeks.push(u) &amp;&amp; (u = []);</span><br><span class="line">                  <span class="keyword">var</span> t,</span><br><span class="line">                    r = e.match(<span class="regexp">/fill=&quot;(#[a-z0-9]+)&quot;/</span>),</span><br><span class="line">                    n = e.match(<span class="regexp">/data-date=&quot;([0-9\-]+)&quot;/</span>),</span><br><span class="line">                    a = e.match(<span class="regexp">/data-count=&quot;([0-9]+)&quot;/</span>),</span><br><span class="line">                    r = r &amp;&amp; r[<span class="number">1</span>],</span><br><span class="line">                    n = n &amp;&amp; n[<span class="number">1</span>],</span><br><span class="line">                    a = a &amp;&amp; +a[<span class="number">1</span>];</span><br><span class="line">                  r &amp;&amp;</span><br><span class="line">                    ((t = &#123;</span><br><span class="line">                      fill: r,</span><br><span class="line">                      date: <span class="keyword">new</span> <span class="built_in">Date</span>(n),</span><br><span class="line">                      count: a,</span><br><span class="line">                      level: i.indexOf(r),</span><br><span class="line">                    &#125;),</span><br><span class="line">                    <span class="number">0</span> === s.current_streak &amp;&amp;</span><br><span class="line">                      (s.current_streak_range[<span class="number">0</span>] = t.date),</span><br><span class="line">                    t.count</span><br><span class="line">                      ? (++s.current_streak,</span><br><span class="line">                        (s.last_year += t.count),</span><br><span class="line">                        (s.last_contributed = t.date),</span><br><span class="line">                        (s.current_streak_range[<span class="number">1</span>] = t.date))</span><br><span class="line">                      : (o(), (s.current_streak = <span class="number">0</span>)),</span><br><span class="line">                    u.push(t),</span><br><span class="line">                    s.days.push(t));</span><br><span class="line">                &#125;),</span><br><span class="line">              o(),</span><br><span class="line">              s</span><br><span class="line">            );</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="string">&quot;github-calendar-legend&quot;</span>: <span class="number">7</span> &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">9</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          t.exports = <span class="function"><span class="keyword">function</span> (<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> r = <span class="number">0</span>,</span><br><span class="line">              n = [];</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(e))</span><br><span class="line">              <span class="keyword">for</span> (; r &lt; e.length &amp;&amp; !<span class="number">1</span> !== t(e[r], r, e); ++r) &#123;&#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">              <span class="string">&quot;object&quot;</span> === (<span class="keyword">void</span> <span class="number">0</span> === e ? <span class="string">&quot;undefined&quot;</span> : _typeof(e)) &amp;&amp;</span><br><span class="line">              <span class="literal">null</span> !== e</span><br><span class="line">            )</span><br><span class="line">              <span class="keyword">for</span> (</span><br><span class="line">                n = <span class="built_in">Object</span>.keys(e);</span><br><span class="line">                r &lt; n.length &amp;&amp; !<span class="number">1</span> !== t(e[n[r]], n[r], e);</span><br><span class="line">                ++r</span><br><span class="line">              ) &#123;&#125;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">10</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          (t.exports = [</span><br><span class="line">            <span class="string">&quot;1 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;2 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;3 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;4 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;5 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;6 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;7 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;8 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;9 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;10 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;11 月&quot;</span>,</span><br><span class="line">            <span class="string">&quot;12 月&quot;</span>,</span><br><span class="line">          ]),</span><br><span class="line">            (t.exports.abbr = [</span><br><span class="line">              <span class="string">&quot;1 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;2 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;3 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;4 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;5 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;6 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;7 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;8 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;9 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;10 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;11 月&quot;</span>,</span><br><span class="line">              <span class="string">&quot;12 月&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.it = [</span><br><span class="line">              <span class="string">&quot;Gennaio&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Febbraio&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Marzo&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Aprile&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Maggio&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Giugno&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Luglio&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Agosto&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Settembre&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Ottobre&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Novembre&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Dicembre&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.abbr.it = [</span><br><span class="line">              <span class="string">&quot;Gen&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Feb&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mar&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Apr&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mag&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Giu&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Lug&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Ago&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Set&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Ott&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Nov&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Dic&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.de = [</span><br><span class="line">              <span class="string">&quot;Januar&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Februar&quot;</span>,</span><br><span class="line">              <span class="string">&quot;März&quot;</span>,</span><br><span class="line">              <span class="string">&quot;April&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mai&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Juni&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Juli&quot;</span>,</span><br><span class="line">              <span class="string">&quot;August&quot;</span>,</span><br><span class="line">              <span class="string">&quot;September&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Oktober&quot;</span>,</span><br><span class="line">              <span class="string">&quot;November&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Dezember&quot;</span>,</span><br><span class="line">            ]),</span><br><span class="line">            (t.exports.abbr.de = [</span><br><span class="line">              <span class="string">&quot;Jan&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Feb&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mär&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Apr&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Mai&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Jun&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Jul&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Aug&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Sep&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Okt&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Nov&quot;</span>,</span><br><span class="line">              <span class="string">&quot;Dez&quot;</span>,</span><br><span class="line">            ]);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">11</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> n = <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> t &amp;&amp; a(e.prototype, t), r &amp;&amp; a(e, r), e;</span><br><span class="line">          &#125;;</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> r = <span class="number">0</span>; r &lt; t.length; r++) &#123;</span><br><span class="line">              <span class="keyword">var</span> n = t[r];</span><br><span class="line">              (n.enumerable = n.enumerable || !<span class="number">1</span>),</span><br><span class="line">                (n.configurable = !<span class="number">0</span>),</span><br><span class="line">                <span class="string">&quot;value&quot;</span> <span class="keyword">in</span> n &amp;&amp; (n.writable = !<span class="number">0</span>),</span><br><span class="line">                <span class="built_in">Object</span>.defineProperty(e, n.key, n);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">var</span> o = e(<span class="string">&quot;regex-escape&quot;</span>),</span><br><span class="line">            s =</span><br><span class="line">              (n(u, [</span><br><span class="line">                &#123;</span><br><span class="line">                  key: <span class="string">&quot;run&quot;</span>,</span><br><span class="line">                  value: <span class="function"><span class="keyword">function</span> <span class="title">value</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> r = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                    t = t || [];</span><br><span class="line">                    <span class="keyword">do</span> &#123;</span><br><span class="line">                      <span class="keyword">var</span> n,</span><br><span class="line">                        a = e.match(<span class="built_in">this</span>.re),</span><br><span class="line">                        o = a &amp;&amp; a[<span class="number">1</span>],</span><br><span class="line">                        s = o || e.charAt(<span class="number">0</span>);</span><br><span class="line">                      o</span><br><span class="line">                        ? (<span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> (n = <span class="built_in">this</span>.obj[o]) &amp;&amp;</span><br><span class="line">                            (n = n.apply(<span class="built_in">this</span>, t)),</span><br><span class="line">                          (r += n))</span><br><span class="line">                        : (r += s),</span><br><span class="line">                        (e = e.substring(s.length));</span><br><span class="line">                    &#125; <span class="keyword">while</span> (e);</span><br><span class="line">                    <span class="keyword">return</span> r;</span><br><span class="line">                  &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">              ]),</span><br><span class="line">              u);</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">u</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            !(<span class="function"><span class="keyword">function</span> (<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">              <span class="keyword">if</span> (!(e <span class="keyword">instanceof</span> t))</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&quot;Cannot call a class as a function&quot;</span>);</span><br><span class="line">            &#125;)(<span class="built_in">this</span>, u),</span><br><span class="line">              (<span class="built_in">this</span>.obj = e || &#123;&#125;),</span><br><span class="line">              (<span class="built_in">this</span>.re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(</span><br><span class="line">                <span class="string">&quot;^(&quot;</span> + <span class="built_in">Object</span>.keys(e).map(o).join(<span class="string">&quot;|&quot;</span>) + <span class="string">&quot;)&quot;</span></span><br><span class="line">              ));</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> s(t).run(e, r);</span><br><span class="line">          &#125;</span><br><span class="line">          (i.Parser = s), (t.exports = i);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="string">&quot;regex-escape&quot;</span>: <span class="number">12</span> &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">12</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.replace(<span class="regexp">/[\-\[\]\/\&#123;\&#125;\(\)\*\+\?\.\\\^\$\|]/g</span>, <span class="string">&quot;\\$&amp;&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          (n.proto = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (<span class="built_in">RegExp</span>.escape = n);</span><br><span class="line">          &#125;),</span><br><span class="line">            (t.exports = n);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="number">13</span>: [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">          t.exports = <span class="function"><span class="keyword">function</span> (<span class="params">e, t, r</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> n = [],</span><br><span class="line">              a = e.length;</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">0</span> === a) <span class="keyword">return</span> n;</span><br><span class="line">            <span class="keyword">var</span> o = t &lt; <span class="number">0</span> ? <span class="built_in">Math</span>.max(<span class="number">0</span>, t + a) : t || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">void</span> <span class="number">0</span> !== r &amp;&amp; (a = r &lt; <span class="number">0</span> ? r + a : r); a-- &gt; o; ) &#123;</span><br><span class="line">              n[a - o] = e[a];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;&#125;,</span><br><span class="line">    [<span class="number">1</span>]</span><br><span class="line">  )(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-3：编写-CSS-样式代码"><a href="#步骤-3：编写-CSS-样式代码" class="headerlink" title="步骤 3：编写 CSS 样式代码"></a>步骤 3：编写 CSS 样式代码</h2><p>在 hexo 根目录”source”文件夹下新建”css”文件夹，在”\source\css”路径下新建”calendar.css”</p><p>填入以下代码后保存。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.calendar</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Helvetica, arial;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#dddddd</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">120px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.calendar-graph</span> <span class="selector-tag">text</span><span class="selector-class">.wday</span>,</span><br><span class="line"><span class="selector-class">.calendar-graph</span> <span class="selector-tag">text</span><span class="selector-class">.month</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#aaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contrib-legend</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">14px</span> <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contrib-legend</span> <span class="selector-class">.legend</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contrib-legend</span> <span class="selector-class">.legend</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.text-small</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#767676</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.calendar-graph</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contrib-column</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">11px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contrib-column-first</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.table-column</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">33%</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: top;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contrib-number</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">300</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.3em</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.calendar</span> <span class="selector-tag">img</span><span class="selector-class">.spinner</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">70px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.monospace</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: monospace;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.monospace</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#1d75ab</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contrib-footer</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">11px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">26px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span><span class="selector-class">.text-muted</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">9px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#767676</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span><span class="selector-class">.text-muted</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#4078c0</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span><span class="selector-class">.text-muted</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.monospace</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span><span class="selector-class">.f4</span><span class="selector-class">.text-normal</span><span class="selector-class">.mb-3</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.float-left</span><span class="selector-class">.text-gray</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#user-activity-overview</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.day-tooltip</span> &#123;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">99999</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#959da5</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.85</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.day-tooltip</span> <span class="selector-tag">strong</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dfe2e5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.day-tooltip</span><span class="selector-class">.is-visible</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.day-tooltip</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot; &quot;</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-top-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.85</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.position-relative</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">650px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.contrib-column</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-4：接入-CSS-样式和-JS-代码"><a href="#步骤-4：接入-CSS-样式和-JS-代码" class="headerlink" title="步骤 4：接入 CSS 样式和 JS 代码"></a>步骤 4：接入 CSS 样式和 JS 代码</h2><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/calendar.css&quot;/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/gitcalendar.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/calendar.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>大功告成。</p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>若有问题请与我邮件联系<a href="mailto:&#x34;&#x39;&#x39;&#57;&#56;&#52;&#53;&#x33;&#50;&#64;&#x71;&#x71;&#x2e;&#99;&#111;&#109;">&#x34;&#x39;&#x39;&#57;&#56;&#52;&#53;&#x33;&#50;&#64;&#x71;&#x71;&#x2e;&#99;&#111;&#109;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月08日</title>
      <link href="2020/09/08/2020-09-08-2/"/>
      <url>2020/09/08/2020-09-08-2/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.08.png#alt=example"></p><p>① 宮崎のある村で山崩れが起き、4 人が生死不明に。</p><p>② 自民総裁選が今日始まる。</p><p>③toeic では受けられない学生や部員が悩んでいる。</p><p>④ 台風で建物が破壊され、家を建てられない人が多い。</p><p>住宅の被害は人々に迷惑をかけている。</p><p>⑤ 静岡県がマスク自動販売機を発売した。</p><p>⑥ タクシーの外回りを口笛で鳴らすのが面白い。</p><p>携帯電話と連結することで、素早く車を呼ぶことができる。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
            <tag> 科技 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月07日</title>
      <link href="2020/09/07/2020-09-07/"/>
      <url>2020/09/07/2020-09-07/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.07.png#alt=example"></p><p>① 台風 10 号は強い降水と暴風をもたらし、厳重に警戒が必要だ。</p><p>電柱が倒れ、道路がふさがった。</p><p>住宅の屋根が吹き飛ばされた。</p><p>ある地域では電気が消えたりもした。</p><p>NHK NEWS は防災アプリのダウンロードを提供している。</p><p>② 自民党の菅氏、岸田氏、石破氏の総裁選が詰めの段階に入った。</p><p>③ 核廃棄物問題について寿都町で検討会を行った。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
            <tag> 地震 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月06日</title>
      <link href="2020/09/06/2020-09-06-1/"/>
      <url>2020/09/06/2020-09-06-1/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.06.png#alt=example"></p><p>① 台風 10 号が九州地方に接近した。台風の影響で、</p><p>他の台風のない地方では雨量が急増し、</p><p>豪雨や土砂災害に注意する必要がある。</p><p>② 菅氏は「自助、協力、公助、绊」の slogan を発表し、</p><p>6 つの政治的措置を提示した。</p><p>岸田氏、石破氏は、それぞれの地域で票を求めた。</p><p>③ 胆振東部地震から 2 年。自治体は山の修繕を行い、</p><p>農家は亡くなった人や友人への思いを込めて、</p><p>土地の耕作に努めている。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
            <tag> 地震 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月05日</title>
      <link href="2020/09/05/2020-09-05-1/"/>
      <url>2020/09/05/2020-09-05-1/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.05.png#alt=example"></p><p>① 台風の被害を防ぐため、</p><p>沖縄県のホテルでは窓を米字型のテープで貼り、</p><p>戸外の盆栽を室内に持ち込んだ。</p><p>今回の台風 10 号による豪雨・暴風は、</p><p>非常に大きな自然災害になるおそれ。</p><p>一部の地域の住民は命を守るために防災避難を行った。</p><p>② 今、総裁選の人気者は周末に日本各地へ行って地方票を獲得する。</p><p>③ インターネット授業は、学校や地域によってやり方が異なる。</p><p>進度に間に合うように、部分の学校は夏休みを短縮した。</p><p>ある学校は、インターネット教育を行うために、</p><p>各家庭のインターネット教育について調査を行っている。</p><p>このうち、インターネットを自由に利用できない学生は 1 割程度であった。</p><p>ネット授業は教師と生徒のフィードバックをうまくできない。</p><p>ある学校は、学生に端末を配布し、インターネット費用は学校が負担する。</p><p>リアルタイムの教授フィードバックはチャットの形式で行われている。</p><p>④ 神奈川のフードトラックは市民の便宜のため、</p><p>疫病の期間中に屋台を出して市民に便宜を提供する。</p><p>イベントはすべて取り消されたが、</p><p>フードトラックの経営者は団結し困難を乗り越えている。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
            <tag> 网络教学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月04日</title>
      <link href="2020/09/04/2020-09-04-1/"/>
      <url>2020/09/04/2020-09-04-1/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.04.png#alt=example"></p><p>① 台風 10 号が日本に上陸する。</p><p>農民は事前に作物を収穫する作業を行い,</p><p>宅配は事前に配送し,台風の間は配送を停止する。</p><p>しっかりとした場所を探して避難し、ドアの前で倒れやすいものを室内に入れる。</p><p>② 現在主に活躍しているのは菅義偉、石破茂、岸田文雄の 3 者。</p><p>主な方針はコロナ対策,景気回復,地域活性化だ。</p><p>③ 取引終了まで、米国の 3 大指数はいずれも 6 月 11 日以来、</p><p>最大の一日下げ幅を記録した。</p><p>道指は 800 点を越えて、2.78%の新聞 28292.73 点を下げました;</p><p>納指は 600 点近く下がり、4.96%で 11458.1 点を記録し、12000 点を失った。</p><p>500 指数は 3.51%下がった 3455.06。</p><p>市場恐慌指数(VIX)は 26.46%も急騰し、3 ヵ月ぶりの最高値を記録した。</p><p>④ 第二次世界大戦中の防空壕は長年修理を失い、次第に廃棄された。</p><p>防空壕の一部はキクラゲの栽培にも使われ、</p><p>日本の野菜市場では防空壕の種類のキクラゲが売られ、</p><p>第二次世界大戦の記憶を伝えている。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 外国政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月03日</title>
      <link href="2020/09/03/2020-09-03-2/"/>
      <url>2020/09/03/2020-09-03-2/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.03.png#alt=example"></p><p>① 台風 10 号が日本の九州に接近し、</p><p>気象庁は特別な警告が必要な異例の事例とした。</p><p>接近時の予想気圧は 925hpa となる。</p><p>② 自民党の総裁選は、8 月に公示され、</p><p>14 日から投票が始まる。</p><p>新首相の指名選挙は 16 日。</p><p>岸田、石破、菅の 3 人は告示前の行動を活性化した。</p><p>③ 東京や大阪などの主要都市では、</p><p>流行が収束の方向に向かっている。</p><p>しかし、沖縄と石川の状況は尋常ではない。</p><p>昨日の全国の感染者数は 592 人で、東京 141 人、大阪 96 人だった。</p><p>④ ドイツのメルケル首相はロシアのプーチン大統領の政敵と批判者の神経中毒を声明し、</p><p>ロシアの神経毒素を使用した。</p><p>⑤ 田舎の農家は農産物を通じて地元の自治体と協力する。</p><p>自治体が寄付者に農産物をプレゼントすることで、</p><p>農家は自治体から金銭的な収益を得ることができる。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 外国政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月02日</title>
      <link href="2020/09/02/2020-09-02-2/"/>
      <url>2020/09/02/2020-09-02-2/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.02.PNG#alt=example"></p><p>① 菅氏は自民党内の 7 つの派閥のうち、すでに 5 つの支持を得ており、</p><p>一部のどの派閥にも属していない国会議員も支持を表明しており、</p><p>菅氏が今回の党総裁選挙ですでに 3 分の 2 を超える自民党国会議員の支持を得ていることを意味している。</p><p>② コロナの原因で、アイアコンの販売が良いと表示される。</p><p>販売額は 60%ある程度増加している。</p><p>③ 三密を避けるため、日本の自動車経営も変わった。</p><p>公共の接触を減らすため、自家用車で通勤する人が増えている。</p><p>④ コはロナ期間の约 7 割が大学生のインターネット講義形式の課程を学ぶ。</p><p>訪問した大学生はこの期間は非常に苦しく、学習の情緒は高くないと感じた。</p><p>ネット授業の形に少し不満がある。若者は未来に迷いを示した。</p><p>⑤NHK によりますと、菅義偉官房長官が自民党総裁選への立候補を表明しました。</p><p>当選すれば、日本の次期首相になる。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 外国政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：Butterfly主题的宠物养成方法</title>
      <link href="2020/09/02/2020-09-02-1/"/>
      <url>2020/09/02/2020-09-02-1/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/pet.png#alt=example"></p><p>这次借用了 abowman 酱的 swf 文件，<a href="http://abowman.com/">abowman</a></p><p>唯一缺点就是，手机看不了。</p><hr><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>你可以通过引入链接的形式直接调用。前往<a href="http://abowman.com/">abowman</a></p><p>选择你想养的宠物，这里以仓鼠为例。你可以 DIY 仓鼠的颜色参数。</p><p>复制代码，前往<a href="http://abowman.com/">abowman</a>。</p><p>将代码转换为 pug 格式。<br>你也可以将 swf 下下来，并通过<a href="https://github.com/jindrapetrik/jpexs-decompiler/releases/tag/version11.3.0">JPEXS Free Flash Decompiler</a>。</p><p>通过删除字体，去掉名称水印。</p><p>在根目录”myblog3.1\themes\butterfly\layout\includes\widget”文件下复制某个 PUG，重命名为”pet.pug”</p><p>打开该文件，删除原有代码，将以下代码粘贴进去。<br>此处为下载的 swf 的使用方法，如直接调用请替换 object 之后的的代码。</p><p>然后就是将 PUG 接入”myblog3.1\themes\butterfly\layout\includes\widget”index.pug 中。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_pet:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>手机适配及无法使用时的适配的方法。</p><p>在”myblog3.1\themes\butterfly\source\css_layout&quot;下的 third-party.styl 中配置。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">1024px</span>) .pet <span class="attribute">background-image:</span> url(/images/pet.png) <span class="attribute">background-repeat:</span>no-repeat <span class="attribute">background-position-x:</span>center;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>OK 那么就可以开始养仓鼠了！你也可以用同样方法养其他宠物。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/pet2.png#alt=example"></p><p>快去<a href="http://abowman.com/">abowman</a>试试吧。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本 9月01日</title>
      <link href="2020/09/01/2020-09-01-2/"/>
      <url>2020/09/01/2020-09-01-2/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.09.01.PNG#alt=example"></p><p>① 台風 9 号は沖縄に接近し、津波や暴風を警戒する。</p><p>菅義偉現内閣官房長官が立候補を表明し、党内最大派閥の細田派、</p><p>第二大派閥の麻生派、第四大派閥の二階派議員 200 人近くの支持を獲得した。</p><p>菅氏に対する支持率は急上昇している。</p><p>③ 延期されていた東京オリンピックの聖火が、今日から一般展示される。</p><p>④ 経済発展を促進するために、日本政府は本業と副業を規定した。</p><p>副業を行う際は事前申告を行い、従来の 80 時間の時間上限を合算する。</p><p>⑤ 米国での感染者数は 600 万人を超える。</p><p>⑥ マイナポイントは atm 申請を行うことができる。</p><p>クレジットカードを使った消費者指数は、7 月と 8 月にそれぞれ 10%ずつ下がった。</p><p>⑦ メルカリは C2C 中古売買プラットフォームである。同社のフリマアプリの応用、新しい情势を模索している。</p><p>防疫用品の二次販売を禁止した。中古品と新品を結びつけて売る。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 外国政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：Butterfly主题的一图流和视频流背景修改方法</title>
      <link href="2020/09/01/2020-09-01-1/"/>
      <url>2020/09/01/2020-09-01-1/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><h3 id="电脑端效果展示："><a href="#电脑端效果展示：" class="headerlink" title="电脑端效果展示："></a>电脑端效果展示：</h3><h3 id="手机端效果展示："><a href="#手机端效果展示：" class="headerlink" title="手机端效果展示："></a>手机端效果展示：</h3><h3 id="主要修改包括："><a href="#主要修改包括：" class="headerlink" title="主要修改包括："></a>主要修改包括：</h3><ul><li><p>引入 video 标签</p></li><li><p>修改 css 样式</p></li><li><p>适配 ios 移动端</p></li></ul><h3 id="预览地址：https-zfe-space"><a href="#预览地址：https-zfe-space" class="headerlink" title="预览地址：https://zfe.space"></a>预览地址：<a href="https://zfe.space/">https://zfe.space</a></h3><p>其中去掉背景的方法参考了<a href="https://www.antmoe.com/posts/a811d614/index.html">小康博客</a></p><hr><h2 id="步骤-1：去除背景"><a href="#步骤-1：去除背景" class="headerlink" title="步骤 1：去除背景"></a>步骤 1：去除背景</h2><p>在根目录”\source\js”文件下复制某个 JS，重命名为”background.js”</p><p>打开该文件，删除原有代码，将以下代码粘贴进去。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;保存后在主题的&quot;config&quot;中的&quot;inject&quot;处引入&lt;&#x2F;p&gt;</span><br><span class="line">&#96;&#96;&#96;YML</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;xxx.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    # - &lt;script src&#x3D;&quot;xxxx&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">      - &lt;script src&#x3D;&quot;&#x2F;js&#x2F;background.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>在主题的”config.yml”中，搜索”banner”关键词。</p><p>将以下图片链接去掉。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># the banner image of home page</span></span><br><span class="line"><span class="attr">index_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if the banner of page not setting, it will show the top_img</span></span><br><span class="line"><span class="attr">default_top_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># the banner image of archive page</span></span><br><span class="line"><span class="attr">archive_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># the banner image of tag page</span></span><br><span class="line"><span class="comment"># <span class="doctag">note:</span> tag page, not tags page (子標籤頁面的 top_img)</span></span><br><span class="line"><span class="attr">tag_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># the banner image of category page</span></span><br><span class="line"><span class="comment"># <span class="doctag">note:</span> category page, not categories page (子分類頁面的 top_img)</span></span><br><span class="line"><span class="attr">category_img:</span></span><br></pre></td></tr></table></figure><p>搜索关键词”background”,将颜色设置为：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Website Background (設置網站背景)</span></span><br><span class="line"><span class="comment"># can set it to color or image (可設置圖片 或者 顔色)</span></span><br><span class="line"><span class="comment"># The formal of color: &#x27;#49B202&#x27;</span></span><br><span class="line"><span class="comment"># The formal of image: url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># White color will be shown as default</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">&quot;#00000000&quot;</span></span><br></pre></td></tr></table></figure><p>PS：最好不要使用背景美化的飘带效果。</p><p>修改主题文件”\source\css_layout”的”head.styl”文件</p><p>将 transition 和 background-color:注释掉。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#page-header</span><br><span class="line">  position: relative</span><br><span class="line">  width: 100%</span><br><span class="line"></span><br><span class="line">  background-attachment: scroll</span><br><span class="line">  background-position: center center</span><br><span class="line">  background-size: cover</span><br><span class="line">  background-repeat: no-repeat</span><br><span class="line">  &#x2F;&#x2F;transition: all .5s</span><br><span class="line">  &#x2F;&#x2F;background-color: $light-blue</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="/images/notop.png#alt=example"></p><p>此时只要你将背景换成图片，就可以一图流了。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Website Background (設置網站背景)</span></span><br><span class="line"><span class="comment"># can set it to color or image (可設置圖片 或者 顔色)</span></span><br><span class="line"><span class="comment"># The formal of color: &#x27;#49B202&#x27;</span></span><br><span class="line"><span class="comment"># The formal of image: url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># White color will be shown as default</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">url(http://zfe.space/images/tianqizhizi.jpg)</span></span><br></pre></td></tr></table></figure><p>这时候你会发现如果是大块纯色页面打开时候会白一下，同时页脚的背景很碍事。</p><p>这时候我们需要额外加入一定 CSS。</p><p>首先”F12”,用开发者工具取色。</p><p>首先”F12”,用开发者工具取色。</p><p>在根目录”\source\css”文件路径下复制某个 css，重命名为”background.css”</p><p><img src= "/img/loading.gif" data-lazy-src="/images/quse.png#alt=example"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0090d6</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#00000000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="白色的影响就减小了，当然效果根据图片不同，效果不同。"><a href="#白色的影响就减小了，当然效果根据图片不同，效果不同。" class="headerlink" title="白色的影响就减小了，当然效果根据图片不同，效果不同。"></a>白色的影响就减小了，当然效果根据图片不同，效果不同。</h2><h2 id="步骤-2：增加视频"><a href="#步骤-2：增加视频" class="headerlink" title="步骤 2：增加视频"></a>步骤 2：增加视频</h2><p>在达到步骤一无头图之后，不替换背景图片。</p><p>在根目录”\source\css”文件路径下复制某个 css，重命名为”background.css”</p><p>添加代码如下：（最后两项是控制滑动条的配色）<br>}</p><p>#footer {</p><p>background: #00000000;</p><p>}</p><p>body{</p><p>background-color:#adc3db;</p><p>}</p><p>#page-header {background-color:#0000}</p><p>::-webkit-scrollbar-track {</p><p>background-color: #ccd3db;</p><p>}</p><p>::-webkit-scrollbar-thumb {</p><p>background-color: #6d718c;</p><p>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;p&gt;前往&quot;\themes\butterfly\layout\includes&quot;路径下，复制某个PUG文件，重命名为&quot;backgroundvideo.pug&quot;。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;删除内容.&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;添加以下代码：&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;PUG</span><br><span class="line">.bg-video</span><br><span class="line">  video.v1(autoplay, muted, loop)</span><br><span class="line">    source(src&#x3D;&#39;&#x2F;images&#x2F;girl.mp4&#39;)</span><br></pre></td></tr></table></figure><p>打开同文件夹下的”layout.pug”。将”backgroundvideo.pug”include。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#body-wrap</span><br><span class="line">   if theme.background</span><br><span class="line">     - var is_photo &#x3D; theme.background.startsWith(&#39;url&#39;) ? &#39;photo&#39;:&#39;color&#39;</span><br><span class="line">     #web_bg(data-type&#x3D;is_photo)</span><br><span class="line">   include .&#x2F;backgroundvideo.pug</span><br><span class="line">   include .&#x2F;sidebar.pug</span><br><span class="line">   include .&#x2F;header&#x2F;index.pug</span><br></pre></td></tr></table></figure><p>打开路径下的”\themes\butterfly\source\css_layout”下的”third-party.styl”.</p><p>在末尾添加以下代码（注意顶头）来进行苹果移动端适配：</p><p>这里为了手机浏览方便制作了手机壁纸大小的”girlpic.png”替换视频。</p><p>这一方法也能使手机端图片背景与菜单栏和谐共处。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">@media screen and (max-width: 1024px)</span><br><span class="line"> .bg-video</span><br><span class="line">  display:none</span><br><span class="line"> body</span><br><span class="line">  background-position: -99999px -99999px</span><br><span class="line">  background-image: url(&#x2F;images&#x2F;girlpic.png)</span><br><span class="line">  background-repeat:no-repeat</span><br><span class="line">  background-attachment:fixed</span><br><span class="line">  background-position:top</span><br><span class="line"> body:before</span><br><span class="line">  content: &quot;&quot;</span><br><span class="line">  background-image: inherit</span><br><span class="line">  position: fixed</span><br><span class="line">  top: 0</span><br><span class="line">  left: 0</span><br><span class="line">  height: 100vh</span><br><span class="line">  width: 100%</span><br><span class="line">  -webkit-background-size: cover !important</span><br><span class="line">  -moz-background-size: cover !important</span><br><span class="line">  -o-background-size: cover</span><br><span class="line">  background-size: cover !important;</span><br><span class="line">  z-index: -1</span><br></pre></td></tr></table></figure><p>最后一步就是选择你喜欢的背景视频了，尽量使用较小的视频，以免影响加载。</p><p>重命名为 girl.mp4 置于”/images”目录下：</p><p>这里分享几个笔者收集的视频：（在小黑盒上找的，下载后重命名为.mp4 就可以播放了）</p><p><a href="/images/videobk.zip">videobk.zip</a></p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>补充一下暗黑模式下的黑色背景问题,footer 设置在 darkmode.styl 的 30 行设置透明背景。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#web_bg[data-type&#x3D;photo]:before,</span><br><span class="line">#footer[data-type&#x3D;photo]:before</span><br><span class="line">  position: absolute</span><br><span class="line">  width: 100%</span><br><span class="line">  height: 100%</span><br><span class="line">  background-color: transparent</span><br><span class="line">  content: &#39;&#39;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;header设置在darkmode.styl的58行设置透明背景。&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure><p>// 頭部</p><p>#page-header</p><p>&amp;:before</p><p>position: absolute</p><p>top: 0</p><p>left: 0</p><p>display: block</p><p>width: 100%</p><p>height: 100%</p><p>background-color: transparent;</p><p>content: ‘’</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;p&gt;2020年9月2日补充： &lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">![example](&#x2F;images&#x2F;ps1.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;p&gt;我好了。你好了么？好了的话就留个评论吧~  &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月31日</title>
      <link href="2020/08/31/2020-08-31-2/"/>
      <url>2020/08/31/2020-08-31-2/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.08.31.PNG#alt=example"></p><p>① 通常国会議員票 394 票と党員票 394 票合計 788 票。現時点での緊急時の国会議員票 394 票と 47 都道府県連 141 票合計 535 票。</p><p>投票の減少には大きな論争がある。安倍の体调やコを考慮しロナの対応の短縮選挙時間が長くかかるためだ。</p><p>② 台風 9 号、沖縄と竜美を登録。強風と津波と降水をもたらした。</p><p>③ 民間の調査会社は、来年の gdp 成長率を 2 ~ 4%前後と見込んでいる。</p><p>④ 日本の遊園地があるという名前としまんえん、今からは 94 年の歴史があるのよ。</p><p>31 日の最終営業日には、もっと早く入るために、4 時から 5 時くらいに人が来て、休みを取ったりもした。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
            <tag> 外国政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的模拟电子钟侧边栏小部件2.0版</title>
      <link href="2020/08/31/2020-08-31-1/"/>
      <url>2020/08/31/2020-08-31-1/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/clock2.0.png#alt=example"></p><h3 id="2-0-模拟时钟小部件主要包含："><a href="#2-0-模拟时钟小部件主要包含：" class="headerlink" title="2.0 模拟时钟小部件主要包含："></a>2.0 模拟时钟小部件主要包含：</h3><ul><li><p>日期（年、月、日、星期）</p></li><li><p>天气（天气图标、温度）</p></li><li><p>湿度(百分比）</p></li><li><p>空气质量（US AQI）</p></li><li><p>时间（当地时间、AM/PM）</p></li><li><p>地理位置（IP 地址地理位置）</p></li><li><p>每日访问上限：约 500 次</p></li><li><p>每月访问上限：10000 次</p></li></ul><h3 id="预览地址：https-zfe-space"><a href="#预览地址：https-zfe-space" class="headerlink" title="预览地址：https://zfe.space"></a>预览地址：<a href="https://zfe.space/">https://zfe.space</a></h3><p>PS.最近本人 localhost 调用过猛可能会上限不显示。</p><p>相比<a href="https://zfe.space/">1.0 版本</a>，加快了访问速度并优化了加载效果。</p><p>但使用 API 后导致每日访问量上限后不会显示。</p><p>因此，有利有弊。</p><hr><h2 id="步骤-1：编写小部件代码"><a href="#步骤-1：编写小部件代码" class="headerlink" title="步骤 1：编写小部件代码"></a>步骤 1：编写小部件代码</h2><p>在”\themes\butterfly\layout\includes\widget”文件下复制某个 PUG，重命名为”card_clock.pug”</p><p>打开该文件，删除原有代码，将以下代码粘贴进去。注意 PUG 的空格敏感。</p><hr><h2 id="步骤-2：将小部件植入侧边栏"><a href="#步骤-2：将小部件植入侧边栏" class="headerlink" title="步骤 2：将小部件植入侧边栏"></a>步骤 2：将小部件植入侧边栏</h2><p>打开”\themes\butterfly\layout\includes\widget”路径下的”index.pug”</p><p>将 card_clock 代码添加至 card_author 代码块后。添加后的代码如下：<br>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”aside:”设置处</p><p>添加 clock 开关代码：</p><hr><h2 id="步骤-3：编写-CSS-代码"><a href="#步骤-3：编写-CSS-代码" class="headerlink" title="步骤 3：编写 CSS 代码"></a>步骤 3：编写 CSS 代码</h2><p>在 hexo 根目录”source”文件夹下新建”css”文件夹，在”\source\css”路径下新建”clock.css”</p><p>在”clock.css”中添加以下内容：<br>#clock .date {</p><p>font-family: ‘UnidreamLED’;</p><p>font-size: 14px;</p><p>font-weight:normal;</p><p>color: #000000;</p><p>margin-block-start: 0em;</p><p>margin-block-end: 0em;</p><p>line-height: 1;</p><p>}</p><p>#clock .time {</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">font-family: &#39;UnidreamLED&#39;;</span><br><span class="line">font-size: 38px;</span><br><span class="line">font-weight:normal;</span><br><span class="line">color: #000000;</span><br><span class="line">margin-block-start: 0em;</span><br><span class="line">margin-block-end: -0.2em;</span><br><span class="line">line-height: 1.5;</span><br></pre></td></tr></table></figure><p>}</p><p>.card-background {</p><p>height:153px;</p><p>margin:15px;</p><p>border-radius: 8px;</p><p>background-color: rgb(236, 236, 236);</p><p>box-shadow: inset 3px 3px 18px 0px rgba(50,50,50, 0.4);</p><p>z-index: 2;</p><p>}</p><p><a href="/font-face">@font-face </a> {</p><p>font-family: ‘UnidreamLED’; /<em>a name to be used later</em>/</p><p>src: url(‘/fonts/UnidreamLED.ttf’); /<em>URL to font</em>/</p><p>}</p><p>.date {width:50%;}</p><p>.time{width:90%;}</p><p>.daylight{width:12%;float:right;font-family: ‘UnidreamLED’; color:black; }</p><p>#weatherimg {</p><p>-webkit-filter: brightness(0%)!important;</p><p>filter: brightness(0%)!important;</p><p>width: 14px!important;</p><p>height: 14px!important;</p><p>}</p><p>#humidityimg {</p><p>-webkit-filter: brightness(0%)!important;</p><p>filter: brightness(0%)!important;</p><p>width: 14px!important;</p><p>height: 14px!important;</p><p>}</p><p>.weather  {width:10%;font-family: ‘UnidreamLED’;padding-left:10px; padding-right:1px;color: #000000;}</p><p>.temperature  {width:20%;font-family: ‘UnidreamLED’; color: #000000;padding-left: 5px;padding-right:5px; }</p><p>.humidity  {width:20%;font-family: ‘UnidreamLED’;color: #000000;padding-left: 10px;padding-right:0px; }</p><p>.usaqi  {height:30px;width:10%;font-family: ‘UnidreamLED’;color: #000000;}</p><p>.city {width:10%;font-family: ‘UnidreamLED’;padding-left:20px; padding-right:1px;color: #000000;}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> ## 步骤4：添加自定义字体文件 ##</span><br><span class="line"></span><br><span class="line">&lt;p&gt;在&quot;source&quot;文件夹下新建&quot;fonts&quot;文件夹，将&quot;UnidreamLED&quot;放入文件夹中。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;&#x2F;fonts&#x2F;UnidreamLED.ttf&quot;&gt;UnidreamLED字体下载&lt;&#x2F;a&gt;</span><br><span class="line">&lt;hr&gt;&lt;&#x2F;hr&gt;</span><br><span class="line"></span><br><span class="line"> ## 步骤5：编写JS代码 ##</span><br><span class="line"></span><br><span class="line">&lt;p&gt;在根目录&quot;source&quot;文件夹下新建&quot;js&quot;文件夹，将&quot;vue.min.js&quot;放入文件夹中。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;&#x2F;js&#x2F;vue.min.js&quot;&gt;vue.min.js下载&lt;&#x2F;a&gt;</span><br><span class="line">&lt;p&gt;在js文件夹中，复制&quot;vue.min.js&quot;，重命名为&quot;clock.js&quot;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;打开该文件，删除原有代码，将以下代码粘贴进去。&lt;&#x2F;p&gt;</span><br><span class="line">&#96;&#96;&#96;JavaScript</span><br><span class="line">var clock &#x3D; new Vue(&#123;</span><br><span class="line">    el: &#39;#clock&#39;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        time: &#39;&#39;,</span><br><span class="line">        date: &#39;&#39;,</span><br><span class="line">        daylight: &#39;&#39;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var week &#x3D; [&#39;SUN&#39;, &#39;MON&#39;, &#39;TUE&#39;, &#39;WED&#39;,&#39;THU&#39; ,&#39;FRI&#39;, &#39;SAT&#39;];</span><br><span class="line">var timerID &#x3D; setInterval(updateTime, 1000);</span><br><span class="line">updateTime();</span><br><span class="line">function updateTime() &#123;</span><br><span class="line">    var cd &#x3D; new Date();</span><br><span class="line">    clock.time &#x3D; zeroPadding(cd.getHours(), 2) + &#39;:&#39; + zeroPadding(cd.getMinutes(), 2) + &#39;:&#39; + zeroPadding(cd.getSeconds(), 2);</span><br><span class="line">    clock.date &#x3D; zeroPadding(cd.getFullYear(), 4) + &#39;-&#39; + zeroPadding(cd.getMonth()+1, 2) + &#39;-&#39; + zeroPadding(cd.getDate(), 2) + &#39; &#39; + week[cd.getDay()];</span><br><span class="line">    var hamorpm &#x3D; cd.getHours();</span><br><span class="line"> var str;</span><br><span class="line">   if(hamorpm &gt;12) &#123;</span><br><span class="line">        hamorpm -&#x3D; 12;</span><br><span class="line">        str &#x3D; &quot; PM&quot;;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        str &#x3D; &quot; AM&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    clock.daylight &#x3D; str</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function zeroPadding(num, digit) &#123;</span><br><span class="line">    var zero &#x3D; &#39;&#39;;</span><br><span class="line">    for(var i &#x3D; 0; i &lt; digit; i++) &#123;</span><br><span class="line">        zero +&#x3D; &#39;0&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    return (zero + num).slice(-digit);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在 js 文件夹中，复制”vue.min.js”，重命名为”airvisualapi.js”</p><p>打开该文件，删除原有代码，将以下代码粘贴进去。<br>var clockurl = “<a href="https://api.airvisual.com/v2/nearest_city?key=123312fc-84e9-49c4-8%EF%BC%9F%EF%BC%9F%EF%BC%9F-66f0%EF%BC%9F%EF%BC%9F%EF%BC%9F912%EF%BC%9F%EF%BC%9F&quot;">https://api.airvisual.com/v2/nearest_city?key=123312fc-84e9-49c4-8？？？-66f0？？？912？？&quot;</a></p><p>$(function(){</p><p>$.ajax({</p><p>//请求方式</p><p>type:”GET”,</p><p>//文件位置</p><p>url:clockurl,</p><p>//返回数据格式为 json,也可以是其他格式如</p><p>dataType: “json”,</p><p>beforeSend:function(XMLHttpRequest){</p><p>//alert(‘远程调用开始…’);</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;请求成功后要执行的函数，拼接html</span><br><span class="line">        success: function(data)&#123;</span><br><span class="line">            str1&#x3D;data.data.current.weather.ic;</span><br><span class="line">            imagelink&#x3D; &#39;images&#x2F;weather&#x2F;&#39; +  str1 + &#39;.png&#39;</span><br><span class="line">            str2&#x3D;data.data.current.weather.tp;</span><br><span class="line">            str3&#x3D;data.data.current.weather.hu;</span><br><span class="line">            str4&#x3D;data.data.current.pollution.aqius;</span><br><span class="line">            var str&#x3D;&#39;&lt;span class&#x3D;&quot;weather&quot;&gt;&#39;;</span><br><span class="line">            str+&#x3D;&#39;&lt;img id&#x3D;&quot;weatherimg&quot; &gt;&#39;  +  &#39;&lt;&#x2F;span&gt;&#39; + &#39;&lt;span class&#x3D;&quot;temperature&quot;&gt;&#39; + str2 + &#39;*C&#39;+ &#39;&lt;&#x2F;span&gt;&#39;;</span><br><span class="line">            str+&#x3D;&#39;&lt;span class&#x3D;&quot;humidity&quot;&gt;&#39; +  &#39;&lt;img id&#x3D;&quot;humidityimg&quot; &gt;&#39;  + &#39; &#39;  + str3 + &#39;%&#39; + &#39;&lt;&#x2F;span&gt;&#39;;</span><br><span class="line">            var str5&#x3D;&#39;&lt;span class&#x3D;&quot;usaqi&quot;&gt;&#39;;</span><br><span class="line">            str5+&#x3D; str4  +&#39; &#39; + &#39;US&#39;+&#39; &#39; +&#39;AQI&#39; + &#39;&lt;&#x2F;span&gt;&#39;;</span><br><span class="line">            str5+&#x3D; &#39;&lt;span class&#x3D;&quot;city&quot;&gt;&#39; + data.data.city + &#39;&lt;&#x2F;span&gt;&#39;;</span><br><span class="line">            $(str).insertAfter($(&quot;.date&quot;).eq(0));</span><br><span class="line">            $(str5).insertBefore($(&quot;.daylight&quot;).eq(0));</span><br><span class="line">            document.getElementById(&quot;weatherimg&quot;).src &#x3D; imagelink</span><br><span class="line">            document.getElementById(&quot;humidityimg&quot;).src &#x3D; &#39;images&#x2F;weather&#x2F;hu.png&#39;</span><br><span class="line">            console.log(data)</span><br><span class="line"></span><br><span class="line">            document.getElementById(&quot;clock&quot;).style.opacity&#x3D; 1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;p&gt;key&#x3D;123312fc-84e9-49c4-8？？？-66f0？？？912？？部分为需要在airvisual官网申请的key。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;hr&gt;&lt;&#x2F;hr&gt;</span><br><span class="line"></span><br><span class="line"> ## 步骤6：接入CSS与JS ##</span><br><span class="line"></span><br><span class="line">&lt;p&gt;打开&quot;\themes\butterfly\&quot;路径下的&quot;_config.yml&quot;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;搜索到&quot;inject:&quot;设置处&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;添加以下代码：&lt;&#x2F;p&gt;</span><br><span class="line">&#96;&#96;&#96;yml</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;css&#x2F;clock.css&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">  bottom:</span><br><span class="line">  - &lt;script src&#x3D;&quot;&#x2F;js&#x2F;vue.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">  - &lt;script src&#x3D;&quot;&#x2F;js&#x2F;clock.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">  - &lt;script src&#x3D;&quot;&#x2F;js&#x2F;airvisualapi.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>PS：优化了 1.0 的脚本，通过 ajax 方法获取 api 数据。</p><hr><h2 id="步骤-7：添加天气图片"><a href="#步骤-7：添加天气图片" class="headerlink" title="步骤 7：添加天气图片"></a>步骤 7：添加天气图片</h2><p>在根目录”source”文件夹下新建”images”文件夹，在”images”文件夹里新建”weather”文件夹。</p><p>将以下压缩包下载，解压后将图片保存进文件夹中。</p><p><a href="/images/weather.zip">天气图标</a></p><h2 id="步骤-8：申请-AirVisual-api-key"><a href="#步骤-8：申请-AirVisual-api-key" class="headerlink" title="步骤 8：申请 AirVisual api key"></a>步骤 8：申请 AirVisual api key</h2><p>为了保障自己的 API 不失效，这里介绍下如何申请 AirVisual api key。</p><p>① 打开网站，注册帐号。</p><p><a href="https://www.iqair.com/auth/login">https://www.iqair.com/auth/login</a><br>② 登录后访问，”<a href="https://www.iqair.com/dashboard/api&quot;">https://www.iqair.com/dashboard/api&quot;</a></p><p><a href="https://www.iqair.com/dashboard/api">https://www.iqair.com/dashboard/api</a><br>③ 点击“+ NEW KEY”按钮。选择“Community”得到对应的 key。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/apikey.png#alt=example"></p><p>④ 修改”airvisualapi.js”中的 key 对应的字段参数。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var clockurl &#x3D; &quot;https:&#x2F;&#x2F;api.airvisual.com&#x2F;v2&#x2F;nearest_city?key&#x3D;123312fc-84e9-49c4-8？？？-66f0？？？912？？&quot;</span><br></pre></td></tr></table></figure><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在本地进行开发时建议关掉”card_clock: enable: true”选项，以免出现多次调用上限的问题。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月30日</title>
      <link href="2020/08/30/2020-08-30/"/>
      <url>2020/08/30/2020-08-30/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.08.30.png#alt=example"></p><p>① 現在、立候補に立候補する意欲がある人は岸田、石破、野田。</p><p>しかし、党員投票は行わないけっていがある。</p><p>② 日本の人気者はマスクをつけないで外出したため、</p><p>ネットユーザーのネット暴力を受け、</p><p>最近自宅で自殺が発見された。</p><p>③ 広い範囲で猛暑日が予想され、熱中症を予防する。</p><p>④ 昨日の全国感染者数 845 人、東京感染者数 247 人、大阪感染者数 90 人。</p><p>各地で流行に応じて様々な措置が行われている。</p><p>避難訓練が行われ、傘で間隔をとることもある。</p><p>一部の場所では、距離をコントロールし、</p><p>マスクを付けた星棒を打ち上げるイベントが行われた。</p><p>⑤ 大河ドラマ「麒麟が来た」が、2 カ月ぶりに再放映された。</p><p>⑥ 若いモデルたちが山本寛斎が亡くなる前に指揮したファッションショーを完成させ、</p><p>ファッションショーはインターネットで生放送された。</p><p>「苦労しくでも必ずずみちがあ」るは彼の最後のメッセージだ。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 外国政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月29日</title>
      <link href="2020/08/29/2020-08-29/"/>
      <url>2020/08/29/2020-08-29/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.08.29.png#alt=example"></p><p>① 安倍首相の辞任表明は、病気と治療の関系で、全力を尽くすことはできない。</p><p>誤った政治的決定を下すか、問題を解決する正しい結論が出ないか心配だ。</p><p>責任をきちんと負うことができないと思い、総理大臣を続けることができない。</p><p>コロナで辞任し、安倍首相は謝罪の意を表明した。</p><p>日本国民の大多数は安倍首相の決定を理解している。</p><p>中国国営新華社通信は、安倍首相の辞任が日本の政界に衝撃を与え、</p><p>日本の政界の動向を注視していると伝えた。</p><p>米国も安倍首相を高く評価している。</p><p>韓国は退任を残念に思うが、日韓関係が友好的に発展することを望む。</p><p>② 最近の東京周辺の台風の数は過去の 1.5 倍。</p><p>③ 米国では、マーティン・ルーサー・キングの演説 75 周年を記念して、</p><p>盛大な集会が行われた。人種平等を訴える。</p><p>④ 日本で今年はコンサートがなくても、懐かしい気持ちで会場に向かうファンがいる。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 外国政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月28日</title>
      <link href="2020/08/28/2020-08-28/"/>
      <url>2020/08/28/2020-08-28/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.08.28.png#alt=example"></p><p>① 東京 23 地区、来月 15 日まで。営業時間を短縮する施策は期間を延長し、</p><p>また 31 地区では感染者数が少ないため月末に解除する。</p><p>営業時間の短縮により飲食店の売上は 4-5 割減少し、</p><p>バーの売上は 8-9 割減少した。</p><p>ロボットの食事を送ることで人と人の接触が減る。</p><p>沖縄県の本県でも緊急事態宣言の終了時間が延長された。</p><p>② 昨日の全国の感染者 865 人、東京の感染者 250 人、大阪の感染者 94 人。</p><p>安倍総理大臣は来年上半期までに十分な数のワクチンを国民に提供すると表明した。</p><p>③8 月 25 日、日本の東京で特別なファッションショーが行われ、</p><p>12 人の障害者モデルが義足をつけて登場した。</p><p>このファッションショーは、2020 年の東京パラリンピックの開幕式と同じ日に開催される予定だった。</p><p>covid-19 の流行が遅れたにもかかわらず、ショーは予定通りに行われた。</p><p>これは疫病による恐怖と影響を克服するためのものだった。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 障害者 </tag>
            
            <tag> 営業時間 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月27日</title>
      <link href="2020/08/27/2020-08-27/"/>
      <url>2020/08/27/2020-08-27/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.08.27.png#alt=example"></p><p>① 日本の宮城石巻では、東北新幹線の空席を利用して海産物を運ぶ実験を行い、</p><p>「GO To travel」に東京を追加するかどうか検討している。</p><p>茨城県水戸市はベビーカーのコンセプトで、安心して観光できるツアーバスを設計した。</p><p>コロナとインフルエンザの影響を受け、ワクチン接種希望者が急増した。</p><p>昨日の感染者は全国で 903 人、東京 236 人、大阪 119 人だった。</p><p>厚生労働省は「her-sys」と呼ばれる新たな感染者情報管理システムを作成し,</p><p>システムの実際の運用効果を調査した。</p><p>② 昨年 8 月、他の工事で耐震診断を行った責任者は過去の診断に問題があると疑った。</p><p>現在、首都圏の在来線では、高速道路の 276 本の柱が地震に弱いことが分かっている。</p><p>③DX プロジェクトは samrt city X プロジェクトを提案し、</p><p>日本の大手企業 6 社をはじめとする企業が協力し、</p><p>交通、生活、サービスなどの面での便宜を図り、</p><p>技術の変革を導う。</p><p>要点は,生活者の視点,適用可能性,および事業実装である。</p><p>来年の夏までに 10 の計画を完成させる。</p><p>④ 日本のある会社はファミリーマートのために VR 設備を開発して、</p><p>店員に遠隔品を用意して使用した。</p><p>店員は在宅勤務が可能です。</p><p>しかし,作業速度や実用化の可能性については検証が必要である。</p><p>ローソンでは、市販の洗剤を販売しており、お客様は自分の容器を持って洗剤を入れることができる。</p><p>量りと種類を選択することによって決算する。</p><p>⑤ 在宅勤務では仮想的な Avatar を通じてコミュニケーションをとる。</p><p>米国の会社 VirBELA は仮想的な Virtual Office を構築した。</p><p>この会社は 1 年前からこの VR プラットフォームの実行を試みており、</p><p>最初はオンライン学習に優れた体験を提供すると同時に、</p><p>すべての学科の授業の質を向上させた。</p><p>休日には、同僚と一緒にゲームをすることができる。</p><p>仮想空間内で大きなイベントを行うことも可能である。</p><p>自分のアバタを写真でカスタマイズし、現実の顔を再現できる。</p><p>⑥online 討論:全国学力テスト、新冠のため中止。</p><p>このテストは文部科学省による学生の学習状態の評価する。</p><p>小学 6 年生から中学 3 年生まで計 200 万人が受験した。</p><p>中間報告書は、世界的な学力調査の ICT 化と、</p><p>国内でも小中学生 1 人当たり 1 台のタブレット pc を配布する政策の推進を盛り込んでいる。</p><p>中間報告では,学校関連の ICT 環境の整備や生徒のコンピュータ熟練度の向上を指摘した。</p><p>関連研究は来年に行われる。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> ICT </tag>
            
            <tag> 虚拟现实 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月26日</title>
      <link href="2020/08/26/2020-08-26/"/>
      <url>2020/08/26/2020-08-26/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.08.26.png#alt=example"></p><p>① 日本では気温が 35 度以上になる地域が多く、</p><p>猛暑日が続いている。</p><p>今月の 17 日から 23 日まで、全国で 1 万 2799 人が熱中症の疑いで病院に運ばれた。</p><p>このうち 65 人以上の高齢者は 7080 人で,総数の半数を超えている。</p><p>② 猛暑と豪雨の影響で長野のレタスが減産になり、</p><p>平年に比べて 2 割弱の減産となり、</p><p>野菜の価格がある程度上がった。</p><p>特にレタスの価格は 2 倍になっています</p><p>③ もうすぐ学校が始まる。</p><p>感染症患者に対する差別や差別を予防しましょう。</p><p>昨日の全国の感染者数は 718 人、東京の感染者数は 182 人、大阪の感染者数は 119 人だった。</p><p>④DX (digital・transformation)は、生活を便利にするための新商品や新サービスの開発活動を行う。</p><p>日本の 6 社がこの目標に協力し、新たなプロジェクトを展開している。</p><p>⑤ 個人投資家の急増は、米証券市場の回復を加速させている。</p><p>疫病の流行は人々に電子貨幣及び電子形式の投資を信用させる。</p><p>株にゲーム感覚を持たせる。</p><p>⑥ 日本、中国、韓国が共同で出版した平和とは何かという絵本は、</p><p>社会に反省をもたらし、平和へのメッセージを発信している。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
            <tag> 科技 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的历史上的今天侧边栏小部件</title>
      <link href="2020/08/25/2020-08-25-1/"/>
      <url>2020/08/25/2020-08-25-1/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/history.gif#alt=example"></p><p>做这个的目的是想学习一下 ajax 的跨域访问 API，但实际上却很难弄。</p><p>于是最终采用本地读取 json 的方法，制作了这个小部件。</p><p>相比于单独写一个页面而言，这个小部件更具有观赏性。</p><p>json 因为使用的是原生的百度百科 API 下载的 json，所以自带百度百科的链接。</p><p>废话不多说，开始学习吧。</p><blockquote><p>API：<a href="https://baike.baidu.com/cms/home/eventsOnHistory/09.json">https://baike.baidu.com/cms/home/eventsOnHistory/09.json</a><br>后面的数字代表月份</p></blockquote><hr><h2 id="步骤-1：编写小部件代码"><a href="#步骤-1：编写小部件代码" class="headerlink" title="步骤 1：编写小部件代码"></a>步骤 1：编写小部件代码</h2><p>在”\themes\butterfly\layout\includes\widget”文件下复制某个 PUG，重命名为”card_history.pug”</p><p>打开该文件，删除原有代码，将以下代码粘贴进去。注意 PUG 的空格敏感。</p><h2 id="步骤-2：将小部件植入侧边栏"><a href="#步骤-2：将小部件植入侧边栏" class="headerlink" title="步骤 2：将小部件植入侧边栏"></a>步骤 2：将小部件植入侧边栏</h2><p>打开”\themes\butterfly\layout\includes\widget”路径下的”index.pug”</p><p>将 card_history 代码添加至 card_author 代码块后。添加后的代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.enable</span><br><span class="line">  if page.aside !&#x3D;&#x3D; false</span><br><span class="line">    #aside_content.aside_content</span><br><span class="line">      if theme.aside.card_author.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_author&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_history.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_history&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_announcement.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_announcement&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_recent_post.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_recent_post&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.ad &amp;&amp; theme.ad.aside</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_ad&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_categories.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_categories&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_tags.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_tags&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_archives.enable</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_archives&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line">      if theme.aside.card_webinfo</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_webinfo&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”aside:”设置处</p><p>添加 history 开关代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">    enable: true</span><br><span class="line">    mobile: true # display on mobile</span><br><span class="line">    position: right # left or right</span><br><span class="line">    card_recent_news:</span><br><span class="line">        enable: true</span><br><span class="line">    card_shuo:</span><br><span class="line">        enable: true</span><br><span class="line">    card_history:</span><br><span class="line">        enable: true</span><br></pre></td></tr></table></figure><h2 id="步骤-3：本地-json-配置"><a href="#步骤-3：本地-json-配置" class="headerlink" title="步骤 3：本地 json 配置"></a>步骤 3：本地 json 配置</h2><p><a href="/history/json.zip">点击下载 json 文件。</a><br>在 hexo 根目录”source”文件夹下新建”history”文件夹，在”\source\history”路径下解压”json.zip”</p><p><img src= "/img/loading.gif" data-lazy-src="/images/his-json.png#alt=example"><br>PS：此 json 为本人修改过的 json。删除了一层数组外壳，对数组的日期键值加入了“S”使其非数字化。</p><h2 id="步骤-4：编写-JS"><a href="#步骤-4：编写-JS" class="headerlink" title="步骤 4：编写 JS"></a>步骤 4：编写 JS</h2><p>在”source”文件夹下新建”js”文件夹，新建”history.js”。添加的代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> myMonth = myDate.getMonth() + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (myMonth &lt; <span class="number">10</span>) &#123;</span><br><span class="line">  getMonth = <span class="string">&quot;0&quot;</span> + <span class="built_in">String</span>(myMonth);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  getMonth = <span class="built_in">String</span>(myMonth);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getDate = <span class="built_in">String</span>(myDate.getDate());</span><br><span class="line"><span class="keyword">if</span> (getDate &lt; <span class="number">10</span>) &#123;</span><br><span class="line">  getDate = <span class="string">&quot;0&quot;</span> + <span class="built_in">String</span>(getDate);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  getDate = <span class="built_in">String</span>(getDate);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getMonthDate = <span class="string">&quot;S&quot;</span> + getMonth + getDate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> geturl = <span class="string">&quot;/history/json/&quot;</span> + getMonth + <span class="string">&quot;.json&quot;</span>;</span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    <span class="comment">//请求方式</span></span><br><span class="line">    type: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">    <span class="comment">//文件位置</span></span><br><span class="line">    url: geturl,</span><br><span class="line">    <span class="comment">//返回数据格式为json,也可以是其他格式如</span></span><br><span class="line">    dataType: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    <span class="comment">//请求成功后要执行的函数，拼接html</span></span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> str = <span class="string">&#x27;&lt;ul style=&quot;list-style: none;padding-inline-start: 0px;&quot;&gt;&#x27;</span>;</span><br><span class="line">      $.each(data[getMonthDate], <span class="function"><span class="keyword">function</span> (<span class="params">i, n</span>) </span>&#123;</span><br><span class="line">        str += <span class="string">&#x27;&lt;li style=&quot;list-style: none;height:100px;&quot;&gt;&#x27;</span>;</span><br><span class="line">        str +=</span><br><span class="line">          <span class="string">&#x27;&lt;p style=&quot;color: #858585;Font-style:italic;font-weight:lighter;float:left;width:100%;font-size: 14px;margin:0px; padding:0px;display:inline-block&quot;&gt;&#x27;</span>;</span><br><span class="line">        str += <span class="string">&quot;&lt;i &gt;A.D.&lt;/i&gt;&quot;</span> + n.year + <span class="string">&quot;&lt;/p&gt;&quot;</span>;</span><br><span class="line">        str +=</span><br><span class="line">          <span class="string">&#x27;&lt;p style=&quot;width:100%;float:left;margin:0px; padding:0px;display:inline-block&quot; &gt;&#x27;</span>;</span><br><span class="line">        str += n.title + <span class="string">&#x27;&lt;i style=&quot;Font-style:normal;&quot;&gt;。&lt;/i&gt;&#x27;</span>;</span><br><span class="line">        str += <span class="string">&quot;&lt;/p&gt;&quot;</span> + <span class="string">&quot;&lt;/li&gt;&quot;</span>;</span><br><span class="line">      &#125;);</span><br><span class="line">      str += <span class="string">&quot;&lt;/ul&gt;&quot;</span>;</span><br><span class="line">      $(<span class="string">&quot;#history-card&quot;</span>).append(str);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>在”source”的”js”文件夹，新建”historyroll.js”。添加的代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> $this = $(<span class="string">&quot;#history-news&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> scrollTimer;</span><br><span class="line">  $this</span><br><span class="line">    .hover(</span><br><span class="line">      <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(scrollTimer);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        scrollTimer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          scrollNews($this);</span><br><span class="line">        &#125;, <span class="number">4000</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    .trigger(<span class="string">&quot;mouseleave&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">scrollNews</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $self = obj.find(<span class="string">&quot;ul&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> lineHeight = $self.find(<span class="string">&quot;li:first&quot;</span>).height();</span><br><span class="line">    $self.animate(</span><br><span class="line">      &#123;</span><br><span class="line">        marginTop: -lineHeight + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">200</span>,</span><br><span class="line">      <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $self</span><br><span class="line">          .css(&#123;</span><br><span class="line">            marginTop: <span class="number">10</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">          .find(<span class="string">&quot;li:first&quot;</span>)</span><br><span class="line">          .appendTo($self);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="步骤-6：接入-JS"><a href="#步骤-6：接入-JS" class="headerlink" title="步骤 6：接入 JS"></a>步骤 6：接入 JS</h2><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bottom:</span><br><span class="line">- &lt;script src&#x3D;&quot;&#x2F;js&#x2F;history.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">- &lt;script src&#x3D;&quot;&#x2F;js&#x2F;historyroll.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>若有问题可以与我邮件联系<a href="mailto:&#x34;&#57;&#x39;&#x39;&#56;&#x34;&#x35;&#x33;&#x32;&#x40;&#x71;&#x71;&#x2e;&#99;&#111;&#109;">&#x34;&#57;&#x39;&#x39;&#56;&#x34;&#x35;&#x33;&#x32;&#x40;&#x71;&#x71;&#x2e;&#99;&#111;&#109;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
            <tag> 历史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月25日</title>
      <link href="2020/08/25/2020-08-25-2/"/>
      <url>2020/08/25/2020-08-25-2/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/nhkimage/2020.08.25.png#alt=example"></p><p>① 昨日は東京の夜空で花火が上がり、早く感染が終息することを願った。</p><p>② 昨日の東京での感染者数は 95 人、大阪での感染者数は 60 人だった。</p><p>全国での感染者数は 493 人であった。来月末までにイベント参加上限を 5000 人以内に設定。</p><p>③ 月初めに座礁したクルーズ船の重油が急速に拡散し、</p><p>現地の環境に深刻な被害をもたらした。海洋生物にも大きな影響を与えている。</p><p>④ コロナ病室の医師と他の病室の医师の仕事区域を离れて、</p><p>招いたコロナ病室の医師が孤独を感じて、抑圧している。</p><p>コロナ病室の医師が同僚に排斥された。</p><p>現在の対策はこれらの看護師に対する心理的ケアを与えている。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 座礁 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的分类磁铁</title>
      <link href="2020/08/24/2020-08-24-2/"/>
      <url>2020/08/24/2020-08-24-2/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/magnet.png#alt=example"></p><p>灵感来源于原生主题的 gallery 以及在其他主题见到过的分类列表。</p><p>考虑到部分小伙伴的 tag 比较多，因此用 categories 为标准进行分类。</p><p>这里用到了 hexo 主题自带的帮助函数 list_categories()。帮助函数的作用在于能够自动帮你生成一些信息。</p><p>笔者对于函数及 function 的研究，还不透彻，导致无法完全自动生成。</p><p>能力有限，如果有写的很蠢的地方请见谅。</p><p>废话不多说了，开始教学。</p><hr><h2 id="步骤-1：修改-pug-代码"><a href="#步骤-1：修改-pug-代码" class="headerlink" title="步骤 1：修改 pug 代码"></a>步骤 1：修改 pug 代码</h2><h3 id="替换代码"><a href="#替换代码" class="headerlink" title="替换代码"></a>替换代码</h3><blockquote><p>在开始一切工作之前，先确保你有 6 篇不同 categories 的文章。如果，没有的话需要新建示例文章。</p></blockquote><p>前往”根目录\themes\butterfly\layout”文件夹，将”index.pug”复制并重命名为”index-re.pug”作为备份。</p><p>打开”index.pug”按照以下代码进行修改。修改的起始点为”#recent-posts.recent-posts”终点为”+postUI”。</p><p>你可以直接将以下代码放入进行替换。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">extends includes&#x2F;layout.pug</span><br><span class="line">block content</span><br><span class="line">  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug</span><br><span class="line">  #recent-posts.recent-posts</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;width:100%;height:auto;float:left;padding:5px;flex-wrap:wrap;justify-content : center;flex-direction: row; &#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;listen.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 分类一</span><br><span class="line">       p 分类一描述</span><br><span class="line">       a(href&#x3D;&#39;&#x2F;categories&#x2F;NHK%E5%90%AC%E5%8A%9B%E7%BB%83%E4%B9%A0&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;draw.JPG&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 分类二</span><br><span class="line">       p 分类二描述</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E4%BD%9C%E5%93%81%E9%9B%86&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;study.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 分类三</span><br><span class="line">       p 分类三描述</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E5%AD%A6%E4%B9%A0&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;life.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 分类四</span><br><span class="line">       p 分类四描述</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E6%B8%B8%E6%88%8F%E8%AF%84%E6%B5%8B&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;work.png&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 分类五</span><br><span class="line">       p 分类五描述</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E7%94%9F%E6%B4%BB%E8%B6%A3%E9%97%BB&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;idea.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 分类六</span><br><span class="line">       p 分类六描述</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E9%9A%8F%E6%83%B3&#x2F;&#39;)</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;height:0px;clear:both;margin-top: 0px;&#39;)</span><br><span class="line">    +postUI</span><br><span class="line">    div!&#x3D; list_categories()</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-2：了解修改的-pug-代码结构"><a href="#步骤-2：了解修改的-pug-代码结构" class="headerlink" title="步骤 2：了解修改的 pug 代码结构"></a>步骤 2：了解修改的 pug 代码结构</h2><p>这个代码看上去很长，但其实结构很简单。以下是从第五行开始的结构拆解。</p><h3 id="外框"><a href="#外框" class="headerlink" title="外框"></a>外框</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.recent-post-item(style&#x3D;&#39;width:100%;height:auto;float:left;padding:5px;flex-wrap:wrap;justify-content : center;flex-direction: row; &#39;)</span><br></pre></td></tr></table></figure><p>这个利用了文章底板的样式。并加入了自定义的 style。</p><p>PS：如果磁贴分类不在顶部，如<a href="http://zfe.space/"> 我的博客 </a> 有 calendar 的情况。请在”  .recent-post-item(style=’  “后加入”margin-top: 20px;”</p><h3 id="单一分类"><a href="#单一分类" class="headerlink" title="单一分类"></a>单一分类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;listen.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 分类一</span><br><span class="line">       p 分类一描述</span><br><span class="line">       a(href&#x3D;&#39;&#x2F;categories&#x2F;NHK%E5%90%AC%E5%8A%9B%E7%BB%83%E4%B9%A0&#x2F;&#39;)</span><br></pre></td></tr></table></figure><p>这个利用了 gallery 的样式。你可以更改以下部分：</p><p>① 分类图片：src=’/images/listen.jpg’</p><p>② 分类名称：分类一（尽量控制在 4 个字以内，不然手机自适应会受影响）</p><p>③ 分类描述：分类一描述（尽量控制在 6 个字以内，不然手机自适应会受影响）</p><p>④ 分类链接：href=’/categories/NHK%E5%90%AC%E5%8A%9B%E7%BB%83%E4%B9%A0/‘</p><p>PS：需使用 <a href="http://tool.chinaz.com/tools/urlencode.aspx"> UL 编码转换工具 </a> 将中文分类转换为对应链接编码</p><p>最好分类的数量为 3 的倍数，这样自适应不会出问题，推荐 6 个。</p><h3 id="生成文章"><a href="#生成文章" class="headerlink" title="生成文章"></a>生成文章</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+postUI</span><br></pre></td></tr></table></figure><p>这个是生成文章的部分，就不用解释了。</p><h3 id="生成分类列表"><a href="#生成分类列表" class="headerlink" title="生成分类列表"></a>生成分类列表</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div!&#x3D; list_categories()</span><br></pre></td></tr></table></figure><p>这里用到了 hexo 主题自带的帮助函数 list_categories()。</p><h3 id="生成效果"><a href="#生成效果" class="headerlink" title="生成效果"></a>生成效果</h3><p>“hexo g”生成页面,在本地”hexo s”打开页面，将页面底端的分类信息截图记下。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/magnet1.png#alt=example"></p><p><img src= "/img/loading.gif" data-lazy-src="/images/magnet2.png#alt=example"></p><hr><h2 id="步骤-3：修改-pug-代码自定义信息"><a href="#步骤-3：修改-pug-代码自定义信息" class="headerlink" title="步骤 3：修改 pug 代码自定义信息"></a>步骤 3：修改 pug 代码自定义信息</h2><p>按照<strong>上一步的截图信息</strong>依次向”index-re.pug”的单一分类代码块部分填入自定义信息。</p><p>以我的分类为例子，我的分类顺序为听力练习、作品集、学习教程、游戏评测、生活趣闻、随想。</p><p>我的代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">extends includes&#x2F;layout.pug</span><br><span class="line">block content</span><br><span class="line">  include .&#x2F;includes&#x2F;mixins&#x2F;post-ui.pug</span><br><span class="line">  #recent-posts.recent-posts</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;width:100%;height:auto;float:left;padding:5px;flex-wrap:wrap;justify-content : center;flex-direction: row; &#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;listen.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 听力练习</span><br><span class="line">       p 我是分类一</span><br><span class="line">       a(href&#x3D;&#39;&#x2F;categories&#x2F;NHK%E5%90%AC%E5%8A%9B%E7%BB%83%E4%B9%A0&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;draw.JPG&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 作品集</span><br><span class="line">       p 我是分类二</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E4%BD%9C%E5%93%81%E9%9B%86&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;study.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 学习教程</span><br><span class="line">       p 我是分类三</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E5%AD%A6%E4%B9%A0&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;life.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 游戏评测</span><br><span class="line">       p 我是分类四</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E6%B8%B8%E6%88%8F%E8%AF%84%E6%B5%8B&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;work.png&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 生活趣闻</span><br><span class="line">       p 我是分类五</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E7%94%9F%E6%B4%BB%E8%B6%A3%E9%97%BB&#x2F;&#39;)</span><br><span class="line">     figure.gallery-group#color-card</span><br><span class="line">      img.gallery-group-img.loaded(src&#x3D;&#39;&#x2F;images&#x2F;idea.jpg&#39;, data-ll-status&#x3D;&#39;loaded&#39;)</span><br><span class="line">      figcaption(style&#x3D;&#39;background-image: linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%&#39;)</span><br><span class="line">       .gallery-group-name(style&#x3D;&#39;font-size: 1rem;&#39;) | 随想</span><br><span class="line">       p 我是分类六</span><br><span class="line">       a(href&#x3D;&#39;categories&#x2F;%E9%9A%8F%E6%83%B3&#x2F;&#39;)</span><br><span class="line">    .recent-post-item(style&#x3D;&#39;height:0px;clear:both;margin-top: 0px;&#39;)</span><br><span class="line">    +postUI</span><br><span class="line">    div!&#x3D; list_categories()</span><br><span class="line">    include includes&#x2F;pagination.pug</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-4：编写-CSS-样式代码"><a href="#步骤-4：编写-CSS-样式代码" class="headerlink" title="步骤 4：编写 CSS 样式代码"></a>步骤 4：编写 CSS 样式代码</h2><h3 id="向-styl-里添加代码"><a href="#向-styl-里添加代码" class="headerlink" title="向 styl 里添加代码"></a>向 styl 里添加代码</h3><p>因为在调试过程中出现了 bug，且尚未解决，所以需要将以下代码加入到 style 里。</p><p>前往”博客根目录\themes\butterfly\source\css_layout”打开”third-party.styl”</p><p>提示：这里最好不要备份，备份的话不要放在 css 目录下（你可以复制一份到桌面）。</p><p>在末尾处填写以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#color-card</span></span><br><span class="line">  <span class="selector-tag">width</span><span class="selector-pseudo">:32</span>%</span><br><span class="line">  <span class="selector-tag">height</span>: 180<span class="selector-tag">px</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">650px</span>)</span><br><span class="line"> #color-card</span><br><span class="line">  <span class="attribute">width:</span> <span class="number">47%</span></span><br><span class="line">  <span class="attribute">height:</span> <span class="number">150px</span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="/images/magnet3.png#alt=example"></p><p>这部分代码控制自适应，你会发现磁贴的大小发生了变化。</p><h3 id="添加自定义-css-代码文件"><a href="#添加自定义-css-代码文件" class="headerlink" title="添加自定义 css 代码文件"></a>添加自定义 css 代码文件</h3><p>在 hexo 根目录”source”文件夹下新建”magnetcss”文件夹，在”\source\magnetcss”路径下新建”magnet.css”</p><p>填入以下代码后保存。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.category-list-count</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot; 篇&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fa-book</span> &#123;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list-count</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-5：接入-CSS-样式和-JS-代码"><a href="#步骤-5：接入-CSS-样式和-JS-代码" class="headerlink" title="步骤 5：接入 CSS 样式和 JS 代码"></a>步骤 5：接入 CSS 样式和 JS 代码</h2><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/magnetcss/magnet.css&quot;/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">$(&quot;.category-list-count&quot;).prepend(&quot;&lt;i</span> <span class="string">class=\&quot;fas</span> <span class="string">fa-book\&quot;&gt;&lt;/i&gt;&quot;);&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">$(&quot;.category-list-item&quot;).eq(0).insertAfter($(&quot;.gallery-group-name&quot;).eq(0))&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">$(&quot;.category-list-item&quot;).eq(1).insertAfter($(&quot;.gallery-group-name&quot;).eq(1))&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">$(&quot;.category-list-item&quot;).eq(2).insertAfter($(&quot;.gallery-group-name&quot;).eq(2))&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">$(&quot;.category-list-item&quot;).eq(3).insertAfter($(&quot;.gallery-group-name&quot;).eq(3))&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">$(&quot;.category-list-item&quot;).eq(4).insertAfter($(&quot;.gallery-group-name&quot;).eq(4))&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">$(&quot;.category-list-item&quot;).eq(5).insertAfter($(&quot;.gallery-group-name&quot;).eq(5))&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;</span> <span class="string">$(&quot;.category-list-item</span> <span class="string">a&quot;).hide();&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>你会发现磁贴内的文字发生了变化，同时底部的列表消失。</p><p>加入新的分类也很简单，按照递增规律加就行。</p><p>效果如下图。</p><p><img src= "/img/loading.gif" data-lazy-src="/images/magnet4.png#alt=example"></p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>添加新分类后，分类排序可能出现变化，请对应修改。</p><p>若有问题请与我邮件联系<a href="mailto:&#52;&#57;&#57;&#57;&#56;&#52;&#53;&#51;&#x32;&#x40;&#x71;&#113;&#46;&#99;&#111;&#109;">&#52;&#57;&#57;&#57;&#56;&#52;&#53;&#51;&#x32;&#x40;&#x71;&#113;&#46;&#99;&#111;&#109;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
            <tag> Butterfly主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月24日</title>
      <link href="2020/08/24/2020-08-24-1/"/>
      <url>2020/08/24/2020-08-24-1/</url>
      
        <content type="html"><![CDATA[<p>① 人々の距離を置いて音楽イベントを開催するため、</p><p>観客はイベント参加時に自分の車内で応援する。</p><p>スマートフォンで食事を予約したら、</p><p>スタッフが配達する。</p><p>吹奏楽大会はステージパフォーマンスの形式で開催する。</p><p>② 昨日の全国感染者数は 745 人、東京感染者数は 212 人、大阪感染者数は 121 人だった。</p><p>家庭での感染は厳重であり、高齢者への感染は避ける必要がある。</p><p>③ 日本での振替手数料は四十年近く変わらない。</p><p>現在、政府は振替手数料を削減し、</p><p>地方金融機関と携帯アプリを組み合わせて最適化している。</p><p>④ 東京オリンピックの延期で主に解決すべき課題には：</p><p>1.詳細な感染対策、基礎疾患及びハイリスク重症の選手に検討する。</p><p>2.代表選考では、ほとんどの競技会の中止と延期がある。</p><p>3.支援の継続は、専用体育館を病床とし、スポンサーの協賛を削減する。</p><p>⑤ 日本国内の航空便数が来月に減るのは、営業赤字と人の流れをコントロールするためだ。</p><p>しかし、飛行機の便が減ったことで、乗客の悩みはさらに大きくなった。</p><p>⑥yahoo Japan によると、昨年 2 億 3000 万件の広告が社内規範に適合しなかった。</p><p>肌が露出している画像は「ユーザに不快感を」が 17%、</p><p>明確な根拠が示されていないことは「誇大表示」が 14%、</p><p>医療機関の広告所在地が海外で住所不詳が 5%。</p><p>⑦ 最新のデジタル技術で院内感染を予防する。</p><p>スマートフォンと連携できるマスクを開発した。</p><p>話していることをマスクで音声認識して携帯電話に伝えることで,</p><p>安全距離が離れすぎてお互いが聞き取れないという問題を解決した。</p><p>来年初めに発売する。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
            <tag> 奥运会 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：利用Windows Terminal制作方便快捷的hexo-PowerShell</title>
      <link href="2020/08/23/2020-08-23-2/"/>
      <url>2020/08/23/2020-08-23-2/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/WindowsTerminal.png#alt=example"></p><p>每次在使用 hexo 时，总需要 CD 到博客目录下或者前往博客目录打开 PowerShell。</p><p>每次写博客都要这样操作，显得十分繁琐。</p><p>同时，每次看到丑陋的 PowerShell 界面，总提不起写作的兴趣。</p><p>这可不是拖更博客的理由哈哈哈，说白了还是懒。</p><p>为了解决这一痛点，我研究了 Windows Terminal，</p><p>利用 Windows Terminal 的设置美化了界面，</p><p>实现了直接打开 PowerShell 以 hexo 目录进行操作。</p><p>废话不多说，让我来教大家如何安装和设置吧。</p><hr><h2 id="步骤-1：下载-amp-安装-Windows-Terminal"><a href="#步骤-1：下载-amp-安装-Windows-Terminal" class="headerlink" title="步骤 1：下载&amp;安装 Windows Terminal"></a>步骤 1：下载&amp;安装 Windows Terminal</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/anzhuang.jpg#alt=example"></p><blockquote><p>必须运行 Windows 1903 (build &gt;= 10.0.18362.0)或更高版本才能运行 Windows 终端</p></blockquote><p>首先需要解决的是你的系统环境问题。如果你有经常升级系统的话，这个问题就不会给你造成影响。<br>如果你的 Windows 版本不够的话，可以使用<a href="https://www.microsoft.com/zh-cn/software-download/windows10">windows 易升</a>进行升级，这里不进行赘述。<br>打开你的 windows 应用商店（Microsoft Store）搜索 Windows Terminal 进行下载&amp;安装。</p><p>安装完成后，在”C:\Program Files\WindowsApps\Microsoft.WindowsTerminal_版本号_x64__xxxxxxxx”目录下,打开”WindowsTerminal.exe”即可打开软件。</p><p>右键创建快捷方式到桌面，或固定到任务栏中。</p><hr><h2 id="步骤-2：下载-amp-安装-PowerShell-Core"><a href="#步骤-2：下载-amp-安装-PowerShell-Core" class="headerlink" title="步骤 2：下载&amp;安装 PowerShell Core"></a>步骤 2：下载&amp;安装 PowerShell Core</h2><p>为了获取更佳的 PowerShell 体验，需下载 PowerShell core 版本。<br>你可以<a href="https://github.com/PowerShell/PowerShell/releases/download/v7.1.0-preview.6/PowerShell-7.1.0-preview.6-win-x64.msi">点击直接下载</a>。<br>你也可以<a href="https://github.com/PowerShell/PowerShell/releases">前往 github 查看最新版本</a>，并下载。<br>安装完成后，在”C:\Program Files\PowerShell\7-preview”目录下,打开”pwsh.exe”即可打开软件。</p><hr><p><a href="https://zhuanlan.zhihu.com/p/137595941">《Windows Terminal 完美配置 PowerShell 7.1》</a></p><h2 id="步骤-3：配置-PowerShell-Core"><a href="#步骤-3：配置-PowerShell-Core" class="headerlink" title="步骤 3：配置 PowerShell Core"></a>步骤 3：配置 PowerShell Core</h2><h3 id="①-安装-powershell-插件"><a href="#①-安装-powershell-插件" class="headerlink" title="① 安装 powershell 插件"></a>① 安装 powershell 插件</h3><p>打开刚装好的新版 powershell，逐行输入以下三行命令，等待安装（可能会有点慢）。</p><p>后面两个包的来源可能不受系统信任，不用管它，如果让你选择是否信任，直接输入 Y 即可。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> PSReadLine <span class="literal">-AllowPrerelease</span> <span class="literal">-Force</span></span><br><span class="line"><span class="built_in">Install-Module</span> posh<span class="literal">-git</span> <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"><span class="built_in">Install-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span> <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 安装 PSReadline 包，该插件可以让命令行很好用</span></span><br><span class="line"><span class="comment"># 2. 安装 posh-git 包，让你的 git 更好用</span></span><br><span class="line"><span class="comment"># 3. 安装 oh-my-posh 包，让你的命令行更酷炫、优雅</span></span><br></pre></td></tr></table></figure><h3 id="②-设置-powershell-启动参数"><a href="#②-设置-powershell-启动参数" class="headerlink" title="② 设置 powershell 启动参数"></a>② 设置 powershell 启动参数</h3><p>添加 Powershell 启动参数。在 powershell 中输入：<br>紧接着在弹出的页面中输入下面这一长串代码，保存并关闭。<br>#——————————- Import Modules BEGIN ——————————-</p><h1 id="引入-posh-git"><a href="#引入-posh-git" class="headerlink" title="引入 posh-git"></a>引入 posh-git</h1><p>Import-Module posh-git</p><h1 id="引入-oh-my-posh"><a href="#引入-oh-my-posh" class="headerlink" title="引入 oh-my-posh"></a>引入 oh-my-posh</h1><p>Import-Module oh-my-posh</p><h1 id="设置-PowerShell-主题"><a href="#设置-PowerShell-主题" class="headerlink" title="设置 PowerShell 主题"></a>设置 PowerShell 主题</h1><p>Set-Theme Paradox</p><p>#——————————- Import Modules END   ——————————-</p><p>#——————————-  Set Hot-keys BEGIN  ——————————-</p><h1 id="设置-Tab-键补全"><a href="#设置-Tab-键补全" class="headerlink" title="设置 Tab 键补全"></a>设置 Tab 键补全</h1><h1 id="Set-PSReadlineKeyHandler-Key-Tab-Function-Complete"><a href="#Set-PSReadlineKeyHandler-Key-Tab-Function-Complete" class="headerlink" title="Set-PSReadlineKeyHandler -Key Tab -Function Complete"></a>Set-PSReadlineKeyHandler -Key Tab -Function Complete</h1><h1 id="设置-Ctrl-d-为菜单补全和-Intellisense"><a href="#设置-Ctrl-d-为菜单补全和-Intellisense" class="headerlink" title="设置 Ctrl+d 为菜单补全和 Intellisense"></a>设置 Ctrl+d 为菜单补全和 Intellisense</h1><p>Set-PSReadLineKeyHandler -Key “Tab” -Function MenuComplete</p><h1 id="设置-Ctrl-d-为退出-PowerShell"><a href="#设置-Ctrl-d-为退出-PowerShell" class="headerlink" title="设置 Ctrl+d 为退出 PowerShell"></a>设置 Ctrl+d 为退出 PowerShell</h1><p>Set-PSReadlineKeyHandler -Key “Ctrl+d” -Function ViExit</p><h1 id="设置-Ctrl-z-为撤销"><a href="#设置-Ctrl-z-为撤销" class="headerlink" title="设置 Ctrl+z 为撤销"></a>设置 Ctrl+z 为撤销</h1><p>Set-PSReadLineKeyHandler -Key “Ctrl+z” -Function Undo</p><h1 id="设置向上键为后向搜索历史记录"><a href="#设置向上键为后向搜索历史记录" class="headerlink" title="设置向上键为后向搜索历史记录"></a>设置向上键为后向搜索历史记录</h1><p>Set-PSReadLineKeyHandler -Key UpArrow -Function HistorySearchBackward</p><h1 id="设置向下键为前向搜索历史纪录"><a href="#设置向下键为前向搜索历史纪录" class="headerlink" title="设置向下键为前向搜索历史纪录"></a>设置向下键为前向搜索历史纪录</h1><p>Set-PSReadLineKeyHandler -Key DownArrow -Function HistorySearchForward</p><p>#——————————-  Set Hot-keys END    ——————————-</p><p>#——————————-    Functions BEGIN   ——————————-</p><h1 id="Python-直接执行"><a href="#Python-直接执行" class="headerlink" title="Python 直接执行"></a>Python 直接执行</h1><p>$env:PATHEXT += “;.py”</p><h1 id="更新-pip-的方法"><a href="#更新-pip-的方法" class="headerlink" title="更新 pip 的方法"></a>更新 pip 的方法</h1><p>function Update-Packages {</p><h1 id="update-pip"><a href="#update-pip" class="headerlink" title="update pip"></a>update pip</h1><p>Write-Host “Step 1: 更新 pip” -ForegroundColor Magenta -BackgroundColor Cyan</p><p>$a = pip list –outdated</p><p>$num_package = <img src= "/img/loading.gif" data-lazy-src="https://g.yuque.com/gr/latex?a.Length%20-%202%0A%20%20%20%20for%20(#card=math&code=a.Length%20-%202%0A%20%20%20%20for%20%28">i = 0; $i -lt $num_package; $i++) {</p><p><img src= "/img/loading.gif" data-lazy-src="https://g.yuque.com/gr/latex?tmp%20=%20(#card=math&code=tmp%20%3D%20%28">a[2 + $i].Split(“ “))[0]</p><p>pip install -U $tmp</p><p>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># update TeX Live</span><br><span class="line">$CurrentYear &#x3D; Get-Date -Format yyyy</span><br><span class="line">Write-Host &quot;Step 2: 更新 TeX Live&quot; $CurrentYear -ForegroundColor Magenta -BackgroundColor Cyan</span><br><span class="line">tlmgr update --self</span><br><span class="line">tlmgr update --all</span><br></pre></td></tr></table></figure><p>}</p><p>#——————————-    Functions END     ——————————-</p><p>#——————————-   Set Alias Begin    ——————————-</p><h1 id="1-编译函数-make"><a href="#1-编译函数-make" class="headerlink" title="1. 编译函数 make"></a>1. 编译函数 make</h1><p>function MakeThings {</p><p>nmake.exe $args -nologo</p><p>}</p><p>Set-Alias -Name make -Value MakeThings</p><h1 id="2-更新系统-os-update"><a href="#2-更新系统-os-update" class="headerlink" title="2. 更新系统 os-update"></a>2. 更新系统 os-update</h1><p>Set-Alias -Name os-update -Value Update-Packages</p><h1 id="3-查看目录-ls-amp-ll"><a href="#3-查看目录-ls-amp-ll" class="headerlink" title="3. 查看目录 ls &amp; ll"></a>3. 查看目录 ls &amp; ll</h1><p>function ListDirectory {</p><p>(Get-ChildItem).Name</p><p>Write-Host(“”)</p><p>}</p><p>Set-Alias -Name ls -Value ListDirectory</p><p>Set-Alias -Name ll -Value Get-ChildItem</p><p>#——————————-    Set Alias END     ——————————-</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;hr&gt;&lt;&#x2F;hr&gt;</span><br><span class="line"></span><br><span class="line">## 步骤4：配置 Windows Terminal ##</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> ### ①安装代码美化字体 ###</span><br><span class="line"></span><br><span class="line"> &lt;p&gt;首先在系统安装字体，&lt;a target&#x3D;&quot;_blank&quot; href&#x3D;&quot;https:&#x2F;&#x2F;zhuanlan.zhihu.com&#x2F;p&#x2F;137595941&quot;&gt;单击此处从 GitHub 下载&lt;&#x2F;a&gt;。&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line"> ### ②设置Windows Terminal参数 ###</span><br><span class="line"></span><br><span class="line">![example](&#x2F;images&#x2F;shezhi.png)</span><br><span class="line"></span><br><span class="line">&lt;p&gt;点击设置会弹出一个json文档，用txt打开。&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt; 主要修改的设置如下：&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line"> &#96;&#96;&#96;json</span><br><span class="line"> &#123;</span><br><span class="line">   &quot;$schema&quot;: &quot;https:&#x2F;&#x2F;aka.ms&#x2F;terminal-profiles-schema&quot;,</span><br><span class="line">   &quot;defaultProfile&quot;: &quot;&#123;9351e826-f1e7-4d53-b1bb-587cf839bd08&#125;&quot;,  &#x2F;&#x2F; 这里设置为hexo的GUID，则默认打开hexo</span><br><span class="line">   &quot;copyOnSelect&quot;: false,</span><br><span class="line">   &quot;copyFormatting&quot;: false,</span><br><span class="line">   &quot;profiles&quot;:</span><br><span class="line">   &#123;</span><br><span class="line">       &quot;defaults&quot;:</span><br><span class="line">       &#123;       &quot;fontFace&quot;: &quot;Fira Code&quot;,  &#x2F;&#x2F; 这里设置字体</span><br><span class="line">               &quot;useAcrylic&quot;:false,          &#x2F;&#x2F; 这里关掉亚克力效果才能使用背景图片</span><br><span class="line">               &quot;backgroundImage&quot; : &quot;ms-appdata:&#x2F;&#x2F;&#x2F;roaming&#x2F;alex-nice-futuristic-city-alexnice.jpg&quot;,  &#x2F;&#x2F; 这里是背景图片</span><br><span class="line">               &quot;backgroundImageOpacity&quot; : 0.2,      &#x2F;&#x2F; 这里设置透明度</span><br><span class="line">       &#125;,</span><br><span class="line">       &quot;list&quot;:</span><br><span class="line">       [</span><br><span class="line">           &#123;    &#x2F;&#x2F; 这里是系统自带的Windows PowerShell</span><br><span class="line">               &quot;guid&quot;: &quot;&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;&quot;,</span><br><span class="line">               &quot;name&quot;: &quot;Windows PowerShell&quot;,</span><br><span class="line">               &quot;commandline&quot;: &quot;powershell.exe&quot;,</span><br><span class="line">               &quot;hidden&quot;: true,&#x2F;&#x2F; 设置隐藏</span><br><span class="line">           &#125;,</span><br><span class="line">           &#123;    &#x2F;&#x2F; 这里是我们用的hexo-PowerShell</span><br><span class="line">               &quot;icon&quot;: &quot;ms-appdata:&#x2F;&#x2F;&#x2F;roaming&#x2F;hexo.png&quot;,   &#x2F;&#x2F; 设置icon</span><br><span class="line">               &quot;guid&quot;: &quot;&#123;9351e826-f1e7-4d53-b1bb-587cf839bd08&#125;&quot;,  &#x2F;&#x2F; 设置GUID</span><br><span class="line">               &quot;name&quot;: &quot;hexo&quot;,   &#x2F;&#x2F; 设置名称</span><br><span class="line">               &quot;commandline&quot;: &quot;C:&#x2F;Program Files&#x2F;PowerShell&#x2F;7-preview&#x2F;pwsh.exe -nologo&quot;,  &#x2F;&#x2F; 设置程序地址，&quot;-nologo&quot;去除广告标题</span><br><span class="line">               &quot;hidden&quot;: false,</span><br><span class="line">               &quot;startingDirectory&quot;: &quot;d:\\myblog\\&quot; &#x2F;&#x2F; 设置根目录地址，可以学我放D盘省事</span><br><span class="line">           &#125;,</span><br><span class="line">           &#123;&#x2F;&#x2F; 这里是命令提示符</span><br><span class="line">               &quot;guid&quot;: &quot;&#123;0caa0dad-35be-5f56-a8ff-afceeeaa6101&#125;&quot;,</span><br><span class="line">               &quot;name&quot;: &quot;命令提示符&quot;,</span><br><span class="line">               &quot;commandline&quot;: &quot;cmd.exe&quot;,</span><br><span class="line">               &quot;hidden&quot;: false</span><br><span class="line">           &#125;,</span><br><span class="line">           &#123;&#x2F;&#x2F;  &quot;Azure Cloud Shell&quot;</span><br><span class="line">               &quot;guid&quot;: &quot;&#123;b453ae62-4e3d-5e58-b989-0a998ec441b8&#125;&quot;,</span><br><span class="line">               &quot;hidden&quot;: true,&#x2F;&#x2F; 设置隐藏</span><br><span class="line">               &quot;name&quot;: &quot;Azure Cloud Shell&quot;,</span><br><span class="line">               &quot;source&quot;: &quot;Windows.Terminal.Azure&quot;</span><br><span class="line">           &#125;,</span><br><span class="line">           &#123;  &#x2F;&#x2F; 这里是安装的 PowerShell Core</span><br><span class="line">               &quot;guid&quot;: &quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;,</span><br><span class="line">               &quot;hidden&quot;: false,</span><br><span class="line">               &quot;name&quot;: &quot;PowerShell&quot;,</span><br><span class="line">               &quot;commandline&quot;: &quot;C:&#x2F;Program Files&#x2F;PowerShell&#x2F;7-preview&#x2F;pwsh.exe -nologo&quot;, &#x2F;&#x2F; &quot;-nologo&quot;去除广告标题</span><br><span class="line">               &quot;source&quot;: &quot;Windows.Terminal.PowershellCore&quot;</span><br><span class="line">           &#125;</span><br><span class="line">       ]</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure><p>ps：图片请存放于”C:\Users\用户名\AppData\Local\Packages\Microsoft.WindowsTerminal_xxxxxxxx\RoamingState”里。<br><a href="/images/hexo.png">hexo icon 下载</a><br>这里的原理是将具有 hexo 初始路径的 PowerShell 程序作为默认打开窗口，当打开 Windows Terminal 即可直接进行 hexo 操作。<br>通过输入以下代码可打开博客目录：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> .</span><br></pre></td></tr></table></figure><p>你也可以根据你的实际编码需求修改”defaultProfile”的 GUID。<br>GUID 唯一且不能重复，可以通过<a href="https://www.jisuan.mobi/p66NzBNNb3ub1SiJ.html">这个网站</a>随机生成替换。</p><h3 id="③-设置-Windows-Terminal-右键扩展"><a href="#③-设置-Windows-Terminal-右键扩展" class="headerlink" title="③ 设置 Windows Terminal 右键扩展"></a>③ 设置 Windows Terminal 右键扩展</h3><p><a href="https://github.com/LittleNewton/Open_Windows_Terminal_Here">点击下载脚本</a>，将脚本解压某个盘的根目录。如”d:”。</p><p>右键以<strong>管理员模式</strong>运行”C:\Program Files\PowerShell\7-preview”目录下的”pwsh.exe”，并依次输入以下命令：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以管理员模式运行</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">CD</span> D:\Open_Windows_Terminal_Here<span class="literal">-master</span>\Open_Windows_Terminal_Here<span class="literal">-master</span>\src</span><br><span class="line"><span class="comment"># 转到脚本目录</span></span><br><span class="line"></span><br><span class="line">.\install.ps1</span><br><span class="line"><span class="comment"># 安装脚本</span></span><br></pre></td></tr></table></figure><p>ps：如果你修改了 profile，那么需要用 uninstall.ps1 脚本先清除右键菜单，然后重新 install 一遍。</p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/WindowsTerminal.png#alt=example"></p><p>享受全新的编码体验吧！</p><p>若有问题请与我邮件联系<a href="mailto:&#52;&#x39;&#x39;&#57;&#x38;&#52;&#53;&#x33;&#x32;&#64;&#113;&#x71;&#46;&#x63;&#x6f;&#109;">&#52;&#x39;&#x39;&#57;&#x38;&#52;&#53;&#x33;&#x32;&#64;&#113;&#x71;&#46;&#x63;&#x6f;&#109;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月23日</title>
      <link href="2020/08/23/2020-08-23-1/"/>
      <url>2020/08/23/2020-08-23-1/</url>
      
        <content type="html"><![CDATA[<p>① 日本は最近大気の状態が不安定だ。きのう長野で男女が雷に打たれた。</p><p>②ASL 患者は病気と闘って、生きようとする意欲がある。</p><p>当初はアイカメラで文字を選ぶ方式で会話をしていたが、</p><p>症状が悪化してからは質問で推測するようになった。</p><p>③ 昨日の全国の感染者数は 984 人、東京の感染者数は 256 人、大阪の感染者数は 134 人だった。</p><p>④kidsline はベビーシッターのわいせつ事件に対して,</p><p>女性ベビーシッターだけを限定して仕事に参加できる対策を提案した。</p><p>男性のベビーシッターは不公平さを感じ,この意思決定に失望した。</p><p>また,被害者の家族も,人気のある男性のベビーシッターにとっては残念であり,</p><p>このような意思決定は根本的な問題を解決するものではないと考える。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 舆论 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月22日</title>
      <link href="2020/08/22/2020-08-22/"/>
      <url>2020/08/22/2020-08-22/</url>
      
        <content type="html"><![CDATA[<p>①21 日午後 10 時半、日本各地の上空に光の玉が目立った。</p><p>② 熱中症は依然として、主にエアコンを使わない老人が亡くなった。</p><p>③ 多摩美術大学の堀内正弘教授は、日本の各公園の日照地域と日陰地域の温度、湿度を測定し、</p><p>インターネット上で市民に公開している。</p><p>Link：<a href="https://urbanecology.jp/ht/20090803-fw/">https://urbanecology.jp/ht/20090803-fw/</a></p><p>④【Go To Travel】一ヶ月の効果:</p><p>和歌山の白浜町の海辺のホテルはお盆の間はほぼ満員だった。</p><p>しかし、東京は除外の影響で東京地区のホテルは不景気だ。</p><p>イベントに参加していない人は当地域に感染リスクを増加させないで、収入が大幅に減少した。</p><p>⑤ ワクチン対策:医療従事者や高齢者が優先的に接種する。</p><p>⑥ 工場にとって、大きな挑戦に直面した。</p><p>縫製工場で防護服の生産を開始。</p><p>工場長の嬢の助けを借りて、インターネットを通じて宣伝する。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月21日</title>
      <link href="2020/08/21/2020-08-21/"/>
      <url>2020/08/21/2020-08-21/</url>
      
        <content type="html"><![CDATA[<p>① 九州~東北の気温は上升傾向にある。</p><p>② 昨日、全国で 1185 人、東京 339 人、大阪 132 人が感染した。</p><p>感染の影響で、新干線の利用率は去年の同じ時期の 24%、航空の利用率は去年の 35%だ。</p><p>③「Go To Travel」せいさくの影響で、お盆期間中の携帯電話の信号データから推定すると、奥日光、中禅寺湖周辺の人数は去年の 4 倍になる。</p><p>④ バイデン氏は民主党の指名を受けて演説した。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 民生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月20日</title>
      <link href="2020/08/20/2020-08-20/"/>
      <url>2020/08/20/2020-08-20/</url>
      
        <content type="html"><![CDATA[<p>① 都内の熱中症死亡者数は 100 人を超える。エアコンを使わないことが死亡の主な原因だ。</p><p>70 歳を超える独居老人はエアコンを使わない確率が 18.2%に上る。</p><p>このため、東京の柏江市は高齢者のエアコン購入に最高 5 万円を補助する政策を進めている。</p><p>② 感染症学会で開かれた会議では、第二次流行に直面していると指摘されている。</p><p>大阪の新規感染者数が東京を上回った。</p><p>西村経済再生相は、第 2 波かどうかは定義していないという。</p><p>昨日の全国の感染者数は 1072 人、東京の感染者数は 186 人、大阪の感染者数は 187 人だった。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月19日</title>
      <link href="2020/08/19/2020-08-19-2/"/>
      <url>2020/08/19/2020-08-19-2/</url>
      
        <content type="html"><![CDATA[<p>① 日本は座礁事件に 2 回目の専門家を派遣した。座礁事故に対応して,日本の企業は新規油吸着材を提供した。</p><p>②8 月 10 日~8 月 16 日、全国で熱中症で病院に運ばれた人は 1 万 2804 人に達した。先週の 2 倍だ。</p><p>③ 昨日、全国で 918 人、大阪は 185 人、東京 207 人が新たに感染した。大阪では重症者数が増加し,感染拡大傾向にある。</p><p>④ アメリカの民主党は正式にバイデンを大統領候補に選出した。民主党の政策綱領には,新冠対策の強化と地球温暖化への積極的な対応策が盛り込まれている。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 国外政事 </tag>
            
            <tag> 座礁 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Roguelite与弹幕射击？《Chunker Demo》简评</title>
      <link href="2020/08/19/2020-08-19-1/"/>
      <url>2020/08/19/2020-08-19-1/</url>
      
        <content type="html"><![CDATA[<h1 id="序章：关于我转生变成“Chunker”这档事"><a href="#序章：关于我转生变成“Chunker”这档事" class="headerlink" title="序章：关于我转生变成“Chunker”这档事"></a>序章：关于我转生变成“Chunker”这档事</h1><p>我是谁？我在哪？我要做什么？似乎一切来得让人觉得过于仓促。还没等我反应过来，我已经来到了漆黑的下水道中，化身为一只蓝色的“Chunker”。我不禁开始怀疑，在跌落到下水道之前我是不是跳过什么重要的剧情。我带着疑问重启了游戏，观看了那个由于我手抖跳过的剧情介绍。<br><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/0aacfaad2fda4213b7ae3729d528742e?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>“貌似在哪见过同样的剧情。”在这个游戏里，你扮演的不是正常的人，而是被称为“Chunker”的突变体，是贪婪的人类进行永生、军事、战争等生物研究实验后被废弃的产物。“Chunker”不仅要面对猎人的追猎，还要在弱肉强食的下水道怪物生态中站上食物链的顶端。而“Chunker”能做的，只有不断操作触手，杀死那些想置你于死地的敌人，寻找自己作为生命存在的意义。<br><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/32e6c46b4fb443cd9da92e6f69f2e6b1?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>想必游戏的制作者一定是个《虐杀原形》的忠实玩家，才构建了这种反英雄题材追求自我救赎的世界观。阴暗的题材，“肉感十足”的画风，让游戏一开始就抓住了玩家的眼球。游戏采用了照顾手残玩家的 roguelite 玩法，使玩家辛苦获得的道具不会全部消失。近年来，弹幕射击被广泛运用于 rog 游戏中，华丽而密集的弹幕，不仅增加了游戏的难度，也使游戏的画面更具“爽感”。“Chunker”游戏很好地将暗黑游戏风格、roguelite、弹幕射击进行了结合，展现了其独具一格的魅力。<br><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/91f64c4ae70842199defd287ceaf55e9?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"></p><h1 id="第二章：从零开始的下水道生活"><a href="#第二章：从零开始的下水道生活" class="headerlink" title="第二章：从零开始的下水道生活"></a>第二章：从零开始的下水道生活</h1><p>游戏的操作界面并不复杂，生命、技能栏、背包等主要功能一目了然。甚至从教学关卡的美术细节上，就可以看出制作组在营造暗黑的游戏风格上下了不少功夫。硕大的下水道管道、散落的废纸、堆积的垃圾、地上的血渍，很好地与游戏昏暗的画面进行了结合。在比特背景音乐的衬托下，恰当地营造了一种阴森恐怖的氛围。游戏的教学关卡将操作绘于地面上，明确地展示了操作的效果。然而，文字的指示信息却不是非常明确。如笔者在学习闪避操作时，本以为是按空格再移动触发闪避，结果人物却并没有移动。实际上，需要玩家在移动过程中按空格才能闪避。在进行教学时，游戏没有很清晰地表述应该怎样操作，因此，制作组在这方面的教学内容细节的完善上还需要多花些心思。<br><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/a5ef693881424c7e93791aa075ce5f1e?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>比较有趣的是，“Chunker”与略带血腥的武器产生的一种反差萌的感觉。角色的小巧身板与具有强烈杀伤效果的攻击形成了鲜明的对比。同时不同的武器的手感也略有不同，攻击间隔、距离、打击效果的不同给玩家带来了不同的打击快感。玩家可以通过游戏内的宝箱开出随机品质的武器，并根据自己的喜好和习惯，结合关卡怪物的攻击特点，选择最适合自己的武器。<br><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/008a9647e9e247d3b764243f8a07cb7f?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>“Chunker”有多种获得属性提升的方法，主要分为关卡属性永久提升和限时 buff 效果。拾取道具时，在提升属性的同时，“Chunker”的形象会发生变化。降低了玩家对角色产生疲劳审美的风险。而 buff 类道具则是旋转着的方块形式进行展现，拾取后会出现在玩家的头顶并清晰地标明了剩余时间。玩家可以在合适的时间在“buff 塔”处获取强力属性，以应对蜂拥如潮的怪兽袭击。<br><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/f214457dca2c4c6caba3e3970283ba0b?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>“Chunker”闪避时的动作也进行过精心的设计。在闪避时，“Chunker”会先蜷缩为一个史莱姆形状的球体，快速移动后再恢复成原本大小。在面对汹涌的弹幕攻击时，运用闪避进行花式走位能够有效减少被击中的风险。相比于同类型的游戏而言，一方面，闪避增加了角色的机动性，从而降低了游戏难度。另一方面，在移动过程中施放闪避的流畅度很高，动画上没有明显卡顿的感觉，移动闪避一气呵成，具有良好的操作手感。<br><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/180b7d09f4c6478ca899f4cb92e7143b?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>除了普通的攻击技能之外，游戏中还有具有冷却的辅助技能（鼠标右键）以及保险技能（Q）。辅助技能主要是运用在一些受到地图地形限制的场景，来突破游戏存在的障碍。但在实战中快节奏的攻击环境中，辅助技能稍显乏力。保险技能则是用于解场，但短时间内只能单次使用，冷却时间相对较长。玩家需要合理进行走位，把握好技能的范围，从而判断使用保险技能的最佳时机。<br><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/95d24faa97fa4f14ae7ec3a39d6d3d56?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"></p><h1 id="第三章：因为太怕死所以全点生命力了"><a href="#第三章：因为太怕死所以全点生命力了" class="headerlink" title="第三章：因为太怕死所以全点生命力了"></a>第三章：因为太怕死所以全点生命力了</h1><p>在开始每次的冒险之前你可以对自己的身体进行改造。玩家可以根据偏好分配自己的攻击属性和生命属性，选择技能的种类和默认的武器类型。甚至你还可以“赌一把”从而获取随机的属性增益。当然对于像我这种经常暴毙的玩家而言，最好还是将点数全部点在生命值上。<br><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/7a54875f489a461fb8dc85962eeb7e50?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>在出发时，玩家也可以选择关卡的难度，从而根据自己的实际情况进行不同难度的挑战。获取符合难度期望的收益。弹性的难度选择，使得萌新玩家能在游戏的前期能够存活更长的时间，不会因为游戏过难而劝退，获取较为不错的游戏体验。<br><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/46bb9158c8fa4bbeb7f84d0d31857fee?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>你有经历过绝望么?没错我的确经历过。“Chunker”这款游戏虽说设置了不同的难度，但最简单的难度也能让你十分难受。在刚开始关卡的时候千万别开启隐藏 boss，否则攻击力的不足会导致挑战隐藏 boss 犹如“刮痧”。最终怪物潮水般的攻击将你逼入死胡同，使你面对无法改变的死亡。<br><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/befde15c89d740df81eea31b9650fe03?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>当然，除了高难度的 boss 之外，随机出现的小怪也是令人头疼的。游戏过程中，如果玩家选择硬刚玩法，在短时间探索地图的过多区域，成堆的小怪就会刷新。这些小怪会尾随着你释放弹幕，给你带来一种前所未有的压迫感。不经意间，你的血条已经消耗大半。<br><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/0a338594819841b4b3fde5fe7a7f4825?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>游戏的主要通关策略是搜索零件开启装置，从而打开通向下一关的井盖入口。在饱受怪物折磨的环境下，游戏的机制显得相对“人性化”。玩家在开启机关时，只要不移动就不会中断搜索进程，在搜索时可以即时应对出现的怪物。同时，怪物的掉落的材料无需特意拾取，在未拾取时会自动进入角色的背包之中，而这些材料也不会因为角色死亡而消失。能够使玩家摆脱拾取道具的多余操作，专注于攻击和闪避，获取更纯粹操作体验。当井盖入口打开后，你无需恋战，可以直接进入下一层，避免血量白白消耗。<br><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/f7dfec8ea25c4a8a9edfdbcd239b0f68?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>游戏的地图在我看来优点和缺点参半。优点是玩家能够掌握地图中的重要信息，从而具有目的性地搜寻道具或是前往下一关入口，使得玩家不会迷路。而这一点恰恰又是缺点。由于地图的范围有限，加上缺乏迷宫式的地图设置，导致玩家在解决或者躲避怪物的过程中，已经完成了大部分地图的探索工作。缺少只能原路返回的“死胡同”，使得游戏的探索方面缺乏一定的趣味。不过目前游戏尚处于开发阶段，相信以后会完善地图的设计，增加游戏地图的探索难度，使游戏在探索方面更具挑战性和可玩性。<br><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/d5b8f5380ccc48249d38b2a61f0159de?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>boss 战层面则需要考验玩家的手速和运气了。华丽的弹幕、具有冲击性的攻击效果的背后是手残玩家的无助。打不过 boss 而卡关的情况早已是 rog 游戏的家常便饭。玩家只有不断提升自己的操作水平，或是通过属性的堆叠，采取厉害的武器才能打败 boss，继续挑战更复杂的关卡。<br><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/e4a4a40a059644b291b5e5f69abcd290?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"></p><h1 id="终章：下水道“Chunker”的养成方法"><a href="#终章：下水道“Chunker”的养成方法" class="headerlink" title="终章：下水道“Chunker”的养成方法"></a>终章：下水道“Chunker”的养成方法</h1><p>在经历过多次关卡的试玩之后，我惊奇地发现，除了硬核的弹幕射击和 Rog 玩法之外，游戏也为玩家提供了类似收集与养成类游戏的玩法。玩家通过收集各种材料帮助“Chunker”变得更强。玩家可以选择已经解锁的游戏角色的造型，并通过游戏的过程通过属性的提升解锁更多新的有趣的造型。<br><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/6ef1ed88907b41558a8c5b840150c285?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>系统提供了武器图鉴，玩家可以收集武器图鉴，成为传说中的武器大师。根据图鉴可以发现，部分武器上有五角星的标记。说明武器存在升级的可能性。但游戏初期，游戏并未指明升级的方式和途径。<br><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/4b28a2e42d3143ff8b5cb7c640d9bc13?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>玩家从关卡中获取的材料可以解锁新的武器类型，从而在冒险中获取更加强大的武器。但需要解锁的材料在短时间内很难获取，需要不断进行关卡挑战。同时也无法提前获知武器的使用效果，对于佛系的玩家而言缺乏诱惑力。<br><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/0f93c208d4f14db59e7f62aaf32e7808?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>游戏内置了成就系统，通过解锁成就，玩家可以获得一定的奖励，对于收集强迫症玩家而言，不仅可以不断挑战自己的极限，也可以获取材料，加快游戏的进度。<br><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/c83c0f5b336b4111b4cd1749965aa51c?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9ARoguelite%E4%B8%8E%E5%BC%B9%E5%B9%95%E5%B0%84%E5%87%BB%EF%BC%9F%E3%80%8AChunker%20Demo%E3%80%8B%E7%AE%80%E8%AF%84"><br>虽说，制作者在收集解锁的玩法上下了很大的功夫，但对于具体玩法的实践方式而言，并没有很好地将收集玩法与关卡、怪物进行串联。以至于玩家想解锁某一个研究内容，但不知道如何去获取解锁的材料，如何满足解锁的条件。况且，研究的内容的效果只是通过单薄的文字进行叙述，令玩家略感无力。制作者没能很好地把握玩家的游玩的目的性，是目前制作者需要着重考虑的点。如果能合理地通过引导性的策略引导玩家去解锁设置的功能，将怪物和掉落的材料进行分类展示。对于玩家而言才会有明确的目标，从而提升收集玩法的乐趣。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月18日</title>
      <link href="2020/08/18/2020-08-18/"/>
      <url>2020/08/18/2020-08-18/</url>
      
        <content type="html"><![CDATA[<p>① 西日本を中心に全国的に高温が続く。静岡の浜松地方の気温は 41.1 度に達した。</p><p>② 昨日の全国の感働人数は 644 人、東京の感染者数は 161 人だった。全国的に重症患者が増え続け、200 人以上に達している。</p><p>③ 日本の 4 月~6 月の GDP は年率 27,8%下落した。</p><p>④ ピアノの調律師は第二次世界大戦中に被爆したピアノを修復した。ピアノを携えて全国で平和演奏活動を行う。すでに 2000 回以上行われている。映画も撮りました。</p><p>⑤ 茨城県大洗町では、海浜図書館のイベントが行われ、観覧客が海風に吹かれながら本を読むことができる。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月17日</title>
      <link href="2020/08/17/2020-08-17/"/>
      <url>2020/08/17/2020-08-17/</url>
      
        <content type="html"><![CDATA[<p>① 沖縄県は医療資源が不足しており、玉城知事は国内の医療援助を求めている。昨日、全国で 1021 人、東京で 260 人が感染した。</p><p>② 米国と英国は、ロシアの情報機関がハッキングを通じてワクチン開発に関する情報を盗んだという声明を発表した。日本も攻撃のリスクを心配している。</p><p>③ 民間の調査機関は、日本の 4 ~6 月の GDP が 20%下落すると見込んでいる。実際のマイナスは 27.8%で、第二次世界大戦以来の最大のマイナスとなった。</p><p>④ 韓国の教会集会が韓国のコロナ感染状况を悪化させる。</p><p>⑤ 第二次世界大戦中の日本の生活を、18 歳の少女漫画家が漫画で描いた。「教科書が永遠に伝えられないというメッセージを漫画が伝えた」という話もある。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月16日</title>
      <link href="2020/08/16/2020-08-16-2/"/>
      <url>2020/08/16/2020-08-16-2/</url>
      
        <content type="html"><![CDATA[<p>① 昨日は危険の暑さで、熱中症を防犯する必要がある。</p><p>② 休漁期間は、北京時間の 8 月 16 日正午に終了する。中国の多くの地方部門は解禁前にすでに「敏感海域での操業は禁止」と通知した。</p><p>③ 感染の影響で、新幹線の指定席は空いていた。高速道路の交通量は著しく減少していた。</p><p>④ 昨日、日本全国で 1232 人、東京で 385 人が感染した。</p><p>⑤ 世界で紛争が起きている所は 50 を超える。紛争地のコロナ感染拡大のリスクがある。医療環境と難民も心配だ。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 国外政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教程：基于Butterfly主题的模拟电子钟侧边栏小部件1.0</title>
      <link href="2020/08/16/2020-08-16-1/"/>
      <url>2020/08/16/2020-08-16-1/</url>
      
        <content type="html"><![CDATA[<h2 id="序言：效果展示"><a href="#序言：效果展示" class="headerlink" title="序言：效果展示"></a>序言：效果展示</h2><p><img src= "/img/loading.gif" data-lazy-src="/images/example.png#alt=example"></p><h3 id="模拟时钟小部件主要包含："><a href="#模拟时钟小部件主要包含：" class="headerlink" title="模拟时钟小部件主要包含："></a>模拟时钟小部件主要包含：</h3><ul><li><p>日期（年、月、日、星期）</p></li><li><p>天气（天气图标、温度）</p></li><li><p>湿度(百分比）</p></li><li><p>空气质量（US AQI）</p></li><li><p>时间（当地时间、AM/PM）</p></li></ul><h3 id="预览地址：https-zfe-space"><a href="#预览地址：https-zfe-space" class="headerlink" title="预览地址：https://zfe.space"></a>预览地址：<a href="https://zfe.space/">https://zfe.space</a></h3><hr><h2 id="步骤-1：编写小部件代码"><a href="#步骤-1：编写小部件代码" class="headerlink" title="步骤 1：编写小部件代码"></a>步骤 1：编写小部件代码</h2><p>在”\themes\butterfly\layout\includes\widget”文件下复制某个 PUG，重命名为”card_clock.pug”</p><p>打开该文件，删除原有代码，将以下代码粘贴进去。注意 PUG 的空格敏感。</p><hr><h2 id="步骤-2：将小部件植入侧边栏"><a href="#步骤-2：将小部件植入侧边栏" class="headerlink" title="步骤 2：将小部件植入侧边栏"></a>步骤 2：将小部件植入侧边栏</h2><p>打开”\themes\butterfly\layout\includes\widget”路径下的”index.pug”</p><p>将 card_clock 代码添加至 card_author 代码块后。添加后的代码如下：<br>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”aside:”设置处</p><p>添加 clock 开关代码：</p><hr><h2 id="步骤-3：编写-CSS-代码"><a href="#步骤-3：编写-CSS-代码" class="headerlink" title="步骤 3：编写 CSS 代码"></a>步骤 3：编写 CSS 代码</h2><p>在 hexo 根目录”source”文件夹下新建”css”文件夹，在”\source\css”路径下新建”clock.css”</p><p>在”clock.css”中添加以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">padding-left: 15px;</span><br><span class="line">font-family: &#39;UnidreamLED&#39;;</span><br><span class="line">font-size: 38px;</span><br><span class="line">font-weight:normal;</span><br><span class="line">color: #000000;</span><br><span class="line">margin-block-start: 0em;</span><br><span class="line">margin-block-end: -0.2em;</span><br><span class="line">line-height: 1.5;</span><br></pre></td></tr></table></figure><p>}</p><p>.fa-calendar{padding-right:5px</p><p>}</p><p>.card-background {</p><p>margin:15px;</p><p>border-radius: 8px;</p><p>background-color: rgb(236, 236, 236);</p><p>box-shadow: inset 3px 3px 18px 0px rgba(50,50,50, 0.4);</p><p>z-index: 2;</p><p>}</p><p><a href="/font-face">@font-face </a> {</p><p>font-family: ‘UnidreamLED’; /<em>a name to be used later</em>/</p><p>src: url(‘/fonts/UnidreamLED.ttf’); /<em>URL to font</em>/</p><p>}</p><p>.rounded-icon</p><p>{-webkit-filter: brightness(0%)!important;</p><p>filter: brightness(0%)!important;}</p><p>.itemAirvisualWidget {</p><p>float: left;</p><p>display: inline-flex;</p><p>/_ height: 45px; _/</p><p>margin-left: auto;</p><p>margin-right: auto;</p><p>/_ padding: 10px 5px; _/</p><p>line-height: 1;</p><p>vertical-align: top;</p><p>}</p><p>.legendAirvisualWidget-wMDTkfQskKdxAnaMm{display:none}</p><p>.wrapperAirvisualWidget-wMDTkfQskKdxAnaMm, .wrapperAirvisualWidget-wMDTkfQskKdxAnaMm:hover, .wrapperAirvisualWidget-wMDTkfQskKdxAnaMm:focus {</p><p>background-color: #ffffff00 !important;</p><p>box-shadow: 0px 0px 0px 0px #000000 !important;</p><p>}</p><p>.legendAirvisualWidget-cGKu6MDNNcf5rC7A7{display:none}</p><p>.wrapperAirvisualWidget-cGKu6MDNNcf5rC7A7, .wrapperAirvisualWidget-cGKu6MDNNcf5rC7A7:hover, .wrapperAirvisualWidget-cGKu6MDNNcf5rC7A7:focus {</p><p>background-color: #ffffff00 !important;</p><p>box-shadow: 0px 0px 0px 0px #000000 !important;</p><p>}</p><p>.dividerAirvisualWidget{display: inline-flex!important;</p><p>width: 8%!important;</p><p>height: auto!important;</p><p>border-left: 1px solid #ffffff00!important;}</p><p>.itemAirvisualWidget .rounded-icon {</p><p>width: 14px!important;</p><p>height: 14px!important;</p><p>}</p><p>.monoline {</p><p>font-size: 100%!important;</p><p>margin-top: 0px!important;</p><p>height:12px!important;</p><p>}</p><p>.AirvisualWidgetItemText {</p><p>width: 40px!important;</p><p>font-family: ‘UnidreamLED’!important;</p><p>}</p><p>.itemAirvisualWidget {</p><p>padding: 0px 0px!important;</p><p>}</p><p>.bodyAirvisualWidget {</p><p>display: inline-flex;</p><p>height: 12px !important;</p><p>}</p><p>.itemAirvisualWidget {</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">height: 12px!important;</span><br></pre></td></tr></table></figure><p>}</p><p>.card-weather{width:50%;float:left;margin-block-start: -0.4em;}</p><p>.date {width:50%;float:left}</p><p>.time{width:90%;}</p><p>.daylight{width:12%;float:right;font-family: ‘UnidreamLED’; color:black; }</p><p>.card-aqi{clear: both;</p><p>width: 20%;</p><p>float: left;</p><p>margin-top: 0px;</p><p>margin-left: 0px;}</p><p>.AirvisualWidgetItemText strong {</p><p>font-size: 100%!important;</p><p>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> ## 步骤4：添加自定义字体文件 ##</span><br><span class="line"></span><br><span class="line">&lt;p&gt;在&quot;source&quot;文件夹下新建&quot;fonts&quot;文件夹，将&quot;UnidreamLED&quot;放入文件夹中。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;&#x2F;fonts&#x2F;UnidreamLED.ttf&quot;&gt;UnidreamLED字体下载&lt;&#x2F;a&gt;</span><br><span class="line">&lt;hr&gt;&lt;&#x2F;hr&gt;</span><br><span class="line"></span><br><span class="line"> ## 步骤5：编写JS代码 ##</span><br><span class="line"></span><br><span class="line">&lt;p&gt;在&quot;source&quot;文件夹下新建&quot;js&quot;文件夹，将&quot;vue.min.js&quot;放入文件夹中。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;&#x2F;js&#x2F;vue.min.js&quot;&gt;vue.min.js下载&lt;&#x2F;a&gt;</span><br><span class="line">&lt;p&gt;在js文件夹中，复制&quot;vue.min.js&quot;，重命名为&quot;clock.js&quot;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;打开该文件，删除原有代码，将以下代码粘贴进去。&lt;&#x2F;p&gt;</span><br><span class="line">&#96;&#96;&#96;JavaScript</span><br><span class="line">var clock &#x3D; new Vue(&#123;</span><br><span class="line">    el: &#39;#clock&#39;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        time: &#39;&#39;,</span><br><span class="line">        date: &#39;&#39;,</span><br><span class="line">        daylight: &#39;&#39;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var week &#x3D; [&#39;SUN&#39;, &#39;MON&#39;, &#39;TUE&#39;, &#39;WED&#39;,&#39;THU&#39; ,&#39;FRI&#39;, &#39;SAT&#39;];</span><br><span class="line">var timerID &#x3D; setInterval(updateTime, 1000);</span><br><span class="line">updateTime();</span><br><span class="line">function updateTime() &#123;</span><br><span class="line">    var cd &#x3D; new Date();</span><br><span class="line">    clock.time &#x3D; zeroPadding(cd.getHours(), 2) + &#39;:&#39; + zeroPadding(cd.getMinutes(), 2) + &#39;:&#39; + zeroPadding(cd.getSeconds(), 2);</span><br><span class="line">    clock.date &#x3D; zeroPadding(cd.getFullYear(), 4) + &#39;-&#39; + zeroPadding(cd.getMonth()+1, 2) + &#39;-&#39; + zeroPadding(cd.getDate(), 2) + &#39; &#39; + week[cd.getDay()];</span><br><span class="line">    var hamorpm &#x3D; cd.getHours();</span><br><span class="line"> var str;</span><br><span class="line">   if(hamorpm &gt;12) &#123;</span><br><span class="line">        hamorpm -&#x3D; 12;</span><br><span class="line">        str &#x3D; &quot; PM&quot;;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        str &#x3D; &quot; AM&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    clock.daylight &#x3D; str</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function zeroPadding(num, digit) &#123;</span><br><span class="line">    var zero &#x3D; &#39;&#39;;</span><br><span class="line">    for(var i &#x3D; 0; i &lt; digit; i++) &#123;</span><br><span class="line">        zero +&#x3D; &#39;0&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    return (zero + num).slice(-digit);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="步骤-6：接入-CSS-与-JS"><a href="#步骤-6：接入-CSS-与-JS" class="headerlink" title="步骤 6：接入 CSS 与 JS"></a>步骤 6：接入 CSS 与 JS</h2><p>打开”\themes\butterfly&quot;路径下的”_config.yml”</p><p>搜索到”inject:”设置处</p><p>添加以下代码：</p><p>bottom:</p><p>-</p><p>-</p><p>-</p><p>-</p><p>-</p><p>-</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;PS：因https:&#x2F;&#x2F;www.airvisual.com访问较慢，该网站数据中的温度中的“°”的字体缺失，所以延时执行了一个jquary脚本替换文本。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;同时运用了jquary脚本进行了div移动，原因是直接写不能正常加载，比较迷。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;hr&gt;&lt;&#x2F;hr&gt;</span><br><span class="line"></span><br><span class="line"> ## 步骤7：申请AirVisual api key ##</span><br><span class="line"></span><br><span class="line">&lt;p&gt;为了保障自己的API不失效，这里介绍下如何申请AirVisual api key。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;①打开网站，注册帐号。&lt;&#x2F;p&gt;</span><br><span class="line">&lt;a target&#x3D;&quot;_blank&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.iqair.com&#x2F;auth&#x2F;login&quot;&gt;https:&#x2F;&#x2F;www.iqair.com&#x2F;auth&#x2F;login&lt;&#x2F;a&gt;</span><br><span class="line">&lt;p&gt;②登录后访问，&quot;https:&#x2F;&#x2F;www.iqair.com&#x2F;dashboard&#x2F;widgets&quot;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;a target&#x3D;&quot;_blank&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.iqair.com&#x2F;dashboard&#x2F;widgets&quot;&gt;https:&#x2F;&#x2F;www.iqair.com&#x2F;dashboard&#x2F;widgets&lt;&#x2F;a&gt;</span><br><span class="line">&lt;p&gt;③点击“New widget”按钮。选择“city data”→“Closest supported city”。然后依次设置以下参数。得到对应的key。（aqi的参数可以更换为CN标准。）&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">![example](&#x2F;images&#x2F;api-setting.png)</span><br><span class="line">![example](&#x2F;images&#x2F;air-w.png)</span><br><span class="line">&lt;p&gt;④修改代码模版中的key对应的字段参数。&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure><p>.card-aqi(name=’airvisual_widget’, key=’cGKu6MDNNcf5rC7A7’) // AQI 的 API KEY</p><p>.card-weather(name=’airvisual_widget’, key=’wMDTkfQskKdxAnaMm’) // 天气图标、温度、湿度(百分比）的 API KEY</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;&#96;css</span><br><span class="line">.legendAirvisualWidget-wMDTkfQskKdxAnaMm&#123;display:none&#125;</span><br><span class="line">.wrapperAirvisualWidget-wMDTkfQskKdxAnaMm, .wrapperAirvisualWidget-wMDTkfQskKdxAnaMm:hover, .wrapperAirvisualWidget-wMDTkfQskKdxAnaMm:focus &#123;</span><br><span class="line">      background-color: #ffffff00 !important;</span><br><span class="line">    box-shadow: 0px 0px 0px 0px #000000 !important;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.legendAirvisualWidget-cGKu6MDNNcf5rC7A7&#123;display:none&#125;</span><br><span class="line">.wrapperAirvisualWidget-cGKu6MDNNcf5rC7A7, .wrapperAirvisualWidget-cGKu6MDNNcf5rC7A7:hover, .wrapperAirvisualWidget-cGKu6MDNNcf5rC7A7:focus &#123;</span><br><span class="line">      background-color: #ffffff00 !important;</span><br><span class="line">    box-shadow: 0px 0px 0px 0px #000000 !important;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本人能力有限，若大佬们有新的改进方法可以与我邮件联系<a href="mailto:&#52;&#x39;&#x39;&#x39;&#56;&#x34;&#53;&#51;&#x32;&#x40;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#109;">&#52;&#x39;&#x39;&#x39;&#56;&#x34;&#53;&#51;&#x32;&#x40;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#109;</a>。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 教程 </tag>
            
            <tag> DIY </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月15日</title>
      <link href="2020/08/15/2020-08-15/"/>
      <url>2020/08/15/2020-08-15/</url>
      
        <content type="html"><![CDATA[<p>① 北日本は大雨が続いている。</p><p>② コロナの原因で、7 割が自宅に居る。</p><p>③ 昨日、日本全国で 1358 人、東京で 389 人が感染した。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月14日</title>
      <link href="2020/08/14/2020-08-14-1/"/>
      <url>2020/08/14/2020-08-14-1/</url>
      
        <content type="html"><![CDATA[<p>① トランプ米大統領は 13 日、イスラエルとアラブ首長国連邦（UAE）が国交正常化で合意したと発表した。</p><p>② 沖縄では感染者が増え、地方政府が自粛宣言の延長を決めた。</p><p>③ 昨日は日本全国で 1176 人、東京で 206 人が感染した。</p><p>④ 日本は国際緊急救助隊を派遣して日本関係の座礁油船の油漏れ問題を解決する。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 座礁 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020年中国游戏王的元年，是机遇还是挑战？</title>
      <link href="2020/08/14/2020-08-14-2/"/>
      <url>2020/08/14/2020-08-14-2/</url>
      
        <content type="html"><![CDATA[<h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><p>青眼白龙、真红眼黑龙、黑暗大法师（艾克佐迪亚）、黑魔导和黑魔导女孩、三幻神，对于 80 后、90 后的男孩子来说，这些词听上去并不陌生。还记得小学时期，学校门口的小卖部里，每当我看到用铁盒装着的各种简体中文印刷的盗版卡片，总会拿着偷偷攒下的零用钱买上一盒。迫不及待地模仿着动画片中武藤游戏、海马濑人的经典台词和动作，和小伙伴来上一局。但伴随着时光的流逝，游戏王成为了时代的眼泪，逐渐消失在了大众的视野里，成为了大多数人童年回忆。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/3b4e82cb9e174b45829a83fb7a3e2402?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><p>然而出乎意料的是，在游戏王卡牌发售 20 年后，游戏王的卡牌公司 KONAMI 于 2020 年 4 月 16 日授权了上海映蝶影视文化有限公司中国正式代理权，并正式发售国行代理版。2020 年 8 月 1 日在国内举办了首届游戏王中国大陆赛。并于比赛次日公布了简中版本发布的首发消息。<strong>KONAMI 公司的一系列操作，不仅给国内游戏王的情怀玩家带来了惊喜，也让不少喜欢经典游戏王动漫的新玩家产生了入坑的想法。然而，目前的游戏王和记忆中的动漫中的游戏王却有不小的区别。</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/215b2f2a146d4ce0a9770b07bb7adb69?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><h1 id="入坑劝退？环境利好？"><a href="#入坑劝退？环境利好？" class="headerlink" title="入坑劝退？环境利好？"></a>入坑劝退？环境利好？</h1><p>随着时间的推移，游戏王经历了不同的版本，在经典的 DM 版本后，相继推出了 GX、5DS、ZEXAL、ARC-V、VRAINS、SEVENS。但被玩家熟知的却仅只有最初的那几部，5DS 后的动漫反响平平。随着动漫质量的下滑，游戏王从依靠动漫卖卡的游戏，变成了纯粹的卖卡游戏。随着版本的迭代，在原有的融合召唤的玩法上，同调、超量、仪式、链接等新的召唤玩法丰富了游戏王的游戏规则内容，也增加了游戏王的硬核程度。<strong>在游戏王圈子里流传着一个名为“大家以为的游戏王与现实中的游戏王”的视频揭示了想象与现实的差异。</strong>现实中并没有像动漫中一样“现场印卡”神技，很难通过梦幻抽卡力挽狂澜。而且你还没出牌之前，就可能已经被先攻对手“说书式”的 combo 效果弄死了。因此游戏王相比常见的卡牌游戏而言，上手难度较高。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/0b42ce566a6d42e786bb6d233cde009e?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><p>目前，游戏王的卡组类型主要分为 beat 类卡组、展开类卡组、特殊胜利卡组。beat 类卡组就是用自己卡组中强大的怪兽进行攻击使对方的生命值变为 0。展开类卡组则是通过卡片效果进行互动，通过卡片的 combo，达到最终期望的效果或者场面。而特殊胜利卡组则是，通过卡片的特殊效果达到胜利，如大家十分熟悉的“黑暗大法师”（艾克佐迪亚）就是通过集齐五张的方式获取胜利。除了大类分类之外，诸如重坑卡组、META<br>BEAT 等具有特色的分类卡组也有不少。组卡对于新手而言，存在一定难度。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/38b4e3e9014f42a4a4c24a87e66b2bf5?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><p>难道新手玩家就玩不了游戏王了么？其实不然。几年前网络信息并不发达的条件下，打牌只能靠师傅带的纯线下教学模式。如今，网络技术以及各种二次元社区平台的发展都为游戏王入门提供了很大的帮助。目前在 b 站上的很多 up 主（图中为 chosKD），通过视频的形式对游戏王的规则、玩法、组卡策略进行了详细介绍，提供了 ygopro、游戏王查卡器等相关的工具下载方式和使用教程。网络教学很大程度上降低了新玩家的学习成本以及学习难度。通过二次元社区平台也能很容易找到同好玩家，从而解决了缺少对手的问题。因此，相比于前几年而言，目前的网络环境为构建游戏王的生态提供了良好的基础。如果能把握机会，那么游戏王就能掀起新的浪潮。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/ade2c47e737347c6a12bf2252bba1cf5?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><h1 id="天价卡牌？开包看脸？"><a href="#天价卡牌？开包看脸？" class="headerlink" title="天价卡牌？开包看脸？"></a>天价卡牌？开包看脸？</h1><p>曾经网上出过一个段子，某游戏王玩家为了交女儿的学费，卖了自己珍藏多年的全球限量 1000 张的初版“青眼白龙”。每张的价格在 30 万~40 万日元。可见，游戏王卡牌有着一定的收藏价值。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/78e0441c7588449a910ac564365b16eb?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><p>除了限量之外，游戏王卡牌也有不同的闪卡，有 R、SR、UR、SER、UTR 等等。不同做工的闪卡的价值也不一样，并且部分闪卡还会受到限量发售的影响而增值。2019 年为了纪念游戏王 20 周年，官方生产了一种被广大玩家称为“红碎”（20th<br>SE）的闪卡。这种闪卡除了采用闪卡工艺之外，还有 20 周年的专属纪念水印。而红碎卡大部分都是开盒子随机获得，部分高人气卡的红碎版本甚至可以卖到 3000 人民币以上。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/6308f4d8b02e4e5ea9be5fdfb808ed90?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><p>抽奖性质加上极高的收藏价值，成为了视频博主博眼球的筹码。无论是国内还是国外，游戏王开盒的视频近一年来在各大视频平台愈发火爆。甚至涌现了众多以开包为乐、收藏为乐的土豪。从众心理也使得近年来买卡，开盒的玩家也变得越来越多。其中也有不乏存在并没有想玩游戏王，但却想过一把开包的瘾的“赌狗”玩家。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/76ddfe06cc06486591a7eb1427f0583a?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><p>虽说抽卡开包的玩法似乎有点脱离游戏王玩法本身，但不可否认的是，抽卡开包带动了国内游戏王卡牌的销量。这也是为什么 20 多年都没有打算开拓中国市场的游戏王，在今年进入到中国市场的原因之一。抽卡开包的确能带来惊喜和乐趣，但一旦运气太背，可能的结果就是血本无归。在抽卡开包时，除了准备好钱包之外，也需要放平心态。同时结合自身的组卡需求或收藏需求，理性消费。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/984a81d5b75441d2a3091e5fa978613e?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><h1 id="官方店铺？手游白嫖？"><a href="#官方店铺？手游白嫖？" class="headerlink" title="官方店铺？手游白嫖？"></a>官方店铺？手游白嫖？</h1><p>看到这里，有小伙伴可能会问，我到哪里去买这些正版的卡牌呢？估计很多小伙伴会和我有同样的想法，第一时间去搜索游戏王的天猫淘宝店。但实际上目前还没有官方直接贩售的淘宝店，有的只有公认店铺的线下店以及部分公认店铺的淘宝店。主要原因可能还是为了照顾店铺的生意，毕竟公认店铺卡牌分销是店铺收入的主要来源。但目前的认证店铺有限，并且官方尚未对这些店铺的网店进行认证，对于新手而言也存在对店铺信誉的担忧。因此，在贩售方面，官方需要考虑实体店分销的利益，并结合官方媒体进行一定宣传。同时，官方也需完善店铺信誉的认证制度以及规范购买渠道。笔者认为，KONAMI 公司有必要针对中国市场开发一款官方 app。对地方店铺资源进行整合，在 app 上通过较为官方认证的店铺售卖渠道进行售卖。更好地建立玩家的生态圈，提供交流和卡片买卖的正规平台，发布最新的资讯信息和活动信息。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/e6c8cf894db543049d62087fc0d9a8b1?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><p>也有小伙伴可能关注过之前网易代理游戏王手游的消息，认为手游更方便，不如等手游上线再“白嫖”。然而，手游跟实体卡还是有一定区别。首先就保值性而言，手游氪金后，数据形式的卡牌是难以回收的。而且，想获得新卡或者稀有卡，只能不断氪金。而实体卡却不一样，实体卡有一定的保值性，当你想换新卡组时，你可以将原有的卡组卖掉回血，运气好的时候开出稀有的卡片还能赚回一整包的价钱。再一点，实体卡版本的游戏王遵从的是 ocg 规则，而手机版游戏王遵从的是 duel<br>link 规则，严格意义上可以说是两个不同的游戏。同时 duel<br>link 规则的卡牌库、玩法受到了手机端的限制，被很多老玩家称为“村版”。最后，目前网易代理的手游却迟迟没有上架，想玩手游国服的玩家不知道需要等到猴年马月。因此，如果你想马上体验原汁原味的游戏王，还是建议购入实体卡，哪怕最后觉得没有啥兴趣了，也可以出掉卡牌回血或者收藏保值。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/afbc279b89b24d718e6b9ea6df0eb565?from=pc#alt=%E6%88%91%E7%9A%84%E6%B8%B8%E6%88%8F%E5%8D%8A%E5%B9%B4%E6%80%BB%E7%BB%93%EF%BC%9A2020%E5%B9%B4%E4%B8%AD%E5%9B%BD%E6%B8%B8%E6%88%8F%E7%8E%8B%E7%9A%84%E5%85%83%E5%B9%B4%EF%BC%8C%E6%98%AF%E6%9C%BA%E9%81%87%E8%BF%98%E6%98%AF%E6%8C%91%E6%88%98%EF%BC%9F"></p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>笔者认为，中国游戏王目前已经完成了一个不错的开局。接下来就得看 KONAMI 公司的决策了。能否适应中国市场，能否很好构建良好的玩家社群，能否打通线下线上的官方卡片出售和玩家卡片交易渠道，能否做好信息的发布和宣传工作，都是游戏王现在面对的机遇与挑战。如果能把握机遇，我相信中国游戏王是能重新回到大众视野中，掀起游戏王的新浪潮。目前 KONAMI 公司还没有公布 9 月发售的简中版本的售卖途径，以致很多想购买简中版本的玩家和笔者一样摸不着头脑。游戏王官方目前在 b 站、微博开设有账号，我也将继续关注游戏王的动向。我也期待着，中国游戏王也能不断发展，在世界赛上展现更多中国玩家的风采。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月13日</title>
      <link href="2020/08/13/2020-08-13/"/>
      <url>2020/08/13/2020-08-13/</url>
      
        <content type="html"><![CDATA[<p>① 広い範囲で猛暑日がつついている。熱中症に警戒する必要がある。</p><p>熱中症とコロナは似るだるい症状がある。</p><p>コロナに加えて熱中症の患者で病院に負荷がかかっている。</p><p>② お盆の時期になった。色々の人は駅前の販売店で切り花を買いて、</p><p>“先祖に感謝な気持ちを”と言う思いがある。</p><p>③ 昨日全国で 979 人、東京で 222 人が感染した。</p><p>政府は大学の pcr 設備を活用する方針が提出された。</p><p>医療カア必要な子などに医療用品は優先配布する。</p><p>④4~6 月でコロナの影響で東芝は 126 億円の赤字になった。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> お盆 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月12日</title>
      <link href="2020/08/12/2020-08-12/"/>
      <url>2020/08/12/2020-08-12/</url>
      
        <content type="html"><![CDATA[<p>① 米民主党の副大統領候補は黒人女性だ。</p><p>② 昨日全国で 700 人、東京で 188 人が感染した。</p><p>③ 日本は広い範囲で高温が続いている。エアコンを合理的に使用して温度を下げ、水分を補充する必要がある。</p><p>④1986 年に日航が墜落、35 年後、家族はコロナや高齢化のため墓参りができない。</p><p>⑤ 日本政府は世論調査を行い、コロナが家計収入に及ぼす影響を調査した。</p><p>⑥ 長期雨季と日照不足による野菜価格の値上げことがある。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 世論調査 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月11日</title>
      <link href="2020/08/11/2020-08-11/"/>
      <url>2020/08/11/2020-08-11/</url>
      
        <content type="html"><![CDATA[<p>① 松江地区で新たに 3 人が感染した。</p><p>② 日本全国の昨日の感染者数は 839 人で、东京では 197 人が感染した。</p><p>③ レバノン爆発の原因は不明で、内閣総辞職した。</p><p>④ コロナの影響で舞台照明への出勤が減ったが、照明担当者は仕事を続けている。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 国外政事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月10日</title>
      <link href="2020/08/10/2020-08-10/"/>
      <url>2020/08/10/2020-08-10/</url>
      
        <content type="html"><![CDATA[<p>① 松江では高校内の 91 人が感染した。</p><p>② 大学卒業者の求職率の低下につながっている。</p><p>③ 日本全国の昨日の感染者数は 1444 人で、東京では 331 人が感染した。</p><p>④ 各国はレバノンの爆発に対して人道主義的援助を行った。</p><p>⑤ 新冠の影響で、親族の葬儀に参列する人数が減った。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 就业 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月9日</title>
      <link href="2020/08/09/2020-08-09/"/>
      <url>2020/08/09/2020-08-09/</url>
      
        <content type="html"><![CDATA[<p>① 東北と北陸に大雨が降りそうだ。土石流や豪雨に注意する必要がある。</p><p>② 長崎原爆から 75 年、現地の人は平和を訴える努力を願う。</p><p>③ 昨日、日本全国で 1568 人、東京で 429 人が感染した。日本の新冠が変異を起こした。</p><p>④ 経営が悪化している医療机関に対し、政府は新たな仕組みで支援する準備がある。</p><p>⑤ 政府は生活に困っている人に無利でお金を貸す政策が出した。3 月 25 日から 8 月 1 日まで、約 84 万 4000 件(約 2343 億円)が 2008 年 3 年後の 4 倍以上の申請があった。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 政府 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月8日</title>
      <link href="2020/08/08/2020-08-08/"/>
      <url>2020/08/08/2020-08-08/</url>
      
        <content type="html"><![CDATA[<p>① お盆休みになるが、各種交通机関の利用者数が大幅に減っている。</p><p>② 日本の都心は最近猛暑日が続いているので、熱中症には注意しなければならない。</p><p>③ 昨日の東京での感染者は 462 人に達し、大阪と沖縄で過去最多となった。</p><p>全国で昨日 1606 人が感染した。今政府の分科会は感染状態の大半が感染者が増えている段階だと指摘している。</p><p>④ お盆はお代かきサービスを提供しており、360 度カメラで生中継している。依頼者は VR で体験することができる。</p><p>⑤ 新冠に感染した生徒へのいじめや差別について、新潟県教育委員会が心理教育を行っている。</p><p>⑥ 箱根電鉄の復活は地元の人々に幸福をもたらした。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> お盆 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月7日</title>
      <link href="2020/08/07/2020-08-07/"/>
      <url>2020/08/07/2020-08-07/</url>
      
        <content type="html"><![CDATA[<p>① 今年の夏は特殊な夏で、旅行や帰省、夜間の食餌行働、遠距離外出などを控える必要がある。</p><p>昨日、東京での感染者は 360 人に達した。愛知県、10 日連続 100 人確定。</p><p>昨日の感染者数は 1485 人だった。</p><p>政府は、帰化した人に pcr 検査を無料で提供した。</p><p>家庭内での感染者数は増加した。</p><p>アフリカでの新冠感染者数は 100 万人に注意する必要がある。</p><p>② 北海道は大雨だ。土石流や洪水に備えなければならない。</p><p>③ 東京都心の温度が高いので熱中症に注意する。</p><p>④ 怒りを正確に他人に伝える方法:</p><p>怒りを表す=要求を他人に伝える;</p><p>決められたことを議論しない;</p><p>必ず 1 対 1 である。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月6日</title>
      <link href="2020/08/06/2020-08-06/"/>
      <url>2020/08/06/2020-08-06/</url>
      
        <content type="html"><![CDATA[<p>① 来週はお盆だ。8 日から 16 日まで休みだ。分科会は「三密」を避け、高齢者の感染を防ぐとしている。</p><p>日本医師会は「我慢のお盆」を提唱し,県と県の間の移動を避けている。</p><p>西村経済再生相、「一律自粛」を表明する。</p><p>愛知県は、8 月 6 日から 24 日まで不必要な外出や帰省を控える緊急事態宣言を独自に発表した。</p><p>② 昨日の全国の感染者数は 1351 人、東京の感染者数は 263 人だった。</p><p>③ 九州から東北にかけての暑い日は、マスクをしていると暑いので、熱中症に注意する。</p><p>④ 広島で原爆投下 75 年平和公園記念式典が行われ、新冠の影響で主催者側が参加人数を抑えた。</p><p>⑤6 月現在、18 の小学校と 15 の中学校が新冠感染者が出たため臨時休校している。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> お盆 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月5日</title>
      <link href="2020/08/05/2020-08-05/"/>
      <url>2020/08/05/2020-08-05/</url>
      
        <content type="html"><![CDATA[<p>① レバノン政府が通報した化学物質が爆発し、73 人が死亡、3700 人が負傷した。</p><p>② 昨日の日本と猛暑は、全国 34 の観測点で猛暑日だった。</p><p>小学生の授業の問題に対して、熱中症を予防するため。</p><p>電車やバスの中では必ずマスクをしなければならないが、</p><p>暑いときにははずしてもいいし、人通りの少ないところでは使わなくてもいい。</p><p>③ 東京では昨日 309 人が感染し、8 日連続で 200 人以上になる。日本全国で 1239 人が感染しました。</p><p>④ 豪雨で破壊された植物標本は全国的に救助中である。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 天气 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>“自嗨式”的China Joy香不香？玩家视角下国内游戏的现状与反思</title>
      <link href="2020/08/04/2020-08-04-1/"/>
      <url>2020/08/04/2020-08-04-1/</url>
      
        <content type="html"><![CDATA[<h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><p>作为游戏玩家和动漫爱好者，我曾去过大大小小的游戏展会和漫展。但对于 China Joy，却是感到既熟悉又陌生。在朋友圈和 QQ 空间里查看朋友分享的 CJ 返图，默默地点上一个赞，是往年唯独可以做到的事情。而今，终于在时间上有了些许的空闲，也算是可以如愿亲临展会现场，一睹 CJ 的风采。满怀着期待，乘上了高铁，7 月 31 日我踏上了前往 China Joy 的旅途。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/dfic-imagehandler/88d00e60-4ee0-4444-8928-0e008281af99?from=pc#align=left&display=inline&height=646&margin=%5Bobject%20Object%5D&originHeight=646&originWidth=640&status=done&style=none&width=640"></p><h1 id="初入展会-颇为期待"><a href="#初入展会-颇为期待" class="headerlink" title="初入展会 颇为期待"></a>初入展会 颇为期待</h1><p>7 月正值三伏天，本应是干燥、炎热的时节，但抵达上海的第二天清晨，天空却阴沉沉的，像是憋了一肚子闷气。乌云在头顶聚集，几朵大大的黑云挡住了清晨的朝阳，不免让人觉得有些凉爽和潮湿。许是天气又或是疫情的阴霾尚未消散，在地铁的出站口，并未呈现往年 CJ 展会的盛况，多少让人感到有些冷清，仅有几个零零散散的 coser，站在行人不多的街道上。不过，随着时间的推移，人群倒也开始逐渐地壮大起来，直至开始检票入场，观展的人数还算是可观，放眼望去，在我身后排起的队伍，犹如一条长龙，多了几分往年展会的热闹。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/2896100a8589471885d27b682d63a1c9?from=pc#align=left&display=inline&height=1440&margin=%5Bobject%20Object%5D&originHeight=1440&originWidth=1920&status=done&style=none&width=1920"></p><p>用了将近 40 分钟才进入了场馆，发现了平日不少熟悉的动漫或者游戏厂商，均有参加此次展会。<strong>在穿越场馆的过程中，腾讯、网易、暴雪、bilibili、TapTap 等熟悉的厂商相继出现在视野中。场馆的面积很大，有足够的展示区域，行人走动也没有那么拥挤。</strong>然而，在经历了一天的游览之后，原来曾有过的期待却变成了游览的疲惫与些许不满。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/c9dd3d00cae848ecaabefd1f01e4768c?from=pc#align=left&display=inline&height=1440&margin=%5Bobject%20Object%5D&originHeight=1440&originWidth=1920&status=done&style=none&width=1920"></p><h1 id="经典-IP-一键换皮"><a href="#经典-IP-一键换皮" class="headerlink" title="经典 IP 一键换皮"></a>经典 IP 一键换皮</h1><p>同早先参与过的，以动漫周边贩卖和 Cosplay 表演为主的展览不同，这次的展会更多是以手机游戏体验为主。<strong>万代展区就展示了很多热门动漫题材的手机游戏，《火影》、《海贼王》、《龙珠》、《数码宝贝》等经典题材的手游让人眼前一亮。</strong>然而逐一体验后，却发现，无论是游戏画质还是游戏玩法都缺乏新意。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/082c7a83f1414ae1848d03fafde48438?from=pc#align=left&display=inline&height=2560&margin=%5Bobject%20Object%5D&originHeight=2560&originWidth=1920&status=done&style=none&width=1920"></p><p><strong>说实话，我个人认为，万代的确有想把游戏做好的想法，然而不少游戏的玩法还是过于单一。</strong>但相较于同样以 IP 作为主要卖点的 DeNA China(上海蛙扑网络技术有限公司）时，万代又强了不少，不管是在游戏制作的质量还是玩法上。</p><p><strong>在试玩了 DeNA China 主推的《灌篮高手》后，可以十分肯定的说，游戏基本上就是《街头篮球》的翻版，缺乏创新，画面也比较简陋。</strong>游戏中的 Q 版人物，缺乏表现力，而展出的其他游戏也都有明显换皮的嫌疑，如果翻阅 TapTap 不难发现，这些游戏在玩家群体间的口碑，并不能算得上太好。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/3e7b460560fc4111824b6f43fd9b46de?from=pc#align=left&display=inline&height=2560&margin=%5Bobject%20Object%5D&originHeight=2560&originWidth=1920&status=done&style=none&width=1920"></p><p>对于喜欢动漫的玩家而言，动漫 IP 的确是能吸引玩家的一大因素。但当玩家兴致勃勃点开游戏时，却发现游戏的玩法仍是挂机打怪、任务升级的老一套。想要变强，要么氪金抽卡，要么购买礼包，充上 vip 就能秒天秒地秒空气，如此这般，游戏本身的可玩性就荡然无存。一般厂商成功割了一波韭菜后，会再去开新的 IP 换到原来的游戏引擎上，寻找下一波韭菜。而原来的游戏不出数月，鬼服、停服的情况屡见不鲜，饱受玩家诟病。厂商很少会去制作新的内容和添加玩法去改善这部分“动漫情怀”玩家的体验，换来的最终结果是玩家对于毁 IP 的不满及厂商的厌恶。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/dfic-imagehandler/b0f1aeb9-8c06-4954-96ff-43ba97e96541?from=pc#align=left&display=inline&height=309&margin=%5Bobject%20Object%5D&originHeight=309&originWidth=622&status=done&style=none&width=622"></p><p>对于厂商而言，骗一波就走无疑是省时省力的赚钱策略，但对于厂商自身的发展而言，无异于在透支玩家的信任度。<strong>倘若厂商能更好地利用手中 IP，合理运营游戏，与其让多个 IP 百花齐放，但都表现平平，丢掉玩家信赖。倒不如这样做，则更容易获得玩家的信任。</strong>虽说万代的部分游戏也是差强人意，但在建立与玩家信任方面，可以说还是花了不少功夫，但仍需要进一步努力。但对于 DeNA 而言，面对的挑战就比较严峻，不仅要面对玩家的声讨，还得尽快解决自己账面上的巨大亏损。因此，唯有摆正态度，认真考虑游戏的游戏性。才能改变玩家的看法，建立信任，提升游戏品质，最终提升玩家口碑，帮助企业共渡难关。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/70de2de740bc46008965075294d79779?from=pc#align=left&display=inline&height=1440&margin=%5Bobject%20Object%5D&originHeight=1440&originWidth=1920&status=done&style=none&width=1920"></p><h1 id="大厂游戏-缺乏创新"><a href="#大厂游戏-缺乏创新" class="headerlink" title="大厂游戏 缺乏创新"></a>大厂游戏 缺乏创新</h1><p>说到国内数一数二的大型厂商，离不开腾讯、网易、盛趣（盛大）。这三个厂商基本是以代理游戏发家，近年来也有不少自研项目获取成功的游戏，但或多或少都有一定共性问题——缺乏创新。一方面是老游戏的创新，这些大厂都具有相对稳定的用户群体，其中一部分玩家都是早先端游（PC 网络游戏）的用户，受到手机游戏冲击的影响，用户量已经不可同日而语。展会中《地下城与勇士》、《穿越火线》、《龙之谷》、《天下 3》、《传奇》等昔日的经典游戏又一次出现在人们面前，但实际的表现远不及目前大热的手游。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/dfic-imagehandler/bf1afffa-0cd4-495f-9a93-545531fa47ba?from=pc#align=left&display=inline&height=409&margin=%5Bobject%20Object%5D&originHeight=409&originWidth=640&status=done&style=none&width=640"></p><p>以腾讯的老牌游戏《DNF》为例，可以称作是网络游戏的活化石。这次腾讯游戏也带着《DNF》全新的中国元素“未央副本”和玩法参与了展会，并对《DNF》的手游版本进行了预告和试玩体验。作为一年前回坑的老玩家而言，未央并不算是一个成功的尝试，反而在三次觉醒拖沓的版本更新进度、龙袍龙鳞花式骗氪以及迟迟不上线希洛克团本的影响下，成为了让玩家选择弃坑的最后一根稻草。高投入低回报，骗子横行的信任危机，让原本应该亮眼的中国特色，黯然失色。而手游也是诚意不足，不提游戏的画面和几年前的玩法，氪金套路还是一样的熟悉。近年来腾讯的主力转向《王者荣耀》和《和平精英》等手游。相比之下，上述手游的发展要优于腾讯的端游。如何留住老玩家，是目前此类厂商需要考虑的主要的问题，这需要厂商更好地考虑玩家的诉求，并通过实际行动来留住玩家。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/dfic-imagehandler/f42a4317-81a6-4cc2-bc04-cdf6ed447ea6?from=pc#align=left&display=inline&height=556&margin=%5Bobject%20Object%5D&originHeight=556&originWidth=640&status=done&style=none&width=640"></p><p>另一方面则是在于新游戏的创新层面。在不少展台上，我也游玩了不少尚未上线的手机端游戏。这些游戏都是原创的自主 IP，或者是曾经经典游戏的 IP 复刻，给人一种全新的体验感。但这些游戏的宣传模式却令人感到担忧。China Joy 展台的游戏体验方式，是通过游戏试玩的形式实现，但实际试玩的时间和游戏的内容却十分有限，在整个试玩过程中，总会产生诸如这个游戏到底是什么类型？我能从游戏中获取怎样的体验？我该怎么玩这样的问题。试玩的环节上，对于游戏并没有详细介绍，感觉只是为了体验而体验。过后，除了通过订阅关注公众号获取小奖品外，也没有对于游戏设定和玩法的介绍，感官上有一种空白和无力感。以至于在游玩过这些自主 IP 的游戏后，很难产生在游戏推出后玩一玩的冲动。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/18292ac8b7cd4263848e9ba91edc5897?from=pc#align=left&display=inline&height=1440&margin=%5Bobject%20Object%5D&originHeight=1440&originWidth=1920&status=done&style=none&width=1920"></p><p>对于自主 IP 的游戏而言，厂商宣传的重点应该在游戏的世界观及游戏的主要玩法上。相比于游戏功能的直观展示而言，如果能讲好一个故事，向用户展示游戏宏大或有趣的世界观。告知用户一个有趣的玩法操作，能够很好地提升用户对于游戏的兴趣。游戏展示的目的，不是游戏本身的画面或者功能，而应该是游戏的特色。一方面需要厂商进行引导，一方面就是需要游戏具有这种特色。只有将游戏的差异化展示出来，才能让用户更好地选择符合自己口味的游戏。而目前看来，不管是游戏厂商的引导还是游戏特色方面的展示，都略显不足。很多游戏都成了爆款游戏的陪葬品，被埋没在游戏市场中，淡出玩家的视野。相比于米哈游这种中小厂，只专注于某一 IP 而言，大厂商的 IP 多，但精细化程度并不高，以量取胜的结果往往不尽如人意。市场是残酷的，也是公平的，只有好玩的游戏才能笑到最后。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/dfic-imagehandler/2906b117-575c-4d6d-9ed8-2cc6aba02bb9?from=pc#align=left&display=inline&height=613&margin=%5Bobject%20Object%5D&originHeight=613&originWidth=640&status=done&style=none&width=640"></p><h1 id="小厂游戏-另辟蹊径"><a href="#小厂游戏-另辟蹊径" class="headerlink" title="小厂游戏 另辟蹊径"></a>小厂游戏 另辟蹊径</h1><p>今年 TapTap 的展区可以说让我个人比较满意，作为获取游戏信息、游戏评分和玩家交流的平台，这次很好地将线上和线下进行了结合。一方面展示的游戏数量较多，同时也发放了小册子与 app 进行了联动，通过扫码可以获取游戏的详细信息。米哈游的《原神》、雷亚的《DEEMO2》、散爆的《少前 2》等游戏也吸引了不少玩家前往试玩，提升了展区的热度。</p><p>在厌倦了大厂花式骗氪和 vip 模式的玩家，可能更倾向于画风唯美、画面精致、以剧情质量和完成度取胜的小厂游戏。以及，倾向于虽然制作水平有限，但具有不同口味和独特玩法，良心买断式的独立游戏。在 TapTap 的游戏试玩区，可以发现不同年龄的玩家都能找到自己喜欢的一款游戏进行试玩。即使试玩没有小礼品，也无法降低他们游玩的热情。这一场面，与那些提供小奖品但鲜有人问津的大厂商游戏形成了鲜明的对比。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/dfic-imagehandler/09f36c7d-af03-4575-960a-05b7f116ac4c?from=pc#align=left&display=inline&height=493&margin=%5Bobject%20Object%5D&originHeight=493&originWidth=640&status=done&style=none&width=640"></p><p>这不禁开始令我反思，游戏最原本的目的，应该是给玩家带来快乐，而目前的商业化游戏则更偏向于盈利。相比之下，TapTap 这种汇聚了小厂游戏和独立游戏的平台，却满足了玩家们追求游戏体验的诉求，也只有那些经得住玩家真实评价与考验的游戏，才是真正的好游戏，才能笑到最后，不会被市场的洪流所淘汰。只期望 TapTap 平台能够继续坚持“发现好游戏”这一口号，不仅为玩家提供品鉴游戏的平台，同时也为具有工匠精神的小厂和独立游戏制作者提供发声与宣传的平台。而对于 PC 主机游戏方面，目前国内的 steam 平台以及 IGN 中国仍未上线，小黑盒等平台也在经受考验。因此，对于构建 PC 游戏类似的交流评价平台而言，仍充满了机遇与挑战。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/dfic-imagehandler/026d5e02-4d59-417d-a964-84aaddc31abe?from=pc#align=left&display=inline&height=435&margin=%5Bobject%20Object%5D&originHeight=435&originWidth=638&status=done&style=none&width=638"></p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>高铁窗外移动的风景，让我仍对 China Joy 若有所思。从 China Joy 游戏的展出情况来看，国内游戏市场趋势，仍旧趋于手游市场，但目前手游市场的发展似乎有些急功近利。换皮、氪金成为了大厂惯用套路，而小厂游戏又碍于成本、受众、宣传等因素被埋没在市场的海洋里。近期，《最强蜗牛》、《江南百景图》等游戏的成功无疑给小厂带来了新的希望。同时备受瞩目的《原神》《少前 2》等游戏的发布无疑会给腾讯、网易、盛趣等大厂的游戏带来冲击。对于大型厂商而言，放平心态是制作游戏的首要任务，在考虑盈利的同时，应多考虑游戏的品质和玩法创新。对于小厂而言，则是利用好目前良好的移动游戏市场生态，发挥自己游戏的优势实现弯道超车。2020 年已过大半，在下半年的游戏市场中，不少新游会出现在玩家面前。想着想着，不禁对未来上线新游戏抱有一丝新的期待。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月4日</title>
      <link href="2020/08/04/2020-08-04-2/"/>
      <url>2020/08/04/2020-08-04-2/</url>
      
        <content type="html"><![CDATA[<p>① 熊本県では 1 か月の豪雨で 12 橋の被害が出た。多くの漂流物があり、それらは長い時間と多くの労力を必要とする。</p><p>② お盆の帰省の要求は、新型コロナウイルスの影響を考慮して、家族や友人と連絡を取り、自分の安全を確保することである。</p><p>③ 昨日全国の感染者数は 960 人、東京では 258 人。日本では、単独で地域の非常事態宣言が出されている地域が少なくない。</p><p>政府は感染を防止しつつ、経済発展を確保しなければならない。観光の方針を維持し続ける。</p><p>④ 新型コロナウイルスにより破産した企業は 400 社に達した。</p><p>日本航空は 4~6 月の決算で 763 億元の収益を上げ、前年比 78.1%減となった。損益は 937 億元の赤字。</p><p>デパートの売上高は 20%ほど減少した。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月3日</title>
      <link href="2020/08/03/2020-08-03/"/>
      <url>2020/08/03/2020-08-03/</url>
      
        <content type="html"><![CDATA[<p>① 昨日、全国の感染者数は 1332 人に達し、拡大傾向にある。</p><p>② 東京都や愛知県は、飲食店やカラオケ店の早期閉店や休業を求め、最大 20 万円の補助金を行っている。</p><p>③ 熊本の大雨でラーメン屋が被災し、店主が再出店しようとしている。</p><p>④ 米大統領選挙、トランプ氏に反対する人が多い。</p><p>⑤ 新型コロナウイルスは日本酒の販売量に影響し、販売量を削減する。鑑賞会はインターネットで行われる。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 经济 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月2日</title>
      <link href="2020/08/02/2020-08-02/"/>
      <url>2020/08/02/2020-08-02/</url>
      
        <content type="html"><![CDATA[<p>① 日本国内では昨日 1536 人が感染した。東京では昨日 472 人が感染したが、過去最多の感染者数です。遊びで感染する人が多い。</p><p>② 家族離れを恐れた高齢者が新型コロナウイルスで亡くなったことをチェックしたくなかった。</p><p>③ 山形県の 3 日間の断水が解消された。熊本の部分地区は孤立している。</p><p>④8 月の日本は暑そうだ。</p><p>⑤ 東京のブルーベリーはおいしそう。鮮度は命。農薬は使わない。新型コロナウイルス期間中にネット通販を提供していた。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 农业 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NHK おはよう　日本　8月1日</title>
      <link href="2020/08/01/2020-08-01/"/>
      <url>2020/08/01/2020-08-01/</url>
      
        <content type="html"><![CDATA[<p>① 昨日全国で 1580 人が感染した。東京や大阪では店舗の営業時間が短縮され、沖縄では独立自粛宣言が出され、15 日に自粛。</p><p>② 政府分科会は感染状態を感染散発段階、感染漸増段階、感染急増段階、感染爆発段階に分けた。注目点は新規感染者,高齢者,重症感染者に集中する。</p><p>③ サンマの漁獲量は過去に比べて今年最も低かった。</p><p>④ 文部科学省はこれまで、日本の小中学生は原則として携帯電話の所持を認めていなかった。</p><p>保護者は、子どもの安全を守るために携帯が必要だと考えている。</p><p>文部科学省は現在、一定の条件を満たすと携帯できるようにしている。</p><p>在学中は学校に設置された専門施設に保管する必要がある。</p><p>⑤ 被災地の焼酎を全国からの支援者が購入した。</p>]]></content>
      
      
      <categories>
          
          <category> NHK听力练习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NHK听力练习 </tag>
            
            <tag> 日本教育 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小白福音？白嫖装机还能开维修店？《装机模拟器》简评</title>
      <link href="2020/07/20/2020-07-20/"/>
      <url>2020/07/20/2020-07-20/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>你是否还在忧虑，购买电脑主机时会不会被无良商家坑骗？你是否曾经拜托过熟人，组装了一台超出预算的电脑主机？电脑装配知识的不足，不仅为 DIY 电脑硬件带来了不便，也成为了任由商家宰割的铁憨憨。那么，怎样才能改变这一现状？对于游戏玩家而言，这款名为《装机模拟器》的游戏，或许可以让许多对 DIY 电脑一窍不通的装机小白，通过在游戏中的实践，实现从癞蛤蟆到白天鹅的转变。今天，就让我们一起来了解一下这款游戏的魅力。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/71c6a5ce41454ec3bab9fe53a5b39695?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><h1 id="入门篇：真机上手、装机无忧"><a href="#入门篇：真机上手、装机无忧" class="headerlink" title="入门篇：真机上手、装机无忧"></a>入门篇：真机上手、装机无忧</h1><p>在正式进入游戏前，有人可能会担心会被硬核的装机玩法劝退。但实际上，游戏已经考虑到这点，并为玩家提供了“装机指南”这一功能。如果你对装机完全不了解，笔者建议在进行正式游戏前，可以先跟随游戏中的引导指南，系统的学习电脑装机的基础知识。装机指南为玩家还原了装机的真实场景，通过游戏的引导，玩家可以在系统的指导下模拟完成装机步骤，同时了解主机的各个配件和其功能。不同于现实中，大多数 DIY 电脑硬件的新手仅能够通过上网查阅资料和观看视频等相关方式学习电脑组装与 DIY 的知识，在缺少实际上手操作的情况下，很难掌握全部的装机技巧和要领。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/a53848434bb44972b16dd0b85a5485cf?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><p>而这种模拟游戏体验的方式，不仅能给玩家一种情景代入感，也能给玩家提供实验的“道具”。通过引导玩家操作的方式，给玩家留下了深刻的“肌肉记忆”。对于 DIY 电脑硬件的“小白”来讲，在第一次操作时，可能会产生些许的迷茫，但如果按照装机指南反复操作、不断地学习，依旧可以在相对较短的时间内，掌握电脑 DIY 的所有基本要素和知识点。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/500abe70d4e446768854efc762617b5e?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><h1 id="进阶篇：店铺经营、乐趣无穷"><a href="#进阶篇：店铺经营、乐趣无穷" class="headerlink" title="进阶篇：店铺经营、乐趣无穷"></a>进阶篇：店铺经营、乐趣无穷</h1><p>可能有人会说，就一个装机教程有什么乐趣，这可就太小看这款游戏了。当你在掌握基础的装机方法之后，游戏才正式开始。与同类型的模拟游戏有所不同，在《装机模拟器》的游戏中，不单单是教会玩家如何组装一台电脑，更是通过开店的方式，来检验玩家在游戏中学到的各种知识。玩家扮演的是一名被无良商家甩锅的新人店长，在与各类用户通过邮件接触的过程中，不断精进自己的电脑维修技术。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/d91bc43146e8426ca702f3df177488f5?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><p>游戏关卡设计得非常人性化，循序渐进。初期对于小白玩家而言，可能只掌握了拆卸电脑和组装电脑的基本知识。因此，游戏前期玩家能够接到的委托，无外乎清灰、杀毒、装系统、更换损坏硬件之类的工作。玩家通过这些易于上手的简单任务，对电脑的拆卸和组装进行了实操，提升了玩家装机的熟练度。除此之外，游戏中也有不错的经营玩法，网上购买配件、合理安排维修顺序、缴纳电费和房租、选择是否使用二手硬件为用户装机等经营性元素，极大程度上丰富了游戏的玩法与可玩性，使玩家能够在开源和节流之间做出抉择，使资金能够维持店铺的正常运转。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p3-tt.byteimg.com/origin/pgc-image/1bcbbc1f90e34048a24cbee41c4630c4?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><p>在游戏中，经历过一段时间的“操练”后，不管是游戏系统又或是玩家自身，已经不再满足于完成前期相对简单的装机委托。此时，游戏会引入了对玩家操作的评分系统机制。客户会在提供委托时，提出一些额外的要求。例如，使用某一品牌的配件、不能使用二手配件、使用某一颜色的线缆、安装 3Dmark 等软件的需求。这些要素能否顺利完成，将会直接影响到客户对玩家的评价。同时在维修中的一些小细节，也会影响客户对玩家的评价，如在更换 CPU 时未涂硅脂散热剂，在订单完成时玩家会收到一星评价。接受订单后，放弃订单也会收到一星差评。评价星级的高低，决定了玩家是否能够接到难度更高、报酬更为丰厚的委托，真实地模拟了现实生活中服务口碑对于店铺收益的影响。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/7ccc3139eb0d4c4a8238870b38af6509?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><p>随着玩家装机熟练度与口碑的日益增涨，游戏中的委托也将会变得更加多样化，给玩家带来更多全新的挑战。比如，在游戏后续的委托中就会引入了 3Dmark 跑分的概念，根据客户对电脑的评分要求，对客户的电脑性能进行估算，更换硬件进行 3dmark 跑分，以达到客户的订单要求；还有根据用户的要求，通过更换硬件使用户能够满足游戏的最低配置和推荐配置的需求。这不仅需要玩家理解 CPU、显卡等电脑主要硬件的详细参数和配置，更需要玩家精通诸如机箱的选配、风道的搭建，以及电源、内存、硬盘等其他相关硬件的知识，再结合客户给出的预算金额，选择配置最为合理、性价比最高的硬件产品，进行电脑的组装。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/59967f478b204f2abbe4fe94949dc96c?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><h1 id="高手篇：自己动手、创意无限"><a href="#高手篇：自己动手、创意无限" class="headerlink" title="高手篇：自己动手、创意无限"></a>高手篇：自己动手、创意无限</h1><p>随着游戏进程的推进，络绎不绝的订单，组装不完的机器，恍惚间玩家可能会产生一种在游戏里上班的错觉。这时你可以选择停下来，尝试一下《装机模拟器》的自由装机模式。在这个模式下，玩家可以使用游戏中所有的硬件产品，组装一台自己心仪的台式电脑。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/a4da215cefa240b99cd69af0478dd8e4?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><p>是追求最完美的配置及最高的 3Dmax 跑分，亦或是追求足以吸引大众眼球的灯光效果。在自由装机模式下，可以让玩家“白嫖”到现实生活中，那些售价高昂的产品硬件，通过在游戏中模拟装机的形式狠狠地过把瘾。当然，玩家也可结合自身的需求，根据自己的预算进行组装配置的模拟，打造出性性价比最高的主机，为自己在购买和选配时提供一定的参考依据。</p><p>而游戏登陆的平台，也为玩家之间的交流、互动也提供了良好的基础，通过在游戏社区浏览其他玩家的作品，获取新的创意，解答游戏中存在的疑难问题。这让游戏突破了单机玩法的限制，通过平台的社交元素使玩家之间产生联系，也让游戏的玩法变得更为多元化和多样性。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p1-tt.byteimg.com/origin/pgc-image/d5d52071407f429baf58604015f7fb1a?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><p>另外，如果对某些品牌抱有独特信仰，还可以购买游戏推出的厂商 DLC。NZXT、雷蛇、玩家国度等 DLC 为玩家提供了不同氛围的工作间，能够更好地衬托出玩家的土豪属性并为机箱的展示提供高逼格的环境，追求极致体验的玩家可以考虑入手 DLC。</p><p><img src= "/img/loading.gif" data-lazy-src="https://p6-tt.byteimg.com/origin/pgc-image/ab12e9f32b924298b3b25a29935b33da?from=pc#align=left&display=inline&height=1080&margin=%5Bobject%20Object%5D&originHeight=1080&originWidth=1920&status=done&style=none&width=1920"></p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>目前，硬核的模拟游戏越来越受到玩家的青睐。《装机模拟器》这款游戏通过真实的操作体验及完美的画面仿真效果吸引了无数玩家进行尝试和游玩。对于游戏小白而言，能够熟悉装机的流程、相关硬件知识、及处理故障的方法途径。对于攒机大神而言，这款游戏又能提供进行配置搭配和艺术创想的空间，可以说满足了不同层次玩家的需求。</p><p>当然，游戏也存在了一些不足之处。玩家口碑评价增长需要花费大量的时间，部分高评价要求的订单无法在短时间接取。而达到要求时，部分订单已经失效。3Dmark 跑分需要大量的时间，游戏前期需要进行很长时间的等待。而游戏的后期，顾客的订单会出现井喷式的爆发，玩家需要应对大量订单，对游戏产生疲劳感。如果制作组能更好的安排游戏后期玩法，并提供更多配件的使用，应该能使游戏更具有可玩性。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏评测 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MoreFun娘——livetune,初音ミク - Satisfaction 1.0ver</title>
      <link href="2018/08/30/2018-08-30/"/>
      <url>2018/08/30/2018-08-30/</url>
      
        <content type="html"><![CDATA[<p>舞蹈动作参考：【踊ってみた】satisfaction【にじまる】</p><p><a href="http://www.nicovideo.jp/watch/sm29847874">http://www.nicovideo.jp/watch/sm29847874</a></p><p>动作文件：废材（<a href="https://twitter.com/nike0killer%EF%BC%89">https://twitter.com/nike0killer）</a></p><p><a href="https://bowlroll.net/file/146103">https://bowlroll.net/file/146103</a></p><p>嘴型数据作成者：Natsuki 　（前垣ナツキ）</p><p>制作:Zhu Fue</p><p>模型修改自：</p><p>和泉紗霧 Ver. 1.03  (<a href="https://bowlroll.net/file/135419%EF%BC%89">https://bowlroll.net/file/135419）</a></p><p>TDA Nero Akita （<a href="https://bowlroll.net/file/117962%EF%BC%89">https://bowlroll.net/file/117962）</a></p><p>Tda Maid Haku Ver.1.0 by iRon01292 （©//twilinght.diandian.com/）</p><p>场景配布：</p><p>RedialC_SkyBox-Block（<a href="https://bowlroll.net/file/152775%EF%BC%89">https://bowlroll.net/file/152775）</a></p><p>Stage 2 by Muchiiu （<a href="https://bowlroll.net/file/174347%EF%BC%89">https://bowlroll.net/file/174347）</a></p><p>视频大小：约 55M（流量慎点）</p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人网站改版</title>
      <link href="2018/07/01/2018-07-01/"/>
      <url>2018/07/01/2018-07-01/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/FOTO1.jpg#alt=&width=50"></p><p>对自己的个人网站进行了维护和改版，增加了欢迎页面。经过研究生第一学期的网站设计学习，已经能较为熟练编写 html 代码。同时能运用 bootstrp 写出较为美观的前端。但对 JS、Jquery、Ajax 等功能还不是很熟悉，需要进一步加以练习。</p>]]></content>
      
      
      <categories>
          
          <category> 生活趣闻 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活趣闻 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>设计艺术研究网站上线</title>
      <link href="2018/06/08/2018-06-08/"/>
      <url>2018/06/08/2018-06-08/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/foto2.png#alt=&width=50"></p><p>历时一年的设计艺术研究网站终于上线了。仅由一人不断摸索完成，实在很难。感谢 1399 在此期间给我的一定指导，让我基本摸清了 hexo 制作网站的流程。</p><p>主站：</p><p><a href="http://sjysyj.whut.edu.cn/">http://sjysyj.whut.edu.cn</a></p><p>测试站：</p><p><a href="http://dawhut.cn/">http://dawhut.cn</a></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>创造101_MMD动画制作</title>
      <link href="2018/05/23/2018-05-23/"/>
      <url>2018/05/23/2018-05-23/</url>
      
        <content type="html"><![CDATA[<p>舞蹈动作：吴宣仪</p><p>动作文件：妮谷丹</p><p>制作:Zhu Fue</p><p>模型修改自：</p><p>TDA Miku Number Nine By Ammy1497</p><p>Tda Maid Haku Ver.1.0 by iRon01292</p><p>场景配布：RC 式空域 04-扭曲_ステージ配布</p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网站后台UI设计（未采用）</title>
      <link href="2018/05/18/2018-05-18/"/>
      <url>2018/05/18/2018-05-18/</url>
      
        <content type="html"><![CDATA[<p>因经费成本问题，设计艺术研究杂志社网站并未采用此 UI 进行后台的链接，因此并未采用此套 UI。</p><p>测试网址：</p><p><a href="https://zfour.github.io/wzhtsy/pages/index.html">https://zfour.github.io/wzhtsy/pages/index.html</a></p><p><img src= "/img/loading.gif" data-lazy-src="https://i.imgur.com/lGMVP0f.png#alt="><br><img src= "/img/loading.gif" data-lazy-src="https://i.imgur.com/5qoWE0Q.png#alt="></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>学校艺术与设计学院创新成果网站设计（未上线）</title>
      <link href="2018/04/24/2018-04-24/"/>
      <url>2018/04/24/2018-04-24/</url>
      
        <content type="html"><![CDATA[<p>学校艺术与设计学院创新成果网站设计。和李直同学合作完成，目前尚未上线。</p><p>测试网址：</p><p><a href="https://zfour.github.io/fdweb/jxcg.cdu.edu.cn/index.html">https://zfour.github.io/fdweb/jxcg.cdu.edu.cn/index.html</a></p><p><img src= "/img/loading.gif" data-lazy-src="https://i.imgur.com/D0tyh4X.png#alt="></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>研究生班级第一次春游烧烤留念</title>
      <link href="2018/04/02/2018-04-02/"/>
      <url>2018/04/02/2018-04-02/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/foto4.jpg#alt=&width=50"></p><p>研究生班级森林公园春游。</p>]]></content>
      
      
      <categories>
          
          <category> 生活趣闻 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活趣闻 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>回母校赏樱</title>
      <link href="2018/03/26/2018-03-26/"/>
      <url>2018/03/26/2018-03-26/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/foto5.jpg#alt=&width=50"></p><p>果然还是华农的樱花好看。</p>]]></content>
      
      
      <categories>
          
          <category> 生活趣闻 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活趣闻 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>首尔国民大学Design Walk 2018工作坊随想</title>
      <link href="2018/02/12/2018-02-12/"/>
      <url>2018/02/12/2018-02-12/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="https://i.imgur.com/KLXCAhR.png#alt="></p><p>努力过，但发现只能吸引小学生和他们的家长，仅仅影响到的只有能力有限的一群人。无法通过设计理念进行一定的发散。与新事物的界限，实际使用上存在一定的局限性。所以，在平衡旧事物与新事物的权重上，综合城市发展，考虑群众意见是十分重要的。一方面保证旧物的历史文化传承，一方面用新的事物来替代旧的事物谋求经济科技的发展。这也是一个需要深入考虑的问题。形式的活动，其实是缺乏准备工作的。在去韩国之前也没能收集完整需要的资料和进行一定主题的思考。在进行工作坊的进程中也缺乏与其他人的沟通，往往抛出了观点，但是却不能很好的给予观点一个合适的统一的定义。以至于最终在确定核心理念的时候也显得比较牵强。再一个，作为非设计专业出身的人，虽说啥都能做一点，但是却都做不精，自身的一些设计相关的基本技能存在不足，还需要一定的锻炼。这需要静下心来，花时间好好钻研一下，毕竟设计需要表达，光靠说和写是没有用的。特别是在这种国际形式的交流中，画图和效果图更能够让人直白的明白。这也让我对接下来研究生的学习有了一定的方向，将自己学艺不精的能力进行加强，同时有目的性的学习新的东西，来提升自己的能力。</p><p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Csoul.jpg#alt=upload%20successful"></p>]]></content>
      
      
      <categories>
          
          <category> 随想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>中国AQI可视化</title>
      <link href="2017/12/06/2017-12-06/"/>
      <url>2017/12/06/2017-12-06/</url>
      
        <content type="html"><![CDATA[<p>做了一个中国空气质量指数 AQI 24 小时变化的可视化图表的作业</p><p>感谢 Jim1399 同学的对代码编写工作的大力支持，没有他无法实现数据的可视化更新以及数据的完美对接。</p><p><a href="https://www.lotlab.org/">友情链接：Jim1399 主页</a></p><p>同时参考了 Echarts 的项目如下：</p><p>[测试 bar3D、scatter3D、geo3D</p><p>By 电竞 1 的魅力 [</p><p>[双向 bar 图</p><p>By 4G 哦路么了[</p><p>[Taxi routes of Cape Town</p><p>By pissang on](<a href="http://gallery.echartsjs.com/editor.html?c=xrJHCfsfE-)%5D()%5D(http://gallery.echartsjs.com/editor.html?c=xS1zMjXe2x)%5D()%5D(http://gallery.echartsjs.com/editor.html?c=xS1a9fLd0W)">http://gallery.echartsjs.com/editor.html?c=xrJHCfsfE-)]()](http://gallery.echartsjs.com/editor.html?c=xS1zMjXe2x)]()](http://gallery.echartsjs.com/editor.html?c=xS1a9fLd0W)</a></p><p>成果展示：</p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>含羞草——设计思考的探索</title>
      <link href="2017/11/27/2017-11-27/"/>
      <url>2017/11/27/2017-11-27/</url>
      
        <content type="html"><![CDATA[<p>。也给自己一个脱离作业束缚的思考机会。</p>]]></content>
      
      
      <categories>
          
          <category> 随想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>中韩文化交流网站</title>
      <link href="2017/11/15/2017-11-15/"/>
      <url>2017/11/15/2017-11-15/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/foto9.jpg#alt=&width=50"></p><p>帮导师制作的中韩文化交流网站，直接采用 hexo 框架搭建而成。</p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海峡两岸创新创意高峰论坛随想 </title>
      <link href="2017/11/12/2017-11-12/"/>
      <url>2017/11/12/2017-11-12/</url>
      
        <content type="html"><![CDATA[<p>笔者参加了 11 月 9 日在湖北大学举办的第十四届武汉台湾周 2017CCIDE 第四届海峡两岸创新创意高峰论坛，从中了解了大陆和台湾在设计上的一些差异。整体来说，整个大会其实都在围绕着一个主题进行，那就是设计上的创新。而听完整个论坛后，我想把这个主题更具象一点，我将其界定为服务业设计的创新。那么首先必须谈下什么属于服务业的范畴。服务业通常分为四个层次，第一层次是流动类，包括交通运输业、邮电通讯业、商业饮食业、物资供销和仓储业；第二层次是为生产和生活服务类，包括金融、保险业、房地产业、地质普查业、公用事业、居民服务业、旅游业、咨询信息服务业、技术服务业等；第三层次是为提高科学文化水平和居民素质服务类，包括教育、文化、广播电视、科研、卫生、体育和社会福利事业等；第四层次是为社会公共需要服务类，包括国家机关、政党机关、社会团体以及军队和警察等。而大陆和台湾针对的服务点也不尽相同，给人的感觉是国内针对一个比较大方向进行设计，与社会结合较为紧密，产业做得很大很广，服务于大众。例如论坛中涉及的大飞机设计、大油轮设计、餐厅及相关品牌产品设计，设计开放与文化教育的结合等方面。而台湾则是就一个针对一个点进行设计，服务于某个年龄段或者某一特定工作的人群或者某一特定的场景，更具有针对性。例如论坛中涉及的摩托的设计、塑胶椅子设计、木刨设计、竹制家居用品设计、智能黑胶机设计。不同于大陆，台湾设计给人感觉是更强调设计师个人的创新思维。不过总体而言，大陆和台湾都在围绕着整个服务业的四个层次上进行创新。这也与我国在十九大上我国社会主要矛盾已经转化为人民日益增长的美好生活需要和不平衡不充分的发展之间的矛盾相契合。在如今劳动力逐渐被智能化的机械所替代时，部分人民解放了双手，但也面临着一些问题。如何去寻找新的就业形式，如何去打发机械带来效率上的提升节约时间后所空余出来的休息时间。服务业的创新发展，在我看来是解决这一矛盾的良药。因此，这次的论坛的本质就不由自主的朝向服务业上的创新进行展开了。接下来，我将从服务业的四个层次来分析这次论坛所讲述的内容。大会一开始就谈到了交通运输业——商飞公司研发的大飞机，让我们了深刻解到了如今国内已经有能力研发属于自己的民用飞机，并已经投入使用。我国对于飞机的研发之路是十分坎坷的。从自主研发喷气式小型飞机 ARJ21，作为省内短程飞行。到 CR929 成功在 2017 年 5 月 5 日 14:01，在浦东机场成功首飞。以及目前与俄罗斯合作研发的国产大型宽体客机 C929，已进入了关键技术的研究阶段。而且国家对于自主飞机的研发也十分重视，鼓励研发属于中国的大飞机。目前在国内高铁已经发展的很好的基础上，为什么还要发展自主研发的大飞机而不是直接购买其他国家的飞机呢？首先，中国已经成为了世界第一大出境旅游客源国。联合国世界旅游组织一份最新报告，中国已经成为全球旅游消费第一大国，中国出境游无论在出境人数还是消费金额方面都增长迅速、规模可观。2016 年，中国出境旅游总消费 2610 亿美元，约占世界旅游消费总额 21%，而在 10 年前，以上两个数字仅为 240 亿美元和 3%。报告表示，中国旅游者源源不断涌向世界各处。2016 年，中国出境旅游超过 1.22 亿人次，继续保持世界第一大出境旅游客源国的地位。出境旅游使用最为广泛的交通方式为飞机出行，在对出境旅游日益增长的未来，对于飞机的需求也是日益增长的。大飞机到底对经济的贡献有多大？美国国际贸易委员会的一份研究报告指出，由大型商用飞机制造串联起的飞机制造业影响了美国近 80%的经济活动。美国国会研究服务报告指出，美国飞机制造业的交付额每增加 1 美元，就使美国经济的产值增长大约 2.3 美元。在美国，出口一架波音 747 客机，可以弥补进口 12000 辆小汽车造成的贸易逆差。如果大飞机能由中国制造，同样也会产生对经济的带动作用，并带动各行业高技术产业的发展。如果能出口他国，那么就可以获得更多经济利益。而对于基建方面，到 2020 年，中国民用机场将从 176 个开支至 240 个，为社会建筑行业创造了更多的工作就业机会。除了飞机之外，邮轮也是出国旅游的主要交通方式之一。和飞机一样，目前我国也处于大型油轮的研发阶段。目前由武汉理工大学主持的邮轮项目，将教育与实践很好的结合了起来。同时与清华大学等优秀的学校和商业组织进行合作，通过该项目加强了学校之间的交流与合作，促进了科技教育层面上的发展。商业饮食业的发展是多方面的，成都窄宽美食投资有限公司的总裁袁龙军将设计美食文化互联网进行了创新的结合。在宽与窄之间寻找到了一种平衡，从开放与宽容和聚焦于每一个细节的理念入手，将难登大雅之堂的川菜以一个时尚，文化的方式推向了大众。他首先开了一间餐馆，将南方和北方文化深入到餐馆的装饰之中，将餐具设计成满足当今时尚的水准。当餐馆获得成功后，他又思考如何将成都美食带给更多群众。他想到了整合整个产业链，打通上下游。通过设计，使川菜成为一个代表城市的符号。从产品的品牌、品味、品质入手，将麻辣做出成都特色，将麻辣形成一个标准，将麻辣的来源选材进行品质控制自己参与种植。再通过互联网进行广泛的传播和营销，以“不麻不辣不成都”的理念，不仅卖出了产品，深入了麻辣文化，还使成都的城市形象得到了提升。在生活服务类，关注细节的台湾设计师有着很好的创新作品，他们将传统与创新进行了结合，体现了一种生态感。例如台湾台北科技大教授陈殿礼讲述了他的木工生涯。将不同种的木材赋予各种文化意义，上升到人生方面与人们的生活有机结合，制作了一系列符合人们居住和情感需求的木质家装。他强调木艺形成文化，将技术、艺术、学术结合，形成了会做，会想，会卖的思维模式。最终将木艺的传承品牌化，使木艺赋予文化生命。通过对简单的木刨工具进行设计，加入文化符号与来自台湾本土的各种风土人情的有机结合，予以其丰富的图案纹样和造型差异。通过寄托祝福，加深木刨的情感内含，最后甚至上升到木刨刨出的木花上的设计，将木刨与木花展品化，通过展览让木艺被更多人所了解。而林桓民则是关注对竹子的应用，利用竹子材料的不同特性进行不同设计。利用竹子弹性设计了折叠台灯，夜灯，以及能根据所挂衣服大小变形的衣架。将设计与自然与生活相结合，做不同的产品。他还将设计与音乐结合，关注了黑胶行业在国外的异军突起，开启了中国黑胶的第一条生产线，并设计了符合年轻人审美的、结合最新技术提供最好体验的黑胶碟播放器。对于传统文化传承层面，台湾科技大学助理教授陈彦延将剪纸与文化进行结合，利用将不同的意识形态融入剪纸图案的设计中，让剪纸充满了对生活的感悟。陈历渝则是就本次论坛中的字绘台北作品进行剖析，讲述了字中蕴含的传统文化，台湾以及当地的民风民富，颇具台湾特色。对于教育层面，潘长学院长提出的是加强学生培养的国际化和不同学校的合作。向我们展现了在设计游轮时注重学生实践培养以及多学校进行合作。在未来几年引入国际力量，聘请国际上的老师参与教学工作之中，开展各种国际交流活动，使思想更加开放化。而浙大教授应放天则是着眼于国内，通过建设设计开放大学，将多领域，跨文化，跨学科的人才汇聚到一起。通过增强国际影响力，将设计艺术遗产化，成为一种文化地域性的知识文化产物，形成一个具有广大影响力的地域。而台湾台北科技大学助理教授陈彦延则开授将设计产业化的课程，将学生的设计设想形成可以盈利的产业，使设计变得有价值，更实际。交通，饮食，生活，教育上的创新，不断解决着广大人民对于服务的需求，也引起了社会的广泛关注。服务业上的创新，有助于社会的发展，我们应该培养这种多角度的创新意识，不仅是从服务的角度出发，还要关注环境，关注互联网，关注科技发展，将设计与多方面结合，形成创新的设计形式，更好的改善人们的生活。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【地球的法则】第八章</title>
      <link href="2017/11/08/2017-11-08/"/>
      <url>2017/11/08/2017-11-08/</url>
      
        <content type="html"><![CDATA[<p>[<br>第八章<br>一切皆为园艺<br>我千万别从你遇到的第一株灌木丛那里采摘野花。<br>——托马斯·班雅克雅，《霍皮族人》<br>野生环境不会自己照顾自己，它需要我们付出心血。<br>——生态学家丹尼尔·简森（Daniel Janzen）</p><p>PART   1   印第安人的智慧是假的</p><p>生态系统是一门古老的艺术，自从人类掌握了取火技术之后一直在应用和滥用。现在我们既不应该重复古人的错误，也不应该忽略他们一些聪明的做法。为了这个目的，我们首先要搞清楚以前究竟发生了什么事，这就需要我们暂时忘掉那些关于土著的美丽故事。浪漫主义一直跟美国印第安人不太有缘分。大多数人是从小说里了解到印第安人的生活的，像《唐璜》，《小树的教育》，《跟踪者》，《崔热女人》，《布法罗女子来歌唱》，《灵歌》和《七箭》。《突变的消息在下面》也属于同类，但是关于澳大利亚原住民的。这些都是销量数百万的书籍，而且其中有两部是奥普拉推荐过的。但这些全都是假的。几乎所有的故事都是关于一个白人受到一个土著精神导师的庇佑，学到了一些古老的智慧，顺便让读者也分享到一些颇为秘密的内部知识。这些原始部落包括让亚基、切诺基、阿帕奇、克里、乌鸦、齐佩瓦、夏安以及澳大利亚原住民。然而，这里列举的每一本书都被土著人认为是对他们的侮辱。读者期待的到底是什么，为什么我们受骗？（卡洛斯•卡斯塔涅达的第一部《唐璜》的确令我着迷，但它的续集越来越成为赤裸裸的瞎掰。）我想我们从这些书中读到的东西跟自己的生活是错位的。那些神秘的知识，即便是真的，在脱离了它根植的文化之后，对外人也很难有真正用处。他们的文化根基是书中没有涉及的。只有他们知道该如何在特定的环境下生存，这种本领才是值得学习的。许多人认为，印第安人的智慧在畅销书和电影中看到的显然是假的，那么真正的传统智慧肯定已经从现代社会中消失了。我发现并非如此。<br>智慧只有来源于生活才能真正根植于生活。<br>PART   2   和印第安人一起生活<br>1963 年，我离开军队以后，曾在俄勒冈州的温泉胜地做过一些特约摄影。当代印第安人的生活现状给了我很多启示。于是在之后的几年里，我每年夏天都会和不同的土著部落生活一段时间—包括瓦斯考、派尤特、纳瓦霍、霍皮、进念、陶斯、季卡瑞拉、阿帕奇、帕帕勾（现在的套后诺•欧•欧达汉姆）、犹他、黑脚、苏、切诺基、庞卡。我加入了印第安人的教会（仙人掌对他们来说是神的象征），还娶了渥太华的一名印第安数学家，她叫路易斯•简宁（LoisJennings)，长着一头乌黑的头发。那几年一到冬天，我就会到博物馆以及夜总会去做题为“美国需要印第安人”的多媒体展示。这些为的是什么呢？当你跟真正的印第安人在一起的时候，你根本就不可能假装也是印第安人（我想我更多的是在学习怎么做一名美国人，只是这跟忠诚誓言没有任何关系。有一年的 12 月的一个寒冷冬夜，在新墨西哥州的一个叫阻尼•普爱布罗的地方，我看到人们把一个个 10 英尺高的沙拉克斯(shalakos)神像抬到专门为他们跳舞而翻修的屋子里，而屋子另外一边几个缺德鬼正在挨个取笑在场的每一个人。庄严的仪式当然是不容许他们亵渎的，但这些捣乱者的存在恰恰使得神像显得越发威严。这比外面的严寒更让我敬畏得发抖。大多数北美部落是母系部落。我是在一次宗教聚会上了解到这一点的。20 世纪 60 年代的时候，美洲土著教堂的副主席是一位名叫侯拉•左（HolaTso)的纳瓦霍人。那次我去他家，他像其他所有的印第安部落一样热情地招待我，并且邀请我参加他们的会议。“仙人掌会议”的形式设计得非常合理。没有什么神秘的部落知识，遍布北美都是这样。会议成员包括修路工人、雪松工人、鼓手以及消防员，但他们都没有权力，只是严格地履行行政义务，不过都非常尽职尽责。只有一位成员显得更重要一些，不过他要到会议快结束的时候才出场。这是一个漫长的夜晚，午夜时分大家纷纷要水喝，凌晨 3 点个个焦躁不安，直到黎明时分会议终于结束。等到太阳出来照亮了面朝东方的帐蓬大门的时候，一个与会的妇女(仙人掌妇女）带着食物走了进来。侯拉•左的声音充满了权威，令我折服。新鲜的水果和熟肉的香味撩拨着我们的感官，但她一定要让我们先听完她讲话再吃。她是要提醒我们食品是她提供的，提醒我们生命也是从她那里来的。她要等到这个观念深入到我们的内心深处，然后才给我们发放食物。我觉得自己这颗年轻男性的头脑被仙人掌女人解放了。当然，我所能看到的仅仅是很小的一部分。所有的文化传统都原封不动：谢尔曼•埃里克斯（ShermanAlexie)笔下老掉牙的“印第安”，泛印第安的半派对半秀场的帕瓦巫术，充满爱国情结的军事服役，神圣地点的神秘仪式，财机无限的赌场，为数众多的监狱，跟美国印第安事务局无穷无尽的交涉，繁荣昌盛的手工艺品市场，部落语言的复兴，等等像我这样的非印第安人难以看出端倪的事情。美洲原住民系统是非常强健的。你可以从彼得•纳博科夫《闪电的地方：美洲印第安圣地的生活》一书中领略到印第安人深厚的文化根基。这本书以时间顺序记述了保护神圣领土的政治斗争，包括陶斯普韦布洛附近的蓝湖、黑丘陵、珍贵的拉科、夏安以及并基奥瓦。他以亲自探访的经历告诉我们这样的土地有多少，以及这些地方为什么是值得守护的：根据加州印第安遺产委员会于 1980 年统计的结果，全州 70%的土地上分布着 57000 个村庄、岩画、基葬、食品和植物采集、神灵家园和宗教场所的遺址。诗人加里•斯奈德（GarySnyder)说过：“从印第安人身上，我们可以学到一些东西来帮助我们更加 r 解自己。这是从其他人身上学不到的。”在美洲几乎每一个国家都有一些没有被其他文化侵扰过的原生族群。一些欧洲国家也有，例如瑞典的萨米人[Sami,原名为拉普人（Lapps)]。澳大利亚有自己的土著人，新西兰有毛利人。非洲的财富之一就是拥有人类在世界卜-延续最久的人类分支。大多数亚洲国家也都有一些延续时间很长的族群，例如日本的阿伊努人。他们是各自的国土上最有经验、跟环境相处得最好的居民，因此他们的原生传统值得保存和恢复。<br>“仙人掌会议”体现了印第安人深厚的传统文化根基。<br>PART   3   美洲土著遭受的灾难<br>美洲的印第安人，以及占大多数的非印第安人，还有他们居住的这片土地，至今依然生活在 16、17 世纪欧洲人和美洲土著人激烈冲突所造成的创伤和阴影中。美洲大陆的十著人口总数在 1491 年估计有 5000 万到 1 亿之间，到 1650 年就骤减到 650 万。这是人类历史上最大的灾难，世界上 1/5 的人口消失了。人们普遍认为这是战争的结果，但它实际上是一个彻底的生物灾难。由于对欧洲疾病没有免疫力，土著居民被天花、流感、肝炎、百日咳、痢疾、白喉、麻疹、腮腺炎、霍乱、伤寒、黄热病、退红热和鼠疫一波又一波地屠杀着。密西西比河流域、亚马逊和尤卡坦半岛人口稠密的地方完全被掏空，以至于新的欧洲人到达的时候，以为根本没有人住在那里。多亏了这些被清空了的村庄里的残存食物，朝圣者们才勉强度过了他们的第一个新英格兰的冬天，那是在 1620 年。第二年的秋天，当地马萨索伊特人（Massasoit)的首领在第一个感恩节的时候拿出一部分粮食分给了欧洲人：这是因为疾病把他所领导的部落人口从 2 万削减到了 1000,他们有余粮。关于这些，査尔斯•曼恩（CharlesMann)的《1491:前哥伦布的美洲启示录》{1491:NewRevelationsoftheAmericasBeforeColumbus,2005 年）可以用作参考。我们被各式各样的新闻搞得不知所从，如果能看看古人们如何管理生态系统，对我们来讲尤为珍贵。在人口大灭绝之前，美洲大陆是一片管理有序的土地，在那之后就变成了一个废弃的花园，而欧洲人错误地理解为它本来就是一片荒野。他们来到之前，森林就像是公园一样，树木是不受杂草干扰的，后来除草的人死了，树林就变得不可理喻。数百万的鸽子在天空黑压压地聚集，因为跟它们争食物的人类都不见了;数百万的野牛占领了平原，因为屠杀它们的印第安人已经死了。“我们以为是欧洲人开启了美洲的拓荒进程，”曼恩写道，“与此相反，是他们血淋淋地创造了荒野。”难怿气候学家威廉•鲁迪曼（WilliamRuddiman)指出，美洲大陆的造林运动引发了大气中的二氧化碳含量的下降。査尔斯•曼恩说，在哥伦布到达之前：农业度盖了如今的美国国土近 2/3 的面积，西南部梯田成片，灌溉良好。成瓦上千个小土丘点缀在中西部和东南部的玉米地里。东部沿海地区的森林也已经被改造成良田。三文鱼网遍布了西北地区的每一条流向大海的河流。而且，印第安人的篝火无处不在。<br>欧洲人的殖民对环境和印第安人民都造成了一定的破坏。<br>PART   4   墨西哥土著基于生物炭开发的栽培系统<br>基因学家尼娜•费德罗夫（NinaFederoff)说，玉米“可以说是人类最初的，并且可能是最伟大的基因工程壮举”。她告诉査尔斯•曼恩：“今天如果你想用大刍草种出玉米，你是不可能申请到研究基金的，因为这个想法听起来太疯狂。实现了这个想法的人放到今天的话肯定会得诺贝尔奖。当然，前提是他的实验室不被绿色和平组织关闭。”除了把一种没什么前途的野草变成世界上燉高效最流行的农作物之外，墨西哥的土著还开发了一种栽培的系统，曼恩写道：“这种系统将多种植物种在一起，包括玉米、鳄梨、不同品种的南瓜和豆角、甜瓜、西红柿、辣椒、红薯、豆薯（一种块茎植物）、苋菜（一种谷类植物），以及黎豆（一种热带豆类）。”豆类沿着玉米杆向上爬到有阳光的地方，同时对土壤中的氮起到固定作用，并提供玉米中相对缺乏的烟酸、南瓜里缺乏的维生素和鳄梨中缺乏的脂肪。这样，他们的饮食中只需要很少量的肉。玉米和栽培地技术大大推动了中美洲的文明化进程。曼恩的书中写道：“在玛雅圣经《波波尔•乌》的创世故事中，人就是用玉米做成的。”[迈克尔•波兰在关干美国农业的《杂食动物的困境》—书中对此持有类似的观点，尽管不是十分肯定。]栽培地系统本身就具有内在的可持续发展性，墨西哥的一些栽培地已连续耕种长达 4000 年了。现代许多混养农业的思想都是从古代社会栽培地式复杂耕种系统继承而来的。近期关于亚马逊的研究揭示了早期农业的另一个伟大发明。该流域热带雨林的土壤极度贫瘠，所有的人都认为只有狩猎采集部落才能在那里生存，农业基本上是不可能的。尽管 16 世纪西班牙探险家在对亚马逊的报告中指出“那里存在着大量的居民……有一个城市绵延 15 英里，房子挨着房子”，无农业的理论还是流传了很久。在 20 世纪 90 年代，考古学家开始在热带雨林里发现大量的土建工程，说明这里以前人口密集。同时还发现了葡萄牙语里被称为“印第安黑土”的奇特的黑土壤区域。这片肥沃的黑土地看上去是用刀耕火种的技术大面积人工生成的。人造木炭为贫瘠的雨林土壤带来了希望。曼恩说：“印第安人成功地解决了他们所面对的生态问题。他们改造自然，而不是顺应自然。当印第安人正在热火朝天地改造亚马逊的土壤的时候，哥伦布来了，他的到来毁掉了所有的一切。”近来“黑土”（terrapreta)热潮引起了生物能源实验者和农学家的兴趣，他们把这种神奇的物质称为生物炭。土壤中的木炭为微生物提供栖息地，保持土壤养分，对碳进行隔绝，这种技术看上去已经存在了几千年了，因为最早的耕地可以追溯到 4500 年前。它可以减少一氧化二氮的排放，并防止雨水中磷和氮的流失。一些黑土土壤深达 6 英尺，所含的碳通常是普通亚马逊土壤的 10 倍。在生物炭的会议上、企业里和 DIY 的网站上，“黑金革命”和“负碳生物能源产业”是经常被谈起的话题。《探索》杂志中的一篇文章热情洋溢地说：对农业废弃物进行受控的高温分解，可以将木材和其他有机废物转化成有用的挥发性气体、热能和电能。这个过程是双赢的：燃烧花生壳、稻米壳这样的东西能够产生大量肥沃的生物炭，把它们混入土壤中能够氏消掉排放到大气中的碳，不仅是燃烧过程本身产生的碳，而且能抵消衍生燃料燃烧所释放的碳。澳大利亚生物学家蒂姆•弗兰纳里在一个生物炭会议上宣称：“生物炭可能是对未来人类环境最最重要的一个发明。生物炭的方法提供了一个独特而强大的的解决方案，因为它允许我们以一种非常现实可行的方式来解决粮食安全、燃料危机和气候问题。”而且不用说，印第安人首先发现生物炭的这个事实更加使得整件事情酷劲十足。<br>墨西哥土著通过生物炭改造种植的环境，但是这一切都被哥伦布的殖民摧毁了。<br>PART   4   印第安土著的资源管理<br>如果《1491》是最好的介绍土著生态系统工程的书，那么最有启发性的教科书是民族生态学家凯特•安德森（KatAnderson)的《关照野生环境：美洲原住民的知识和对加州天然资源的管理》,18、19 世纪来到加州的西班牙人和美国佬“在很多地方看到的并不是原始的、几乎无人居住的荒野，”她写道，“而是经过细心照顾的‘花园’，是几千年选择性耕种、开垦、火燎、修剪、播种、除草和移栽的结果。”当时有草原和牧场，参天的大树和公园般的森林，漂亮的野花和丰富的酐生动物，这些都是当地 500 个印第安部落精心呵护的产物，而这些丰功伟绩从未被我们认可和感激过。两个肚纪后，南方寒拉利昂米沃克的长者詹姆斯•拉斯特（JamesRust)告诉安德森：“毫无疑问人类毁了这个国家。他们已经把它变回到荒野了。”加州的印第安人在用火方面特別厉害，安德森写道：有计划地纵火增加了食用块茎、蔬菜、水果、种子和蘑菇的数量和密度，丰富了野生动物饲料，控制了昆虫，消灭了可能破坏野生食物和竹编、绳索材料的疾病，并促进了一些实用性植物的生长，它们可以用于家居用品、粮仓、鱼堰、服装、游戏、狩猎和捕鱼陷阱，以及武器。也能够清理生物遣弑、通过营养回收来促进植物生长，减少植物竞争，并保持特定的植物群体种类，如沿海草原或山地草句。加州印第安妇女能够使用 78 种植物制作世界上最精美的花篮。这种篮子编制得非常细密，可以用来盛水，他们煮橡子面粥（当地主食）的时候就需要把滚烫的石头放到装水的篮子里去。精细的材料对园艺十分苛求。安德森说：“几乎每一种用来编篮子的莎草、野花、蕨类、灌木、树和草都是经过编织者吹毛求疵般地精心呵护培养出来的。”在当时，这些可能都是妇女们做的工作，因为“加州原住民部落的妇女都是民族植物学家，她们对植物进行测试、选拔和培育，而男人们都是民族动物学家，负责去实践他们丰富的动物知识和熟练的狩猎、打渔和捕鸟技术”。安德森了解到，他们是有着严格规则的：不要浪费已经收获的粮食，也不要收割完地里所有的粮食，留一些给其他的动物，留一些让它们重新长出。今年只除掉树木一侧的根，明年再除掉另一侧。[萑皮人托马斯•班雅克雅(ThomasBanyacya)也持类似的观点，告诉我“不要从你看到的第一棵树丛中采药”的就是他。]他们的所有权是双重的：既属干个人或家庭私有，又属于社区共有。在泼墨部落，人类学家发现：“所有长在山谷底部的大橡树都归私人拥有，而丘陵地区的都是归整个村庄所有。”皮特河（PitRiver)—位名叫威拉德•罗兹的先生告诉吉安德森：“爱护大自然，它才会爱护你。”<br>印第安人有着与自然能够和谐相处的方法，可持续的进行着发展。<br>PART   5   生态系统工程师<br>“生态系统工程师”这个令人振奋的名词是生态学家克莱夫•琼斯在 1994 年提出的。2003 年，牛津大学生物人类学家约翰•奥德林-斯米（及合著者）把“生态系统工师”与“生态位构建”和“生态继承”这两个新槪念联系起来。海狸通过创建水塘和自己的水坝实现生态位构建，蚯蚓改造土壤来适应自己。它们在这个过程中都改善了环境，造福了其他生物体。这使得它们有资格被称为“生态系统工程师”。由于被改造的环境能够持续较长的时间，“生态继承”便成为了除了基因继承之外的另一个进化路径。海狸和蠕虫会逐渐进化，因为它们需要适应经过他们改造以后的环境。考古生物学家布鲁斯•史密斯在 2007 年发表在《科学》上的名为“终极生态系统工程师”（这里指的是我们人类）的文章写道：“‘自助者天助’是生态位构建或生态系统工程概念背后的基本思想。”这是我们人类起源的一部分。他指出，早期人类进行可控性用火的证据可以追溯到南部非洲 5.5 万年以前。史密斯提出了关于动物驯养的一个有趣的观察角度：“在亚洲……对狗(狩猎）和瓶状葫芦（容器）这两种实用生物的驯化直到距今 12000 年的时候才开始有人为干涉，在那之前，狗和葫芦都是在针对人类进行着生态位构建。”从这个角度来看，我们并没有影响狗的进化，我们允许它们来塑造自己，跟人类一起成为改善大自然的一分子。<br>人类是终极生态系统工程师，他们改造自然，同时引导了某些动物的生活方式。<br>PART   6   巴厘岛梯田灌溉系统<br>精美复杂、细致入微的生态系统工程的实例之一，是已经有 1000 年历史的巴厘岛梯田灌溉系统。“完美的秩序”，是人类学家斯蒂芬.兰辛在他的讲座和书籍中描述巴厘水寺系统的时候使用的词。9 世纪的隧道方阵和陡峭的火山山脉上的水稻梯田通过一个自下而上的叫做合作组（subak)的系统进行管理。每个合作组是一组拥有毗邻稻田、从而共享水源的稻农。他们的会议非常民主，与巴厘岛上其他的等级分明的会议不一样。合作组通过有层次的水寺网络连接在一起。“巴厘人称他们的宗教为阿伽马•特莎（AgamaTirtha)，就是水的宗教的意思，”兰辛说，“每座村庄的水寺对流进附近水稻梯田的水进行控制。地区水寺控制流到更大区域的水。”灌溉系统的普遍问题是，上游用户的权力太大，对下游用户不够慷慨。他们可以截住所有的水，让下游的竞争对手没饭吃。那么巴厘岛人民何以如此慷慨？兰辛发现，下游用户也掌握着一定的生杀大权，因为只有当大家都在同一时间播种水稻，害虫才能得到有效控制（这样会让害虫在耕种季节撑死，而在其他时间饿死）。如果上游没有留足够的水给下游，那么下游就可以拒绝与上游同步播种，这样害虫将会把上游的作物吃光。这种权力的制衡足以保证稻农之间遵守他们之间的协定。管理的民主和透明保证了系统能够合法运行。除此之外，兰辛说：“水寺的目的是驯服过盛的激情，保证一切按部就班。”他说在巴厘岛的语言和理解中，“稻田就是‘宝石’，同时也是‘头脑’”。绿色革命（这一次实实在在地扮演了一次恶人）干 1971 年抵达巴厘岛，由亚洲开发银行资助。为了实施新的方案，政府向稻农们提供了技术“套餐”，包括化肥、农药和抗病虫害的种子，并呼吁农民“尽可能多地进行播种”，而不是继续实现水寺系统的脉冲时间表。其结果是：几年时间损失了数百万吨的大米，其中大多毁在了贪婪的害虫手中。产量不断下降，农药的使用量不断增加。在兰辛的研究结果的影响下，亚洲开发银行的决策者开始相信水寺系统的有效性。20 世纪 80 年代，巴厘岛政府终于被说服，抛弃了绿色革命提供的农药和增加播种次数的建议。一切又恢复到以前井然有序的状态。当系统恢复运作以后，巴厘岛的稻农们从绿色革命带来的新的高产水稻品种中获得了益处，可是另一方面，他们也保留了使用大量化肥的做法。这是不必要的，因为巴厘岛的水本身就含有丰富的自然养料。多余的化肥流进大海，令藻类窒息，从而破坏了珊瑚礁的生长，这个过程被称为水体富营养化。受水体富营养化损害的不是巴厘岛居民，而是布吉（Bougainese,苏拉威西岛南部民族）的渔民，而上游的稻农们听不到他们的不满。水稻种植可能能在接下来的 1000 年内都没有问题，但依赖珊瑚礁的鱼类将陷入困境。巴厘岛的水寺系统是一个管理公共利益、改进和维护自然基础设施的绝佳范例。但是那些可怜的珊瑚确们该怎么办？可以寄希望于生态旅游学家在潜水产业上做一些努力：他们可以向巴厘岛政府施加一些压力，要求稻农们减少化肥对海水的污染。更加完美的方案是，潜水经营者加入水寺系统，形成自己的权力制衡。<br>技术不一定是最好的，往往经验总结的一些方法更适合人与自然和谐发展。形成一整套体系有助于人与环境的和谐发展。<br>PART   7   生态工程的弊病<br>生态系统工程好处多多，但有时也可能带来弊病。它既可以增加生物多样性，也可能削弱它既可以稳定生态系统，也可以导致混乱。关于生态系统工程带来的不良后果，一个经典的例子就是人类对巨型动物的所作所为。当年人类一到达处女地，就杀死或烧死一切体型巨大或行动迟缓的动物。在澳大利亚：巨大的蜥蜴、袋熊、巨型袋鼠和不会飞的鸟；在马达加斯加：巨型的河马、猫鼬、狐猴和乌龟，在北美，就在 1.3 万年前：乳齿象、猛犸象、树懒、老虎和牦牛-。美洲大陆上 3/4 的大型动物物种在“更新世大灭绝”（Pleistocene extinctions)中消失殆尽。环保生物学家丹尼尔•简森在加州的一次演讲中提到：“曾经在这个地方走动过的动物是非洲大象重量的两倍。它们都被陷在拉布雷亚沥青坑里。是我们的人把它们挖出来的。这就像去东非用机关枪扫射那些大象。”这对后来的历史产生的最严重的后果，就是美洲大陆上的第一批人类杀死了北美原生的马、骆驼、牛、猪这些本来可以被驯养的动物。因此，1492 年，当欧洲人到达以后，他们带来的不仅是军事上的优势，还带来了北美土著无法抵御的疾病（由于欧洲早已开始驯养家畜，他们体内已经有了相对强的免疫能力。美洲这个原本被长矛、火、妇女（耕种）所驯服的大陆从此开始被新的生态系统工程师进行改造，这些工程师们的工具是枪炮、病菌和钢铁。人类史前史留给我们两个残酷的真理。发明了生物多样性这个名词的爱德华•欧•威尔逊（EdwardO.Wilson)是这样说的：“人类迄今饰演的是星球杀手的角色，只关心自己的短期生存利益，而极大地损害了生物的多样性。”史蒂芬•勒布朗在《持久的战争》中阐述了另外一个真理：如果一个物种能够进入生态平衡状态，并能在环境变化的时候不发生数量上的巨变，那么不能够这样做的物种将处于一个极大的弱势。在一个由许多物种组成的世界里，成功的物种是那些在和平年代能够发展自己、当资源耗尽时能够坚持斗争到底的种族。如果只是个别物种保持可持续发展的理想生态环境，而它们的邻居们并不这样做，那么也是毫无用处的。就是这个模式，人类发现了新大陆，来了以后就进行肆虐的破坏，然后安顿下来。接下来人类之间又开始相互入侵，进行屠杀，最终又安顿下来。这些年来，人们发现已经没有无人居住的地方可以入侵了，所以我们说，我们要停止互相侵略了。如果我们能够有幸避免气候的变化把我们重新拉回到入侵游戏，那么我们最终永久“安顿下来”的希望究竟在哪里？我们从史前学到的令人鼓舞的教训是：安顿下来意味着在一个地方生存，并对“关照环境”和发展农业给予同样密切的关注。<br>人破坏了生物的多样性。适者生存，不适者被淘汰。<br>PART   8   丹尼尔•简森的观点<br>生态学家丹尼尔•简森在一篇发表在《美国国家公园》杂志上的文章中这样写道：“我们有必要尽快认识到，那些保留下来的野生环境就是我们未来的花园、水厂、娱乐中心和杂货店；它们是全球最好的科研、娱乐和审美的知识库；它们是积碳床、生物降解器、回收站、缓冲区和改良者；它们也是沙盘和秋千；它们同时也可能成为扒手、破坏者、酒鬼、超速者和蠢货的滋生环境。”简森的话是有权威性的。他和他的妻子，生物学家温妮•豪瓦奇（WinnieHallwachs),因为帮助哥斯达黎加成为世界上最绿色的国家而得到嘉奖：哥斯达黎加国民把自己的国家当成一个国家公园。为了建成著名的瓜纳卡斯特保护区（现在已经列入世界遗产名录了），“简森和豪瓦奇从生态、政治、文化、金融等各方面进行综合研究，最终成就了一场保护热带森林的革命。”这是威廉•艾伦在 2001 年记录该项目历史的《绿色凤凰》—书中记述的。简森在世界各地的热带地区的经验告诉他，如果保护自然环境是出于美学或政治目的，那么环境是不能得到真正保护的。一旦偷猎者、伐木工和政客们把公园变成了战场，这就预示着消亡。他坚持说，想要永久地保护自然，就不能把大自然仅仅当成花园，而是要当成商业花园。要么付出代价去打理和关照，要么就面临死亡。简森写在《科学》中写道，像瓜纳卡斯特公园这样的原始公园，“具备几乎所有我们赋予一个花园的特质：呵护、规划、投资、分区、保险、微调、研究，以及有计划地收割”。他把在瓜纳卡斯特发现的 23.5 万种物种看做庄稼，而把那些生态观光者看做“比较文明的牲畜”。简森指出：“哥斯达黎加的生态旅游作物的价值超过咖啡、香蕉和牲畜作物的总和，而哥斯达黎加是世界第二的香蕉生产国。”简森非常善于寻找各种途径为瓜纳卡斯特创造财政收入，比如通过科学研究，通过药品生物勘探，通过签订各种生态系统服务的合同，比如利用从受保护林区流出的淡水资源。当保护森林公园取代了放牧和砍伐，他会确保当地人民从森林公园和周边地区得到新的更好的经济机会，比如他们经常会帮助从事世界级科学研究的分类学家和生态学家做一些辅助的工作。(如果我说“一个外行改变了一个国家”，一定会惹恼简森和哥斯达黎加人民。简森只是生长在一只非常聪明的牡蛎中的一颗幸运的沙粒罢了。《新科学家》说，哥斯达黎加是“第一个扭转了滥伐森林的热带国家。由于进行了养护和补植，它的森林覆盖率已经从 1987 年的 21%增长到今天的 52%”。是哥斯达黎加完成了这个壮举，而不是宾夕法尼亚大学教授简森。）<br>要把大自然当成商业花园，从而更好更持续的为了人类的发展着想。<br>PART   9   原始生态商业化<br>如果你善于发现的话，原始生态商业化的好处随处可见。例如，《自然》杂志报道说：“赏鲸带来的就业机会以及带来的经济收益是商业捕鲸永远都无法产生的。”我每星期都去徒步穿越的马林县山区，是由国家公园、州立公园、县公开上地和马林市水区组成的。你们猜哪个是维护得最好、拥有最好的徒步路径、最好的栖息地重建义工项目、最少外来入侵物种，以及最可靠的以十年为单位的资金？当然是 21000 英亩的水区。包括我在内的 19 万客户，每年心甘情愿地向水区支付 5500 万美元用来保护该流域。我们付钱喝水，这些资金被用来维护我们进行徒步的小路，为我们遮荫和保持土壤的树木，以及帮助我们控制山里的鹿和狮子的数量，它们是间接受益者。彼得•卡雷瓦（PeterKareiva)是大自然保护协会的首席科学家。他阐明了环保组织日益认识到的一点：“我们不能再认为保护区是‘防止人的破坏’，而要把它看作是‘为了人’而保护的资源和财产。”卡雷瓦在 2007 年的《科学美国人》上发表了一篇与米歇尔•马维尔（MichelleMarvier)合著的文章，其中给出了一个例子说明这种思维方式的转换。佛罗里达州的墨西哥湾沿岸易受风暴袭击，具有丰富物种的沼泽地和牡蛎礁的栖息地正在逐步丧失。为了找到解决方案，大自然保护协会的研究人员找来了几张地图，分别描绘该地区最重要的生物栖息地、最密集的人类居住地，以及最危险的暴雨袭击区，然后把它们叠加起来寻找重叠区域。他们决定将重建栖息地的努力集中在能够同时最大限度保护人类和野生物种的地方。卡雷瓦敦促环保人士“将精力集中在生态系统退化最能危害人类福祉的地方：亚洲的红树林、美国东南部的沼泽、非洲亚撒哈拉的干旱地区，以及世界各地的珊瑚礁”。丹尼尔•简森认为，对于野生环境，如果只是任其发展，这并不是真正的保护。他在发表于《科学》期刊的文章中写道：问题不在于我们是否要管理大自然，而是我们应如何管理它，是随机管理、随意管理，还是有明确目标地进行管理？……恢复是可持续发展的关键。恢复包括对原始环境进行筑栏、播种、施肥、耕作和除草：继承、生物修复、更新造林、植树造林、林火控制、有计划地火烧、人群控制、生物控制、重新引进、缓解，等等。重建原始环境这一策略的一个主要优点就是它把很多人引人到这个过程中来。在《设计的大自然：人，自然过程和生态恢复》中，埃里克•希格斯(EricHiggs)指出：“拔草、种植、将一个河岸改造得让它与历史特点相匹配，成参加火耕活动，这些都有助于唤起一种对土地的强烈奉献精神。”志愿者与上地建立了感怙，也与其他志愿者建立了感情。与此同时，他们也同时代和历史建立起了深刻的纽带。希格斯写道：“我们的重建行动是针对过去的，但我们真正的兴趣是为未来建立起一个参考模式。”我想补充的是，这些重建志愿者们也学会了谦卑，因为他们加入了迈克尔•波兰所说的“与花园里其他物种进行的最存喜剧性的对话”。你努力除草和播种，然后看着那些植物所做的事情跟你想象的完全不同，完全事与愿违。21 世纪，全球变暖正迫使保护主义者重新考虑他们的策略，因为他们试图阻止生态系统发生变化的目标已经不可能实现了。现在他们的工作是帮助生态系统去适应。随着气候变暖，为了找到适合生长的温度范围，物种们都在向高海拔和高纬度地区移动。要做到这个，它们需要在有障碍的地方有保护通道。如水体，它们可能需要一些帮助才能渡过。可能需要开门迎接铃经被当做外来入侵者的物种，如“灰北极熊”（灰熊与北极熊之间的混种），以前是需要警惕的物种，现在需要它们来支持适应。将生活在特定区域的物种保护起来儿乎不可能，如靠近山顶的地方，就不得不放弃掉。与此同时，保护主义者也在侦察未来的机会。大自然保护协会的彼得•卡雷瓦指出：“海平面上升时能把今天陆地上的一块随机栖息地变成明天宝贵的沼泽和湿地。”<br>通过商业化的方法加强人们保护资源的意识，同时适应环境的变化。<br>PART   10   对大自然放任不管<br>本章花了大量篇幅论证人类应该有意识地去关照大自然。我想我也需要说说与此相反的做法，那就是对大自然放任不管。在整个欧洲，只有一个真正的原始森林保留了下来，它就是比亚沃维耶扎原始森林（PuszczaBialowieska)。整个 380 平方英里的森林面积横跨波兰和白俄罗斯边界，是世界遗产地，生态保护区，间时也是这两个国家的国家森林公园。艾伦•韦斯曼（Alan Weisman)在《没有我们的世界》中写道：“在这里，白蜡树和菩提树有将近 150 英尺高，在其巨大伞盖蔽护下，角树、蕨类、沼泽桤木和陶器大小的菌类生长并互相缠绕在树下。橡树被 500 年的苔藓所覆盖，树如此巨大，以至于美丽的啄木乌们能够在它们 3.j•深的树皮沟内储存松果。”韦斯曼的向导，一位名为安杰•博別克（AndrzejBobiec)的波兰生态学家，从森林中总结出了一个对欧洲很有教育意义的结论：当博别克还是克拉科夫（Krakow)的一名林业系学生的时候，他一直被教育说要治理森林，实现它们生产能力的最大化，其中包括除掉“过剩”的有机垃圾，以免滋生树皮甲虫等害虫。后来，在参观了这个原始森林之后，他惊奇地发现这里的生物多样性比他见过的任何森林都要高出 10 倍以上。这是仅存的一个能看到所有 9 种欧洲啄木鸟的地方。他意识到这其中的原因是有一些啄木鸟只能在空心的、垂死的树干上筑巢。“它们无法在经过人工治理的森林里生存，”他向他的林学教授指出，“1000 年来比亚沃维耶扎自我管理得很好。”类似的故事我从詹姆斯•洛夫洛克那黾也听到过一个：他 30 年前在德文郡买了一座农庄，“刚开始的时候，我想好了要满眼的绿色，所以我种了两万棵树。但这是个错误，真的。它们长得并不太好。反而是在一片我没有碰过的土地上，一派繁荣昌盛，树木和其他植物长势良好、生机勃勃。于是现在我的哲学变成了：不要管它，也不要触摸它。其实这样也更容易”。你猜东北亚地区最丰富的野生动物保护区在哪里？给你一个提示：这个地区包含了 5 条河流和许多生态类型，包括森林、山脉、湿地、草原、沼泽和河口，有超过 1100 种植物，50 种哺乳动物，包括亚洲黑熊、豹、猞猁、羊，并可能有虎；数百种鸟类，其中有许多国际自然保护联盟（IUCN)定义的濒危物种，包括黑脸琵鹭、丹顶鹤、白枕鹤和黑鹫；超过 80 种鱼类，其屮 18 种是区域性的……还有数百种鸟类迁徙路过这里。(IUCN 即国际保护自然保护联盟，维护官方的濒危物种红色名录。）是的，这个地方就是朝韩非军事区（DMZ),—个 155 英里长、2.4 英里宽、布满了地雷、自从 1953 年 9 月 6 日停战协定后就无人居住的地区。山上的森林逐渐长了回来。以前的农业土地又重新变成草原和灌木丛。不需要人工引进野生动物，切尔诺贝利的动物们无意中找到了这个避难所。（一个名为 DMZ 论坛的非政府组织正在进行游说，希望在朝韩最终统一之后，把 DMZ 变成一个和平公园，保持它的原始状态，让它成为一个民族自豪感和生态旅游收入的永久源泉。“你可以把它想成是韩国的葛底斯堡和优胜美地的综合”，爱德华•欧•威尔逊这么说，他是 DMZ 论坛的联合创始人。）凡是有铁丝网和偏执狂的地方，如核电厂周围，通常可以找到类似的野生动物避难所。“野生动物通常不会跟国家实验室和军事基地扯上关系，”环保说客科里•威斯布鲁克（CorryWestbrook)说，“但是严格的访问限制和髙安全性，使这些地方成为理想的环保胜地。”这些区域是古代社会保留下来的解决部落之间冲突的缓冲区，就像史蒂文•勒布朗在《持久的战争》中描述的那样。它们的宽度通常从半英里到 20 英里不等，这些为了减少冲突而建的缓冲区，很偶然地成为了野生动物的保护地和过度耕种的土地进行休耕、恢复土壤营养的良好场所。呵护野生环境和任其自然生长并不是矛盾的策略。它们都是有效的，而且可以同时使用，把它们用在同一个项目的不同地域上，这样双方可以互为“控制组”，从而可以对它们进行比较和竞赛。<br>放任大自然不管其实也是一种恢复生态的方法，可以与人为干预形成一定的调控机制。<br>PART   11   重建野生环境<br>重建野生环境是所有绿色行动中最有成效的，小到窗台上的花盆，大到整个生物群落，无不如此。让我举一些城市、农田、森林和草原的例子，然后再来讲真正大规模的例子。归功于桥梁工程的无意之举，得克萨斯州奥斯汀市的国会大道桥成为了 150 万墨西哥自由尾蝙蝠的家园。每到夏日的傍晚，在千余游客和当地市民的注视之下，蝙蝠们飞入夜幕中，吞噬掉 12 吨的蚊子和农业害虫，例如玉米耳虫（earwonn,—种有害幼虫）、飞蛾。作为奥斯汀的图腾式动物，自由尾蝙蝠为这座城市创造的收人每年有 800 万美元。位于奥斯汀的国际蝙蝠保护协会已经创办了相关刊物，指导人们如何建造能够吸引蝙蝠的桥梁。最近在美国郊区进行的生态研究发现了野生鸟类数量下降到达警戒线水平的三个原因。正如我前面提到的，第一个原因是猫。每年美国有 1 亿只鸟被猫吃掉。环保生物学家迈克尔•苏勒（MichaelSoule)发现，在小狼数量增加的地方，鸟类数量有所回升，这是因为小狼以猫为食，或者至少能对猫起到恐吓作用。同时，宾夕法尼亚州的研究人员发现，凡是每平方英里也的数量超过 20 只的地方，鸟的数量都会下降 1/3,因为多余的鹿吃光了林下叶层，这是鸟类赖以生存的食物来源（同样对花栗鼠、松鼠和其他小型哺乳动物也是这样）。问题还是缺乏大型食肉动物。我们需要一些爱吃鹿肉的观鸟者和园丁。现在一些城市开始发放猎鹿许可证，允许人们用弓箭猎鹿。鸟类数量下降的第三个原因是“无虫害”的外来植物的引入。由于本地的昆虫不认识这些外来植物，不敢乱吃，造成昆虫数量减少（饿死），于是以虫子为食的鸟儿也就饿死了。这个问题的解决方案很简单，就是尽量种植本地植物。这是非常有好处的。总之，如果你能容忍小狼唱歌，能把翻过 8 英尺的围栏偷吃你的花园的动物炖成美味，抛弃掉你花园里像塑料一样的奇花异草，你的鸟儿们就能重新围着你歌唱了。<br>通过野生动物来控制人身边的环境。<br>PART   12   牲畜扮演的角色<br>环保人士习惯于把牲畜说成是土地的破坏者，而它们往往也就是这样。但是如果对它们管理得当，牲畜可以成为草场的守护者，取代那些已经消失了的大型动物。秘诀是要让它们不断移动，让牛仔们充当往日天敌的角色来驱赶这些动物。放牧方面的的大师、生物学家艾伦•萨沃（AllanSavory)，在家乡津巴布韦的田野工作中总结了一些经验：“如果牧场中有数量较大的大型放牧动物，这些动物集中在一起并经常移动，就像它们在天敌存在的时候进行的自然转移一样，那么这将会对土地的健康有益，而不是我们通常认为的会破坏土地。”萨沃的经典之作《全盘管理》1999)告诉我们如何将放牧转变为修复土地的工具。有一些地表受侵蚀而裸露在外该怎么办？把一群牲畜赶到裸露的地表处，给它们放上些干草，让它们在那里排泄粪便，植物很快就会重新长出来的。排水沟受侵蚀严重，导致堤岸太过陡哨该怎么办？让牧群去削平堤岸，植被将完成剩下的工作。需要在植被繁茂的地方造一条防火带吗？在防火带的地方喷上一些稀释的糖浆或盐水，动物们会帮你推平上面的植被。一些农场主注意到了萨沃所讲的方法，包括毛帕依（Malpai)边界集团的一些会员家庭。这个集团管理着位干新墨西哥州和亚利桑那州南部大陆分水岭上 1250 平方英里的牧场。那里的牧场主在 20 世纪 90 年代的时候曾经聚在一起，试图找到一个方法，恢复他们牧场上的林火，因为木本植物已经大有取代草场之势。从那以后一些科学家们逐渐参与进来，寻找其他可以进行合作的领域。很快有一本关于毛帕依（Malpai)的书描述了他们的情况：这里是一片人工生成的原始牧场：它不是由于缺乏人类的存在而形成的，而是在人类的帮助下形成的，而它又反哺了生活和工作在这里的人们，给了他们可持续发展的生活环境。从表面上看，这项工程跟以往五代人所进行的没有什么区别：放牧、养牛，但它已经发展到囊括了科研、通信和宣传、房地产、法律、野生生物学、规划，以及林火管理等各个方面，更不用说政治了。毛帕依集团聘请了在非洲出生的环保者戴维•韦斯特恩（DavidWestern)作为顾问。韦斯特恩曾经从事保护安博塞利国家公园的工作，在那个项目中他将周围马赛牧民的利益与国家公园的利益结合在一起，并以此闻名。时任肯尼亚野生动物服务委员会的负责人，他安排了美国农场主和马赛牧民之间的互访。更加令人兴奋的是，自从墨西哥美洲虎重新出现在毛帕依地区以后，集团正在努力让这个美丽的动物重新出现在美国西南部它曾经生活过的地区。牧场主们以前经常被政府官员和环境主义者骚扰和郢视，现在这些人突然跑来向自己学习技术，可想而知牧民们有多开心了。此外，他们可以跟邻居一起开派对、点林火、迎接老朋友美洲虎，并结识科学家和马赛勇士，而与此同时，他们改进了草场和水道、卖出了比以往任何时候都更多的草饲牛肉。<br>通过牲畜的合理放牧来改善环境，动物的移动起到了很重要的作用。<br>PART   13   森林里经常有很多人<br>森林里经常有很多人。罗兰•贝奇曼（RolandBechman)在《树木和人》中写道，欧洲中世纪的森林中到处都是“篮子编织工、木炭工、造箍匠、制陶工、伐木工，以及牧羊人、赶牧人和养猪者”。通过研究马达加斯加（世界上最重要的生态地区之一）干燥森林的卫星图像，斯德哥尔摩大学的托马斯•艾尔姆科维斯特（ThomasElmqvist)发现，虽然大片森林在消失，仍有一些地方完好无缺，甚至有所增加。“我们惊讶地发现，森林受毁最严重地区的人口密度最低，并且远离市场，”他告诉《新科学家》，那些长势良好的林区有当地村庄进行严格的保护，“如果外人想使用他们的森林，唯一的办法是就是嫁到他们的村庄里来。”由干对气候问题的担忧，森林现在已经成为了固碳和保碳中的关键力量。政府间气候变化专门委员会表示，如果能将 20 亿多亩农田转化成农地林业(将乔木、灌木、牲畜和边行作物集合在一起），那么就能将 500 亿吨的二氧化碳从大气中移除。世界农林中心建议说：“如果允许农民在全球市场上出售这些碳，就有可能为山区的贫困人口创造高达 100 亿美元的年收入。”森林能改变气候，气候反过来也会改变森林。在《美国的古代森林》中，托马斯•保尼可森（Thomas Bonnicksen)为此提供了一个支撑性观点：现代森林只存在于今天。它们既不是冰河期森林的样子，也不会像未来的森林。森林其实就是一些物种的松散集合。这些物种在同一个时段里正好与其他的物种经过同一个区域。每一个物种的到达和离开都是独立进行的。植物移动得非常缓慢，动物移动得迅速一些，但它们都要不断地移动，有时是为了逃离一个不适合居住的环境，有时是冲着新环境的某些优点而去。万一它们无法移动，它们就要想办法去适应环境。如果它们无法适应，就只能面临灭绝了。(这就是“生态社区”这个古老而又美丽的概念所包含的意义——切都只是“物种的松散集合”，在某段时间内密切相关，但缺乏凝聚力。）从重建哥斯达黎加的云雾森林和热带干旱森林的经验中，丹尼尔•简森总结出一个可以用于任何森林重建的公式：选择一个合适的地点并取得它的使用权，然后聘请一些以前住在此地的居民作为驻地经理。对栖息地的残留生物进行分类，找到可以恢复的品种，然后设法抑制那些在生物上或物理上对残存生物构成挑战的因素。真正的挑战是如何把农民的生物操纵技能转化为保护生物多样性的技术。对管理目标进行明确和公开是非常必要的。重建的目标到底是一个低成本的动物园、植物园、基因库、分水岭、教学实验室，或是它们的某种组合？在婆罗洲，采伐和火灾已经使森林严重受损。两个有着不同目标的重建项目正在进行之中。一个是围绕重建濒危惺猩栖息地的想法。林务官威利•史密茨（WillieSmits)跟 600 个迪雅克家庭密切合作，应用一系列策略把棕榈油种植园的土地重新改回到雨林，并使用大量堆肥加速这一过程。最初的 8 平方英里的森林已经被耐火并能产生经济效益的搪棕榈农场包围。第二个宏伟计划被称为人工林项目，旨在建立起婆罗洲真正可持续的木材。1900 平方英里的一半将用于生长速度较快的金合欢树的种植，1/3 用于野生森林，与野生动物走廊相连，其余的用于土著人居住。对比这两个项目在未来几十年的发展，将是一件很有意思的事情。苏格兰高地现在是著名的不毛之地。那里曾经是一片茂密的森林，被苏格兰松树、桦树、刺柏、罗文和桤木所覆盖。在 18 世纪中叶，当苏格兰的最后一批狼被杀死后，马、鹿数量爆涨，吞噬了所有的树苗。只有一小部分森林幸免干难。现在，一个名为“生命之树”的工作组力图重建 600 年平方英里的森林。2008 年，他们获得了一块 1 万英亩的地皮，加上残留的林区，组成了项目资产。下一阶段的任务是重新引进消失了几百年的野猪和海狸。如果可能的话，海狸将用它们特殊的方式去恢复苏格兰的生态系统。动物和植物多样性将会大大增加。<br>人对森林合理的保护可以使森林更好的生长。<br>PART   14   生态信托<br>“生态信托”（Ecotmst)是位于波特兰的一个环保集团，其宗旨被归纳为“经济、生态、公平”，有我所知道的最雄心勃勃的森林经济项目，其范围包括了整个温带雨林，从太平洋沿岸的旧金山延伸 2000 英黾一直到到阿拉斯加。集团的总裁斯宾塞•毕比（SpencerBeebe),是这样描述的：这是一个与任何其他项目都不同的系统，它拥有 500 万英亩的水一陆植被，而且其中只有 7%属于私人所有。我们可以购买一些已经被砍伐殆尽的土地，通过建立一个生态投资模型来达到 6%〜8%的实际回报率。除了产品销售带来的收入（通过糢仿自然干扰糢式获得的纸浆和锯木），我们还可以通过提供各种生态系统服务（水、碳、纤维素乙醇、缓解银行、保护地役权等）来获得利润。生态信托把这个地区称做大马哈鱼的国度，因为这个充满魅力的物种已经在这个区域生活了很长的时间，是一种传统的当地食品来源和主要出口品种，它也同时被认为对生态系统健康程度最灵敏的指示器。（我是生态信托的顾问之一，部分原因是因为我对俄勒冈州的热爱。1957 年，我曾做一段时间伐木工，整天跟树木拥抱。伐木工每天都要跟大树拥抱，并以此为生，只不过有些时候大树会以特殊方式向你还礼：那就是压扁你。我学到一个多数绿色主义人士不知道的水实：伐木工热爱树林。这就是为什么毕比的想法可能会有效。）美丽的栗子树曾经一度主宰了从阿拉巴马到缅因州，从密西西比河到大西洋的森林。它们能长到 130 英尺高，树干直径达到 10 英尺，而且每年都会收获大量甘甜的栗子，提供人和其他动物过冬的食品，包括松鼠、鹿、火鸡、熊、松鸦和老鼠。1904 年，一种外来真菌开始呑噬栗子树。到 20 世纪 20 年代，树木被吃光了，只剩下贫瘠的土地。通过与中国板栗进行抗病杂交的努力也最终以彻底失败告终。关干这个，苏珊.福来恩科（SusanFreinkel)写的《美国板栗：一个完美树种的生命、死亡和讓生》—书中所说的重生就是通过基因工程得到一种抗病的美国栗树。两位研究人员试图使用青蛙基因的衍生基因来实现这一目标，但所有人都告诉他们，千万不能把青蛙的基因植入人类食用的植物中去。一个名为阿波针（ArborGen)的森林生物技术公司联系到美国板栗基金会，希望获得一些帮助来支持转基因板栗的研究。可想而知，他们被拒之门外了。但无论如何科研会继续进行下去。我敢打赌，美国板栗 2.0 将在 2020 年蓬勃发展，绿色人士将在 2030 年之前开始迎接新板栗的到来。在《干预：直面生物技术星球上基因工程和生命的真正危险》—书中，丹尼斯•长鲁索（DeniseCaruso)告诫人们：“我们需要担心的一个问题是，转基因树本身将来是否会成为入侵物种。”其实，就是这个问题。入侵在生态学上是一个中性词，它唯一的含义就是某种东西在增加。即便栗子树在人类的帮助下数量增加，这也不会是第一次。大约 2000 年前，栗树的数量突然在落叶阔叶林从 7%跃升到 40%。促成这一变化的，据推测，就是当时管理树林的印第安人。<br>外来物种的入侵会对生态造成很大的破坏。<br>PART   15   对“更新世大灭绝”动物的恢复<br>最激进的重建计划也许要算对“更新世大灭绝”动物的恢复了：试图把这些大型动物还原到北美生态圈中，让它们重新发挥重要作用。这样做不仅仅是因为怀旧。为了对灭绝之前和之后的情况进行评估，科学记者伊冯娜•巴斯金(YvonneBaskin)研究了南非生态学家诺曼•欧文-史密斯的研究成果，后者一直在研究他所说的“基本草食动物”假说。巴斯金在《大自然的作品》扣 re,1997)中写道：“在动物绝种之前，花粉 I 己录显示，从阿巴拉契亚山脉到落基山脉的大陆被公园般的开放林地所覆盖，中间点缀着片片草地和野花。”显然，这样田园诗般的风景是和猛犸象、剑齿虎以及其他动物的贡献是分不开的。这些动物消失以后不久，林间空地可能就被野生的灌木和树苗所填满了，挤走了草和草药。那些空旷区域的没有动物来吃的草可能因此长得更高，变成了频繁发生的林火助燃剂，继而烧死了长在它们中间的小树苗。欧文•史密斯认为，这样的结果就是以前的那些混合稀树草原逐漸变成了今天若干个形态不同的区域，一边是茂密的森林，另一边则是像这个地区如今这样一望无艰的大草原。没有大型食草动物创建和维护多样化的栖息地分布，许多中小型动物就逐漸被隔离到一些孤立的生存空间中。由于它们的逃生通道越来越被空旷的草原或繁密的森林阻隔，小型哺乳动物的命运将越来越多地受不断变化的气候随机干扰，甚至猎人摆布。最终这些生物大多数也灭绝了。更新狀过度捕杀理论的创始者保罗•马丁（PaulMartin)在与肯尼亚的敗维•韦斯特恩进行交谈之后，受了启发，提出了让长牙象重新出现在美洲大陆的想法，这将是美洲“生态复活”的元素之一。马丁在《猛犸象的黄昏：冰河时代的大灭绝和美国的重新野生化》中阐述了他的想法。他被韦斯特恩描述的安博塞利公园的大象感动，这些大象以树木和灌木为食，并不断地与食草的马寒伊牛交换位置。一旦草被吃完，灌木和树木就会很快长出来，这会把大象吸引过来吃掉它们，这样草地又恢复到适合牧牛的程度。韦斯特恩将其形容为“一个草地、树立和灌木丛所组成的马赛克拼图。这就是为什么大草原需要多样性的原因”。韦斯特恩发现“大象和牛群以一种伤害自己成全对方的做法改造着它们的柄息地。它们创建了一个不稳定的互动，就像是幻影舞者在懒洋洋地跳着一支生态小步舞，你进我退，一直持续了几十年、甚至几百年”。对于引入大象的想法，保罗•马丁认为：“我们很快就能够知道在一个新的环境里，野牛和大象是否也会跳起这支小步舞曲，为了整个美国环境的需要。”有一些恢复草食动物的生态区已经到位。如今法律开始保护西部的野马和野驴。“由于马是从这里进化来的，经过几千万年的蓬勃发展，在大约 3000 年前消失了，”保罗•马丁指出，“因此它们在 16 世纪跟着西班牙人来到这里就不能说是外族入侵，而只是一次复兴。”水牛，即美洲野牛，到 1890 年减少到只剩 500 头。现在他们的数量回升至 50 万头，并在为此付出代价。水牛的肉细嫩而且很有滋味，市场很好，而辻相比常规牛肉来说，成本上也有优势。爱丽丝•奧特华特（AliceOutwater)写道：“由于水牛是在大草原上完成进化的，它们吃苦耐劳的能力远远超过一般的牛。喂养它们不需要抗生素、激素或人工生长剂……它们甚至能在将普通牛早已被冻僵的低温下继续生存。”特德•特纳在他的牧场上养了 5 万头水牛(他同时也在恢复场拔鼠，上帝保佑他）。来自 19 个州的大约 57 个印第安部落加入了部落间野牛合作社，这有助于恢复野牛数量,从而“促进文化，振作精神，恢复生态和促进经济发展”。蒙大拿州立大学成立了一个野牛研究屮心。随着人们逐渐离开“水牛家园”，野牛也正在慢慢回归。<br>野生牛的回归对于生态区的建设有着很重要的意义。<br>PART   16  达夫•福尔曼的项目<br>保罗•马丁的重建野生环境的想法，与“地球第一”的创始人达夫•福尔曼（DaveForeman)从 1991 年开始一直在推动的一个项目有异曲同工之处。福尔曼的计划受到生态学家迈克尔•索莱的启发，是针对一些重要的肉食动物而不是食草动物而进行的。福尔曼在《野生化北美洲》中写道：“狼、美洲豹、猞猁、狼獾、灰熊和黑熊、美洲虎、海獭，以及其他顶级食肉动物需要在整个北美地区进行恢复，恢复到适合生态发展的适当密度。”和许多人一样，1995 年黄石公园引入狼所达到的效果给他留下了深刻印象。麋鹿曾经主宰了整个公园，它们吃河岸上的白杨、柳树和棉白杨，以至干海俚再也无法修建水坝，湿地也逐渐消失殆尽。如今狼重新入驻公园，福尔曼写道：“麋鹿重新变回了麋鹿。他们醒了！它们开始到处移动，并需要时刻提防敌人的到来。它们再也不能大摇大摆地在河岸上到处乱走。”海狸也回来了。环保生物学家乔希•唐兰（JoshDonlan)将马丁和福尔曼的想法结合起来，说现在需要把更新世的过度捕杀过程反过来，进行一次“更新世的野生化运动”。在《美国博物学家》2005 年的一篇文章中，作为第一作者的唐兰（其他作者为：福尔曼、索莱、保罗•马丁以及其他），建议引入已经消失的北美巨型动物的替代品。非洲猎豹和非洲狮可以取代消失了很久的美洲猎豹，是这些猎豹使我们的叉角羚羊行动起来如此迅速。双峰驼在自己的家乡蒙古草原上已经是瀕危动物了，它们将会在这里成为它们远古时代亲属的替代者。我们的野马和野驴将迎接来自欧洲的原始普氏马和亚洲驴的朋友们（这两者在本国领土都是瀕危动物）。非洲和印度的大象将会取代我们的乳齿象。在进行前期研究的较长时间内，这些动物们将被安置在一个巨大的有围栏的公园里，这其中一部分的开支将由生态旅游来支付。这个计划的一个缺陷是：虽然大象可以替代乳齿象（它们都吃树木和灌木），但是没有动物可以真正取代吃草的猛犸象。我们唯一的选择就是恢复猛犸象本身，这个想法正在迅速变得可行。根据《纽约时报》2008 年的一篇文章估计：“一头活的猛犸象有可能只需要 1000 万美元就可以进行复制。”宾夕法尼亚州立大学的研究人员正在从猛犸象的毛发样品中提取它的基因组序列。由哈佛大学的乔治•切奇（GeorgeChurch)和京都大学的山中伸弥开发的新技术，能够把大象的皮肤重新编程到胚胎状态，然后再注入一些猛犸象基因，直到得到一个猛犸象胚胎的替代品，然后就把它植入一个大象的母体内。看起来尼安德特人也许可以用相同的技术重新回到地球，伹他们属于欧洲。其他可能复活的北美动物包括剑齿虎、短脸熊、巨型地懒、巨河狸，以及犰狳状的雕齿兽。过于牵强？1989 年以来，生态学家谢尔盖兹莫夫已经在西伯利亚东北部组建其一个更新世公园。在 60 平方英里的围栏保护区，它引进了驯鹿、驼鹿、雅库特、廯牛和美洲野牛，而且很快还会有赛加羚羊、牦牛、狼獾、黑熊和西伯利亚虎。H 本和俄罗斯科学家正在帮他对猛犸象（和犀牛，可能的话）进行克隆。在 2005 年《自然》上一篇阐述他的理论的文章中，兹莫夫说，苔藓和森林苔原是生态系统中大型动物缺失的典型产物，当这些动物重返森林之后，以草为主的“猛犸象苔原一干草原”将重新出现。他的希望是：通过学习如何在高纬度地区保护和扩大更新世时期的草场，我们就可以开发出一些方法来延缓和减少全球变暖带来的负面作用。被以前的猛犸象生态系统困在土壤里的碳的总量，超过了地球上所有热带雨林含破的总量。而这些破可能会因为地球升温而以温室气体的形式进一步释放到大气中。在北美，达夫•福尔曼也在整个大陆的层面上考虑问题。“自然保护区一定要大，而且要互相连接起来。”这是他的野生化计划的基本思想。他坚持说，现有的公园、荒野和无路地区之间需要保护通道进行连接，就是所谓的四个“大陆巨型纽带”：贯穿南北的太平洋山脉、大西洋山脉、大陆分界线以及横跨东西的北冰洋寒温带。让我吃惊的是，单单为了气候的原因，他提到的这三个南北走廊也是值得去建的。毛帕依的美洲虎可能需要去加拿大了。<br>对于建立自然保护区的一些设想和实现。<br>PART   17   有价值的敌人<br>没有什么比一个有价值的敌人更能启发心智了。我首选的开始时间是在黎明之前。我喜欢在天边第一道曙光出现之前来到山上。漫步山间，隐约可见陆军巡逻兵前晚留下来的痕迹。我穿着抹了油的裤子行走在茂密的丛林中，带着简约主义的早餐包和生存工具，还有工作手套、一个大的锯齿军刀和一把鹤嘴锄。当我到达工作区时，我会煮一些咖啡，嚼几口酸奶麦片，然后静静地看着整个大地初见晨光。一日之计在于晨啊。我擅长干消除蒲苇，它是一种从阿根廷和玻利维亚入侵的植物，长着高大金色的羽状叶，极富装饰性和观赏性。它们是很久以前从苗圃和人们的后院中逃离出来的，在金水桥西边的国家公园安家落户。事实上，制造麻烦的并不是真正的蒲苇，而是它邪恶的双胞胎朱巴塔草（Jubatagrass):外表跟蒲苇完全相同，但它能够无性繁殖，大约每 100 力个从母体吹落的种子中就有一个具有繁殖能力，而且它们可以在风中飘行几英里之远。我的目标是根除这个流域的朱巴塔草。我所用的技术就是个人暴力，使用刀和鹤嘴锄，肢解和根除这些可以长到一辆别克汽车那么大的植物。我的劳作以半天为一个单位：找到敌人的踞点，披荆斩棘地来到那里，连根拔起入侵者，心满意足地欣赏一下劳动成果，然后再开往下一个目标。这也是我锻炼身体的方式，我从不去健身房或跑道上白白消耗时间。这尤其可以增强上半身的力量，这使得我这个年纪的男性感到自豪，并因此快乐。我发现跟这些聪明的植物作斗争比抓一条狡猾的鳟鱼或一头髙贵的鹿吏加引人入胜。入侵植物对它们所做的事情非常在行。仅仅是掌握朱巴塔的习性就花了我好几年的时间。我是生物偏执主义、原生植物纳粹。我们这样的人是有组织的。在美国每一个州都有一个原生植物协会。去搜寻•保罗霍肯的“智能地球”数据库里搜索原生植物，你就可以得到上千个淸单。无数的原生植物苗圃为像我这样的狂人士带来福音。我们挨个儿州地去说服高速公路管理部门停止割除 1200 万英亩路边草地和隔离带植物，种上当地植物，正如一名支持者所言：“这样的话，当你驾车走在特拉华的公路上，你知道你是在特拉华州，而不是在热带地区”。</p><p>PART   18   原生植物运动<br>我认为原生植物运动（native-plantmovement)是非常有意义的，就像观鸟活动一样，把人们固定在他们生活的地方，并让他们有机会辅助生态学家进行科学研究。另外，它确实也能够改进生态系统的健康。如今生态恢复和原生植物的从业者越来越多，其中很多人采取的一些做法和想法都不同寻常，可能会让大多数人感到惊讶。现在就让我们来揭秘他们的一些做法吧。秘密：真正的生态重建主义者使用除草剂。有时侯外来入侵者的规模或危害性使得所有其他方法都黯然失色。黄星蓟，恶魔般的杂草，呑没了美国西部地区，跟葛藤对南方的侵害不分上下。仅在加州它就覆盖了 1500 万英亩的土地。它不但不能用来喂养野生动物和牲畜（但也无害），还会赶走其他的植物。大自然保护协会正在使用‘‘里程碑”、“毒莠定”以及易位蛋白（Transline)等除草剂来对付爱达荷的地狱峡谷（Hell’sCanyon)等地方的黄星蓟。还有，具有侵略性的雀麦草（cheatgrass)和海蛇头（medusahead)令西部地区变得如此易燃（气候变化将会加剧这一危险），土地管理局正在计划向 100 万英亩的土地上喷洒一种名叫“高原”的除草剂。《高地新闻》报道说：“许多环保人士担心这样做的附带损害。然而，工作在第一线的生物学家和土地管理者儿乎一致认为，杂草构成的威胁巳经超出了除草剂带来的危害。”在我清除朱巴塔草的那个国家公园里，有一些地方的草长得如此厚实，我和其他志愿者无法伤害到它们一根汗毛。公园服务机构的工作人员动用了除草剂进行清理。恢复原生草地的惯用做法是使用除草剂清理整个牧场，然后从头开始播种本地植物的种子。在我重建高地栖息地的地方，我偶尔使用草甘膦来对付十余种入侵者。秘密：对茂密的入侵植物群进行史诗式的清除是没有用的。这样做的结果是，土地原有的秩序被打乱了，相同的杂草会重新长回来，或者引入一些新的杂草。正确的解决方案是布拉德利的再生方法，这种方法是艾琳(Eileen)和琼•布拉德利（JoanBradley)姐妹于 20 世纪 60 年代在悉尼发明的（因此以她们命名）。她们的方法开始一直被专家们嘲笑，直到澳大利亚国家信托组织在 1975 年对这项技术进行测试并采用，从那以后这项技术就像病毒一样传播开来。布拉德利姐妹的策略是让原生植物自 d 来完成大部分对抗外敌入侵的工作。先从侵略者最少的地方开始，小心地把它们连根拔起，然后拔掉其他所有的外来杂草，以防止它们互相替代。然后等一段时间，让本地植物逐渐壮大并富有侵略性。到下一季的时候，使用 N 样的渐进除草法帮助更多的本地植物赶走入侵敌人。通过几年这样零星的小董工作，问题就得到了永久的解决。这对姐妹的遗作《找回灌木丛》，是值得一看的。秘密：外来入侵物种增加生物多样性。新西兰是一个著名的受入侵非常严重的地方：它有 2065 种原生植物，而多达 2069 种外来植物已在此落户。布朗大学的生态学家多夫•萨克斯（DovSax)指出，新西兰的生物多样性增加了一倍，而有记载的物种灭绝只有 3 种。“我讨厌‘外来的就是邪恶的’这样的论调，”萨克斯告诉《纽约时报》，“因为这是非常不科学的。”他们认为灭绝是外来掠夺者引发的，很少是由外来竞争者造成的。根据《长期农业活动家》中的一篇文章，“在总共近 6000 种维管植物中，加州有 1000 多中自然外来物种，但已知的灭绝了的当地植物少于 30 种。”秘密：一些外来入侵物种是有益的，或者能成为有益的。迈克尔•波兰(MichaelPollan)在《第二自然》（1991)中写道：“圣约翰草、雏菊、蒲公英、马唐、梯牧草、三叶草、藜，藜属植物、毛茛、毛蕊花、皇后安妮的花边、午.前草，或蕃草，很难想象没有这些植物的美国大陆将会是什么情景，然而在清教徒登陆之前是找不到其中的任何一种植物的。”夏天加利福尼亚州风景如画的金色丘陵其实是欧洲的舶来品：由西班牙人带来的年度草很大程度上取代了本地多年生的丛生禾草，这种禾草的根非常深，因此一年四季呈现绿色。新草蔓延得非常迅速，当西班牙人到达加州北部的时候，他们在南方引进的燕麦草已经先于他们到达了北方，那里的印第安人已经在吃燕麦了。《湾区自然》的一篇文章认为，“地中海的年度草……已经成为加州植被的一部分了，就像本地的多年生草一样。如果现在再给它们搞入籍仪式就已经太晚太晚了。”想想备受厌恶的斑马眙贝。它是通过压舱水来到美国的一个经典入侵者，十 1985 年从黑海来到美国的五大湖区。到 1996 年，它已经出现在所有的大湖和大部分中西部的河流中，包括密西西比河。斑马贻贝一旦成群地附着在硬质表面上，就会造成打沉浮标、堵塞进水口、裹住船舶、窒息其他贝类等严重后果，是个巨大的麻烦。但多夫•萨克斯（又是他）和他的老师，生态学家詹姆斯•布朗（JamesBrown)在他们合著的书中希望我们知道：这个故事有它的两面性。富营养化的问题已经困扰了五大湖区几十年了。通过过滤水柱中的浮游生物和其他悬浮物屑，非原生的斑马貽贝已经帮助清理了伊利湖和湖区的其他部分、哈得孙河和许多其他水生环境。这些貽贝的过滤作用比其他原生的贝类更加有效。另外，许多鸟类以它们为食，而且貽贝的排泄物为一个具有多样性的食物链提供了栖息地。生物学家认为斑马貽贝为原生草和鱼类的恢复作出了很大贡献。如果它是原生的，它将被喻为救世主，而不被视为洪水猛兽。秘密：热带地区没有外来入侵物种的问题。“这些花哨的入侵者是无法翻越花园围墙的，”丹尼尔•简森告诉我，“而热带是一个真正的丛林。当然，这只适用干大陆地区。热带岛屿充满空龛，极易入侵。澳大利亚就是这些岛屿中最大的一个。秘密：气候变化有利于杂草。地方性物种往往专注于适应当地的环境，而且适应范围有限。当条件发生变化时，它们是第一个掉队的，被争强好胜的外来客所代替，也就是我们所说的杂草。当气候变化的时候，保卫地面上的濒危物种注定要失败。此外，全球变暖会导致更多的火灾，火灾过后的增长期 4 能会比以前有所不同。秘密：生物防治通常是有效的。不可否认，1833 年夏威夷引入的用来吃老鼠的猫鼬吃掉了除了老鼠以外的所有东西，成了生态领域的一个警世故事，就像 1935 年为了控制甘蔗甲虫而引入澳大利亚的臭名昭著的甘蔗蟾蜍一样。蟾蜍变成一场入侵噩梦，接管了整个国家，吃了所有它不该吃的东西，毒死了所有尝试吃它的动物—鳄鱼、蛇、澳大利亚野狗、澳大利亚猫（有袋猫），以及宠物狗。倘若你尝试用板球棒去打它们，它们的毒液还会喷到你嘴里。但是，猫鼬和甘蔗蟾蜍的引进都没有经过如今生物防治剂必须要经过的评估过程。生物防治剂必须是昆虫或更小的动物，因为这样的话它们可以吏有针对性地来控制目标生物体。地狱峡谷的大自然保护协会正在使用 3 种象鼻虫和 2 种苍蝇对黄星蓟进行抑制，并已经取得了相当的成功。在过去的 100 多年中，350 种防治剂已经针对 133 种杂草进行了成功的部署，只有 8 种非 R1 标生物遭到了损害，而且并不严重。加州入侵植物委员会的通讯文章宣布：“押想的生物防治剂年复一年地取得成效，遍及所有目标植物生长的范围，并延伸到很难触及的地方……它们不断地取得成功，我们甚至已经忘记了我们曾经被这样的问题困扰过。”预言：生态恢复者将会对转基因生物防治剂持欢迎态度。大闸蟹、栉水母、火蚁、黑鱼、尼罗河鲈鱼、棕色树蛇、金雀花、矢车菊、水葫芦和粉葛，这些生物都极具破坏性，以至于目前的技术拿它们没有办法。用基因工程来改进生物防治剂的目标特异性是个显而易见的解决方案。而这个尝试已经开始了。在澳大利亚联邦科学与工业研究院的一个 2002 年开始的项目中，病毒学家雅姬•帕利斯特（JackiePallister)正在努力合成一种蛙病毒基因序列，用来消除由于引进甘蔗蟾蜍所犯下的错误。这比板球球棒有效得多。</p><p>PART   19   生态学仍然是一项观测科学：全物种目录<br>“生态学应该是一个预测性的科学。”爱德华•欧•威尔逊这样告诉我。目前，生态学仍然是一项观测科学，因为观测尚不完整。自从 1735 年卡尔•林尼厄斯（CarlLinnaeus)创立分类学以来，大约有 160 万到 190 万个物种（没人知道确切的数量）已经被发现，而对全球物种总数的估计在 300 万到 1 亿之间（不包括微生物）。换句话说，我们太无知，我们都不知道我们有多么的无知。园丁知道他们的花园中的所有相关物种，因为他们试图让事情保持简单。如果我们打算对野生环境（以及整个世界）这个大花园负责任地管理，就不能够像园丁一样进行简化处理。我们必须收集所有的生物品种，真正理解食物网、能量网、生物地球化学循环、季节和气候变化、人口转移比率，这些关于生命运行极致的方方面面。加州科学院软体动物专家特里•高斯赖那（Terry Gosliner)打了这样一个比方：“试想一下，要做化学研究却只知道元素周期表的 1/3,将会是什么结果。”我之所以知道这些，是因为我在 2000 年参与了一个我们称为“全物种目录”（AllSpeciesInventory)的计划。这是凯文.凯利的想法。在成立宣言中，他写道：“如果我们发现了另一个星球上的生命，我们要做的第一件事，就是对那个星球上的物种进行系统统计。但是我们从来没有在我们的地球家园上做过这样的事情。‘全物种目录’的目标很简单，就是用我们这一代人的时间，对每一个生活在地球上的物种进行记录和基因取样。”我的妻子瑞安•菲兰刚刚出售了一家公司，所以我们投入了一些钱，将世界顶尖的分类学家和系统学家集合在旧金山，开会讨论对所有物种进行盘点的计划是否有益、可行和值得推行。几个星期后，爱德华•威尔逊在哈佛大学举行了一次后续会议。科学家们的普遍反应是这项计划是值得推行的。当项目开始运行后，我参与了哥斯达黎加、大烟山国家公园，以及木鼠体内的物种统计。[为什么是木鼠体内？通过人类微生物群系项目，我们学到了一个生命依赖其他生命的程度。卡尔•西默（CarlZimmer)在《寄生虫雷克斯》中写道：“在墨西哥有一种鹦鹉，仅在它的羽毛上就生存着 30 种不同的瞒虫。而寄生虫本身又有寄生虫，其中的一些又有自己的寄生虫……据估计，寄生虫的种类可能是非寄生物种的四倍。换句话说，对生命的研究在大多数情况下就是一门寄生虫学。”]有一位科学家捐赠了 100 万美元给“全物种目录”，但从那以后就没有什么进一步的资金来源了，我们的组织 2004 年谢幕了，虽然有几个联合项目还在继续运行。</p><p>PART   20   生命百科全书<br>爱德华•威尔逊在 2003 年写了一篇关于生态与进化趋势的的文章，题为“生命百科全书”，受到广泛阅读。他说，我们的目标是要“把所有我们已知的物种的信息放到一个大的数据库中，做成电子百科全书，为每一个物种提供一个可以无限扩展的页面，让世界上的每一个人可以在任何时间、任何地点免费地访问到它”。2007 年，麦克阿瑟基金会、斯隆基金会和其他一些基金会开始资助该项目。项目与一些重量级单位结成合作伙伴—史密斯森尼学会(Smithsonian)、联合国博物馆、菲尔德博物馆、哈佛大学、伍兹•霍尔海洋研究所、密苏里植物园，以及生物多样性遗产图书馆，这个图书馆正在将 5 亿页纸媒上的物种信息进行数字化，从而合并到电子百科全书中去。希望到 2017 年几乎所有的 170 万个已知物种都将在数据库中。丹尼尔•简森宣称，这将是“世界生物多样性的窗口，为世界而造，服务干世界”。“为世界而造”这部分是革命性的。分类学就像其他的科学一样，已经开始了天翻地覆的变化。研究数据已经从隔离数据转化为共享数据。分类学家曾经将职业生涯建立在生命之树的一个小分支上，比如说一个特定种类的甲壳虫。他们试图收集这个种类的所有信息。如果你发现了一个新物种，认为是属于特定生物种类的，那你就把生物样本寄到专家那里去，然后等待数月后知道结果。基因银行（GenBank)改变了这一切。由于它是个可以自由免费在线访问的基因数据库，包括人类基因组，科学家们就可以在刚刚有了初步发现的时候就上传这些数据。这些数据经过公众的评论、修改和链接，变成有用的知识，并且提供给所有人。科学研究已经开始以前所未有的速度进行冲刺。老一辈还执著干隔离数据的科学家们将逐渐被主流所遗弃。‘进入下一个阶段，丹•简森的一个难以自拔的理念是：生命条形码。简森已咆哮了若干年，说他想要的不过是一个手持设备而已。“当你发现了一个虫子，你撕掉它的一条腿，放进这个设备中，这个设备连接到互联网上获取信息，然后会告诉你这是一只什么虫子。如果它不知道，它就认为你已经找到了一个新的物种，会接着询问你关于它的细节，并请你冉插入一片那个虫子栖息过的树叶。”（最后这段已经把话题从分类学转移到生态学，从身份研究转移到关系研究了。）2003 年，安大略省圭尔夫大学的保罗•赫伯特（PaulHebert)，为简森所寻求的快捷方式完成了一些基础性的研究开发。赫伯特发现了存在于大多数动物体内（因为它是关键的能量來源）的一种线粒体基因的诊断价值，这种基因进化迅速，因此它具有高变异性。这个指示性基因的片段只有 648 个碱基对。这意味若对它的标本进行测序的成本仅有 10 美元。这将改变整个世界。到 2008 年，DNA 条形码已经对 37.5 万个标本进行了分析。最早的测试是由丹•简森和维尼•哈瓦其（WinnieHallwachs)在哥斯达黎加进行的，引来了不少媒体的关注。隐纹稻苞虫的一个物种经测试得知竟然是 10 个不同的物种。当简森继续对瓜纳卡斯特的约 1 万个蝴蝶品种进行条形码测试时，他发现：“一个标准的结果是，形态学定义的 20 个品种可以转化成 60 种条形码品种！一个副产品是：所有的‘通才’都消失了，他们其实就是长相相似的专家集群。”加州科学院的布赖恩•费舍尔（BrianFisher)正在对马达加斯加的所有蚂蚁的 DNA 进行条形编码。还有一个项目正在对全世界的鸟类的 DNA 进行编码，另外有一个项目，要对所有的鱼的 DNA 进行编码。目前两个用来鉴别植物的诊断性基因片段已经确定，世界植物 DNA 条形编码也已经开始进行了。所有的条形码，当然都将要被发布到基因银行中去。这又能怎么样呢？这就像是你刚刚获得了一些颠覆性的能力，比如说你的手机突然有了照相功能。简森的手持式 DNA 设备还没有完全开发出来，但在此期间，你吋以花几块钱邮寄几片组织去圭尔夫，那里的人可以让你了解到神奇的事情，例如说你是否被鱼贩子骗了。赫塞•奥苏贝尔（JesseAusubel,绿色核能的拥护者）派出了两个十几岁的学生，在曼哈顿的 10 个杂货店和 4 个餐厅收集鱼类样本进行条形编码。据《纽约时报》报道：他们发现，在 DNA 可识别的鱼类样本中，有 1/4 被贴上了错误的标签。在被当做豪华美味出售的寿司中，所谓的白金枪鱼居然是英桑比克罗非鱼，它比金枪鱼便宜得多，往往在普通农场就能养殖。鱼籽本应来自飞鱼，结果实际上是来自香鱼。9 个红鲷样本中有 7 个的标签是错误的，它们有的是大西洋鳍鱼，有的是阿卡迪亚鉍鱼——-种瀕危鱼类……4 家餐厅中的两家和 10 家杂货店中的 6 家都出售过贴错标签的鱼。正如袖珍汁算器将数学民主化，DNA 条形码技术使得整个世界不再是生物文盲。正如简森说的：“我们可以做到让全世界 70 亿人都知道究竟是什么生物咬了他们、勾起他们的兴趣、令他们担心、吸引他们、让他们发痒、令他们作呕，并提供与这些知识相关的商品或服务。”业余观鸟人改革了鸟类学。如今有了 DNA 条形码的力量（以及接下来将要出现的），形形色色的业余分类者将改变我们关干地球上所有生灵的知识。也许所有的物种都将被识别出来。生态学真的有可能成为预测性科学。</p><p>PART   21   移民对生态的影响<br>民族植物学家加里•纳布汗讲述了他在对两幅地图进行对比时的顿悟。一个是美国濒危物种情况最严重的县，另一个显示了每一个县人类定居时间的长短。他发现了以下的模式：“在人口长期居住在同一个地方、移动相对较少的地区，濒危植物和动物的数量较少；在有大规模移民迁入和迁出的地区，濒危动物扣对较多。”纳布汗在《栖息地文化》如，1997)中探索了另外一个相关性：在时间范围内，自然多样性髙的地区有较髙的文化多样性。文化最丰富和相对少变化的地区，生命是最丰富的。这能成为一个目标或者战略吗？想要成为印第安人并不需要羽毛，只需要足够的关注。想要成为一个本地人，并不一定要出生在那里，只要你对那里的关注足够长、足够深，你就能属于那里。当这种情况发生的时候，你就有了一个真正的家。诗人加里•施奈德从 1970 年以来一直住在位于加州内华达锯齿山脉朝西山麓上的一座手工建造的房子里。他的电子邮件的落款地址是这样的：科特科特地兹南浴霸河北边苜荫河的源头附近在丛生未草甸高处的树上(科特科特地兹是米沃克印第安语，是在他住处附近发现的松树林下叶层的一株灌木的名字。也许是因为它非常粘滑，并有着强烈的气味，它的英文名称是“山区的苦难”。）我们曾经称之为二次定居（reinhabitation)，也叫生物区域主义(bioregionalism)。在《共同进化季刊》和其他地方，我们发布了一个一次定居的小测验，目的在于提醒人们对自然系统的无知，并激发他们更多的参与到当地事务中去。你可以在网上找到这个测验，标题为“这里很大”。所有的版本都是从这样一个问题开始的“请指出北在哪里”。（你能吗？立刻马上？）接下来是：现在的月相是什么？春天哪一种野花总是最先开花的？说出五个生长在附近可以食用的植物，以及它们的最好季节。说出五种鸟的名称，以及其中哪些是候鸟。你所在的地方以前住过什么的土著部落？你的脚下的土壤含有更多的黏土、沙子、岩石还是淤泥？（这个我没答上来。）关于水的问题特別能说明问题，因为它们能将自然和人工基础设施联系起来：你走多远才能到达另一个流域？你能画出你所在流域的界限吗？你需要钻多深才能钻到水源？从热带雨林开始追寻你喝的水的来龙去脉。当你冲马桶的时候，那些固体物质去了哪里？那些废水又去了哪里？这又引发了其他的基础设施问题：你的手机运营商离你最近的基站在哪里？你的本地电力公司是从哪里得到电离子的：煤炭、核能、天然气、水、生物燃料、太阳能，还是风能？如果你家里用天然气，那么它是从哪里来的？你们当地的水电公司是否提供按时段收费的服务，也就是在非高峰时段降低电费？使用髙峰期的附加费又是多少？你所在的镇上如今还在住人的最古老的建筑是哪一栋？当地基础设施中哪些是年久失修的？（这个我不知道，还有另外的四个我也不知道。）最重要的是：气候变化将如何影响你所在的地区？人们对此有什么样的行动？问题的关键是要积累关于你所在的地区的知识，以便更好地对它负责任。这就是本章所说的“园艺”。加里•施奈德写过一段关于佛教版的“环保教育誓言”的思考，我非常喜欢：有一段禅宗经常诵读的经文是“四弘誓愿”，第一句是：众生无边誓愿度。每天向着宇宙大声读出这样的誓言是有点困难的。这个誓言跟了我好几年，直到有一天我突然酲悟：我意识到自己一直是在发誓要让众生来度我。同样地，反对滥杀无辜、暴殄天物的理念也不是止步于否定的。它敦促我们拯救生活、弥补伤害。施奈德还帮助我将“地球的法则”推广到“整个地球的法则”。“不管你喜欢与否”，他写道，“我们最终是‘栖息’在这一个小蓝绿色的星球上。它是唯一的有着舒适的温度、良好的空气和水，以及数百万（或几百亿）英里的生灵的地方。”这是一个有很多伤害需要弥补的地方。地球作为一个整体，是所有修复项目中最雄心勃勃的和最为必要的一个。</p><p>]()</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【地球的法则】第七章</title>
      <link href="2017/10/23/2017-10-23-2/"/>
      <url>2017/10/23/2017-10-23-2/</url>
      
        <content type="html"><![CDATA[<p>[<br>第七章<br>浪漫主义者、科学家、工程师</p><p>我看到自己成为了一圈骨头<br>在水中央<br>我发誓<br>永远都要开放自我<br>任水流进来<br>直到我听到”骨头的声乐”<br>如钟声一般的声乐<br>— 卢 •韦 尔 奇 （Lew Welch ),《骨头的声乐》</p><p>PART   1   环保运动</p><p>环保人士拥有了绿色。这是非常惊人的，是一个了不起的成绩。自从共产主义拥有了红色以来，还未曾有过哪个运动可以拥有一种颜色。绿色的特別意义还会延续多久？<br>“什么是环保运动呢？” 一 本 “绿色”杂志的编辑如此问道。我听到自己说：“环保运动是由科学、技术以及情感几种力量融汇在一起，去引导公众舆论、公共政策以及个人行为，使自然系统保持健康的一个运动。”<br>我的理论是，环保运动的成功是由两股力量交融在一起而形成的 — 浪漫主义和科学 — 这两者常常是彼此对立，此外还有第三种力量正在崛起。浪漫主义者感受自然，科学家则研究自然。浪漫主义者喜欢讲道德，他们对于社会的主导力量持反叛立场，并且对于任何偏离正确路线的人嗤之以鼻。他们不喜欢承认错误或改变方向。科学家则讲究伦理，而非道德，他们对于任何人们所认为的占主导的范式都持反叛立场，并且会彼此争论。对于科学家而言，寻找错误就是科学的任务，改变方向就是目标。<br>环保运动能够吸引这么多浪漫主义者参与是一种幸运，因为他们可以激发发达国家的大多数居民也将自己看做是环保人士。而这就意味着科学家以及他们的看法总是占少数，并且当他们的观点不被大众认同时，他们很容易被忽视、打压，或者是妖魔化。<br>有一波新的环保人士的加入正在改变这一格局。工程师参与进来了，他们看到的环境问题既不像浪漫主义者那样认为是悲剧，也不像科学家那样认为是一个谜团，他们只觉得那是一个可以寻找到解决办法的问题。他们向科学家要数据，以寻找到问题的解决办法，科学家则赞赏工程师的加入，因为新的科技使得科学可以走得更远。浪漫主义者不信任工程师 — 有时候这是对的 — 他们认为工程师很骄傲，并且对于解决问题的前景感到不舒服，因为他们认为，问题根本就解决不了。<br>浪漫主义者喜欢问题，科学家发现和分析问题，工程师解决问题。</p><p>PART   2   什么促使了立法的形成</p><p>不过这是过度简单化了。并不是传统的认识促成了美国在 20 世纪 70 年代通过了很多环境方面的立法 — 包 括 《清洁空气法》、《清洁水源法》、《濒危物种保护法》 以及环保署的设立。那些致力于草拟和力争让这些法案获得通过的律师，应该称呼他们“政治工程师”吗？<br>20 世纪 30 年代的时候，当时的猎鸭者开始了保护湿地的运动，70 年后的今天他们依然在坚持这项事业。北美洲有 2400 万亩的水禽栖息地得以保存下来，保护起来并且恢复当初的生态，这些都是得力于一个由 77.5 万成员组成的“无限鸭子”联 盟 （Ducks Unlimited ) 的努力。<br>是真实的个人，而非纸上的文字，使得民众参与废物回收行动，使得洛杉矶以及伦敦泰晤士河的空气得以变干净，并 IL 使得生态学变成一种哲学，使得生态旅游变成一个产业，使得关于野生动物的电影成为娱乐的一种，使得分水岭成为城市规划师的饲汇，使得城市里种起了很多树，也延缓了亚马逊热带雨林被摧毁的速度，阻止了酸雨以及臭氧层空洞加剧，拯救了秃鹰以及鹤群，创建了遍及全球的绿色组织，在每一个政府层级都建立了荒野公园，从小城市到世界遗址 （World Heritage Sites ) ……这一列表还可以继续下去，写满这本书剩余的篇幅。不过这些确实是填满了保罗•霍肯所写的《看不见的力量》这本书里关于此类环保行动组织的推广贞面。<br>我在这里还是集中笔墨去谈一些主角，因为通过他们我们可以知道怎么去理解正在发生的一些事情。2007 年，气候变暖在全球范围内成为了主流话题，环保人士有了成就感，塞拉俱乐部 （Sierra Club ) 的领袖说：“今日我们所看到的环保风潮，可以媲美 1970 年首届地球日的时候那种盛况。”整个地球终于就绿色达成共识了，而环保人士只需抓住这一机会，继续推进他们的项目就能赢得最后的胜利。<br>这就错了。我们一直坚持到今天的绿色议程已经过时了，因为它太偏向负面，太偏重传统，太专一，太容易在政治上让人一边倒，这些都不足以让我们解决今日所面临的如此大规模的气候问题。环保人士非但不会走上新的主导角色，还比以往任何时候都面临着更大的被边缘化的危险，因为他们很多的深层目标以及历经反复修改的战略已经不能用以解决今日的新挑战了。环保人士习惯于要从人类文明中解救出自然环境，现在，他们遇上了未曾接触过的新挑战：把人类文明从自然环境中解救出来，他们要对付的是复杂的气候。<br>当你认为自己正在获胜的时候，也许是最难改变方向的，但事实上现在正是一个充满机遇的时代。我们有充足的资源，我们有很多有想法的新人。当老一辈的环保人士还在各种倡议活动中周旋的时候，年轻人却可以打拼出新的方向。假如我们对过去采取非情感化的回顾，可以抛弃掉那些陈旧的观念，并且尝试到曾经一直被认为的忌讳地带去发掘新的价值。这就是我将要在这里展示的一种模式，这不仅仅是写给那些捍卫草原的环保人士看，而且也是写给新一代受到气候问题之刺激而成为环保人士的同伴看的 — 他们是绿色生物黑客、绿色科技爱好者、绿色都市主义者以及绿色基础设施建造者。</p><p>PART   3   浪漫主义者</p><p>一开始是浪漫主义者 — 代 表 人 物 有 亨 利 •梭 罗 、约 翰 •缪 尔 、戴维 •布 劳 尔 、爱 德 华 •艾 比 （Ed Abbey )、戴 维 •弗 尔 曼 （David Foreman )以及朱利亚•布特弗莱•希尔 — 他们告诉我们不能故步自封，要以开放的胸怀接纳一切，并且要随时准备好要因为我们对自然最深度的联系而改变我们的生活。我从斯坦福毕业的那一年，布劳尔发布了塞拉俱乐部的自然摄影系列丛书。其中第一本是《这就是美国的土地》 ( I 960)，这本书的照片来自摄影师安塞尔•亚当斯 （Ansel Adams ) , 正是它使我走上了迄今依然在走的这条道路。爱德华•艾比则是一位擅长描写沙漠的作家，他给我带来了更多浪漫主义的东西，还 有像 “地球第一 ” （Earth First ) 的戴维•弗尔曼以及仿佛神秘大树般的卫士朱利亚•布特弗莱•希尔，他们都充分地展现了浪漫主义的美。<br>当我们知道生命中该为什么而奋斗、该与什么进行抗争，就可以给生命带来意义，也由此带来了其自身的一条守则：永远不要放弃。我现在相信，那样一种意义是虚幻的，也是目光短浅的。盲目地相信一种充满神秘色彩的事物绝对会带来灾难，特别是在一个充满变化的时代。<br>在 20 世纪 60 年代以及 20 世纪 70 年代的时候，美国加州是一个可以让你摆脱神秘主义的地方。因为那里有各种接连不断的大师和神秘人士路过，他们兜售着各自的玩意，这样反而使得他们相互削弱了，而这些显然比不上毒品，而且毒品也是彼此抵消了。狂热的想法，假如是过度地分享出来的话，就会变成陈词滥调。剩下来的就只有每天日常的种种现实，各种谈判，没有绝对，但充满丫意外。<br>1997 年，我对浪漫主义的不信任达到了顶峰，那是因为我看了一本书，那是 由 阿 瑟 •赫 曼 （ ArthurHerman ) 写 的 《文明衰落论》，这本书尝试去回答一个问题：是什么使得衰退这样的话题变<br>得越来越受到人们欢迎？几十年来，欧洲和美国的主流知识分子都认为世界正走向没落，所谓的进步其实是一个谎言，而坏人、坏的思想以及坏的机构则是导致好的东西变坏的根源。<br>但是在现实世界里却有充足的证据暗示事实并非如此，但这些完全没有被末世论者所看到。<br>赫曼区分了两种不同的悲观：历史悲观主义（代表人物是雅各布•布克哈特、奥斯瓦尔德•斯宾格勒、亨利•亚当斯、汤恩比、保罗 •肯 尼 迪 ）以及更为可怕的文化悲观主义（叔本华、尼采、海德格尔、萨特、法农、福柯、赫尔伯特•马尔库塞、乔姆斯基以及很多当代的环保人士）。赫曼写道：<br>历史悲观主义者认为人类文明遭受着不能克服的恶性力量的攻击；而文化悲观主义者则认为，这样的力量从一开始就在塑造着文明的进程。历史悲观主义者担心他们所在的社会会自己摧毁自己，而文化悲观主义者则认为，社会本身是需要被摧级的。<br>尼采写道：“在所有能够彰显现代人之特征的所有事物上都带有颓败的元素。”“我们难道不是在一个没有尽头的空虚里游荡吗？我们难道没能感知到空洞的空间深度吗？它难道不是在变冷吗？难道黑夜不是•直都在向我们扩展？”<br>1992 年的时候，任何一位对环境持悲观主义观点的人都会以一种胜利的姿态说：<br>现代人正在急速地毁坏他们赖以生存的自然环境。在地球的任何一个角落上，看到的都是同样的情景。森林被砍伐了，湿地干涸了，珊瑚礁被淘光了，农业用地在消失，在被盐碱化、沙漠化或者干脆就变成了公路。污染也变得更为随处可见了 — 地下水、溪流、河流、河口、以及海洋，我们所呼吸的空气、我们吃的食物，所有这些都被污染了。<br>正因为我们的这些行为，很有可能导致每天有数以千计的物种因此而走向灭绝。而这些物种当中，科学家认识的只是其中很少的一部分。当我们以这样的方式毁坏自然环境的时候，我们正使得地球变得越来越不适合生存，假如目前这样的趋势持续下去的话，不出几十年，地球将不再能够支撑复杂生命的生存。<br>[这是爱德华•高德史密斯写给《道：生态世界观》这本书的序言。他所担心的东西单独来看是正确的，但是他选择的标准是有偏见的，并且其愤怒的色彩显然使得他夸张了很多问题。]</p><p>PART   4   浪漫主义者</p><p>阿瑟•赫曼将这样的浪漫主义以及其使人颓丧的故事的起源追溯到一个人和一件事 一 让 •雅 克 •卢 梭 以 及 1789 年的法国大革命。卢梭当时信奉了构想出来的原始主义并且声称：“在人手里，所有东西都会走向颓败。”他希望回到纯真以及自由，这应当是与法国贵族被推翻有关系的。欧洲的知识精英在 1789 年的时候非常欣喜地看到新时代的到来，也看着这一新生在 4 年后变成血腥和恐怖。正是经历了这一创伤，知识分子由浪漫主义转为绝望以及抗拒，并且一直到今天都是如此。<br>赫曼追寻着浪漫主义在之后几个世纪的走向，发现它经由奥斯瓦德•斯宾格 勒 （Oswald Spengler ) 的 《西方的没落》就直接发展为纳粹德国。“希特勒他们那一代是第一批接受文化悲观主义教育的欧洲人。”<br>在纳粹运动期间，有一波让人不安的绿色运动的风潮。我第一次接触到这一事实是 1977 年的时候，当时我负责编辑的《共同进化季刊》里刊载了一篇文章，讲述的是德国流浪者的故事 — 他们是 19 世纪末期的嬉皮士，那时他们追求回归田园的生活，结果非常轻易地变成了希特勒的同党。赫曼的这本书里还提到，生物学家恩斯特•黑克尔 （Ernst Haeckel ) 第一个提出了生态学这个词 （ oekologie ，1866)，他当时还主张优生学，希望通过安乐死，把 “犹太人以及黑人那样一些劣种”从欧洲清理出去。彼 得 •考 特 斯 （Peter Coates ) 在《西方对自然的态度：从远古到现代》—书里说：“纳粹德国创建了自然保护区以及采取进步的森林政策，并且还注重生物多样性，这在当时全欧洲范围内居于领先地位。”<br>尼尔斯•盖曼是全球商业网络（ GBN ) 的成员，他总结“纳粹主义的绿色面目”这一辩论时给我发来这样的文字：<br>我认为关键且没有被辩论到的是以下方面：第一，纳粹利用他们在绿色建设方面的成绩来争取和扩大群众支持；第二，当时不管是在德国国内还是国外，都没有人看到纳粹的环保主义政策以及纳粹的其他政治纲领之间的冲突。总结来说，虽然没有明显证据表明对生态友好以及纳粹或本土主义之间的关系，但历史上这两种运动之间有很多地方可以相互联系，并且未来还有可能重现。</p><p>PART   5   太空项目<br>点，他说：“你们这是在说笑吗？我们是要去月球啊！ ”]环保人士跟左派一起反对太空计划，他们说：“我们要先解决地球本身的问题才能离开地球。”<br>唯一例外的就是雅克. 库 斯 托 Uacques Cousteau )，海底探险的先锋。<br>1976 年，他 接 受 《共同进化季刊》采访的时候说，在 20 世纪 60 年代的时候，他有很多的同行认为美国的太空项目的耗资巨大并且没有多大实际意义，但是他是支持这个项目的 ，一 开始是基于哲学上的理由，之后很快就变成了实用方面的理由。库斯托发现，卫星才是唯一可以帮助我们对海洋进行监控的方式。<br>虽然很多环保人士尝试去关闭或者忽视太空项目，但是他们从太空项目当中获得的好处远大于其他人，并且早于其他人。正是因为他们直接受到由太空发回的地球照片的启发，于是，他们于 1970 年发起了第一届的地球日，并且吸引了 2000 万美国人参与到游行当中。于是环保运动由此而开始，并且有了一个全球共同认可的标识，并且几十年来一直保持着这个关联。罗伯特•普立 （Robert Poole ) 在 《地球崛起》—书中写道：“一旦地球在人们的视野里出现之后，就吸引了很多朋友，他们开创了地球之友组织。1969〜1972 年期间我们看到了有至少 7 个主要的全国性环保组织建立了起来。”<br>那是什么使得库斯托可以那么早就预测得到太空项目给人类带来的好处？他对于新科技不会发生过敏反应：他是水肺的发明人，正是这一发明使得海底探险成为可能。探险者的心态让他把太空当成是下一个海洋，而另一方面，作为一个科学家他也在发问：卫星可以为他做什么？因为他不属于任何党派，因此他不必遵从任何一个狭隘的主张。跟他的科学同行持相反意见不但不会破坏他们的团结，反而是他作为一名科学家必须做的事情。<br>而团结则是被左派人士遗弃的一种思想，并且它在环保运动中没有占据到一 席之地，正如他们的一首歌的歌名所言：《你是站在哪一边的》正是这样的思想使得英国“自然之友”协会因为核电的问题而<br>抛弃了他们的受托人休•蒙蒂菲奥里（ HughMontefiore )。（他支持核电，并且认为这才能让我们走出气候变暖的困局。）而解雇蒙蒂菲奥里的则是地球之友的主管托尼•俊尼普（Tony Juniper)，他说，在组织内部可以有辩论但是不应该将辩论带到公众视野里。我认为这是自己打倒自己的一个做法。对于一个组织或一场运动而言，做正确的事情比坚持做一件事情来得更为重要，而要找到什么才是对的就需要有辩论，并且要尽可能公开，因为随着时势的变化，什么东西才是对的也会跟着变化。</p><p>PART   6   非政府组织保护自然</p><p>浪漫主义式的观点或者是这样的政治立场，可以给人们一种认同感，并因而激发他们去行动，但是它对于解决问题没有多大帮助。“实用主义的其中一个观点是，对于某个具体问题，必须去分析其细节，这是无法逃避的。”这是丹尼 尔 •法 巴 （Daniel Farber ) 写的法律学书籍《生态务实主义》（2000)里的一句话。<br>保罗•霍肯有过一段最精彩跟名片相关的故事（以下是引用）：<br>过去 15 年里，我作过近 1000 场关于环境的演讲，而每一次演讲结束的时候，都会有一少部分人围在一起讨论，问我问题，而且跟我交换名片。这些跟我交换名片的人正在解决某个我们这个时代最为突出的议题：<br>包括气候变化、贫穷、森林政伐、和平、水、饥饿、环保教育、人权以及其他方面。他们来自非营利以及非政府组织，或者说是来自公民社会。他们正在看护河流以及港湾，正在向消费者传递可持续农业方面的知识，用太阳能板翻修他们的房子，推动关于排污方面的立法，与那些偏重于大企业的贺易政策进行斗争，努力绿化内城，对孩子进行环保教育。简而言之，他们正在努力尝试保护自然，以及维护正义。<br>霍肯一直坚持收集这些卡片，到后来他也被打动而有所行动。他开始研究这个现象，写出了《看不见的力量》并且建立了一个关于这些组织的在线数据库，他发现，全球范围内有超过 100 万个这样的组织。他们之所以蓬勃发展，乃是因为他们的专一性，因为他们是在具体的问题上下工夫。而他们也因为同样的原因而变得隐形。他们做事有效也是基于同样的原因。正如霍肯所写：<br>“反馈的回路是短的，而他们学习的进程则因此而加速。”他们不会受到意识形态、 口号、名声或者某个大的名字的束缚，他们都是因为有需要而出现的，并且都关注于结果。<br>他们关注的是改进，而不是去否认。</p><p>PART   7   科学是唯一的新闻</p><p>科学是唯一的新闻。不管你看新闻门户或者是看杂志，所有那些跟人相关的故事都是陈年老酿，所有的政治以及经济也不过是循环往复的戏剧，所有时尚不过是关于新东西的病态的虚幻，甚至技术也是可以预测的，假如你其中的科学。人性本身没有多大变化，但科学则一直在变，这样的变化累积来，就会不可逆转地改变世界。<br>与浪漫派的文化悲观主义形成强烈对照的是，科学给人带来双重的乐观义。一方面是科学的过程本身，因为我们掌握科学的能力在不断地提升：的发展可以使得科学走得越来越快、越来越好。另一方面，科学带给我们的际内容 — 我们所发现的大部分东西都是好消息或者是可以转换为好消息，这主要得益于我们日渐增长的知识、工具以及技术。因为科学发现不仅仅是点上的发现，所以可以绕开那些单纯基于观点而产生的思想体系。而科学则可以不断地提出更多更好的问题，而且这些问题本身也会吏具逻辑性。会以一种可以引出答案的方式去提出这些问题，并且找到答案，继续探寻下个问题。<br>正因为如此，就难怪以自我为中心并且静止不前的浪漫派会认为自己科学的威胁了。确实如此。浪漫派喜欢大树，而不是大树的基因组。而科学则同时喜欢这两者。<br>文学经纪人约翰•布洛克曼 （John Brockman ) 指出科学的另外一个视角：<br>通过科学我们可以创造出技术，而借由新的工具我们可以重新创造人类。但是直到最近，还没有任何一个民主的社会、任何一个立法机构，选择或者投票，决定这个过程应当如何发生。没有人为印刷术投票，人为电的发明投票，没有人为无线电、电话、汽车、飞机、电视、太空行、核电、个人计算机、互联网、电子邮件、万维网、 Google 、克隆是人类基因组测序投过一票。</p><p>PART   8   浪漫主义得到的教训<br>气候变化这一议题就是一个例子。而一旦他们对科学产生担忧的心态时，就是他们做得最糟糕的时候，基因工程就是一个例子。两个例子都能看出浪漫派的影子：浪漫派主张否认事实，结果就遇上了气候变化的灾难，而同样在浪漫派看来，转基因就像是玛丽•雪莱所描绘的弗兰肯斯坦博士的罪恶那样。伐。而这个过程中需要做的其中一步就是知道该紧密追踪哪些科学家以及他们的研究成果。可以支持我们现有理论的观点，忽视或者不相信任何不能够支持我们现有观点的东西。而这样的偏见是需要很强的自我约束才能打破的。贝尔实验室的研究员 理 查 德 •亨 明 （Richard Hamming ) 说：“达尔文在他的自传里说，他会写下每一个跟他的观点相冲突的证据，因为假如他不这么做，这些证据一下子就会从他的脑海里跑掉。”相信千年虫会成为一个重要的问题，并且在公开场合对 GBN 的客户这么说过。而我的这一错误测则是基于一个我自己讲给自己听的故事。我自己的电脑那时候就特別容易因为软件故障（俗称 BUG ) 而无法运作，并且它们会引发一系列的问题，最终导致电脑出现蓝屏死机。干是我想，那些老的电脑以及更为久远的软件将会更容易遭到千年虫的攻击，因为千年虫是深藏在机器里的。那样的话，整个地球都将经历蓝屏危机。不过那时候也许我该听听丹尼•喜乐斯的话，他是大型计算机的设计师，他告诉我说，千年虫问题最多只会让一些狗的执照没办法第一时间得到更新。甚至我应该听听工程师的话，1998 年我和亚马逊的一些工程师共进晚餐，其中一位工程师回应我关于千年虫问题的话时，很甜蜜地说：“你是不是相信神话？”要学会质疑传言，要更多去聆听那些知道最多事实、钻研时间最长并且不被某个主张或者是其雇主的主张所左右的科学家。气候学家威廉•鲁迪曼 （William Ruddiman ) 写 的 《犁耙、瘟疫以及石油》一书一经出版，他就成为了舆论攻击的焦点(以下为引用）：这些通信自称是在谈科学，但实际上它们与强硬的政治有更多相似之处。甚至有多文章的作者直接就是收取了钱财之后写出这些文章的。现，二氧化碳根本不会导致气候变暖，你会发现，地球在过去一个世纪里并没有变暖，而任何地球变暖的情况都是因为太阳变得更为强烈，而不是因为温室气体之上升。在他们所描绘的世界里，那些主流科学家们的发现不是被忽略就是被否认。伪科学的反气候变暖行动跟同样是基于伪科学的反对基因工程的行动没有什么两样。它们都是在绑架科学以达到政治目的。同意见 （甚至是强烈的表达这些意见）的科学家 ◊ 约翰•布洛克曼对那些搞不清楚到底在争论什么事情的人说：“在科学界，人们就是通过争论来协作，来拓展他们的思想。”而遗传学家帕梅拉•罗纳德在她写的《明日的餐桌》一书里则提供了一个关于如何区分科学和流言以及如何衡量一场科学争论的方法。她的看法包括：解该期刊在科研人员的圏子里是否有好的知名度；了解是否有其他的研究证实了同样的结果；了解是否可能存在利益冲突。观察趋势。随着时间流逝，证据积累得越来越多，科学家的共识是否也会变得越来越强烈？</p><p>PART   9   科学受政治的影响<br>但假如他们因而将 DDT 杀虫剂认为是绝对的邪恶的话（雷切尔•卡森并没有这样做），那就是大错特错了。雷切尔•卡森书中所写的大多数的科学评估都是正确的，但有少数是错的。例如，她认为 DDT 会导致癌症这一点是错的。但是由于过分的热情，全球范围内 DDT 都已经被禁用，于是疟疾在非洲重新出现并且传播开来，而这是在雷切尔•卡森死后所发生的事情。在 2007 年 《国家地理杂志》的一篇文章里，罗 伯 特 •格 瓦 兹 （Robert Gwadz ) 写道：自从 DDT 被禁用之后，估计有 2000 万儿童因此死去。现在，类似 WWF 这样的环保组织正支持以消灭疟疾为目的的 DDT 使用，他们同时还会派发蚊帐、在静止的水里放入杀虫剂以及通过其他的方式，以达到最终消灭疟疾的目的。而一旦疟疾消失了， DDT 也会随之消失。科学经常会被政治颠覆。可以从两本书里看出斯 （Michael Harris ) 所 写 的 《海洋悲歌：北冰洋鳕鱼渔场的崩溃 —– 个真实的犯莽故事 》以 及 杰 夫 •伟 莱 （JeffWheelwright ) 所 写 的 《灾害的程度：威廉王子湾自然恢复的故事 》在描写鳕鱼的故事那本书里，你会看到，虽然有独立的科学家预计到 20 世纪 80 年代的时候渔业会减产，而加拿大的政治家以及政府雇用的科学家则装作没有事会发生，而部分原因是他们认为自己要保护纽芬兰地区渔民的利益。而该地区渔业的崩溃终于在 1989 年到来。到 1992 年，政府全面禁止捕捉鳕鱼，但是鳕鱼渔场依然没有恢复过来，甚至也许走向失业。都经历了同样的命运。有三种保护渔场的方案彰显了其价值：在指定区域内禁止任何捕鱼作业，以促使鱼群恢复；捕获量交易，又 称 “个人可转换额度”，这样的方案已经拯救了阿拉斯加的大比目鱼；以及细心护理的海水养殖法。正如雅克•库斯托于 1976 年的时候跟我说的：“捕鱼就如捕猎……假如我们要做到文明，就应当彻底消除捕鱼并且用养殖来取代。我们所说的人类文明就是从农业养殖开始的。我们现在依然还是海里的野蛮人。”深度报道，这本书里包含了很多令人不舒服的真相，这些都没有被写进科学报告里，而这些报道是由事故争端的双方分别提供资料而写出来的。漏油事故之后的大规模清理行动对环境破坏的程度大于漏油事故本身，虽然清理行动为威廉王子湾带来了经济上的促进。该地区最为繁盛的海洋生物栖息地是搁浅的油轮所在地，那里生活着从细菌到红鲱鱼到三文鱼的整个生物链上的生物，它们都以石油为食物。人们担心漏油事故之后野生三文鱼会染上芳香烃。但事实上人们发现，在漏油地带捕获的三文鱼其体内的芳香烃含量仅仅为在当地普通三文鱼体内芳香烃含量的万分之一。而威廉王子湾的真正教训是大自然具有相当强的恢复能力，一旦人为的压力离开之后，自然会以非常快的速度复原。科学与政治划清界线的时候，他们就是在帮助公众 2008 年，英国工党政府决心要禁止使用塑料购物袋，因为它们会被排入大海而且会困住海鸟以及海洋哺乳动物。绿色和平组织的一位海洋生物学家戴维•圣帝 罗 （David Samillo ) 则指出：“假如说有很多动物因为塑料袋而死亡，这是本不可能的。就全球范围而言，塑料袋并不是一个问题。政府的行动是基于拿大的一份报告，该报告称，有 10 万的海洋动物因为被弃置的鱼网所困而亡。而塑料袋则与此事件没有关系。”的人士。但是很古怪的是，他们对于环保人士显得非常有礼貌。我所认识的每一位生物学家都对环保人士在基因工程上的立场表示失望，只有一位科学家出来表达他的立场。他就是彼得•雷文。同样，气候学家看到了使用核电的要，但是在公开场合批评环保人士之反核电立场的就只有詹姆斯•洛夫洛克以及詹姆斯•汉森。现在是停止对环保人士溺爱的时候了。他们的动力也不是脆弱的，假如有科学的严谨以及科学的纪律之约束，环保人士会做得更好。假如科学家可以把他们当成是同行 — 也就是说是有严格要求的同行一 - 环保人士</p><p>PART   10   工程师的做法<br>里•洛文斯出现了，他看到汽车可以成为一个杠杆，通过这个杠杆，可以推动人们在大范围内进行能源保护的工作。他还着力去设计和推广一些在能耗上比正常汽车低很多的车。洛文斯凭他一个人的努力，使得整个环保运动从摒弃汽车工业转为积极参与其中。这就是工程师的做法。他们不是空喊口号，而是去理解问题到底在哪里，而后想办法去解决问题。他们不会去争论什么是错的，他们只需给人们展示什么是对的就可以了。就描述过 LEED (美国绿色建筑协会）评级系统如何成为现实的：一位名为戴维.哥特弗雷德 （David Gottfried ) 的很成功但又很沮丧的开发商以及货运（ Carrier ) 集团的一位名叫里克. 费 里 兹 （Rick Ferizzi ) 的执行官，他们俩召集了一批建筑师、供应商、建筑工人，以及设计师，希望可以一起创建一套绿色建筑的标准。今天，美国绿色建筑协会已经有 6200 个机构会员以及 8.5 万活跃的参加者，并在日本、西班牙、加拿大、印度以及墨西哥都有分会。虽然没有人做过统计，但是在其成立迄今的短短几年间，美国绿色建筑协会在建筑节省材料、减少毒素排放、避免不必要的温室气体排放以及提升居民健康等方面所产生的影响是其他任何机构都比不上的。该协会与设计师、建筑师以及商人进行合作，虽然不一定很容易，因为采用这个标准就意味着公司原先的产品需要发生变化，而最终目的都是为了达到 LEED 绿色建筑标准的要求。级、金级，或白金级。他们为获得这些可以炫耀的级别而花费额外费用是值得的。</p><p>PART   11   生物拟态<br>耶斯 （ JanineBenyus ) 写 的 《生物拟态》。这本书本来是希望给工程师一些启发，让他们去研究自然，从中获得设计的灵感，但慢慢地，这本书也教会了非工程师去尊重工程师的做法。本耶斯说：“跟工业革命不一样的是，生物拟态的革命将把我们带到一个新的时代，这个时代我们不再从自然那里提取东西，而是从自然那里学习东西。”书里提到的一些例子包括：向树叶学习而做成的太阳能电池维；像珍珠母那样的抗震陶瓷；从大猩猩那里学到的治疗癌症的办法；从高草那里获得启发而培育成的多年生谷物；能够像细胞一样传递信号的计算机以及从红树林、珊瑚礁以及橡树林那里学到的循环经济模式。根据功能来决定形态。大自然会循环利用所有东西。大自然对合作会给予奖赏。大自然靠多元性获得永续发展。大自然呼唤本地智慧。大自然禁止内在的浪费。大自然从有限获得能量。大自然看上去非常像自由派的民主党员，本耶斯读的是森林学，她也许可以基于上述的内容编写一个《魔鬼词典》的版本。这是我写的：无情的：要保护自己的生态位，最好的办法就是消灭你的敌人。大自然尊重生物的领地：用生命来捍卫它吧，否则你会饿死。大自然喜欢投机的侵者：例如野葛和人类。大自然是吝啬的：把多余的孩子吃掉吧。使得生物拟态的学科得以稳固而且有效地建立起来。美国国家科学院 2008 年性、超级高效、自我清洁、自我愈合、自我复制、超级设计以及精细等特性的天然材料的资讯呈现爆炸式增长。生物材料很多也是具备多种功能的，而这一特质正是人们期望人造村料能达到的。某个创意或者是某种机制，但是天然的过程是难以通过简单的模仿来复制的，因为它们是经过漫长的岁月进化而成的非理性产品，不是由某人设计出来的。生物拟态之所以还没有成为主流，是因为大自然是非常复杂的，其复杂程度超乎人们的想象。蛋白质同时发挥作用，而具体是怎样一个过程，就连最顶尖的科学家现在也还没有完全弄明白。而蜘蛛丝的力量不仅仅体现在构成蜘蛛丝的多种蛋白质组合上，而是在于蜘蛛的喷射，7 种不同的蛛丝会从 600 个旋转的小嘴里喷射出，并且编织成相当具有高度可恢复性的结构。的身体结构则告诉我们，要实现这样的飞行，飞行器的前端需要一对机翼，后端则需要一个稳定器。但是鸟类的翅膀振动则实在难以模仿，于是为了产生动力，人们就设计了一对旋转的翅膀，也就是螺旋桨，这是自然界从未有过的。同时让叶片往后翻转，以形成风。）</p><p>PART   12   中国的例子<br>工程师是人造基础设施的设计师和建造者，他们很习惯利用人类的创造力去改变自然的运作过程，从而改变自然基础设施。这个地方有一条经常发大水的河流吗？那就修一座水坝吧，还能以此来发电，减少温室气体排放 ， 一 举两得。希望利用工程学的办法解决环境问题，却又担心这样做过于傲气的环保人士可以看看由工程师而不是由律师管治的中国，未来几十年里，中国发生的事情会让他们感到吃惊和恐惧。2007 年，《新科学家》杂志报道说，第十七届全国人民代表大会上，所有政治局常委都是工程师出身。胡锦涛主席就是毕业于清华大学，这所学校常被认为是中国的麻省理工学院，而温家宝总理则是获得过地质学方面的训练。杂志的一篇文章写道：中国已经购买了 3500 万个太阳能热水器，这个数字比世界其他国家加起来的还要大。同时中国现在是世界上在风力发电方面排名第六的国家。到 2020 年，中国希望可以将风力发电的容量扩展到原先的 12 倍，增加到 3 万兆瓦。2000 年，北京市在一周的时间内就将 2.6 万辆污染严重的小汽车清理出市区。环顾整个中国，政府都在兴建大型的太阳能以及生物能城市，并且其规模是世界其他地区最大的绿色社区的 30 倍。所有小学，都可以看到写有这样字句的标语：</p><p>PART   13   环保问题看做商机<br>绿色创业者引领了潮流。很多公司雇用了大批的工程师，而工程师则并不知道或者并不关心所谓的环保传统、行动或者一些浪漫派的主张。因为工程师关心的是如何解决问题，而不是在于改变人们的行为，当他们需要解决问题的时候，他们首先想到的是科技。维 诺 德 •科 斯 拉 （ VinodKhosla ) 是硅谷一位先锋绿色风险投资人，他告诉《新科学家》杂志说，在能源利用率方面的提升或者法律上的修订只会带来非常小而且渐进式的效益。“相比之下，新的技术可以带来 2 倍、4 倍乃至 10 倍的改变。”“绿色化学”是由保罗•安那斯塔斯 （Paul Anastas ) 于 1991 年创立的一门学科，它旨在从环保的视角重新思考整个行业，当时他正是环境保护署的化学工业行业总监。他写过《绿色化学的 12 条准则》一文，现在已经成为了经典，虽然并不为大多数环保人士所知，但环保人士应当了解这一点，因为这篇文章讲述了我们该如何应对继温室气体之后最为危险的污染，也就是有毒化合物的污染。（其中一条准则写道：“使用催化剂来最大限度地减少废物”。另外一条则写道：“要最大限度地发展核子经济“。)支持一些狭隘的环保目标，但却为此付出更大的代价。在航天科技、核子科技以及基因工程方面都是如此。假如对干一种新的科技，你的第一态度是怀疑的话，你就会失去机会利用这一技术来达到你的目的。“环保运动迄今为止只是在关注技术带来的坏的一面，却没有去关注技术本可以带来的好的一面。”这是弗里曼•戴森说的。但要关注绿色科技带来的机遇，则需要我们改变自身对新事物的态度。假如新的一代环保人士可以像看到最新的以钛和透明硅胶做成的超级轻的登山装备那样，对基础设施级别的技术感兴趣的话，将会是多么令人高兴的事情。他们将不会像浪漫派那样去抵制科技，而会紧抓科技进步带来的机遇并且将其应用到实现环保目标方面。他们的工具包将包含从分子层面（包括基因以及原子）到宇宙层面（包括太阳风以及暗能量）的技术。他们还会将手机融入到他们生命当中。</p><p>PART   14   你怎么想比你想什么更为重要<br>更为重要。”人们在事物判断的质量上最重要的差别，最初由古希腊的诗人阿尔齐洛科斯（ Archilochus ) 道出：“狐狸懂得很多东西，而刺猬则只懂得一样伟大的东西。”刺猬有一套宏大的理论，它会将这套理论应用到很多领域，并且对此抱一种欣欣然的态度，它们表述自己的观点的时候都是非常自信的。而另一方面，狐狸则对于宏大的理论表示怀疑，他们对事物的预测也会发生改变,并且乐意根据事物的实际进展来调整自己的观点。刺猬不会注意到也不在乎自己是错的，而狐狸则会从错误中学习。刺猬是伟大的支持者，而狐狸则是更好的预见者以及更优秀的政策制定者。。作为一名心理学研究者，泰特洛克冃睹广左翼以及右翼政治顾问在 20 世纪 80 年代关于戈尔巴乔夫上台的错误预言以及苏联的最终解体。（自由派很清楚里根是一位很危险的笨蛋，保守派则深信苏联会长久存活下去。）而整个过程给泰特洛克留下极深刻的印象，这个正好是一种 “与结果不相关的学习结构”。没有反馈，也就没有修正。长期研究项目，现在已经有 20 年了，他要研究的是专家们关于国际政治局势之预言的结果。他总共研究了 284 位专家所作的 2.8 万个预言，并且尝试从中找到成功预言的模式。大多数的发现都看不出很明显的差异：保守派并不比自由派做得好，乐观主义者也不比悲观主义者做得好。只有一种模式是一直反复出现的。借用刺猬与狐狸之差别这个比喻。以赛亚•伯林所列举的持单一观点的“刺猬”包括：柏拉图、但丁、黑格尔、普鲁斯特。而持开放心态的“狐狸”则包括亚里士多德、莎士比亚、伏尔泰以及乔伊斯。泰特洛克指出，在预测方面，狐捏的总体成功率远胜于刺猬，特别是在对不久的未来的判断方面。刺猬类专家不仅仅比狐狸类专家在预测事情上做得更差（特别是关于长期的预测方面），甚至他们还比不上稍有注意力的外行 — 显然是因为他们被自己那一套美丽的理论以及丰富的经验所迷惑了。另外，狐狸专家不仅仅在预测的准确性方面更为优秀，而且在他们对事件发生的槪率预测方面也更为准确。在这方面，他们有着可以跟天气预报员相当的准确度。刺猬的价值在于他们有时候会在一些长远的判断方面给出正确的预测是这是以很多短期判断失败为前提的。那些自信洋溢、富于魅力且有很好的故事的专家往往会给出错误的判断。“一个人是否可以做好的公众演说以及他是否能做出关干未来好的判断可能相反。”这是泰特洛克对旧金山的一班听众说的话。他还补充说，刺猬只会惹怒他们的政敌，而狐狸则会惹怒任何一种政治力量。</p><p>PART   15   环境方面的刺猬和狐狸<br>《持怀疑论的环境主义者》 2001)比约恩•隆伯格 （Bjorn Lomborg ) 以及艾默里•洛文斯。我有次听到隆伯格的粉丝问贾雷德 •戴 蒙 德 Uared Diamond ) 对隆伯格的书的评价。我记得戴蒙德的回答是：“问题在于隆伯格是在细节上跟你争辩。他说，复活节岛的崩溃是因为某一种棕榈树的脆弱而导致，因此不能作为一个通用的案例。这样一种论调就好像是一个创世论者看到得克萨斯州有一块颠倒的地形而因此判断达尔文是错的一样，你不能跟他争辩了。假如你花时间去研究他们的论证并且驳斥了他们的观点，最后你发现其实这并不重要。因为他们根本就不在乎。他们又发现了其他的证据来证明他们的理论了。”（不过戴蒙德同时又赞扬了隆伯格所倡导的让全球的注意力都放到消灭非洲的疟疾这个问题上的立场。）环保人士用心是好的，但是他们大大夸大了问题的危害。因为他是统计学出身的，因而他可以驾轻就熟地游走于数据的海洋，并且用充足的证据来支撑他的观点。而正是这样的一种能力会让刺猬过于自信，泰特洛克写道：识来打造因果关系的图景。他们会让自己相信一些极端的可能性，而且这些场景越来越偏离现实。而随着这些专家自身在经验上的增长，他们的预測方面的自信心会提高得越来越快，并且远远高于他们在预测准确率方面的增长。(Peter Gleick )，他 为 “忧虑的科学家联盟 ” （Union of Concerned Scientists ) 写了一篇书评，着重指出《持怀疑论的环境主义者》这 本 书 “只是选择性地使用数据，错误地使用了数据，还有错误地解读，选择了错误的精确度以及有事实错误。”数据以及文献，将这些通通扔给你，并且跟你说，你不可能掌握这些的，还是别跟我争论了。而事实表明他在提升能源使用效率以及节省能源方面的预测是非常准确的，但是他在关于核电方面的预测则是错误的。我估计在核电这个问题上他会保留刺猬那样的立场，并且不会对核电说一句好话（我估计，这就正如隆伯格不会为环保人士说一句好话一样）。假如我这个判断将来被证实是错误的话，我估计他可能会在微型反应堆方面改变看法，这个正好与他关于分布式的微型电站的观点相吻合。每当刺猬得知自己的观点被证实是错误的时候，他们会找到一系列的借口： “我就差那么一点就对了。”“我只不过是选错时机而已。”“我犯了一个正确的错误。”（出来的政策是正确的，但他们的预测是错误的）“我正好遇到了霉运。”而每一个借口都让他们有机会再次重申自己原先的理论为何是正确的。</p><p>PART   16   科学家<br>科学家则是像狐狸那样训练出来的讳的科学家是斯坦福大学的气候学家史提芬•施耐德 （Steephen Schneider )。30 年的寒冷天气以及他提出的空气中的粉尘及微粒（学名为气溶胶）的增加如何可以导致新冰河时期的理论模型而提出的。1974 年，他公开撤回该论文，因为他确信他的模型过分强调了气溶胶的影响并且低估了二氧化碳的影响。有了更好的数据以及更好的模型之后，他改变了自己的立场，开始对气候变暖极为关注，并且一直到今天他都在坚持这一立场。嘲笑凯恩斯关于货币政策立场之转变一样。凯恩斯的回答是：“当事实情况发生变化的时候，我就会改变我的立场。不知先生您会怎么做呢？”忧了。”这是一位听众回答泰特洛克的时候说的话，泰特洛克认为这是“狐狸的典型特征”。另外有一句话则是来自法国狐狸伏尔泰，他说：“怀疑不是一种让人舒服的状况，但深信不疑则是荒谬的。”在什么问题上你错了，这样的错误如何改变了你的立场？ ”我们从他的回答可以看得出这个人在智力上是否是诚实的，或者他只是自认为不会被打败的骗子。让我快速地罗列一个我自己的错误清单吧：20 世纪 60 年代时，我深信公社式的社区是未来的方向，我认为巴基明斯特•富勒 ® 所设计的穹状建筑是可以居住的，并且认为可卡因是无害的。20 纪 70 年代时，我认为 1973 年的石油危机会导致美国的警察走上街头，我认为核电是坏事，并且小的永远是好的，特别是村庄。而关于千年虫的问题，我更是彻底地错了。2003 年，我深信民主党的竞选人会贏得但错误帮助我们学习。从这些以及其他的错误当中，我学会了不要过分地持乐观或悲观的态度。很显然我经常高估了社会作为一个整体接受新东西的速度，以及大规模的复杂结构的脆弱程度。要记住，也许我关于气候变化的预测会是错误的。我有很多错误的判断是因为我的无知，我当年否认核电就是因为这个原因。</p><p>PART   17   困惑所在<br>刺猬通常会非常坚定地表述自己的观点，并且坚持自己的观点。而狐狸则非常谨慎地表达自己的观点，同时这些观点也非一成不变的。猜猜观众更爱听哪个吧。我们需要的是更多敢于坚定地说出自己不十分有定论的观点的狐狸（这本书正在尝试做出一个示范），以及更多能够欣赏观点改变的观众。当我们听到教皇说“正如我一直说的……”的时候，观众正确的反应应该是“啊？ ”。不敢承认错误是可以导致无力感的。顾问的朋友告诉我说：“新保守派现在都不说他们关于伊拉克问题有什么是对的了。他们只是将所有的时间花在证明自己没有错。这就意味着政策不可能发生改变，因为根本不可能有这样的一种讨论得以开始：‘方案 A 失败了。我们是否有方案 B ? ’”让刺猬当执政官是一个坏的主意。抗议者有一套绝招，是建立在他的好奇心基础上的。当他看到一群抗议者的时候，就会走上前去问他们：“请告诉我你们关心什么。”然后会有人大发牢骚。是否正确，您刚才讲的是……”然后他就会把抗议者的观点复述一遍，并且通常他的复述会更为清晰和有力量。抗议者马上释然了！他们的声音被听到了！会呢，因为布朗州长有时会因为一些事件而改变他的观点和政策，并以此著称。Thinking ) 的活动，这是今日永存基金会 （Longnow Foundation ) 的一个活动，我就参照布朗的做法来设计我们的现场辩论。我们有过关于核电变绿以及合成生物学的辩论。每一轮首先开始的辩手先讲 15 分钟，而后他的对手会进行 10 分钟的提问，并且他在总结的时候需要归纳前一位辩手的观点，使得第一位辩手满意为止。而后他们就转换角色他们看到公众人物努力尝试去复述对方辩手的观点，而且不带讽刺。更重要的是，通过这样一种形式的对议题的深度探寻，可以避免辩论成为形式性的输和赢。同样，观众也会发现，自身的某些根深蒂固的观点也会开始动摇。有哪一个地方是适合用来就环境议题进行坦诚辩论的欢看巧舌如簧的刺猬之间的相互斗争，而不是为人们呈现出更具深度的理性辩论。环境组织没有大笔的资金来搞大的会议。也许一些绿色慈善家可以资助他们。最有效的解决办法也许是搞一个科学会议，要有足够的资金，邀请更多的环保人士到这里正式地开展辩论。</p><p>PART   18   环保人士应该怎么做<br>假如环保人士不拥抱科学和技术并且走到这两者的前沿，他们也许会走上共产主义一样的道路。环保人士需要成为新工具的早期使用者以及不断去拓展新的疆域。不再是一味地说“不”或 “停止”，他们的战略也许可以改为去肯定和重新引导方向。对于新科技，他们可以提出疑虑，但永远也不要丢弃这样的疑虑，要通过疑虑把科技引向更温和的方向、达至更好的目的。与其迷恋于那些浪漫主义的反叛和逃避政府，环保人士不如走向政府，游说政府推行类似新西兰或荷兰那样的由政府推行的包罗万象的环保计划。他们还可以从狐狸政治家 — 像富兰克林•罗斯福那样的人 — 那里获得启发。罗斯福因为他对生命的强烈渴望以及他对未来完全没有恐惧而在众人当中脱颖而出。他非常热情地欢迎未来，他传递出来的感情是，不管遇到什么，所有东西都会成为他磨坊里的谷物，没有任何东西会因为太可怕或太细碎而不能被利用或者是被改造成新的模式和不可预测的生命形态。和勇气去应对未来。</p><p>]()</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>交互青年论坛随想</title>
      <link href="2017/10/23/2017-10-23/"/>
      <url>2017/10/23/2017-10-23/</url>
      
        <content type="html"><![CDATA[<p>今天帮着去组织了下咱院里的交互青年论坛，让我感受到了这几年交互在设计行业的关注度有了一个很大的提高。在互联网高速发展的今天，人工智能，虚拟现实的发展都在从某种程度改变着人们的生活形式。人机交互作为人与信息技术交流的媒介，在科技发展中扮演者一个很重要的角色。</p><p>很多时候，计算机做的比人好。那么为什么还要人来做设计？我得出的答案是，人的情感。</p><p>举个例子，在《我，机器人》中，在发生危险情况时，机器人选择了救助成功概率更高的男主而放弃了男主想救助的救助成功概率比较低的小女孩。也因为人对人自身产生的威胁选择去消灭人类。</p><p>人工智能依靠的更多的还是算法，通过算法寻找最优的答案进行匹配。但实际上，最优的并不一定是最好的。就拿今天会场座位来说。因为不可抗力的原因，场地较小，无法满足所有参与者的用户需求。这时候有两种办法，一种是满足所有人的需求，去增加座位，加更多的凳子，使所有人都有的坐。另一种是让后来的人站着或席地而坐。如果是按照用户参与讲座的舒适度来设计模型，用人工智能去计算。那么毫无疑问，计算机会选择舒适度更高的满足所有人的舒适程度。</p><p>但实际上呢，我简单的做了下调研，有的人说坐着挤空间太小腰疼，还不如坐着或者站着。有的人说以前听讲座都是坐着的，坐着听讲座更有氛围。最后的效果是，大家更关注的是讲座本身的内容，而不是坐着或站着。当然至于坐着还是站着，每个人也有自己不同的看法。而得出的结论很简单，如果是基于情感化的设计，人工智能无法代替人类。如果人工智能能形成情感意识，那么我感觉只会形成革命，那样的结果应该不会出现，也不能出现。</p><p>人是感性的，也是理性的。很多时候，人都在强调理性，并通过一些科技去加强这种意识。但是，与之相对的，也有不同的呼声，那就是情感化的关怀设计。在智能化发展的时代，我觉得我们必须有一个意识，就是不能脱离情感进行设计。也许，人工智能得出的是最佳方案，但是这并不一定是人认为最合理的方案。设计是主动的，而不是为了省事，为了更加权威去选择大数据，去支持绝对的理性。更多的反而是利用智能技术去使某些关怀设计变得更加简单。印象最深的是一个对于灾区救援帐篷的设计，研究人员通过大数据以及各种调查数据设计出了一种帐篷，结果发现并没有得到灾区用户的青睐。这种事也发生在设计行业的各个领域之中。存在的问题，说白了，就是一个情感问题。如何去做让人满意的产品，不是冰冷的机器和数据能够解决的。更多的可能是自己亲身体验，不怕麻烦耐心去感受用户实际的情感，这样才能做到基于用户情感化的设计。</p><p>这不由得让我想起最近我读的一本书《用户体验与可用性测试》，作者是樽本徹也。其中新颖的调研模式，让我了解了区别于人工智能下大数据计算的情感化的调研方法。</p><p>这种方法是通过一种拜师模式，把用户当做是自己的老师。通过对用户操作进行学习，来亲身感受用户的想法。而不是依托于那些可能被不认真填写调查问卷的用户主导的调研结果。我想既然是做设计，就要以一个更加细心和虚心的态度去做好。而不是追求效率，用大数据去直接得出一个交差式的不准确的结果。这也是应证了现在设计界的问题，是为用户设计，但是只是为了设计而设计。更多是完成任务项目式的，追求高效率的去做设计。反而对于用户的情感方面，关注的就不是那么专注了。</p><p>其他的也有些想法，但是并没有太大的实感和例子。再好好想想，明天再看看接下来的论坛，说不定还有新的感受。</p>]]></content>
      
      
      <categories>
          
          <category> 随想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【地球的法则】第六章</title>
      <link href="2017/10/19/2017-10-19/"/>
      <url>2017/10/19/2017-10-19/</url>
      
        <content type="html"><![CDATA[<p>[<br>第六章<br>基因梦想</p><p>微生物统治世界，就是这么简单。<br>——《宏基因组新科学》</p><p>PART   1   微生物对人类的影响</p><p>20 世纪 70 年代，在微生物学家林恩•马格里斯的引导下，我开始关注微生物的创造性。马格里斯不但和詹姆斯•洛夫洛克一起创造了盖娅假说，还提出了内共生学说这一生物界的革命性理论。这一理论认为有核细胞（包括人类在内的真核生物就是由这样的细胞组成的）是由无核细菌(也叫原核生物）进行巧妙地聚合形成的。我们细胞中的线粒体原本只是外来寄生虫，却后来居上成为了我们的主要能量工厂。植物细胞中负责光合作用的叶绿体也是由内共生的蓝细菌转化而来的。没有这些细菌就没有光合作用，没有糖的合成，也就没有人类。内共生聚合也是刘易斯•托马斯《一个细胞的生命》这本书的灵感源泉。<br>这个新发现真是有点儿降低我们人类的身份：原来所有的复杂生物都是由我们眼中的虱子、细菌进行发明创造的结果。马格里斯在书中写道，这些细菌除了是自然界最具多样性的生物，“还是最古老的、经历过各种栖息地环境变化(包括其他物种的生存环境），并充分利用这一优势进化自己的生物。通过交换基因和获取新的可继承基因，这些细菌可以在几分钟、最多几个小时内扩展它们的基因能力”。所以它们是最老的、最多样性的、最快的，并且还是永生的。<br>它们不会衰老，它们不停地分裂，生生不息。难怪连著名生物学家爱德华•欧•威尔逊 （Edward O.  Wilson ) 也在自己的回忆录《自然主义者》 加，1994)中写道：“如果让我重新选择 21 世纪要做的事情的话，我将成为一名微生物学家。”尽管他自己对科学的革命性贡献已经有六七次之多了。<br>《宏基因组新科学：解密微生物星球》是我最近读的最令人兴奋的书籍之一。这本书可以从美国国家科学院网站上免费下载。以下是节选的部分：<br>生物圏中的每一个活动都有微生物的参与，它们改造世界的能力似乎是无穷无尽的。是它们将碳、氬、氧、硫这些生命必不可少的重要元素转化成其他生物可以利用的形式。比如说，我们都认为光合作用归功于植物，而事实上微生物在其中的贡献最大。所有的动植物都有与它们密切相关的微生物群体，用来为自己提供必要的养分、金属和维生素。我们人类的内脏里就存活着几十亿微生物“朋友”，帮助我们消化食物、分解毒素以及抗击那些给我们带来疾病的微生物“敌人”……<br>微生物群体的整体活动会影响海洋的化学组成，维护我们整个星球的可居住性……<br>微生物能够“食用”岩石，“呼吸”金属，将非有机物质转化成有机物质，还能分解最顽固的化学合成物。这些丰功伟绩是它们通过建立一个微生物的“生产线”来取得的：每个微生物完成自己的任务，所得的产物为下一个微生物提供养料，从而保证它也完成自己的任务……<br>最终的目标，是在 2027 年左右得到一个原社区模型，把生物圏当做单一的超级有机体来解释和预测（或者反向预测）它的行为。这样一个“盖娅基因组学”最终将解释所有的生物学系统。</p><p>盖亚假说认为有核细胞是由无核细菌进行巧妙聚合而成的，人类本身就是一个大的生态系统。</p><p>PART   2   克莱格•文特尔的探索</p><p>这些新科学之所以能够在短时间内成为可能，得益于对大样本微生物的联合基因序列这样的革命性技术的研究，也就是宏基因组学。微生物长期以来都是生物界的“神秘物质”，因为只有极少的一部分能够在实验室进行培养。如今有了有效的宏基因组技术，人们不再需要纠缠于有机体本身，而是通过扫描大量微生物的 DNA 碎片寻找它们能够合成的新的蛋白质种类，从而推断出这些基因的用途。<br>克莱格•文特尔的职业转折是一个很好的例子。他是在加州的海边冲着浪长大的。2003 年，为了缓解因为负责人类基因序列工作而带来的巨大压力，他回到了海边，坐着自己的“巫师”号帆船来到了贫瘠的马尾藻海，收集了一些海水样本带回实验室，然后用分析人类基因的散弹枪定序法对样本进行分析。<br>文特尔的团队在 2004 年 4 月 份 《自然》的一篇文章中报告了研究结果：他们发现每一桶马尾藻海水中包含了 120 万个科学界尚未发现的新基因（这比之前的数字翻了一番），预示着 1800 种新的细菌和古细菌可能被发现。从实用的角度来说，多达 800 种新的基因具有感应和收集阳光的能力，其中只有 200 种在已知生物体中曾被发现过。就是这一次帆船之旅，文特尔从世界顶级的基因学家走向顶级的野外生物学家之一，而成就这两个壮举却用的是同一套工具。让他的竞争对手和批评家更为恼火的是，他并没有停止脚步，而是继续扬帆，完成了整个环球旅行 ， 一 路上惊喜不断。他在报告中提到：“每 200 英里就有大约 85%的基因序列是从未发现过的。因此，海洋已经从人们以前认为的一大锅内容均一的‘汤’变成了数以百万计的随时变化的微生物环境。”<br>文特尔在他的演讲中将微生物的无所不在进行了可视化的描述：<br>在 1 立方毫米（1/5 汤匙）的海水中，就有 100 万个细菌和 1000 万个病毒。这间屋子的空气中 — 我们已经开始研究空气基因组了 — 你们所有的人在这一个小时内将会吸入至少 1 万种不同的细菌，再加上 10 万种不同的病毒 … 所以说，你此时此刻正在跟坐在你旁边的人不知不觉地交换着 DNA ……这就是我们所在的生物界，肉眼看不到，但每一分钟都在完成着进化过程……我们呼吸的空气是由这些有机物组成的，这个星球的未来寄托在这些有机物身上。如果你不喜欢细茵的话，那么你肯定选错星球了。这个星球就是个细菌之星。<br>的确，正如著名微生物分类学家卡尔•沃斯 （Carl Woese 〉所说的，微生物占据了地球上所有生物 80%的重量。95%的海洋生物需要用 1000 倍的显微镜才能看到。就连比海底更深一英里的地方也存活者大量的细菌，它们可能跟海底的沉积物有着差不多相同的年纪，也就是 1.11 亿岁。<br>再看看我们自己：人类体内的细胞只有 1/10 是人类特有的，其余 90%都是微生物。我们就像一个可以移动的沼泽。新成立的全球宏基因组行动组织发起了一个项目，叫做国际人类微生物联合会，目前正在忙着对人类体内的所有微生物群体进行散弹枪定序。我们人类有 18000 种不同的基因，而我们的微生物则有 300 万种。我们只是一个物种，而它们则是多种多样的 — 我们的消化道 （一个包含 100 万亿微生物的 21 英尺长的生物反应器）中有 1000 个物种，嘴里还有 1000 个，皮肤上有 500 个，还有 500 个在女性的阴道里。“这是无法逃避的，”《宏基因组》这本书中说到，“我们就是一个由人类器官和微生物共同组成的超级有机体。”<br>那么我们身上携带的这些微生物的净重是多少呢？细菌细胞比我们人类细胞小得多，据说大概是一只蜜蜂跟一只猫的比例。《人类的微生物栖息环境》{Microbial Inhabitants of Humans,  2004)   一 书中对微生物的总重量的估计是 3 磅，也就是差不多跟我们大脑一样重。</p><p>人类是一个行走的培养基。</p><p>PART   3   基因的移动</p><p>每隔几分钟，我们体内 （以及海洋、土壤和空气中）的微生物就不顾忠告、一意孤行地开始做一件被欧洲视为非法的、只有造物主才能做的事情，那就是跟它们的邻居进行基因交换，以便从竞争或者合作中获取进化优势。挥霍浪费、毫不在乎的基因工程已经作为微生物界的标准实践存在了 35 亿年了。林恩•马格里斯在她与儿子多里恩•萨干 （Dorion Sagan ) 合 著 的 《什么是性？》 —书中对这个过程的描述一针见血：<br>基因重组这一概念并不是基因工程师发明的，而是借来的 … 细菌并不是独立的个体，而是一个超级有机体的一部分，它们响应外界环境变化的方式并不是形成新的物种，而是释放或融合它们的邻居身上的有用基因，然后进行迅速繁殖……<br>试想你在咖啡屋里跟一个绿头发的哥们儿擦肩而过，然后你就获得了他绿头发的基因代码，或许顺便再加上其他几个新鲜的基因。这下子你不仅能把这些基因传给你的下一代，而且在你走出那间咖啡屋的时候也拥有了一头绿发。细菌们进行的就是这样的快速基因传递。假如你拥有一双蓝眼睛 （配上你刚刚得到的绿头发），在游泳池里不小心吞进了几口棕眼睛的基因，上岸以后又无意中沾上了一些向日葵和鸽子的基因。4 艮快你就发现棕眼睛的你开始长出花瓣，并且幵始振翅飞翔。等到你开始繁殖后代，你就可能拥有会飞的、棕色眼睛、绿色头发的五胎。这一切在我们看来纯属幻想，但在细菌的世界里司空见惯……<br>随机发生的的基因变异通常作用有限，但从另一个机体“批发”过来的基因群还是能够带来一些变化的。这之间的差别就好像一个印刷错误带给一句名言的影响，让其本来的意思不再一目了然。(引用马格里斯的这句话本身就是一个例子。如果在引用的时候稍动手脚，那么对基因变异方法的描述就面目全“飞”了。）<br>基因的转移分为五种，其 中 “垂直”的两种是我们所熟悉的，而其他三种 “水平”的我们不太熟悉，但实际上却更为常见。“垂直”基因转移是通过有性或无性繁殖 — 后代直接从父体和母体继承他们的联合基因组（例如人类），或者通过单一母体的分裂、发芽、孢子或者未受精的卵子。所有的基因都只向后代传递，因此是“垂直的”。而在水平基因转移中，“基因可以在各种人们预想不到的传播路径中来回游走：在细胞膜之间的桥上滑行，搭病毒的顺风车，甚至被外界环境所吸食，从而成为裸体碎片”，这 是 《自然》中的一篇报告中提到的。（这三种方式分别被称为接合、转导和转化。）<br>微生物的基因转移采取除了有性繁殖之外的其他四种。据估计，80%的微生物基因都或多或少进行过水平转移。其中有一些基因比另外一些更为活跃。卡尔•沃斯将最为活跃的基因比喻为“大都市基因”或 者 “多彩生活基因”。<br>它们有着很强的环境适应性。与此形成对比的是，很多基因并不会“索取”。它们出现在一个基因组里，然后就一成不变，直到逐渐被自然选择淘汰出局。<br>最近的研究发现了一个比较惊人的事实：那些水平转移的基因“甚至可以在不同种、属、次王国和生命形态王国之间进行转移”。[摘自在线百科全书 （ Citizendium )。] DNA 的片段已经被检测到能在大米和小米之间自然移动。<br>寄生类的植物和菌类能够自发地与它们的宿主交换基因。蛇的 DNA 能转化为沙鼠的。克莱格•文特尔的实验室发现果蝇的基因组内存活着一种叫做沃巴奇亚( Wolbachia ) 的常见寄生细菌的一整套基因组，而且 1206 种细菌基因中的 28 种是对果蝇有益的。这就像是在我们人类体内发现了有着神秘作用的整套跳蚤基因组。<br>说到我们，新的研究发现：“全部加起来的话，像病毒一样的基因占到人类基因组总数的比例高达 90%。”这 是 《新科学家》中的一篇报告中提到的。大部分基因无足轻重，但有一些却在几个关键的进化过程中起到了重要作用，例如哺乳动物的胎盘和免疫系统的形成。人们逐渐开始怀疑通过病毒进行的基因交换很可能是推动进化过程的主导力量。病毒实际上就是可自由漂移的基因组，它们只有细菌的 1%那么大，但种类上亿，超越了其他任何事物。《新科学家》的那篇文章里说道：“病毒交换 DNA 的频率表明生命是有能力从外界任何地方获取新鲜物质的，也有能力在受感冒病毒入侵这样短的时间内发生戏剧性的变化。”这篇报告还说：“生物_越来越像是一个互相联通的不断进行着基因交换的网络，也就是一个泛基因组。”<br>这是一个转基因的世界。</p><p>这里说基因的移动其实广泛存在于自然界中，像一个不断交流的信息网络。</p><p>PART   4   微生物的定额感知</p><p>归功于水平基因转移，微生物具备了一些让人惊叹的技能。别看它们小，它们会学习。（例如，大肠杆菌在消化过程中就能够预测、进而为它们将要面临的肠内环境做好准备。）微生物能够进行复杂的定额感知，这种感知不仅能在物种内部，而且能在物种之间进行一 - 从这个意义上说它们是多细胞的。（为了发挥在生物膜结构和毒素释放方面的群体优势，微生物通过化学自诱导物来跟邻居们协同作战。）它们会有意地制造降雨。（有些细菌表皮上有特殊的蛋白质，可以与水分子进行结合形成雨滴或雪滴。当它们被“陷”在空中的时候，这些功能可以帮它们顺利回到地面。这样的行为的总和就形成了所谓的“盖娅”，也就是生命和周围环境之间的全局反馈。）它们可以在岩石和冰块里面存活几亿年。[微生物学家拉塞尔 •弗 里 兰 （Russell Vreelaiid ) 曾经救活了陷在盐颗粒中长达 2.5 亿年的细菌，他认为地质学“对于微生物来说就像是基因银行”。冰川已经被形容成“基因冰棒”。]<br>微生物和我们身体之间的互动是方方面面的。我们为它们提供食物，它们帮我们对食物进行发酵。我们用抗生素对它们进行清剿，而它们用疾病来报复我们。细菌是唯一残存的能对我们产生威胁的生命体，维基百科中提到，它们能引发破伤风、伤寒、白喉、梅毒、霍乱、麻风病以及肺结核。它们还能攻击我们的农作物，使植物们遭受“病叶、枯萎和凋谢之灾，并给农场里的动物带来牛副结核病、乳腺炎、沙门氏菌和炭疽病”。但同时，我们利用它们制作发酵食品的历史也已长达几千年了，比如说“奶酪、泡菜、酱油、腌白菜、醋、红酒，以及酸奶”。<br>致力于将植物身上的惰性纤维素转化为有用能量的纤维素，科学家们正在对位于白蚁尾肠中不可思议的生物反应器进行研究。这个复杂的微生物社区能够将一张打印纸转化为半加仑的氢气。没有其他任何东西具备这样的能力。美国能源部秘书朱棣文 （Steven Chu ) 曾经说过：“我们要么对白蚁体内的微生物实施基因工程， Lh 它们产生多余的能量，要么对微生物体内的的化学物质加以利用，自己动手制造更多的能景。”<br>克莱格•文特尔对微生物的抗辐射能力深感敬畏：“辐射会把它们的基因代码击碎，它们的水分可能会被完全吸干，但是一旦把它们放到水里，12 到 24 小时之内它们就能够重建染色体，恢复到以前的状态，而且重新开始复制自己。”在这种情况下，他说：“胚种论中所说的有机体在特定环境中进行空间上的穿越，并重新开始繁殖的能力，是完全有可能发生的。如果生命能在宇宙中进行穿越的话，那么进化的过程可能就是一个 60 亿到 80 亿年的过程，而不仅仅是 30 亿到 40 亿年了。”<br>这就是水平基因转移的强大力量。最有创造性的生命活动就是转基因了。<br>难怪人类已经开始利用微生物来延伸自己的创造力，这样的例子有酸奶、治疗疟疾的青蒿素、红酒以及飞机燃料。<br>还在上学的时候，老 师教导我们要鄙视让-巴蒂斯特•拉马克 Ueaii Baptiste Lamarck ) 在 18 世纪提出的进化理论，该理论认为进化是对后天习得特征的继承。他认为长颈鹿的脖子变长是因为它们需要伸长脖子才能吃到高处的树叶，然后这个特征就传给下一代了。这个理论被批评为过于天真，并被查尔斯•达尔文的自然选择理论所超越。自然选择理论认为进化是大自然对随机继承下来的各种基因形态进行选择的结果。达尔文的结论是通过实验人员对基因进行人工选择而得出的，这是典型的垂直基因转移。但今天我们对水平基因转移研究得越多，就越觉得拉马克的理论看起来才靠谱。生物经常会根据环境的变化而后天获取一些特性，这跟拉马克的理论完全吻合。<br>卡尔•沃斯在此基础上提出了 “达尔文过渡说”，他认为大约在 20 亿年前，大量的有机体出于“嫉妒”，开始保护它们自己的基因，在垂直转移和水平转移之间更多地选择垂直转移。这就是我们所知道的“物种”的起源。比如水母或者花栗鼠这样的动物，它们一代又一代之间的基因是完全相同的。就像沃斯自己说的那样：“当有机体不再一视同仁地对待自己和其他有机体基因的时候，物种就形成了。”<br>弗里曼•戴森的说法跟沃斯异曲同工：<br>一些细胞决定还是维护自己的“知识产权”比较好。这样一来每一项发明的受益者就局限于发明它的物种，其他物种只能依靠自己了。这样的结果就是进化过程最近 2 0 亿年以来缓慢了许多。我把这称为达尔文插曲。但是由于人类的出现，这个过程又将有所改变，我们现在已经回到了基因可以水平转移的时代了。</p><p>微生物具有一定的预测行为，同时转基因有着强大的力量。<br>PART   5   合成生物学</p><p>所有的生物学家现在都是基因组学家了，分子生物学加速的步伐甚至超越了 IT 技术的发展速度，生物科技的编年史学者罗勃•卡尔森（ Rob Carlson )在不断地更新所谓的“卡尔森曲线”。这个曲线描述的是 DNA 定序和合成技术(也就是对基因代码的读和写）发展速度比摩尔定律快多少（摩尔定律说的是每两年计算机能力就翻一番）。有了这些飞速发展的技术，生物医学科技产业以每年 15%到 20%的速度增长，农业生物科技每年增长 10%。<br>一个崭新的领域“合成生物学”横空出世。维基百科是这样描述这个领域的应用的：<br>工程师们把生物学视为技术，合成生物学包含了对生物技术的重新定义和扩展，其最终目标是为了设计和建造出这样的生物系统：它们能够处理信息、操纵化学成分、合成材料和结构、制造能量、供给食物，以及维护和改进人类健康和我们周围的环境。<br>合成生物学的主旨就是“以大自然作为实验对象”，将那些几千年来纠缠在一起的基因代码反向工程化，对它们进行重构，从而形成新的可控制的、包含了智能设计的，而不是任由生物进化过程进行像杂牌电脑一样地随意组装。哈佛大学的杰出分子基因学家乔治•切奇 （George Church ) 曾说：生物学终于 “成为了一个工程领域，拥有可以调换的部件、层次化的设计、系统之间的可操作性，还有技术说明书，这些都是只有工程师们才会喜欢的东西”。罗伯特•卡尔森的报告中提到，基因组最小化设计的优势正在逐步凸显：“大多数合成 DNA 都是由很少的儿个基因组成的，最尖端的设计也不超过 15 个基因。阿米里斯生物科技公司 （Amyris Biotechnologies ) 就是利用变种的微生物体内的基因回路将植物体内的糖转化为有用的化合物，包括治疗疟疾的药物、飞机燃料、柴油以及汽油的衍生物。”<br>2008 年，克莱格•文特尔曾经在旧金山向一位观众讲述他的团队是如何从一种细菌身上提取染色体，移植到另一种细菌体内，并让这些外来物成功地“启动”了整个机体，从而彻底颠覆了这个遭到入侵的机体。他说：“这是终极的身份盗窃”，并同时感慨“这个软件能够建造自己的硬件”。<br>斯坦福大学的生物工程师德鲁•恩迪 （Drew Endy ) 喜欢问他的听众是否可以对大肠杆菌加以“编程”，“从而让它们在生长期释放鹿蹄草的香味，而在休息期闻起来像香蕉。”如果可能的话实现起来又有多难，5 个学生、4 个月时间、花费 25000 美元吗？不是的，实际上只需要一个业余爱好者一天的时间，花费不会超过 1000 美元，就能够把大肠杆菌送去参加“香味秀”了。2001 年，恩迪跟麻省理工学院的汤姆•耐特 （Tom Knight ) 联手成立了“生物砖”( BioBricks ) 基金会，为创造和调整基因组提供原材料和工具。大学生和业余爱好者在一年一度的 iGEM (国际基因工程机器）盛会上展示他们的基因创新。<br>2007 年的 iGEM 大会吸引了来自 18 个国家、54 支队伍的 576 名参与者。《石板书》杂志报道说，参赛的项目包括：<br>能自己产生香味和颜色的乳酸菌，可以模仿红细胞行为和特性的细菌，能够检测出耐药性微生物的“病毒检测”机体，有可能被用来检测和消灭乳腺癌的病毒，能够进行水过滤的检测并消除水银的双细胞生物，以及能够模仿墨西哥足球赛中的人浪那样进行顏色变化的微生物。<br>2008 年， iGEM 大会的参加者人数比 2007 年翻了一番，有来自 21 个国家、84 支队伍的 1200 人。<br>弗里曼•戴森在这样的大会上看到了费城花卉培植年会和圣迭戈的爬行动物饲养年会的影子。在那些会议上，人们可以看到最新培育出来的玫瑰、兰花、蜥蜴和蛇。戴森说：“我预言在接下来的 50 年内，对生物科技的征服将主宰我们的生活，就像过去的 50 年内计算机对我们生活的主宰一样。”他充满信心地认为一旦生物技术脱离了大公司的控制，就不会再被人们当做外星人或者备受质疑了 。 “一 旦到了生物开源时代，基因的神奇力读就能够被任何具备一定技能和想象力的人们所利用。”</p><p>生物学将主宰我们的生活，对社会发展造成巨大的影响。</p><p>PART   6   极端基因工程报告</p><p>仅有的几个关注这个话题的环境学家对“合成生物”的态度看起来不是很确定，不知道是否要加入、废除还是继续忽略它。2007 年，反基因工程团体 ETC 的 吉 姆 •托 马 斯 （Jim Thomas ) 写了一份关于合成生物学的调査报告，名叫 “极端基因工程”。这份报告研究事实充足、涵盖范围广，而且危言耸听的程度并不严重。他在报告结论中提到：“本着一贯谨慎的原则， ETC 认为，最起码，在广泛的社会讨论和强有力的监管到位之前，必须立即叫停新的合成生物体进入自然环境。”是的，假如生物技术的研究还是局限在少数儿个大公司里，疏于监管，那么上述论断是成立的，但是那样的日子已经一去不复返了。分子科学研究所的罗杰•布伦特 （Roger Brent ) 说：“每一天，在全世界的几千个实验室里，从细胞和生物体中分离出来的基因、信使核糖核酸（ mRNA ) 和蛋白质都以比特的形式（通过互联网）或者以可自我复制分子的形式（通过联邦快递）进行传送，进而移植到其他细胞中，或者被用来合成新的生物体。”<br>布伦特是美国开源生物科技的主要支持者之一，其他支持者包括罗伯特 •卡 尔 森 、德 鲁 •恩 迪 、乔治•切奇和克莱格•文特尔。他们都非常了解生物恐怖主义的危险，并且都跟负责生物安全的的政府部门有直接工作关系。<br>他们认为对付潜在危险，最安全也最实际的方法就是透明性和生物技术技能的推广和传播，这正像是在计算机世界里，尽管来自网络的攻击、计算机病毒、蠕虫以及其他方面的威胁层出不穷，但是借助计算机编程技能本身的传播就能有效地提高互联网安全。克莱格•文特尔说生物技术最危险的时期其实是当它被限制在前苏联和美国的秘密生物武器实验室里的时候。<br>几十年的实验室工作和工业规模的生物反应器已经证明弱化生物体在工作环境之外的生存能力是非常容易的事情。即便不设法弱化它们，它们本身也是很脆弱的。至于说有目的地制造大景微生物，计算机科学家鲁迪•卢克 （Rudy Rucker ) 是这样评价的:<br>我试图想象像细菌一样大的麻省理工学院工程师们穿上黑帮分子的衣服来到一个偏僻的巷子里，企图做一些不堪的事情。结果他们碰上了同伙，同样不堪的事情这些人已经进行了大约 10 亿年之久了。<br>对合成生物学的重要性进行提前预测的好处之一是各种综合机构的成立和会议的召开。这些活动有利于让潜在的利益方从一开始就参与进来。这些利益方除了生物科学家和生物工程师之外，还包括生物伦理学家、环境活动家、生物安全人员、社会科学家、政治家、记者、基金会和投资者。<br>一些比较知名的组织包括合成生物安全（ SYNBIOSAFE ) (在欧洲），合成生物工程研究中心（ SynBERC )，国际多核苷酸合成协会，以及合成生物学工业协会。 ETC 组织的大规模社会讨论也在进行中。比如说 2008 年，德 鲁 •恩迪就邀请 ETC 的吉姆•托马斯进行了一场关于合成生物学的公开辩论。我有幸在旧金山参与了辩论的筹划工作。恩迪说：“我想要开发出能让生物工程变得容易的工具。”而托马斯却说：“不公平世界中的强大技术可能会使不公平恶化。”<br>就在差不多同一时间，《纽约时报》的记者在参观麻省理工学院的合成生物工作组的时候，注意到他们的任务清单上面赫然列着：“种一座房子。”<br>现在我们需要问这样的问题：合成生物能为人类的食品制造带来什么对环境有利的好处呢？我们是对现有的农业进行微调，还是开发新的农作物品，还是从海藻开始从头来过，还是从微生物、而不是鱼类开始重新发明水生物和海底农业，还是什么别的方法？除了这些更加“绿色”的食品之外，对于绿色燃油和材料来说，情况又是什么样呢？</p><p>透明性的实验以及合理的传播形式有助于基因工程的发展。<br>PART   7   杂食者的窘境</p><p>我以前做过不少跟有机农业有关的事情，甚至可以说是比我想象中的还要多。当我阅读迈克尔•波兰 （Michael Pollan ) 写 的 《杂食者的窘境》这本关于美国农业自然历史的书的时候，下面这<br>段话让我有点意外：<br>《有机园艺和农业》这本杂志在 1969 年之前基本上无人问津。是 《地球目录》这本书使得这本杂志开始得到嬉皮士们的关注，因为他们那时正在寻找能够不用光顾军事一工业基地而自己种蔬菜的方法。短短两年时间内这本杂志的发行量就从 40 万增加到 70 万。<br>在 《地球目录》中我们的确对宾州罗戴尔研究所的有机出版物进行了宣传，而且我还跟鲍勃•罗戴尔 （Bob Rodale ) 成为了朋友。波兰还提到了我们收录的一篇农民诗人文戴尔•贝瑞 （Wendell Berry ) 写的赞美阿尔伯特•霍华德 爵 士 （Sir Albert Howard ) 的文章。霍华德在 1940 年写的《农业的自白》（如  Agricultral Testament)   一书是有机运动的奠基之作。这本书是这样开篇的：“维护土壤的肥沃是任何持久农业系统的首要条件。”<br>阿尔伯特爵士的著作，以及更早的一些书籍，包括富兰克林•希拉姆 •金 （Franklin Hiram King ) 的 《四千年农夫 》 （Farmers 1911)和 乔 治 •波 金 斯 •玛 氏 （George Perkins Marsh ) 的 《人与自然》,让我开始相信，人类文明的质量和它能延伸的寿命可以从它的土壤质量来判断。因此当我看到一个以土壤为中心的新领域一 - 农业生态学正在蓬勃发展的时候，我感到很兴奋。这个新领域包括：有机培养、永久培养、混养、保护性农业、生物农业，以及综合农业管理。<br>我们也可以把转基因作物加进去，前提是它们是经过正确设计和合理使用的。<br>现在需要正式介绍一下我多次引用的两个人：帕梅拉•罗纳德和拉欧尔•亚当查克。拉欧尔目前在加州大学戴维斯分校教授有机农业课程，在此之前，他是一个名叫“肚皮鼓鼓”的商业有机农场的合作伙伴。他还曾经是加州有机农场主认证委员会的主席。帕梅拉是一个植物基因学家。他们两个人除了是结发夫妻（有孩子）之外，还在 2008 年合作出版了一本极具魅力、信息量很大的书.•《明天的餐桌：有机农业、遗传学和食物的未来》Orgflmc 基于他们平时工作中积累的点点滴滴，他们力证转基因作物和有机农业殊途同归，都是解决人类吃饭问题、同时对土地伤害最小的解决方案。书中写道：“为了解决全世界人口的吃饭问题，而又避免对环境带来比较大的伤害，需要采用一种新的方法，那就是将基因工程和有机农业结合起来……基因工程培育出抗虫病能力更强的农作物种子，而有机农业则能够更有效地控制害虫的种类。”<br>为了保住他的有机证书，拉欧尔不能够使用任何转基因的种子。在 《明天的餐桌》里，他写道：<br>作为一个有机农场主，我希望看到更多的农场走向有机化，同时我也希望利用最先进的技术去创建一个对环境有益的、可持续发展的高产量农场……既然通过育种从野生物种引进的基因能够改进农场主对害虫的管理，那么同样的方法，通过基因工程引进的基因也能够改善对疾病、昆虫以及线虫的控制，而对于这些灾害至今还缺乏有效的有机解决方案。基因工程还能够提高我们在分子层面上对植物的理解。20 年来，帕梅拉一直致力于更好地理解植物和微生物之间是如何交流的。<br>我也应该提一下帕梅拉最近在基因工程方面的工作，因为她对自己的成绩总是表现得很谦虚。在加州大学戴维斯分校这个世界上最好的农业科研中心，她负责一个很大的实验室，致力于改善第三世界国家的稻米质量。她跟位于菲律宾的国际稻米研究所的科学家以及其他亚洲国家的一些科学家合作，帮他们从印度东部的一种古老的稻米品种中分离出一种抗水灾的基因。在印度和孟加拉，每年有 400 万吨稻子被洪水侵蚀，这些稻子足够解决 3000 万人的吃饭问题。拉欧尔在一次采访中提到：“近 50 年以来，人们一直试图用传统的育种方法开发出抗洪灾的水稻，但都失败了。居住在缅甸、孟加拉和印度的主要洪灾区域的 7500 万农民每天的生活水平连 1 美元都不到。”<br>利用基因工程技术，帕梅拉展示了一种叫做 SublA 的基因，它本身就具备耐水淹的特性。有了她在实验室分离出来的基因信息，菲律宾、孟加拉和印度的育种者使用一种高精度育种技术（一种基因工程和传统育种方法混合的技术），将这种耐水淹基因移植到当地改良的高产水稻品种中去，这种新基因可以让植物在水下“屏住呼吸”长达整整两个星期。这种水下水稻目前正在孟加拉、印度和老挝的农田里进行试种（这是向大众推广之前的最后一个阶段）。<br>在 《明天的餐桌》这本书里，帕梅拉还顺便向有机工业界提出了一个小小的挑战：“由于我们的团队同时开发了耐水淹的加利福尼亚水稻变种，我们也许能够免除当地稻农对除草剂的使用。”（有机稻农通过浇灌深水把杂草淹死，耐水淹的水稻品种将使这种技术更加有效。）那么我想知道的是，美国 56 个有机农业认证项目中，谁会第一个接受帕梅拉的耐水淹水稻？不错，这个水稻是基因工程的结果，但是这里所说的基因是来自另一种水稻品种，而且它除草的方法仍然是自然和古老的。（那么现在问一问你自己，如果这种抗洪基因来自香蒲，或者鲶鱼，或者猫，或者是某个大公司，又会对水稻、稻农或者食用稻米的人带来什么样额外的危害呢？ 其实真的是无所谓的。）<br>我向帕梅拉询问她的耐淹稻谷专利的申请进行得如何了，她说：<br>Subl 基因目前不受版权限制（我们觉得第三世界国家的稻农们太需要这个了，我们不想让申请专利的复杂过程去耽误时间）。 S ubl 水稻变种目前已经在稻田里试种了 3 年，在洪水条件下比传统的稻种的收成增加了 2〜5 倍。稻农们正在把种子包装起来，以方便下一年的播种和与邻居进行分享。盂加拉国家育种站也准备了免费发放的种子。他们希望在接下来的 3 年中能有满足 200 万英亩稻田耕种的种子。</p><p>利用基因工程可以培养能够耐受极端环境的作物，从而帮助人类度过极端环境。</p><p>PART   8   有机的实质</p><p>有机农业如今正在蓬勃发展。在美国，有机农场在 2005 年已经有 400 万英亩，是 1992 年的 4 倍 （但这仍然只是全美农场总面积的 3%)。全世界范围内，有机农场总面积达到了 7600 百万英亩，其中澳大利亚（澳大利亚！）和欧洲的一些地方的比例达到 1/3 之多。农民和经销商对有机作物的定价较高，有时候甚至高达传统农作物的 3 倍。不过如果有机业只是作为一个市场现象而存在的话，那它仍然是脆弱的。<br>我个人愿意花更多的钱买有机食品，只为了一个原因。我并不相信有机食品更加安全，或者更有营养，或者产量更高，我甚至也不觉得它们一定比传统的食品味道更好。但我的确相信有机农业能够减少化肥、除草剂和杀虫剂对美国 的 “土壤、水和野生生物”的影响。因此我多花的那部分钱其实是在服务社会，而不是为自己着想。等到下一代基因工程农业开发出更有营养、更可口又更便宜的食品的时候，很多人也许就不会像现在这样慷慨了。可是那样的作物是可以也应该进行有机种植的。<br>“有机”的实质到底是什么？标准的定义包含了对土壤以及周围生态系统的保护，必须是依靠生物和机械方式对害虫进行控制，依靠有机物质进行施肥。只有一部分人在此定义基础上有所扩展。来自荷兰的一份权威文档是这样说的：<br>在尊重自然性的前提下，基因工程将会被视为“不自然”，因为它破坏了整体的和谐和平衡，但更是因为用来重新组合的 DNA 并不是“自然物质”，而是合成基（与非化学方法有关）……基因工程不尊重作为生物各所应具有的决定性特征（“自然”）。基因工程采用机理性而不是全盘性的思维方法来对待生物体。因此对有机农业工程化的反对并不仅仅是因为基因技术所带来的风险。它还与技术本身有关，并与人类对它对大自然的改造持什么态度有关。<br>在我看来，这样的论述只能说明一个问题：如果你用充满漏洞的逻辑进行推理，你将不会得到有用的结论。这篇论文的题目叫做“有机农业需要的是过程而不是对新兴育种技术的产品评估”。这难道意味着欧洲人从来不用经过辐射或者化学诱变的有机种子吗？在现如今的市场上，所 谓 的 “自然”只不过是商家的噱头，或者用来转移消费者注意力的东西。美国有一种香烟名叫“自然美国精神”，包装面写着“100%不上瘾自然烟草”。商家利用北美印第安的身份进行宣传，发放生态环境知识卡片，利 用 “有机种植”来抬高售价。2002 年“自然美国精神”被特大企业美国雷诺兹收购。根据世界卫生组织的调查，发达国家 1/4 的男性死亡（1/10 的女性死亡）是抽烟所导致的。</p><p>当有机成为卖家的噱头的时候，有机其实并没有实质的作用。</p><p>PART   9   包含了基因工程的有机农业</p><p>一个包含了基因工程的有机农业是什么样子的？有机农荷西 •贝尔（Jose Baer ) 这样写道：“如果有人能提供基因工程服务就好了，提供一个基因库 、 一个农作物库，供人们选择任何他们想移植到特定作物中去的基因。他们可以为你制订了计划，帮你播种，并提供为你量身定做的转基因植物。”你可以想象如果是雷切尔 •卡 森 （Rachel Carson ) 的话，她会如何对有机作物实施生物工程。她一定会把作物设计得能够保护和提髙土壤质量，消除特定害虫和杂草对作物的威胁，很好地跟其他有机作物和有益昆虫进行融合，并提高土壤对碳的固化能力，减少甲烷和二氧化氮的排放，而且把它们的营养和味道改善到科学所能达到的极限，并同时给种植者提供进一步改进的空间。<br>除了基因“生物砖”基金会以外，让我们呼唤“农业砖”（ AgriBricks ) 的出现吧，通过改变农作物基因排列来适应当地生态和经济需求。（如果孟山都公司因此被惹恼，告诉他们如果他们客气一些的话，你可以考虑把你对他们基因序列做过的改动授权给他们使用。很快地，他们，或者其他取代他们的公司就会向你提供实验设备了。）<br>对区域经济健康发展有利的一项实惠就是农贸市场的重新兴起，它们类似 20 世纪 40 年代伊利诺伊的那些市场，只是比那时候更好。1970 年美国有 340 个农贸市场，1994 年有 1800 个，2008 年有 5000 个。以他在农贸市场卖有机核桃和番茄的经验，荷西•贝尔估计，如果要在那里卖转基因的有机食品的话，将会是以下情形：<br>我在南加州的 4 个农货市场卖过菜，我发现人们会聆听你的种植过程，然后决定他们是否认同，以此再来决定买不买。不管是有机还是非有机的都是这样，取决于他们是否喜欢你描述的种植过程。这其中历史因素、与雇员的关系、与自然的关系以及食品安全都在考虑范围之内，只有价格往往不那么重要。<br>让我感到高兴的是如今消费者越来越在乎我们食品的味道了。这可能会为基因工程提供一些很有意思的机会。我想农货市场可能是转基因作物最好的市场，因为在那里你有向消费者直接解释的机会。我可以向他们展示果园的照片，这样他们就知道并没有什么可担心的事情。我还会向他们解释我为什么这么做（关亍经济、食品安全，以及环境方面）。我相信直接展示给他们看，人们是会购买的。<br>有了贝尔提到的对食品味道和新鲜程度的关注的增加，加上人们对燃料价格持续提高的担忧，以及我和我的朋友们 40 年来一直提倡的区域生物主义,我们已经开始看到慢餐和土食 ® 运动的逐渐兴起，更多的路边市场、食品合作社，以及可订购农场的产生 —— 种从德国、瑞士和日本引进的农业经济模式：消费者以入股的形式分担农场的成本（以及风险），作为回报他们得到农场每周送货上门或者定点提取的高质量食品。通过屏蔽掉中间环节，这种订购模式，也叫社区支持农业，给农民们带来了更多的现金流，同时为消费者提供了更优惠的价格。</p><p>用户关注农产品的生产过程，以及农产品的味道，当他们真正</p><p>PART   10   预测生物技术和有机农业如何影响世界</p><p>要想预测生物技术和有机农业如何影响世界，尤其是第三世界国家，看看 20 世纪 60 年代和 20 世纪 70 年代的绿色革命中的一些成败得失就知道了。1969 年 ，正 当 保 罗 •埃 里 克 （ PaulEhrlich ) 在 《人口爆炸》—书中预言 20 世纪 70 年代和 80 年代将会有几千万人死干饥饿的时候，印度和巴基斯坦新的小麦、水稻和玉米品种已经开始为农民贡献收成，菲律宾也已经从水稻进口国一跃成为出口国。之所以会这样是因为洛克菲勒基金会早在 20 世纪 40 年代就开始通过开发新作物和农业实践来拯救世界范围的饥荒。他们最早引入的人才之一是艾奥瓦州的农业学博士诺曼•伯劳格 （Norman Borlaug )。<br>然而，20 世纪中期的亚洲饥荒却并非臆测。1943 年，印度的饥荒使得 400 万人丧生。<br>从墨西哥的试点开始，伯劳格和几十位农民以及其他一些科学家开始培育能够在发展中国家的任何地方生长的高产小麦和玉米。新品种必须是非杂交的，以便于农民们能够把种子保留下来，来年继续播种。它们还必须是光周期集中的，这样它们就能常年生长。以前的高产品种一个很大问题是它们成熟的时候会被果实压弯，伯劳格开发了一种结实的半矮生的品种，它们在成长过程中将更多的营养输送给果实而不是它们的茎，这样它们就可以在丰收季节承受住谷物的重量。植物也不再需要长得比周围的杂草高，因为除草剂可以有效地控制杂草。在新的小麦和玉米品种被引入亚洲的同时，类似的新型水稻品种也出现在菲律宾。<br>农作物科学家乔纳森•格雷塞尔 （Jonathan Gressel ) 回忆道：<br>对小麦品种的改造格外费劲，因为携带矮生基因的染色体同时有减产基因与之紧密相连，而把它们分离开来并不容易，需要很少见的染色体重组 （跨越）才能完成，也就是要从几百万颗植物中进行筛选。这个任务最终被完成了，这些新品种很快被引进到印度和中国。绿色革命带来了三倍增长的农作物产量，直接为处在战争边缘的国家提供了粮食保障，也确保了伯劳格和他的同事们顺理成章地成为当年诺贝尔和平奖得主。经济学家、社会学家、政治学家、农学家和杀虫剂、化肥界的领袖们的预言也因此不攻自破。他们错误地认为农民们对新技术的接纳度有限，或者缺乏一定的基础设施、缺乏动力或者能力去购买新技术，等等。这些自以为是的所谓专家并不是非常了解钇民朋友们，这一点有些不可思议，但同样的问题如今也发生在农民们对转基因技术的采纳上面，尤其是那些相对较小、资源较贫乏的农场，他们对新技术的接纳程度跟后来的这些伪专家们的预言是背道而驰的。<br>据估计，诺曼•伯劳格拯救了大约 10 亿人的生命，这是史上任何人都无法与之相提并论的。厄尔里奇预言的饥荒并没有发生，部分原因是伯劳格并没有像厄尔里奇那样整天担心人口过度增长带来的危险，而是把精力集中在如何提高粮食产量，人口的问题留到以后再解决。这种策略显然成功了。不仅如此，高产作物还对环境产生了直接的好处。伯劳格在 2007 年写道：“如果把 1950 年的谷物产量放到 2000 年，那么要想达到同样的全球收成，就需要比 1950 年 多 12 亿公顷同质量的土地面积，而不是实际所用的 6.6 亿公顷。不但如此，如果对环境较敏感的土地被用来耕种，那么土壤腐蚀、森林和草地面积的流失、生物多样化的减少，以及野生动物物种的灭绝将会带来灾难性的结果。”<br>环境保护运动向来对粮食问题漠不关心，他们认为绿色革命或多或少是个错误。当诺曼•伯劳格在 20 世纪 80 年代早期准备在非洲实施他的“魔法”的时候，环境保护主义者说服世界银行和福特、洛克菲勒基金会不要向他提供资助。[日本人笹川良一（ RyoichiSasakawa ) 最终雪中送炭，伯劳格现在在非洲 12 个国家都有项目。]阿 尔 •戈 尔 在 《平衡的地球》—书中对环保人士的批评作了如下总结：<br>尽管绿色革命极大地提高了第三世界的粮食产量，但它所用的技术经常是对环境有破坏性的：大剂量的化肥和杀虫剂的使用、由于灌溉系统有缺陷而导致过量用水、追求短期高产而导致土壤过度开采（这有时候会引起大面枳的土壤腐蚀）、作物的单一栽培（本地品种无法得到栽种），以及总体机械化的加速推广带给富农的额外优势。<br>(戈尔在书中建议进行第二次绿色革命，把注意力更多放在相对贫困的农民和环境上面，使 用 “更先进的植物基因来提高植物自身的抗病虫害能力，从而减少杀虫剂和除草剂的使用”。）<br>戈尔的书是 1992 年出版的。就在 24 年之前的 1968 年 ，一 位被称 为 “印度绿色革命之父”的科学家曾经这样告诉印度科学议会：<br>大量耕种土地而不考虑保护土壤养分和结构最终将导致土地沙漠化，灌溉土地而没有相应的排水系统将导致土地盐碱化，随意使用杀虫剂、杀菌剂和除草剂将会引起生物系统失衡，导致癌症和其他疾病的增加……对地下水的不科学利用也将会让这个通过若干年自然耕种积累下来的优秀资源迅速枯竭。用一两种高产作物在短时间内取代大量本地原生的作物种类，并成片种植它们，这容易引发严重疾病的发生，并有可能导致农作物的大面积死亡。<br>说这话的人是植物基因学家芒孔布•桑巴斯万•斯万米那桑 （Monkombu SambasivanSwaminathan )，印度最杰出的科学家之一，获得过 1987 年的世界粮食奖。在我看来，斯万米那桑对新技术的批评为类似的批评提供了一个很好的范例，因为他是一个真正懂技术的人，掌握着第一手知识，这样在新的领域尚未成形、坏习惯尚未养成的时候，就能够直接、快速地纠正所犯的错误。<br>然而，印度政府还是忽视了斯万米那桑的忠告，对地下水取用过量用来灌溉，导致含水层枯竭。许多农民过量使用杀虫剂和除草剂，的确污染了水源，引发了疾病。世界上 12 种最严重的“长期有机污染剂”中，有 7 种是杀虫剂，包括氯丹（ chlordane )、安 特 灵 （ endrin )、毒 杀 芬 （ toxaphene )、 DDT 杀虫 剂 （二氣二苯三氯乙烷），以及地特灵（ diddrin )。所有这些都已经被发达国家淘汰了，但一些发展中国家还在继续使用。这些有毒物质散发到环境中，会引发癌症、新生儿残疾、内分泌失调、免疫系统功能紊乱，还有最近新出现的糖尿病。<br>斯万米那桑曾在一系列组织中任职：国际稻米研究所、保护自然资源国际联合会、世界自然野生动物基金会（印度），以及联合国千禧抗饥荒特遣部队的联合主席。这期间，他致力于推动他称为“常青革命”的运动，目标是“在保护环境和可持续发展的基础上实现人人有饭吃、永远有饭吃”。他 拥 护 “生态科技”，也 就 是 “新技术要建立在保护生态和经济、确保性别和社会平等、有利于创造就业机会以及节省能源的基础上”。<br>在 2006 年的演讲中，斯万米那桑谴责了有机农业运动对基因工程的回避，同时提倡“绿色农业”：“这一概念在中国已经越来越受欢迎了。有机农业和绿色农业之间的区別是：（绿色农业）使用综合害虫管理系统、综合营养供给、科学的灌溉系统，这些都是为了保证土壤的潜在生产能力不会受损。而且你还可以根据实际情况选用分子培育或者孟德尔培育方法。”他还说：“我们是否有能力迎接全球变暖和海平面上升带来的挑战，就取决于我们是否能把有机农业和基因学很好地结合起来。”<br>另一位绿色革命的拥护者和“内行”批评家是农业生态学家高登•康威(Sir Gordon Conway ) 爵士。20 世纪 60 年代，他在婆罗州（ Borneo ，位于马來群岛）工作，并在那里成为“综合害虫管理”的先驱之一。1998 年到 2004 年间，他担任洛克菲勒基金会主席，同时写了一本很重要的书：《双重绿色革命》。书中指出第一次绿色革命的不足之处(用水过量，富农优势过度，以及忽视土壤维护），以及如何修复这些不足。康威希望双重绿色农业革命能够在利用基因工程增加作物产量的同时，为不太富裕的农民带来更多的机会，并更加重视自然资源的节约和保护。他这样写道：<br>“我们之所以能把生态学植入到植物种子中去，很大程度上归功于现代生物科技。”新 的 “基因革命”将在两个方面比绿色革命更加敏捷，但同时更加难于实施，而这正是他想要解决的问题。这一次的优势是逐渐成熟的生态学和基因工程学所带来的便利，然而，正像我前面所说的，基因工程所带来的不利因素远大于环境学家所担心的。</p><p>粮食生物科技兴起的时候正是全球化改变了公共和私有领域之间界线的时候：公共利益、公共领地、公共义务变成了私有公司、私有决策和私有优势。控制科研和技术私有化的国际规章已经改变，而 政 府 （无论是国际上还是国家内部）在这方面显得非常被动，就好像要把保证公共利益的责任委托给私营部门……<br>高等院校，特别是美国的大学，如今把绝大部分的科学创新的许可证发给私有公司，这其中包括一些非常重要的基础性技术，也就是下一步的科研必须依赖的技术。这样做的结果是 3/4 的新技术产品，包括最初研发是靠公共支持完成的那些技术，都被私营企业掌握在手里了……私有利益现在已经主宰了科研、生产和生物技术推广的方方面面。就连管理机构也喜欢有律师团队的大公司……<br>种子市场的激烈竞争和相对较低的利润率驱使这些公司把那些市场价值不足的知识产权囤积起来，从而阻止竞争对手进行相关的开发。这也无形中阻止了有些公共领域的科学家们继续为贫困农民提供服务的可能。知识产权的所属及其权利必须在产品走向市场之前进行协商和明确，而权利的多少和复杂性在迅速成倍增长，以至于一些有用的产品长期滯留在温室中无法走向市场，还有一些很好的概念无法变成现实。<br>在洛克菲勒基金会工作的时候，康威开辟了两条正式的途径来解决知识产权的问题。第一项努力是与麦克耐特基金会 （McKnight Foundation ) 联合起来，跟高校合作，把它们已经将许可证或专利授权给私有企业的生物技术产权同时 “开放给公共领域的人道主义事业”。[这一组织名叫农业公共知识产权资源( PIPRA )，位于加州大学戴维斯分校。]第二项努力是建立一个别出心裁的合作伙伴。位于肯尼亚、由非洲人发起的非洲农业技术基金会（ AATF ) 的职责主要是信息和协议。康威是这样描述它的：<br>它为贫困国家提供了一些工具，用来查看公共和私有领域中分别有哪些新技术是可用的，其中包括但不局限于生物技术；帮助这些国家决定哪些最符合他们的需要，如何获取这些技术以及如何管理它们；还有如何结合各国的实际情况制定管理规章以及安全条例……它将为加盟者提供先进的农业技术的使用权，这些技术是归私人或者其他研究机构所有，但不征收版税的。作为使用这些新技术的回报， AATF 将从使用者中选择一些合作研究机构，让他们利用这新技术去开发新的适合资源贫乏的农民耕种的作物种类，进行相应的生物安全测试，将研究成果（种子）发放给资源匮乏的农民，并帮助他们在当地创造市场来销售剩余的粮食。几个有名的国际种子公司以及美国农业部都对此表示了兴趣，希望能跟 AATF —起努力实现他们的目标。<br>如果上述努力开花结果，也就是说如果大公司和北方的政府能加入进来，再如果环境学家也加入其中（而不是主动或被迫敬而远之），那么基因工程将会为非洲和其他区域带来奇迹般的改变。</p><p>通过技术帮助贫困的国家。<br>PART   11   对粮食进行生物改进<br>木薯是一种抗干旱的根茎作物，它是非洲、拉美和部分亚洲地区 8 亿人口的主食。它富含淀粉，但非常缺乏蛋白质、维生素和微量元素。在发展中国家的以木薯为主的日常饮食中，蛋白质的摄取董只有正常人体所需的 1/3,维生素只有 1/10,而且木薯还含有一种对营养不良人群有害的氟化物。<br>2005 年，由比尔-梅琳达•盖茨基金会资助的“木薯生物营养促进计划”启动，旨在利用生物工程大幅度改进木薯的营养成分。新品种将实现 8 个目标。在营养方面，每日的饮食应该能提供一个人所需的生物蛋白质、维生素 A 、维生素 E 、铁和锌。另外，新的木薯应该是不含氰化物的，应该能储存两周而不是只有一天，还应该是能抵抗农作物病毒的。上述的每一种特性都将单独进行开发，之后再合并到一起成为一种新的全能植物。“这是史上最雄心勃勃的植物基因工程计划了”，项目领袖、俄亥俄州立大学的植物生物学家理查德•赛尔 （Richard Sayre ) 这样评价，“转基因的好处之一就是它 一 旦成功就能很快出产品，通常一年就够了……当所有这些新特性都集合到农民更加喜欢的新型非洲作物之后，剩下的工作就交给非洲的科学家在他们的实验室里完成了。我们是在美国和欧洲完成工具的开发的 ，一 旦这些工具到位之后，这个项目就变成非洲所属并负责开发的项目了。”目前农田实验已经在肯尼亚和尼日利亚展开了。<br>木薯生物项 H 和黄金水稻项目都是所谓的第二代基因工程创新的先驱项目。包括 Bt 转基因玉米和抗草甘膦转基因大豆（ RRS ) 在内的第一代基因工程将关注点完全放在提高产量上，并很快见效。超过 80 种转基因作物已经经过了 25000 次农田试点，被证实了新技术的安全性和有效性。在这些工作的基础上，第二代基因工程把目标直接放在为消费者提供营养丰富、味道鲜美、无过敏、无毒素、每个人都可以种植的粮食。<br>盖茨基金会的另一个项目是非洲生物强化高梁项目，是由在佛罗伦萨•温布 谷 （Florence Wambugu ) 非洲丰收生物基金会领导下的 9 个机构，包括杜邦先锋组成的联合会。高粱是一种为全球 5 亿人提供主食的耐旱作物。转基因将提髙它的消化率，同时补充维生素 A 和 E ，铁和锌，以及三种氨基酸。它的温室试验正在南非进行。（顺便说一句，目前维生素 A 是以 5 亿粒胶襄的形式提供给发展中此界的，每一粒约合 1 美元的成本。从强化作物获得相同数鼋的维生素 A 的成本只有 0.2 美分。）转基因香蕉也正在开发中，新品种将提供足量的人体每天所需的维生素 A 、 E 和铁，主要面向以香蕉作为主要营养来源的国家，如乌干达。“绿色和平组织伦敦科学部的珍妮特•考特说：‘绿色和平组织将努力保证贫困国家远离这些转基因的香蕉、木薯和高粱’，正像他们会继续反对黄金水稻一样。” 这是引自 2008 年 4 月 的 《科学》杂志。</p><p>来自不同方面的观点在进行一定得对峙。</p><p>PART   12   非洲正在悄然进行的一场农业革命</p><p>一 名我认识的记者，格 雷 格 •扎 卡 里 （Gregg Zachary ) , 在 2008 年写过一篇文章，关于非洲正在悄然进行的一场农业革命：<br>东非和南非的蔬菜、水果和鲜花的出口量已经超过每年 20 亿美元，而 25 年前这个数字几乎为零 … “农业的驱动力主要是城市化，”伦敦海外发展研究所农场专家史蒂夫•威金斯 （Steve Wiggins ) 这样认为。越来越多的人离开非洲的农村，留下来的农民拥有更多的土地，而城里需要购买粮食的人也越来越多 … 跨国公司正变得越来越多地参与非洲农业，它们逐漸摒弃种植园式的耕种，转而开始与农民进行个体承包合作，有时候与他们中的几千人签合同，有时候甚至只有数瓦人。中国和印度把非洲当做一个潜在的粮仓，因为他们都急切地想满足日益扩大的中产阶级群体的胃口。被 称 为 “合同钇业”的实践已成为非洲逐漸强大的关键因素。买家同意购买农民提供的一切 — 咖啡，棉花，甚至鱼。这样农民不用担心东西卖不出去而烂掉，就可以尽可能多地生产粮食了。而且由于购买者 — 国<br>内企业或跨国公司 — 从中获利，他们就有动力帮助农民们提高生产力，为他们提供培训和价格优惠的种子。非洲主要作物的国际买家，无论是来自欧洲、亚洲还是美国，都再三告诉我，非洲的小农户都是依靠自家的土地和劳动力，而且不太使用化肥这样比较昂贵的投入，这样比种植园种植效率更高。<br>我敢打赌，就像手机电话一样，很多基因工程的食品革命都将在发展中国家发生。如果北方各国的有机食品行业继续禁止一切转基因，那么他们可能会将市场和声誉让给更美味、更健康、对土壤和生态更温和的转基因食物。<br>至于在美国，那些能够提供药用功能的基因食品成功的可能性应该比较大。很快我们就能看到转基因的猪，其猪肉含有有利于心脏健康的欧米伽 3 脂肪酸，就像鱼肉一样。健康熏肉！ （对于那些想知道的人：其中的健康基因取自一种蛔虫。）现在，我们已经知道，红葡萄酒中的白藜芦醇是法国人寿命较长的秘決，尽管法国人同样偏爱黄油。最近有一种转基因的红酒正在中国进行开发，这种红酒中含有的白藜芦醇是法国红酒的 6 倍。（其中起作用的基因是从一种野葡萄引进、用来提高植物的抗真菌能力的。从葡萄藤的角度来看，这也是白藜芦醇原本的功能。）得克萨斯州的研究人员已经开发出一种转基因胡萝卜，能够提供足够的钙，从而避免那些因为无法从奶制品中获得足够的钙的人群患骨质疏松症的危险。杜邦先锋也正在开发一种转基因高油酸大豆油，也成为 TREUS ，它能消除烹调过程中引入的反式脂肪。这些都是对美国人心脏有益的好消息。（这个不含外来基因，它是通过对一种基因进行抑制，使大豆产生单不饱和油酸，而不是不太健康的多不饱和亚油酸，就像橄榄油中的一样。这是一个有趣的边缘例子。不知道反对基因工程的人是否依然会对这样一种由 GE 公司开发，但并不含转基因的产品网开一面？）<br>我相信，如果基因工程是用来消灭人类疾病的，恐怕就很少有人会抱怨了。目前有五六个正在进行的项目是针对蚊子的，它们设法让蚊子残疾或断种，使他们无法传播疟疾和登革热。日本科学家正在开发一种含有霍乱疫苗的水稻；韩国科学家正在研究一种含老年痴呆症疫苗的番茄品种。佛罗里达州的一名牙科科学家发明了一种蛀牙的永久疗法，使用的正是引起蛀牙的链球菌的转基因版本。通过基因工程和克隆技术的组合，疯牛病就可以从牲畜（和人类）中彻底消除。我想知道欧洲对此将作何反应，因为 20 世纪 90 年代的疯牛病正是促使人们开始反对基因工程的源头。</p><p>如果部分疾病消除，势必会影响生态的平衡，如何解决这种问题也是比较头疼的。</p><p>PART   13   树木问题</p><p>接下来是树木。反对者们经常宣称：“如果我们没有能够实现某某目标的话，我们的后代将永远不会原谅我们。”在现实中，我发现后人是不太回头看的；即便他们回头看，也不会注意到当时的问题是什么；即便他们注意到了，他们也并不在乎。不过在我成长的过程中碰到过一个例外。我小时候的暑假都是在密歇根州度过的。我的曾祖父那一代砍掉了整个州的白松和挪威松林。“开工砍树啦，伙计们！ ”我父母的房子位于整个半岛鹵部仅剩的两片原始松林之一 ， 我们的白松有 150 英尺高。所以我知道我们失去了什么，我无法原谅。你可以在吉姆•哈里森的《正北》中领略到那一代人当时的愤怒。其中有一个参与砍伐北密歇根森林的“刽子手”，他的儿子花了一生的时间了解和忌恨父亲对土地所犯下的罪行。<br>这不仅仅发生在过去。两三年前，我和妻子去了塔斯马尼亚岛，看到了世界上最高的硬木树种，气派的桉树有将近 300 英尺高。它们中一部分是受保护的。但仍有很多在遭受砍伐，不是用来做木材，而是要锯碎，然后做成纸板。这就像看到一个斯特拉迪瓦里做的小提琴被砸碎用来点火一样。<br>我想要的是什么呢？我想让商业木材直接长成需要的样子。让基因工程来创造适合造纸的干净的、低木质素的纸浆材，或者是适合木料的纹理笔直、质地密实，并且美观又便宜的的木材。这样的话，人们就不会再愿意费尽周折去砍伐野生树木了。这些树木最好以造林区的形式集中存在，这样砍伐起来比较轻松，从而就能留下更多的野生森林。全世界范围的温带和寒带森林面积自从 1950 年以来已经逐步回升，这都归功于造林面积的增长。在外交部一篇题为 “恢复森林”的文章中，戴 维 •维 克 多 （David Victor ) 和杰西•奥苏贝尔(Jesse Ansubel ) 提到：“对相同用量的木材来讲，从林区进行砍伐所影响的面积只有野外砍伐的 1/5,甚至更少。人类可以保证将近 90%的森林面积受到最小的干扰，而不是砍伐掉全世界一半的森林。”作者进一步阐述：<br>根据联合国粮农组织的估计，如今工业木材有 1/4 来自这样的农场，而且这个比例在新近种植的树木成熟之后将进一步飙升。基于可能的种植率进行估计，到 2050 年，至少有 10 亿立方米的木材，也就是全世界木材产量的一半将来自人工造林区。半天然森林，例如那些自然再生、但为了提高产量进行了削薄处理的森林，可以提供另一半的供应量。小规模的传统 “社区林业”也能完成小部分的工业木材供应。在这样的安排下，森林居民，往往是土著居民，从商业木材赚取收入，就可以为森林和居住地提供必要的保护。<br>环保人士已经做了大量的工作，建立和推广先进的可持续林业认证计划 —- 森林管理委员会 （Forest Stewardship Council , 简称 FSC )。当你购买木材的时候，看看上面有没有 FSC 标志。目前由 FSC 批准的 14 万平方英里可持续森林中，大约 1/4 是人工林。但是，由于种植园是经过基因改造的树木被引入的地方， FSC 将无法帮你找到林业界最好的可持续发展的实践，因为 FSC 认证计划排除了所有“从有转基因树木生长的林区砍伐的木材”。也许一些富有冒险的 FSC 专业人士可以幵一家附属机构 FFSC — “仿森林管理委员会”，对基因改造的树木进行监督和评估，最大限度地确保它们是绿色的。</p><p>用基因工程制造是和商业的产品减少人们对野生资源的破坏。<br>PART   14   基因流<br>的是杨树，因为它长得又快又高。有些人用它做纸浆，有些做胶合板，还有一些用于生物燃料。用来做纸浆或生物燃料的杨树最好是用低木质素的品种，这样的处理过程更加便宜和千净，排出造纸厂的毒素也更少。最能说明基因流问题的是中国种植的 Bt 抗虫杨树。在被证明对昆虫非常有效之后，有两个转 Bt 基因欧洲黑杨树品种于 2002 年被出口，参与到中国的巨大造林运动中。引用中国林业科学研究院的王豁然在 2004 年所做的报告：<br>中国政府已经制定了林业发展的伟大目标：森林覆盖率将在 2010 年达到国土总面积的 19%，2020 年将达到 23% … 森林遗传、林木基因改良和驯化，毫无疑问，都将参与到实现这个目标的努力中来……<br>据估计，100 万棵转基因黑杨至今已成功繁殖，并在种植园中栽种……<br>然而，准确的 GE 种植面积很难估计，因为经过改造的树木很容易繁殖和买卖，而从形态上区分 GE 树和非 GE 树又非常困难。市场上的一些园丁为了卖个更好的价钱，宣称他们卖的是高科技的基因改造树木。这样，很多植材从一个苗圃转移到另一个，很难跟随它们的行踪 …<br>通过空间隔离来降低 GE 树基因流向非 GE 树的风险是几乎不可能的，因为同一片森林中杨树之间的自然杂交是易如反掌的事情，而且这种树木在中国北方广泛种植，花粉和种子的散播也是无法避免的。<br>于是就出现了环保人士最担心的情况：转基因从此挣脱了束缚，而且发生在一种寿命较长、杂交很活跃的生物体中。这为进行基因流研究的学者提供了一个千载难逢的田野研究的机会，他们能够了解到基因流发生的频率以及它所带来的危害到底有多大。<br>如果对中国杨树的彻底实地调研能够完成的话，以下是我对将来的预测：<br>•一种快速、便宜的检测转基因杨树的方法将会出现。<br>•实际发现的基因流将比预期少得多。（主要障砰是美国杨树工作组的论文中所称的“基因惯性”，文章中列出的惯性元素有“延迟开花，寿命长，生长持久，广泛的野生站，以及稀释野生站人工林衍生繁殖。”）<br>•抗 B t 害虫的进化将在一个可控的速率下发生，这归功于非基因改造杨树的存在为那些害虫提供了避难所。<br>•转基因对非转基因杨树生态的危害将是微不足道的，尤其是跟气候变化、栖息地的丧失和外来入侵物种的影响相比。<br>•然 而 ，为了消除时下流行的转基因“污染”恐惧症，一些不育的转基因杨树品种还是会被开发出来。<br>也许我的预测是错的。真正的结论要出自科研实践。在研究成果出来之前，人们会听到各种各样的断言，但这些断言是完全没有实际用处的。你们已经知道我的断言了。另外一方，全球司法生态项目的断言是这样的：“经过基因改造的树木会不可避免地污染原生森林，这会破坏野生动物、引起淡水和土壤的枯竭、原生森林生态系统的崩溃、以森林为基础的土著文化社区的消亡，以及对人体健康的严重影响。”我对此表示怀疑，但中国的例子会说明一切。<br>转基因农业的主要驱动力之一是气候变化。以 前 “我们如何种庄稼”是一个气候问题，如今必须转化为一个气候解决方案。这一转变部分来自采用更好的农耕实践去丰富土壤营养和保护荒地，另一部分则来自于经过基因工程加工的 “种子生态”。<br>以一氧化二氮为例，它是比二氧化碳还恶劣 300 倍的温室气体，是从施有大量化肥的土壤中产生的。《新科学家》的一篇报道说：“如果氮肥使用量减少 1/3,温室气体排放量的减少将会比让全世界的飞机停飞都多。”更多的有机农业会有所帮助，正在幵发的水稻和其他作物的新的基因品种也会有所帮助，这些新品种能够更有效地吸收化肥中的氮，因此所需的化肥量将会减少，节省了农民的开支，同时减少大气污染和水污染。<br>再想想人类和牲畜、宠物们呼气、打嗝或放屁时候排出的气体。洛夫洛克说，这些气体占到总温室气体排放量的 23%。澳大利亚在这方面有所行动。他们的一个项目就是要开发低木质素的草，从而将奶牛的甲烷排放量减少 20%。<br>另一个项目是试图将袋鼠的消化道微生物移植到奶牛的内脏中去，由于袋鼠是甲烷零排放的动物，它的消化道细菌的移植希望能够带来 15%的甲烷减排。（对人类来说，一种名叫“袋鼠”的对生态友好的益生菌酸奶也在研制中。）<br>关于能源效率，密切关注可能带来各种可能的收益。有一种叫植结石的东西，也被称为植物硅酸体。他们是微小的二氧化硅球，能够锁定土壤中的植物碳长达几千年。所有农作物都有植结石，而且可以被基因改造而产生更多，由干对碳有封存作用，农民们将因此蠃得一些碳信用额度。<br>所有研究基因工程的基金会、公司和政府机构都在开发耐旱和耐盐的作物品种，特別是针对非洲的干旱气候。这类作物对于适应即将到来的气候变化至关重要，而且 （开发得）越快越好。但生态学家的担心也是必要的：由于在这种恶劣的土地环境中生长的原生植物很少，这些转基因作物可能会因为缺少竞争对手而疯狂地成长和蔓延。这将成为一个严肃的生态研究的课题，必须通过田间试验找出最好的如何对新作物的生长进行一定限制的办法。<br>生物燃料有利于减少温室气体，但将粮食作物转变成生物燃料从经济的角度来说并不是一个好的选择。第二代生物燃料使用生物技术将不可食用的植物转化为燃料，如柳枝稷、麻 风 树 （它有油性种子）、麻、杨树、柳树，以及农业废弃物如稻草、玉米秸秆和被削剪的树木残枝等 。 一 些对植物本身的基因改造可能是必要的，用来帮助那些紧密连接在一起的纤维素转化为燃料，但大部分的工作将会是对大量的微生物进行基因微调，从而借助它们完成纤维素向燃料的转化。克莱格•文特尔警告说：“如 果 （微生物）不满意它们所做的事情，它们将会慢慢向远离这些事情的方向进化。未来的一个关键部分将是设计一个系统，让这些小生物不会那么的不开心。”随着他的新公司“合成基因组”(Synthetic Genomics ) 的成立，文特尔已经成为进行生物燃料淘金的无数企业家之一。<br>“燃料和石油工业是一个几万亿美元的产业。”他说。作为燃料烧掉的石油同时也是整个石化行业的基础。我们穿的衣服、用的塑料和药品都是从石油及其衍生物中得到的。目前石油是分散在全球<br>各地的，需要花很大的力气把它们运送到数量有限的几个炼油厂。生物学能够让我们以一种更加分布式的方法获得相同的燃料。我设想也许需要 100 万个微型炼油厂。企业、城市、甚至个人都可以拥有这样的小型炼油厂来制造自己的燃料。这将消除很多的运输问题以及相关的污柒。<br>这只是一种愿景。另一种愿景在写给英国的绿色偏执狂杂志《生态学家》编辑的一封信中有所表述：“我们面临的最大的噩梦是我们试图通过基因工程增强植物将纤维进行液化的能力，而纤维素是组成植物的基本成分……有一些转基因作物能够逃掉这个噩梦、重新适应、然后继续繁殖。它们可能会成为绿色瘟疫，造成整个蔬菜王国的崩溃。这不是危言耸听。”（上一章中提到的 1977 年詹姆斯•沃森关于纤维素的评论应该彻底埋葬时不时出来捣乱的 “绿色粘质”说。绿色粘质如果能在世界上生生不息的话，微生物早就应该把它发明出来了。如果我们尝试创造绿色粘质，微生物一定会把它们打败的。）<br>合成生物学家乔治•切奇还有另一个愿景：“最可持续发展的能源是阳光，最方便的产品是能够通过管道运输的石化产品。因此，我会试图发明一种多年生植物，能够把阳光中的纯化学物质 — 辛烷、柴油、塑料单体等 — 直接转化为可以管道运输的石化产品，而不需要作进一步的净化。</p><p>在另一个分布式能源解决方案中，文特尔想要把他开发的技艺高超的微生物直接使用在能源工地上，使能源效率最大化。他告诉旧金山的听众：“我的新公司正在跟英国石油公司进行合作，试图在地球深处使用生物学的方法把煤炭转化成甲烷，从而停止煤炭的开采……同样是达到把地下的碳开采上来的目的，但相对于挖掘煤旷然后拿来燃烧，效率提高了 10 倍。”</p><p>通过基因工程改善植物的固碳能力，并通过技术减少煤炭的开采，提高某些能源的使用效率来减少对环境的破坏。</p><p>PART   15   对基因技术的怀疑</p><p>从近年来与美国情报界一起工作的经验中，我已经了解到一些环保人士的观念。从国家安全的角度来看，任何新技术的出现都提出了一系列让人焦虑的问题。这一新生事物如何能伤害到我们？是谁在创造、推广和抢夺这个新技术？他们的目的是什么？该目的又如何对技术的发展产生负面的影响？<br>这些技术偏执狂使用特殊的方法进行自我实现。他们将不信任进行制度化，他们建立起了一个特殊的解释器，只看到威胁和敌人，并因此创造威胁和敌人。无论你是在捍卫一个民族或整个自然界，对于任何新技术来说，一个更有用的假设是：它是中性的，创建和使用它的人也是中性的。你的工作应该是帮助它最大限度地发挥优势和减少危害。光是隔岸观火是不够的。特别是对环保人士来说，消除对新技术的怀疑的最佳方式就是拥抱它，以免它落到那些认为没有任何问题的发烧友手中。<br>我很想看到那些致力于环境学研究的科学家们能够为基因工程做些什么。除了确保制订管理制度所需的透明度，他们可以使用一些强有力的新工具来帮助解决一些这个领域最棘手的问题。例如消灭一些外来入侵物种如葛根、中华绒螯蟹，或者用便宜的细菌传感器来检测水中的毒素。（最后一个已经由三个来自布朗大学的学生完成了，他们因此贏得了 2008 年 iGEM 大会的最佳环保项目 ）<br>在 20 世纪 70 年代，电脑黑客们把机构控制的计算机改造成个人计算机。绿色生物技术的黑客在哪里？对于我们应该采取的态度，草根创新组织“发明者博览会 ” （Maker Faire ) 的一名参与者一语中的：“我们要把技术拿来，把后盖打开，然后把我们的手伸进我们不该去的地方。”无论是住在印度贫民窟里对手机进行反向工程来编写自己的维修手册，还是像德鲁•恩迪那样向业余生物工程师发放“生物砖”，或是像西非的合同农户一样围绕基因作物和牲畜重新塑造非洲传统的混养机制，真正的吸引力是这些草根手里能掌握多大的能我认为每一个环保组织都将从与这些人的密切合作中受益。任何新技术的本质都可以从爱好者如何使用它中得到启发。建立在实践者经验基础上的批评建议才是有价值的，而不是那些意识形态或理论上的，而且一旦有问题，在向大众广泛推荐解决方案之前，可以在应用前线进行事先试验和验证。<br>如果环保人士和其他怀疑基因工程的人在 20 世纪 80 年代开始就采取这种方法，与基因领域的研究人员紧密合作，他们很快会发现基因食品是可以安全食用的，基因作物可以是对生态有益的。企业起到了很重要的作用，但它不一定是这个领域的唯一参与者。环保人士本来是可以推动发展中国家的双重绿色革命的，结果却拖延了革命的进程。20 年的时间、金钱、人力和信誉都浪费在了反基因工程运动中了，这些资源如果用来解决真正的而不是想象中的环境问题，从头绿到脚的基因工程早就出现了。</p><p>这种怀疑是存在的，而且很难通过短期的验证完全使人信服。</p><p>PART   16   总结</p><p>到此为止，这本书的新内容就基本结束了。城市是绿的，核能是绿色的，基因工程是绿色的。这本书的其余部分是关于如何不重复我们在以上三个问题上犯过的错误，地球栖息者是如何切实关心我们身处的大自然，以及如何用做尽可能少的改动来管理全球规模的自然基础设施。</p><p>]()</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【地球的法则】第五章</title>
      <link href="2017/10/15/2017-10-15/"/>
      <url>2017/10/15/2017-10-15/</url>
      
        <content type="html"><![CDATA[<p>[<br>第五章<br>绿色基因</p><p>我们有很多可以替代杀虫剂的害虫防治方法。其中有些已经有人在用并且取得很好的效果了，另外一些则处于实验室测试阶段，另外还有一些是还在科学家的构想当中，他们在等待合适的时机来进行测试。所有这些的共同特点是：它们都是生物控制，是基于对要控制的生物的了解以及对这些生物所依存的整个生命圈的了解的基础上进行的。来自生物学不同门类的专家都在为此作出贡献 — 包括昆虫学家、病毒学家、遗传学家、生理学家、化学生物学家、生态学家 — 他们都投入了他们的知识以及创意来创建出关于生物控制的新科学。<br>——雷 切 尔 •卡 森 （Rachel Carson ),《寂静的春天》（1962）</p><p>PART   1   环保人士对基因工程的反对<br>对基因工程的反对态度所带来的危害远胜于他们在其他方面的错误 。我们因此而令很多人挨饿，阻碍了科学的发展，损害了自然环境，并拒绝了一个非常重要的工具。当我们在捍卫那个非常荒谬的 “自然”概念的时候，我们抛弃了当年雷切尔•卡森 （Rachel Carson ) 鼓励我们追求的东西 — 关于生物控制的新科学。我们使自己看上去跟那些鼓吹“智慧设计”或提倡废止干细胞研究的人一样失去了理智，并且我们还向公众以及政策制定者灌输这样的非理智想法。家，但我们最需要的是他们，有了他们，我们才能发展出真正可持续的农业，才能完成雷切尔•卡森的心愿。<br>环保人士对基因工程持一个反对态度导致民众对基因工程也产生了害怕。</p><p>PART   2   基因工程<br>当 20 世纪 70 年代基因工程以 DNA 重组的面貌诞生的时候，看到很多人对此产生巨大恐惧，我感到非常吃惊。我是学生物的，我知道基因一直以来都是可以互换的，特別是微生物的基因。与其说我们是创造了新的科技，不如说是刚开始跟上一个旧的科技一 微生物自 35 亿年前就已经在使用这样的技术了。这些年来，我采访过很多人，我发现，凡是职业的生物学家基本上对于基因工程都不害怕。他们大多数人都将这一技术应用到他们的研究当中，因为这一科技正在改变生命科学的方方面面。深信的基因工程可能带来的危害。可惜那些都是缺乏背景的生物学分析。他们说，会有超级杂草！过敏！基因漂流！转基因新品种！又是新东西！当市民大众 说 “天啊！”的时候，生物学家说：“那又怎么样？”所有这些在野生环境和农业里是很常见的事情。在野生环境下，你可以研究它。在农业以及进行过修复的环境里，你可以改良它。基因工程可以帮助我们更准确、更高效、更大范围地实现目标，这些就是所有新的东西。跟核电一样，那些知道得最多的人是顾虑最少的。工程是好事，对环保分子而言更是如此。写来指代基因工程，而不是用现在依然流行的 GM 。 GM 通常是指代“基因改造”，有时是指“基因操作”，但是这个词适用范围太广了。所有的进化以及所有的农业和所有的选择性育种，都是基因操作，并且从来都是如此。 GE 则指明是基因工程，是一个更细的学科。跟选择性育种不一样的是，基因工程会探索和决定某些特征的基因，然后会直接对基因进行处理。而杂交则通常只能局限在现有的生物或物种的基因组所包含的特性或者是基因的基础上来进行。而基因工程则可以去找寻一些关系更远的生物。基因工程的一个同义词是转基因。能是正确的做法吧 。” 一 直以来的那种恐惧都会浮现出来，人们会想到嵌合体、想到怪兽、想到多一个或少一个指头的新生儿、想到开放性脊柱、想到那些会给正常种子带来破坏的坏种子。一旦这东西被放开之后，就不能收回了。这是违背自然的。这纯粹是人类的傲慢，并且最终会被惩罚的。来的影响。就跟其他好故事一样，部分原因是人们将不同的东西混为一谈了 — 20 世纪 90 年代的时候，有一种转基因西红柿，名为 Flavr - Savr ，人们向西红柿的基因组里加入了一种细菌的基因来减慢西红柿成熟的过程，并且很受欢迎，但是因为运输上遇到了很大困难，并且其味道也不怎么好，于是这个品种就消失了。1991 年，有人尝试将比目鱼基因植入西红柿，希望培育出一种抗霜冻的品种，但也没有成功。事实上是从没有过哪一种草莓里是含有鱼的基因的。<br>人们对基因工程产生恐惧。<br>PART   3   围绕着基因工程的整个争端<br>纪 70 年代 — 本来应该在那时候获得解决。这个技术当时叫“基因拼接”，当时有了其他一些发现和发明作为铺垫，到 1974 年的时候，这项技术走向成熟，可以将来源不同的各种基因混合起来，甚至可以有人的基因，也可以有细菌的基因。当时最初的一种应用是拿来生产用于治疗糖尿病的胰岛素，因为这种方法更廉价、更安全，可以批量生产。人们都意识到这个会成为非常强大的一种技术。有些科学家则担心一些可能存在危害性的细菌会因此而被创造出来，于是他们提出要暂停 DNA 重组技术的研究，直到危险因素被排除为止。教组织和环保人士更是决心要打赢这场战争。他们认为，科学家在扮演上帝，并且只会创造出令人厌恶的怪物。环保人士说，他们会创造出恶魔生物，并且危害到所有的生物。人们认为世界上还会出现抗胰岛素的流行病和肿瘤瘟疫。法案禁止 DNA 重组技术的研究。美国国会也开始立法对此类研究加以限制。Conference )，会议在加州举行，旨在探讨 DNA 重组技术。有来自世界各地的位遗传学家和相关行业人士参加，他们在会上探讨如何规范对此项技术的研究。他们草拟了一系列的实验室监护规范，并且规定只允许使用在实验室外无法生存的生物进行研究。有些实验则被彻底禁止，例如对病原微生物基因的实验。这些指引其后得到了美国国立卫生研究院的认可和执行。是给他安排会见一些知名的学者。布朗的看法是：“政府也许不是最先知道一些重要的新想法，但政府不该在所有人后面才知道这些想法。”因此，每隔几个礼拜我都会花几天时间迎接像组织管理大师彼得•德鲁克 （Peter Dmcker )、未 来 学 家 赫 曼 •卡 恩 （Herman Kahn )、农 民 诗 人 温 戴 尔 •巴 里 （Wendell Berry )、媒体专家马歇尔•麦克卢汉 （Marshall McLuhan ) 这样的人。1977 年，也就是阿西洛马会议两年后，加州立法机关威胁要对本州的 DNA 重组实验立法进行规范。于是， DNA 结构的发现者、“冷春天”哈伯实验室的主管詹姆斯•沃森 （James Watson ) 就被邀请到政府部门座谈。沃森是早期签名表示要支持暂停 DNA 研究的一位学者，他也帮助筹办了阿西洛马会议。我的观点是，我不认为 DNA 重组实验对公众的健康存在重大或者是可见的威胁，因此我不认为有必要立法。我作为科学家，研究 DNA 已经有 30 年，而我作为一个实验室的主管，我对我们实验接触到的病毒也有道德以及法律上的责任，我肯定会考虑这事情……化，使之在实验室环境下生长，它就失去了病毒性。化学生物学家通常都很长寿。（而有机化学家则不是这样，他们的寿命比平常人短 5 岁，因为他们在实验室总是遇到闻起来很不爽的气味，这些气味是有损健康的。）因。假如说大肠杆菌获得纤维素酶有什么进化上的好处的话，那么它就会干掉人类，并且它现在肯定就已经做到了，不管是通过病毒传播还是其他方式。进化总是在为特定的生物筛选出适合他们在某种特定的生态位生存所需的基因。我并不担心会出现“怪物”……并且这一数字还将攀升至 1 亿。我认为这是除去建造核辐射避难所以外，联邦政府财政支出方面最大一笔浪费。为什么对于本来没有危险的领域要加以控制？我完全同意公众应当参与到他们可以获得事实说明的讨论过程中，但我们的传统是，除非你看到了火灾，否则我不会喊失火。斯 •贾 德 森 （ Horace Judson ) 所 写 的 《创世的第八天》（1996)。贾德森的报告指出，在阿西洛马会议后一年，“科学家们的会议的生物学家现在都认为，危险性当初是被大大高估了，而由此带来的实际影响却是有害的。在之后的 20 年里，这一标准在慢慢地放宽”。而 DNA 重组技术 — 基因工程一 -继续对药品研究带来变革，也改变了生物学的每一个分支，还成为了多种其他学科（包括化学、罪案侦察、人类学以及农学）的重要工具，并且都没有带来任何一点儿危害。政治意义而非科学上的意义。科学家们所设定的指导方针远远比政治家们所能设定的要精细和准确得多，并且这些指导方针还可以逐年修订，以反映实际科学研究的进展。与此相比，政治家定的指导方针不但不能有微调，甚至连任何修改的余地都没有。最近美国政府通过简单的立法禁止大多数人体干细胞实验就是经典的例子。而那些参加阿西洛马会议的科学家则预见到了政治家可能采取的这种愚蠢做法，他们自己及早承担了公众责任，并且与时俱进地继续承担这一责任。<br>通过立法来限制基因工程的发展来保护民众健康的方法存在争议。<br>PART   4   地球之友内部的分歧<br>Ames )，他是加州大学伯克莱校区的化学生物学家。他当时要解决的问题是，工业系统经常会排放大量新的化学成分到环境中，却事先没有经过毒性测试。花费会高达 75 万美元，要知道，每一年就有 1000 多种新的化合物排放出来。因为他相信任何可以导致癌症的化学品也会导致基因突变，埃姆斯会培育出一种特殊的菌株，使它们可以用做备用品来进行毒性测试。他会找来沙门氏菌，并且非常巧妙地作出一些设置，使得那些细菌在浸满了某种特殊营养液的培养皿里快速饿死，除非它们发生突变并且开始去吃那些营养。他会将一滴化学物质滴到培养皿里去。假如两天之后，沙门氏菌的后代在培养皿里繁殖得很好的话，就表明了是化学物质带来了突变，并且很有可能也产生了癌症。虽然埃姆斯花了 10 年时间才研究出这种测试方法，但他还是把用到的沙门氏菌菌株以及其方法公布了出来，没有去申请专利，从而使得任何人都可以使用这一技术。以往人们作动物测试需要花费两年的时间以及数十万美元的成本，而埃姆斯的测试则只需两天时间，并且其成本仅仅为 250 到 1000 美元。这一方法成为了毒性测试的标准方法并且沿用至今。这 是 由 戴 维 •布 劳 尔 （David Brower ) 于 1969 年创立的一个环保组织。到了 20 世纪 70 年代，当地球之友迅速成长，其影响也在扩大，还在国际上发出声音的时候，他们发起了一个反对基因工程的行动。地球之友顾问委员会的两位著名的顾问提出反对，并且最后当他们的意见得不到尊重的时候，离开了地球之友。他们分别是刘易斯•托马斯 （Lewis Thomas )，他 是 《细胞的生命》 —书的作者，也是斯隆-凯特林癌症中心的主管；另一位是保罗 •埃 里 克 （Paul Ehrlich )，他是当时最有影响力的持环保激进观点的科学家。埃里克写于 1977 年的这些文字现在依然适用：由此引发的一些争议感到相当沮丧。人们说，这一研究应当停止，因为它是 在 “干预进化”。人类一直在干预着进化的过程，很长时间来都是这样，并且我们用不同的方法在干预。当我们开始家养植物和动物的时候，我们就已经在对进化带来重大的改变了。之后，我们每次改变环境的时候，我们都在干预进化。大体而言， DNA 重组的研究并没有对这样的干预带来多大的风险 — 虽然它会加速我们干预进化的速度……千百万年的进化所产生的产品进行竞争，而自然进化的产品是有相当大优势的。此外，有证据表明，细茵群体内部一直在进行 DNA 的交换，甚至于它们会和原核生物（更高级的生物）进行 DNA 的交换。工具 — 也是达到科学最高目的的一个工具，也就是理解宇宙以及我们自身……假如说人们因为担心 DNA 重组技术会被用做邪恶而非友好的目的而终止其研究，那其他所有的科学都会面临类似的责难，那将意味着基础研究的止步。假如我们真的作出那样的决定，那就意味着人类要放弃科学带来的好处，而这对于一个人口高度密集的地球而言是不可承受的代价，因为我们需要依赖于先进的科技才有望走向一个“可持续发展的社会”……对于环保主义者以及地球之友董事会而言，一个可以带来启发的研究是伯克莱的布鲁斯•埃姆斯对沙门氏菌所培养出的试验性茵株的研究，这个技术可以用来检测化学工业里创造的合成有机物的毒性。假如你对此科学背景有了解，必定会清楚这是环保主义者近几十年来所获得的最为有力的一个工具。但埃姆斯的研究却因为对沙门氏菌做 DNA 重组实验遭到禁止而止步不前。这样一来，地球之友实际上是在阻挠对人类历史上最有潜力的监测环境毒性的工具的研究。<br>将基因工程作为最有力的工具有助于科技的发展。<br>PART   5   转基因作物的安全问题<br>转基因作物的安全问题克因为抗议而离开地球之友 30 年后，地球之友和其他所有我认识的环保组织依然在反对基因工程。他们当中大多数会反对转基因作物，他们因此还创造了一个词，叫 “弗兰肯斯坦食物”。人们自古以来就对饮食非常挑剔，并且会对“错误的”食物大吐口水，我想也许这是问题的核心，假如环保人士意识到食用转基因食物是安全的，他们的抱怨就会消失。我们就从这里开始吧。生活在北美的所有人大胆地食用大量的转基因作物。（现在，美国 70%的加工过的食物含有转基因的成分，它们大多数是玉米、油菜籽，以及大豆；差不多半数的玉米田种的是转基因玉米，我们吃的蛋糕、薯片以及玉米饼都是转基因的；我们所吃的半数的糖也是来自转基因的甘蔗。）与此同时，生活在欧洲的所有人一 - 他们相当于控制组 — 选择不食用含转基因的农产品，他们甚至还禁止所有转基因食品的进口，并且为此付出了相当大的经济代价。这一实验规模相当庞大，而且结果也出来了，但人们没有发现实验组与控制组有什么差别。表明我们有必要去担心转基因作物的安全问题。有千百万的人吃过转基因的食物了，还没有人因此而生病。差不多所有的啤酒以及奶酪都是用转基因的微生物发酵出来的，但没有人对此有任何抱怨。”工作。他被认为是“世界领先的园艺家以及环保教育和生物多样性专家之 一 ” 。他几乎获得过所有的环境类奖项，以及国家科学奖，《时代》杂志称他是“地球英雄”。)审核的依据是来自全球各地的 50 位权威独立科学研究报告。目前市场上可购得的转基因作物 — 以及由此做出来的食物 — 被确认是安全而且可食用的，实验方法也被认为是正确的。油菜）制造的食物，截至目前为止，尚未观察到有不良反应……能会产生不良反应。由此有人担心转基因的作物会带来浓度更高的这些因子。但对于目前市场上的转基因食品的深度测试皆没有得出支持这些担心的证据。截至目前为止，尚未在世界上任何一个地方发现有人因为食用转基因食物而导致中毒或营养不良的反应。”因作物丑闻 》 （rAe GM Foot /   中的综述：目前没有任何一丁点证据说明转基因作物对人体有危害界上每一个科学研究机构 — 有来自印度、中国、墨西哥、巴西、法国、美国以及英国皇家科学院的目前行内领先专家，分别发表了关于此议题的四篇报告 — 都证实了这一点。独立研究的结果指出，转基因作物相比于传统的作物不会对人体带来更大的危害，而传统作物还不需要经历如此严格的测试。2001 年，由欧洲委员会拨款支持 — 而非行业拨款 — 的 81 份科学研究表明，没有发现证据表明转基因产品对人体或环境带来危害。他们为此作了 15 年的研究才得出这一结论。<br>无法预估转基因带来的危害，虽然现在各种研究结果表明无害，但不能保证对后代会不造成影响。<br>PART   6   植物的毒素<br>么做？有些人直接就否认这些科学存在。2008 年 2 月，英国有一份杂志《生态学家》 从取这名字是不准确的）的编辑如此写道：“(政治家）确确实实可以说，他们从没有看到任何数据显示吃转基因食物对人体有害，因为根本就没有人作过这方面的研究。”有人说科学是无关紧要的。约施卡•费舍尔 （Joschka Fischer ) 是德国绿党的一位领袖，也是 1998 年到 2005 年期间的德国外交部长。他 2001 年的时候曾这么说：“欧洲人不想要转基因食物，就这么简单。研究结果表明什么并不重要，欧洲人就是不想要转基因食物，我们需要尊重这一点。”反而比传统食物和有机食物更安全。在美国，要在土地上新种转基因作物，需要经过美国食物药品监管局、美国国家卫生研究所以及环保署的测试，与此相比，那些由农民自己杂交的新品种则无需经历如此复杂的程序。种，经过新西兰人的大力推销，现在风靡全球。但正如以色列植物科学家乔纳森 •格 雷 塞 尔 （Jonathan Gressel ) 所指出的：“假如猕猴桃是通过转基因的方法培育出来的，估计它就不会被放到我们的餐桌上了。有极少部分人会对猕猴桃产生过敏反应，其症状会表现为局部口腔过敏综合征，甚至是可以致命的过敏性反应，他们吃下果子以后几分钟就会产生这样的反应了。”（花生、贝类、麦子、奶制品以及其他常见的食物都会让人产生过敏反应。但未来人们有可能通过基因工程的方法使得人们吃这些食物不再有过敏反应，并且我们确实应该这么做。乔治亚大学的研究人员已经在开发一种人吃了不会发生过敏反应的花生。）它们遇到捕食者以及竞争对手的时候是不能逃跑的。它们必须就地奋起反抗。它们会用脊柱来应对敌人，用铲子来对付竞争以及用毒性来对付所有敌人，包括人类。有机农夫罗奥•亚当查克 （Raoul Adamchak ) 说：“我发现绿色的马铃薯可以用来做很好的老鼠药。有一天我就到一个有机温室大棚里，发现了几株绿色的马铃薯旁边有三只死老鼠。”他的妻子是遗传学家帕梅拉•罗纳德 （Pamela Ronald )，她说：“经由传统方式培育的作物里的毒性含量目前为止一直处于上升趋势，但没有看到有商业化的转基因作物发生类似的现象。”布鲁斯•埃姆斯曾对一种取样的煮过的有机咖啡里的 1000 多种天然化合物当中的 27 种进行毒性测试。他和他的同事发现，其中有 8 种化合物是没有毒的，但是其余的 19 种则会导致老鼠患上癌症 — 它们分别是：乙醛、甲酵、苯、呋喃、苯乙烯、甲苯和二甲苯。“平均来说，每位美国人所吃的东西里包含了 5000 种到 10000 种不同的天然杀虫剂。” 2004) 一书里写道：是一种有毒物质。芹菜有毒补骨脂素，可以引起皮疹。此外，补骨脂可以将 DNA 链彼此交链起来，并且引发癌症。花椰菜有一种化学物质可以使甲状腺肿大。胡萝卜含有神经毒素和致幻剂。桃子和梨可以导致甲状腺肿大。导致无法控制的出血。豌豆、大豆、谷物、土豆中含有凝集素，可以引起恶心、呕吐和腹泻。所有东西都是要看剂量的。你需要吃上 400 根胡萝卜，其所累积的毒素才会产生神经毒素。（我就知道有一个食物狂人坐着小船从加州去夏威夷，路上只是靠吃胡萝卜果腹。他到了夏威夷的时候，眼睛都变成了橙色，并且他也产生了幻觉。）有相当重要的微量营养素和抗氧化剂。布鲁斯•艾姆斯发现，癌症的主要成因之一是饮食不平衡：“人口当中有 1/4 比例的人群吃水果和蔬菜数量最少，相比较于人口当中吃水果蔬菜吃得最多的 1/4 的人群，前者患癌症的槪率是后者的两倍。”（有些研究毒物兴奋效应的理论家推测，人们吃蔬菜是有好处的，因为蔬菜所包含的少剂量的毒素可以使得我们体内的解毒机制保持运转，从而保持我们的健康。）( Frwi 心 这 个 故 事 里 ，弗兰肯斯坦博士所创造的怪物是一个被人们所误解的好人，并且被受惊的大众错误地妖魔化了。当然，那是一个修辞学的说法，没有什么意义。同样，“弗兰肯斯坦食物”这个词本身也是没有意义的。<br>我们所食用的某些植物是有毒的，但是要看用量，因为适量毒素可以维持人体的解毒机制。<br>PART   6   杂交<br>中所发生的各种混乱以及农业上的几乎不受控制的杂交而言，转基因不过是一 个小小的插曲。就拿人类自身的基因来说吧，科学记者卡尔•齐默尔 （Carl Zimmer ) 写道：“科学家发现，在人类的基因组当中，有 9.8 万种病毒，以及来自其他 15 万种物种的进化残余。假如我们将人类基因组当中的转基因 DNA 清除掉，人类也将没有了。”（下一章对此会有更深入的讨论。）生，特别是当我们开始与农业共同进化之后，这一速度进一步地加快了。不同的种族是两万年前才出现的。因为农业使得我们可以有更多人口，人类进化的速度增加了 100 倍。人类的基因组当中有 7 % 的基因都是最近才演化出来的。人类学家约翰•霍克斯 （John Hawks ) 说：“一万年前，没有人是蓝眼珠的。为什么蓝眼珠的人相比于那些不是蓝眼珠的人在生育后代方面有 5 % 的优势呢？我也不清楚。”（我个人对此的推测是，当时有部分的男女认为蓝眼珠的人更为性感。）犹他大学的进化生物学家格雷戈里•科克伦 （Gregory Cochran )说：“历史越来越像是科幻小说，新的变种不断地出现并且取代正常人 — 有时候是悄无声息地发生，例如在饥荒和疾病中生存下来，有时候是通过征服发生。而我们就是那些变种的代。”随着全球化以及都市化，各地的人种杂交的次数更多，使得进化可以有更多选择的可能。整个地球都在变成一个充满具有智能的变种的星球。他指出，人类基因组里只有 3 % 的基因是由可以生产蛋白质的基因组成，而其余的都是“控制区域、 DNA 化石、锈迹斑斑的古老基因、重复出现的序列、寄生 DNA 、病毒以及神秘的我们还不知道是什么东西的片段”。（文特尔非常小心，从来没有使用“垃圾 DNA ”这个说法。）其中有一个非常自私的基因还复制了这样。<br>人类的杂交使得人类的不确定性。<br>PART   7   基因的完整性<br>类在全球范围内至少 10 个地方开始对植物的基因进行改造。整个过程是渐迸的 ，一 开始是有选择的采集，而后是小规模到大规模的翻耕，而后是灌溉以及作物轮作，并且是针对一些经过选择的品种。让我们给这些杂交出来的品种唱一首赞歌吧！来自美洲的作物是：南 瓜 （于 10000 年前首次人工种植）、玉米(9000 年前）、马 铃 薯 （7000 年前）、花 生 （8500 年前）、辣 椒 （6000 年前）；来自中东地区的有：黑 麦 （13000 年前）、无 花 果 （11400 年前）、小 麦 （10500 年前）、大 麦 （10000 年前）；来自中国的有：水 稻 （8000 年前）、粟 （8000 年前）；来自新几内亚的有：香 蕉 （7000 年前）、山 药 （7000 年前）、芋 头 （7000 年前）；而来自非洲的则有：高 梁 （4000 年前）、珍 珠 粟 （3000 年前）。人类对许多植物的基因进行了重新的排列，使得整个世界也因此而发生了改变。有些反对转基因的积极分子声称要保护农作物基因组的“自身完整性”什么是完整性类 “修修补补”的产物，与其野外亲缘种的相似度并不十分高。植物学家克劳斯 •阿 曼 （Klaus Ammami ) 指出，那些通过优良的古老育种法得到的优皮老品种小麦的基因组，事实上已经被进行了转基因处理，如 “添加了额外的染色体片段，或是整合了整套的外来基因组，也可能是通过辐射诱导突变”。( JohannKlaassen ) 所说：“马和驴非自然杂交产生了骡，卷心菜和萝卜非自然杂交产生了甘蓝，小麦和黑麦非自然杂交产生了黑小麦，我们却对以上的种种都不感到厌恶。”的儿子]提出这样的观点：是从植株中挑选出我们喜欢的那些用来继续种植。后来我们使用化学诱变的方法加速作物突变，在前所未有的短时间内得到突变种。再后来，我们发明了更有效的辐射诱变技术。而转基因技术则让我们能够选取、拼合性状，不再需要在一堆突变籽苗中找寻具备特定性状的苗株。贝尔种植了多种由辐射诱变得到的作物品种 — 使用强辐射照射种子从而得到更多的变异籽苗 — 自从 1927 年以来，这就开始成为一种广泛使用的育种方法，有机农场也常采用这个方法。然而，贝尔 （作为有机农夫）是不被允许种植任何基因工程作物的。美国国家科学院在 2007 年发布了一项比较研究的报告，研究表明，经过 Y 射线诱变得到的稻米品种系的“非目标基因”受到更大程度的干扰破坏 — 比转基因的品种系产生了更多非预期后果。有机原则迫使荷西•贝尔（ J 〇 W Baer ) 使用这些意外后果风险略为更高的种子。管它们是不是被化合物或辐射加速（目前有 2000 种作物是经过这些处理的）。植物遗传学家帕梅拉•罗纳德说：“选育会遇到的一个问题是，你从一种植物那里获得一个特征，放到另外的一种植物上，但也会遇到一些你不想要的特征，这 叫 ‘连锁累赘’。但假如我们用基因工程的办法来做，就不会遇到这些问题。”乔纳森•格雷塞尔说：“基因工程可以让你准确地判定在何种环境下，对于某个基因你希望它表现出多少特征。这就不需像传统的选育那样要背上整个基因的包袱。基因工程就像只是娶一位配偶，但没有连带妯娌，而选育则像是娶了一位配偶，而且还带出整个村庄。”用传统的方法来去除无关的基因需要经过儿代选育，并且是一个没有选择方向、随机和非常痛苦的过程。一些不好的特征还会被带到后代  Lenape ) 马铃薯就是用非常常见的三角黄金马铃薯跟一个野生的品种杂交所得，人们希望新品种可以提高作物抗虫能力。雷纳佩确实非常鲜美，并且真的可以抗虫，于是就被人们使用。有人把它做成了极受欢迎的薯条，其他的农民也跟着效仿。但后来有一位农民发现，他吃了雷纳佩马铃薯会感觉恶心，分析表明，它们从野生马铃薯那里获得了大量的糖植物碱毒素。于是雷纳佩马铃薯被召回，但是已经太晚了。市场上依然有 13 种包含了跟雷纳佩品种杂交而获得同样毒素的马铃薯在出售。<br>保证基因的完整性。有好的一面和坏的一面，我们需要辩证的看待这个问题。<br>PART   8   外来基因的转入<br>基因。这让我觉得非常惊讶。（这里我只是拿洛文斯当一个嘲笑的对象，因为他的陈述是如此清晰，我觉得可以在此陈列出来，并加以辩论。）他说道：“直接向基因组里注射一个外来的基因，就像是向一个生态系统里引入外来物种。”假如洛文斯的背景是生物而非物理，我估计他是不会发出这样的言论的。这样的关于一个基因以及一整个物种的类比是错误的。基因也许是自私的，但是它们还远远不至于像野生的物种那样自由和有活力。 一 个基因只是一个片段，而一个完整的生命体需要数万个这样的基因才能构成。单独一个基因需要经历所有的生物变化才能发挥其作用。更合适的比喻应当是带故障的计算机程序。而基因工程则是一个对故障的修正，是在合适的地方发挥了合适的作用使得故障得以消失。当人们说到从一个有机体转移一些基因到另外一个有机体时，人们以为老鼠的每一个基因里面都有一只老鼠，因此将基因移植到其他地方是奇怪的想法。”他说：“基因不过是些碱基对，三个基因组合在一起就可以生成氨基酸，进而生成蛋白质。许多生物会使用类似或几近相同的基因来做同样的事情。”基因从哪里来不是很重要，重要的是基因会做什么。还真的需要像凯文•凯利 （Kevin Kelly ) 这样的科学史专家来做些思维实验：合，我们将会用辐射以及化合物来导致基因有新的突变，不管出现什么新的特征，我们都会种植它，最后就挑那些我们喜欢的进行生产，让我们祈祷可以获得成功吧。’人们会对这样的一种做法所带来的风险怎么看？ ”发明家丹尼•喜乐斯说：“人们会说那是基因赌博，并且会禁止这么做。”1982 年，科学家把一个人类基因放到大肠杆菌里，使得数以亿万计的这些经过基因工程的有机体会产生出大量的人体胰岛素，并且与传统方法相比，更安全、更低廉。现在，有 1/4 的新药是涎生于基因工程的 — 美国有 130 种，欧洲有 87 种，并且增速还在提高。我们想都没想就吃下这些药了，但这是有理由的。因为转基因药物跟转基因食品一样安全。事实上，食品会更安全些，因为食品不会像药品那样发生食用过量或错误混合使用导致的不良后果。<br>人们对外来基因存在一定担忧，但是现在很多领域都在运用转基因。<br>PART   9   天然食物<br>“天然食物”，每次我听到有人这么说，我的心就纠结起来了。假如我说出声来，我会大力反驳：“什么天然？对于一位生态学家来说，农业产出的任何一种产品都谈不上半点儿的天然！原先好好一个复杂的生态系统，你走到那里，把它分成一块块的长方形，犁平了地面，每天早上早早起来耕作。你清理了原先的泥土，将其翻平整，而后经常的给那里灌水。之后你就在土地上种植千篇一律的作物，它们根本没有自理的能力。每一种粮食作物都是某方面的短视鬼，千百年来就通过杂交才获得今天的基因！这些植物是如此脆弱，人们要把它们养起来，有了人，它们才会得到照顾。”对于一位生态学家或者对于一位盖娅理论的信奉者来说，农业是一场极大的灾难。农业越少越好。彼得•雷文因此说：“除了我们今天所发展的足以养活 63 亿人的农业以外，没有其他的东西使得更多的物种走向灭绝或者是对地球的生态系统带来更大的不稳定性。”詹姆斯•洛夫洛克说：“在我们今天探讨气候变化的应对策略时，人们还没有考虑到地球有 40%的陆地面积是拿来种植庄镓的这一事实。一个可以自我调节的星球需要一个可以保持动态平衡的生态系统。我们不可能同时享有我们的作物以及一个稳定的气候这两样东西。”（地球表面 40%的陆地面积就可以分为 580 万平方英里的永久耕地，1350 万平方英里的永久牧场，而剩余的 3100 万平方英里的面积则是用于生态用途。）基因工程的反对者们怀疑转基因作物会对生态带来破坏，这是合理的怀疑。因为所有的作物都会带来生态的破坏。于是问题就变成了 ：跟传统的作物相比，转基因作物是带来更大的生态破坏还是生态贡献。这里说的“贡献”是指可以带来更优质的泥土、更多的荒地与非作物的生物多样性更好的融合，以及帮助更多人走出贫穷以及饥饿（这是社会价值方面的考量）。转基因作物的批判者会重点关注土壤的效果，关注环境当中残留的除草剂以及杀虫剂数量以及可能会带来的超级杂草以及超级害虫的问题。已经有科学家对所有这些问题进行过研究了，并且我们已经可以看到研究数据了。<br>天然食物不天然，实际是人对自然产生的一定破坏。所以人们对基因工程也存在一定担忧。<br>PART   10   转基因使食物增产<br>每年全球粮食总产量的 40%左右会因为杂草以及害虫等而遭到损失(基因工程）作物在减少这类损失上取得了巨大成功，《科学》杂志在 2007 年曾报道：“在过去的 11 年中，种植生物技术改良作物的地区增产超过 60 倍，作物转基因技术成为发展迅速的现代农业技术。”其中，增产成功主要归结为转基因作物的以下两个特征 —除草剂抗性和抗虫性。“除草剂抗性”中的除草剂主要指的是草甘膦 GLY - fo - sate )，它被发明于 1971 年，1974 年孟山都公司将其以“农达”的名字推向市场。这是一种神奇的化合物。草甘膦被喷洒到植物叶面时，会使叶绿体中的某种酶失效，如此持续 1 至 2 周，就可以使植物因无法正常进行光合作用而 “饿死”。还没有任何证明草甘膦会对动物如昆虫、鱼类、鸟类、哺乳类或者是我们人类本身产生作用。当它与土壤结合后，几周内便会降解为无害物质，所以不会像其他类型的除草剂那般污染水源或者残留在土地上，和其他除草剂相比毒性很小。自 1996 年起，孟山都公司又推出了一系列“抗农达”作物如玉米、大豆、棉花、油菜、甜菜、苜蓿，这些都是通过基因工程得到的具有草甘膦抗性的作物。2000 年，因为草甘膦已过了专利保护期，价格下跌一半。低价草甘膦的吸引力使得传统保守的农民也动摇了，开始考虑使用这种除草剂。到 2007 年为止，美国国内超过 90%的大豆以及超过 75%的玉米是具有草甘膦抗性的基因工程作物。农民不再需要犁地。上一年所种作物的残梗根茎等留在地里，转化成堆肥或是其他小生物的栖息场所，而土壤也得以固着在原地而减少水土流失。农民可以使用所谓的“直播”方法来直接播种作物（省去了育苗、移摘的步骤），每颗种子被裹上肥料后就被直接播种到还留有植物残梗的田中，等到作物开始发芽时，就往地里喷洒草甘膦除去所有的杂草，但却不会伤及抗草甘膦的作物。生机，呈现可爱的团粒结构。吉 姆 •库 克 Uim Cook ) 是华盛顿大学的植物病理学家和可持续农业技术推广者，他说：“免耕技术可以改善土壤结构，增加土地的碳储存量，保持水土，特別是在干旱的年份能比常规耕作方式保持更多水分。”存量之和。（地球上土地的碳储存量为 15000 亿吨，而活的植物的碳储存量为 6000 亿吨，大气的碳储存量为 8300 亿吨。）犁田翻地会释放土壤中的碳。吉姆•库克解释道：“如果你翻动土壤，会使其中的碳释放得更快。当你把作物残梗砍下，埋在土里然后再翻动土壤 — 就是我们所说的犁地耕作 — 这其实是一个刺激生物分解的过程，因为犁田翻地会不断地使新的土壤表面裸露在空气当中而受到分解者的分解。这种耕种方式实际上与直接烧掉植物残梗无异，是无法把碳隔绝起来的。”对比研究发现，在数十年间耕地土壤中一半的有机碳因为翻耕而流失，然而持续采取免耕种植的土壤的碳存储量可以回到野地土壤的碳储存水平，例如，可以与野外髙草草原土壤的碳储存景相当。越来越多的转基因作物的种植方式改为免耕种植，比如 80%的转基因大豆已经采用免耕种植，因为免耕法能够节省农民大量的时间、金钱与燃料。我们在节省燃料的同时也有利于减缓大气问题。遗传学家珍妮弗•汤姆森 （Jennifer Thomson ) 在 《未来的种子》（&amp; e 心如 心 /抓 ）一书中写道：“约 5 % 的化石燃料是用干农业上的，而这 5 % 燃料又主要用于控制杂草。”行的一次免耕种植会议上遇到的转基因作物种植者 — 俨然一副有机种植爱好者的样子，炫耀自家土地的肥沃，计算地里蚯蚓的数量。然而，有机种植者是不允许种转基因作物的，他们要在每年春天犁地，把地表的覆盖作物（覆盖作物主要在休耕时种植，可以保持水土，避免病虫害以及杂草滋生，把其翻入土中也可以有肥田的效果）和杂草翻入土中，这样会让土壤中二氧化碳被释放出去。（有些有机种植者已经意识到这个问题了，但是仍未找到非转基因的解决方法。）<br>免耕技术的运用个以获得更好的产量。<br>PART   11   超级杂草<br>用我们现在所说的“农业生态学”的角度来看待它。现在出现了“超级杂草”，占据农田中光照、水分、肥料充足的地方，只要它们能躲避掉农民的除草措施，竞争力是高于那些精心培育的作物的。如果某些杂草和农作物之间有所联系，它们可能会向作物“借用”有用的基因。这种情况曾在水稻、小米、高粱、向日葵和甜菜等作物上发生过，当然也会让人担心情况是否会在转基因作物上重演。而部分杂草对其产生了进化适应（而产生了具有草甘膦抗性的杂草）。如果我们仅仅使用草甘膦除杂草，就会有一些杂草很快地进化出抗草甘膦的对策。配合作物种植时间、轮作、生物防治等方法，使得杂草要面临多种联合的障碍无法很快适应。通过基因工基因的作物上转入抗麦草畏基因，这些抗性基因可以导入到作物母系遗传的部分，而不会通过雄性的花粉传播。通过这种技术处理的种子正在研发中。基因工程也只是日益发展的农业病虫害综合管理当中的一种技术而已。性的杂草处于树林之中就像是拳击手身处枪战当中，是完全使不上劲的，这种<br>农业杂草会对农民的庄稼产生一定危害，这个时候需要引入不同的抗性基因。<br>PART   11   超级细菌<br>转 Bt 玉米和转 Bt 棉。 Bt 指的是苏云金芽孢杆菌，这是一种土壤中常见的细菌，它能产生蝶或者飞蛾幼虫丧命。有机种植者会长期把经过干燥的 Bt 菌喷洒在植物上，他们认为这是一种天然的杀虫剂，这种方法很有效，而且只会杀害特定的目标昆虫，而对其他的益虫和人类无害。当细菌中控制合成 Bt 毒素的基因被整合到玉米或者棉花里之后，这些转基因的植物自身就可以毒灭害虫，省去了人工喷洒。而且，因为毒素存在于植物体内，即使害虫躲过了   Bt 喷雾，同样还是会被毒死。（这就是为什么有机玉米穗中常会发现活的棉铃虫。有机种植者是不可以种植 Bt 玉米的，所以几乎没有有机玉米出售。）程中对杀虫剂的需求是特别大的。转基因棉的引种使棉花种植使用的杀虫剂量发现有 1/10 的农民因农用化学品导致的疾病而住院。让人惊讶的是，到现在为止还没有发现对 Bt 作物产生明显抗性的害虫，然而有 1/500 比例的昆虫种类已经发展出对喷洒型农药的抗性。态有利。在 2001 年一项刊登在同行评审的期刊《欧洲分子生物学组织报告》米、棉花和大豆已经被商业化种植超过 5 年了，仍未在任何田间报告中看到对生态造成不利影响益，因为它们减少了化学杀虫剂的使用……我们也的确发现在种植转 Bt 棉的田地中，次要害虫如蚜虫等节肢动物的天敌数量总是高于使用喷雾杀虫剂的常规棉花田。”的威胁的说法，恰恰与事实相反。基因工程以及其他的方法和技术必须得到大力的推广，从而在全球范围建立低投入高产出的可持续农业系统……”<br>超级细菌可以减少对农药的使用，而且更有效率<br>PART   12   人类与农场<br>基于两方面的错觉 — 其中一方面是怀旧情结，另一方面是出于经济和政治上家庭农场的槪念其实是基于选择性记忆、音乐剧中的歌曲[有一首歌曲的歌 词 “你好，邻居！丰收愉快！ ”（“ Howdy ,  neighbor !  Happy harvest !”）] 以及对有机农产品市集的想象而得到的田园诗般的幻想。它唤起 1900 年美国的生活状况，当时有半数的美国人在农场工作和生活。而现在只有 1/100 的美国人口在农场工作。当孩子们都奔向城市生活的时候，我们不可能还会有“家庭农场”。现在美国农民的平均年龄是 55 岁。人们留在农场发展值，而保守政客们仍然通过立法向务农者提供大量政府津贴，与此同时保守的农民又在死气沉沉的小镇上边喝咖啡边抱怨津贴太少，这不是一场闹剧吗？往往是由不收酬劳的家庭成员完成，干农活的主要是妇女，她们要常常拿着锄头在番茄地里除草，或者是在满是泥巴的水田地里俯着身徒手插秧。在发达国家，大多是聘请移民劳动力来干这些活。环保主义者坚持认为转基因作物并不利于农民农户。这种观点是站不住脚的，因为事实并不是他们认为的那样，转基因作物正非常流行。帕梅拉•罗纳德说道：“每当有一种转基因作物通过批准投入种植时，农民们都很乐于接受，每类作物中的转基因品种的种植面积已经快速扩大到种植总面积的 50%到 90%。” 2008 年，在一个由洛克菲勒基金会支持的研究报告中指出：万农民享受着这种新技术带来的好处。值得注意的是，每 1000 万或者 1100 万受益农民中就有 900 万是贫农。……实际上，发展中国家种植的生物技术作物的数量（12)远超于工业化国家的种植数量（11)，而且发展中国家的转基因作物种植增长率是工业化国家的 3 倍 （两者增长率分别为 21%和 6%）。发展中国家的农场面积几乎都小于 5 英亩，大多数只有 1 英亩或更小。<br>在发展中国家和发达国家农民的地位是不同的。<br>PART   13   对转基因作物的禁令<br>农民们希望种植转基因作物，但其他人不支持农民种植这些一 个经典的案例，是发生在加州的马林郡和索诺玛郡之间的僵局。我们的拖船停泊在马林郡这个非农业地区，它离洛杉矶很近，对转基因作物的态度也和洛杉矶差不多。2002 年马林郡宣布转基因农业是非法的。我们会在索诺玛郡的一个倒闭的奶牛场度周末，这个郡邻近马林郡的 41：部，仍是以农业为主。2005 年，索诺玛表决一项旨在废除全郡的转基因农业的法案。对这项法案的官方表态是：“该措施可以保护索诺玛郡的家庭式农户、园艺者以及环境，免受转基因作物带来不可逆的基因污染。我们的孩子不应该成为转基因的受试者。一旦转基因作物失去控制，会产生抗除草剂的超级杂草，同时也会污染当地的食品供给以及自然环境。基因污染是永久的，无法逆转、遏制或者根除。”梅拉•罗纳德指出：“与此相反的是，城市居民、食品加工厂和酿酒厂都支持这项禁令，因为打上‘无转基因的索诺玛’标签是推销产品的新策略。”然而他们的如意算盘落空了：该措施以 55%的反对率和 45%的支持率被否决了。在这个由农民说了算的地方，转基因获胜。在其他主要的农业郡，情况也都相似。附近的 15 英亩转基因玉米地，800 名当地农民进入周边的一个小镇表示抗议，并请愿希望政府支持基因工程的研究。2000 年，种植转基因大豆在阿根廷是合法的，但在巴西则是被禁止的。但是两者的产量差距如此明显，以至于巴西农民在边境走私转基因大豆种子，直到后来巴西政府把种植转基因作物合法化。<br>不同的国家对转基因作物的态度都不相同。<br>PART   14   转基因作物使穷人拜托贫困<br>为什么环保主义者想要否定转基因作物对于发展中国家农民的好处底谁最需要基因工程技术？罗 伯 特 •帕 尔 伯 格 （ RobertPaarlberg ) 是 《渴望科学：生物技术是如何被阻拦在非洲之 外 》这样的一套理论，富裕国家有更多的闲暇来探讨转基因作物的经济风险与知觉风 险 （消费者在产品购买前可能无法预知购买是否正确，因此，消费者的购买决策中隐含着某种不确定性，消费者能够感知到的这种不确定性或者不利且有害的结果就是知觉风险）间的细微差别，然而贫穷的国家可能并没有意识到：基因工程技术的直接得益者只是全体公民当中的很少数 — 豆农、棉农 、 一 些种子公司、专利持有者。消费者并没有从中直接获益，所以当我们通过制定相关条例将转基因作物拒于市场之外时，消费者并没有任何损失。但把这种富国的监管体制输出到其他地区时，问题就出现了，例 如在 非洲，2/3 的人 口都是 农民，他们是会从基因工程技术中直接获益的。时，你当然可以自由地讨论转基因食物的优缺点，但我们第三世界的人们能否先吃了再谈？” [她是一位肯尼亚的植物病理学家，曾在三大洲求学，并在孟山都公司做了 3 年博士后，之后发明了一种抗病毒的转基因甜土豆。她现在领导着非洲产量生物技术基金会 （Africa Harvest Biotech Foundation )，这是一个位手机，他们觉得这是脱离贫穷的途径。种植转基因作物以及使用手机，使他们能够以城市的价格把农作物销售给新城镇人口，摆脱以往没有盈利的自给农业模式。在国家层面也发生了类似的跃进。尽管印度的杀虫剂公司执著地游说阻挠，印度农民还是在 2002 年开始种植转 Bt 棉花，印度也从棉花进口国一跃成为棉花出口国，产量从 1700 万袋上升到 2700 万袋。这当中有哪些社会代价吗？ 一份由洛克菲勒基金支持的 2008 年的研究报告提及：的妇女和儿童得到的社会资源略高于传统棉种植户，表现在产前探访率更高，在家分娩时可以获得更多帮助，儿童的入学注册率及疫苗接种率更高。50%，印度棉花种植者的总收入从 8.4 亿美元飙升到 17 亿美元。<br>发达国家更注重生活的品质  <br>PART   15   转基因作物故事<br>为农民的直接经验告诉他们事实并非如此。所以他们继而把注意力转向破坏农民的市场，以 “基因污染”的幻想引起消费者和公众的恐慌。定反对转基因的理由是出于正义的，也是保持热情所必须的。这些传奇故事有关于帝王蝶的，有关于墨西哥本地玉米的，有 关 于 “终结者基因”的。另一方面，支持推广转基因技术的一派也有他们的故事：关于木瓜的故事，“黄金米”的故事，津巴布韦毒药的故事。实际上这些故事都有其基础，但每个案例中都有重要的信息被忽略了，听众不知道实际上到底发生了什么。当我们详细探究这些故事时，会给我们带来不同的启发。现在让我们来仔细考察这些故事。转 Bt 棉花花粉杀死帝王蝶故事是这样的：1999 年 5 月的一期《自然》杂志中，有一页刊登着康奈尔的昆虫学者约翰•洛西 （John Losey ) 及其同事的研究 — “转基因植物的花粉会伤害到帝王蝶幼虫”。文章报告了这样一个实验，用未定量的转 Bt 玉米的花粉饲养帝王蝶幼虫 4 天后，有 44%的幼虫死亡，这是一个在实验室内进行的实验。这个事情登上了《纽约时报》的头版，至今仍在转基因反对者之间广为流传。虫的毒杀率最多也只有 3%。，其中的一小部分受害幼虫还曾受到其他工业制剂的影响。2001 年 9 月 的 《美国国家科学院院刊》发表了 6 篇 （共计 30 位作者）关于这个话题的详尽论文，但由于被“9 • 11”事件盖过，并没有引起新闻媒体的关注。超级环保主义者彼得•雷文在 2000 年 7 月 的 《美国国家科学院院刊》上发表了一篇与人合著的文章，其中总结道，在美国和墨西哥，对帝王蝶种群造成真正伤害的是栖息地丧失以及杀虫剂的使用：“事实上，减少对同种作物的杀虫剂喷药量明显有利于提高帝王蝶和其他昆虫种群的存活率，所以广泛普及 Bt 棉种植对帝王蝶的生存有极大好处。”帝王蝶幼虫以马利筋属植物为食，从而发展出对植物中强心苷毒素的耐受性，而这类植物正是通过强心苷来抵御其他虫子。帝王蝶毛毛虫不仅可以忍受这种毒素，还把它吸收到自己颜色明亮的身体中，然后继续保持在体色同样明亮、缓缓飞舞的成体里。这种明亮的体色就像是一种警告：“我是有毒的！ ”鸟儿也学会了避开帝王蝶。另一种略带毒性的蝴蝶 — 副王蛱蝶，通过吃柳树叶子来积攒毒素，这种蝶看起来也很像帝王蝶，这也让鸟儿们可以单从颜色就能分辨出哪些是“不好吃”的虫子。以上就是一个“协同进化”假说的故事。“协同进化”的槪念是在 1964 年由植物学家彼得•雷文和鳞翅目昆虫学家保罗•埃利希 — 在他的著作《人口爆炸》成名之前提出的。他们合著的论文《蝴蝶与植物：一个关于协同进化的研究》, 是生物学中被引用率最高的文献之一。如果彼得•雷文声称 Bt 棉对帝王蝶是有利的，那么他该很清楚自己在说什么。]<br>基 因 污 染 ：转基因玉米入侵墨西哥<br>修 •査 佩 拉 （ IgnacioChapela ) 在 《自然》杂 志 上 发 表 一 篇 文 章 《转基因 DNA 渗入到墨西哥瓦哈卡本地玉米种当中》 。该文章立刻引起了很大的影响并被广泛传播，因为本地品种对农业来说极为重要。保留本地种也就是维持多样性的基因库 ， 一 般都是由本地的传统小农来留种的，他们还会从所留的种子中不断优化，挑选口味更好、更能适应当地地理条件的品种。墨西哥种植的所有玉米中有 2/3 都是本地品种，作为玉米的发源地，玉米本地种发生了任何可疑的状况都会让人尤其不安。途径偷偷潜入到本地品种的基因组当中。“这是由转基因物质引起的，迄今为止全世界范围内性质最恶劣的基因污染事件，因为它发生在我们的一种主要粮食作物的原产地，”墨西哥国家生物多样性委员会的秘书长豪尔赫•索韦龙 （Jorge Soberdn ) 说道，“这就像某个前往英国的人，正用塑料片替换掉大教堂里的彩色玻璃。”正在玷污和损害着墨西哥最大的瑰宝反对转基因的群体勃然大怒，“‘基因巨人’正在侵犯墨西哥农民的社会文化权利。”绿色和平组织呼吁墨西哥禁止培育转基因玉米。附有杂志编辑对他们原文的抨击以及对当初同意刊登该文表示的悔恨。4 年后，也就是 2005 年 8 月，豪 尔 赫 •索 韦 龙 （Jorge Sober 6 n ) 作为 6 位作者中的 一 位 （4 位来自墨西哥，两位来自美国），在 《美国国家科学院院刊》中共同发表了文章《2003〜2004 年间墨西哥瓦哈卡的本地玉米种中并未检出基因(2003〜2004) ]这 6 位 作 者 “为了验证奎斯特和查佩拉的调查结果”，在同一地区的 125 块田地中抽取 153746 颗玉米种子，并无检出转基因。排除墨西哥现在正在种植的那部分转基因玉米，其他地区的本地玉米当中并没有发现任何转基因痕迹。这些作者们推测，如果转基因的确曾在 2000 年出现过，那么到了 2003 年也该被稀释到无法检出的水平了。（相关的科学研究进展：2008 年的一份研究报告指出在 2000 份本地玉米样本中发现有 1%存在转基因痕迹。）要研究，而玉米正是很适合的研究对象，玉米是一种可以发生混杂异交（“异交”是指同一品种或不同品种的个体之间产生有性杂交受精的现象）的作物，年里，本地玉米种与经济作物发生基因交换的情况曾发生过，但这并不会对其多样性造成损害；转基因作物与本地玉米种发生基因交换也只是与这个情况没有不同而已。种植本地玉米种的农夫早就意识到了 “近交衰退”的 问 题 （用他们的话来说，就是玉米“累了” — 西班牙文是“ secansa ”），所以一般他们会混种一些别的品种的玉米，同时，基因也会随着花粉在不同田地间被吹送。的缺基浪 )） （Genetic Glass Ceilings :  Trcmsgenics for Crop Biodiversity ， 2007)小也描述了这种常见的情况：经济品种与种植在周围的本地品种作物之间偶然会发生基因流动因流动会提高其中一方作物的性能。农民们保存本地品种中形态和口味比较好的那些，事实上他们在这个过程中也不经意地选择了那些具有抗病、抗逆或高产基因的植株。墨西哥的农民们通过不断选择使得本地玉米品种质量稳定提高，正是一个很好的例子。一个世纪前的本地种与两个世纪前的本地种或是与今天的本地种相比，它们的基因并不相同，尽管农民认为它们没有不同。“出于政治目的希望保持‘基因纯洁’实质上与保持‘种族纯洁’的想法没有不同。”真正对本地种带来威胁的是城市化 — 青年人都趋向到城市寻求更好的工作，而他们家乡的作物就死光光了。我们现在只能寄希望于通过“种子库”来保存被日渐遗忘的本地种基因库，例如，位于墨西哥城附近的“国际玉米小麦改良中心”。害处其实与别的商业作物的基因流动没有不同 。 一 般有三种方法应对基因流问题，其中一种比较简单，另外两种比较麻烦些。第一种较麻烦的方法是，把目标基因导入植物体花粉以外的部位，使其不易流转。第二种是在转基因作物周围设置“避难所” — 种非转基因植株，这样就可以把转基因隔离起来。还有一种最简单省事的方法就是确保得到的转基因植株是不育的，当它无法繁殖时就可以确保基因流为零，这是最彻底的解决方法了。但是转基因的反对者们对最后一种方法尤其反感，个中原因，我们继续道来。<br>孟山都公司通过“终结者基因”使农民沦为奴隶<br>一项技术专利，命名为 GURT —遗传利用限制技术（genetic use restriction technology )，这种技术就是将不育因子导入转基因作物中。这是为了防止农户违反与种子公司的协议而留种再种，通过这种技术就可以让农民被迫不断向公司购买种子。当时占有三角洲和松兰公司部分股份的孟山都公司声称要买下整个三角洲和松兰公司，从而进一步巩固其在棉花种子供应市场的地位。这让人很担心孟山都公司是否会把 GURT 不育技术用在它全部转基因作物上。Mooney ) 发表公开声明说：“发明种子的转基因不育技术并不是为了保证生物安全也不是出于农艺效益的考虑，它的终极 Q 的是为了创造农奴。”即认为 “终结者”技术将会带来农奴时期。[穆尼是国际乡村发展基金会 （Rural Advancement Foundation International ) 的负责人，后来这个机构改名为 ETC 小组。] “这是一项不道德的技术，它剥夺了农村社区长久以来保存种子以及农民作为植物育种者的权利 ，” 一 名智利官员说 ，“ 这是农业界的核弹。”这种声讨持续了一年，在欧洲和第三世界尤甚。最终孟山都公司宣布放弃这项技术。[洛克菲勒基金会的戈登•康威先生以及肯尼亚的弗洛伦斯•温布古 （Florence Wambugu ) 博士都敦促孟山都公司放弃。]到 2009 年，不育转基因作物在全世界范围绝迹，尽管这是一种防止不利基因蔓延的便利技术。词穷的环保主义者们这回凭借“终结者”和 “自杀基因”等词语引起了广泛的恐慌，成功阻止了巨头公司的计划。（其实这种技术有更合适的名称叫做“老处女技术”，幸运的是环保主义者还是用之前的名字来炒作。）然而他们有些话的确言过其实，例如这让人印象深刻的一句：“植物不育种子的传播会导致全球大灾难，最终甚至会把这个星球上的更高等的生物消灭掉 — 包括人类。”当我读到这行引自印度反全球化主义者万达纳•席娃博士 （Vandana Shiva ) 的论著中的话时，觉得这一定是引用出错了，所以特意査看她的书《失窃的收成：跨国公司的全球农业掠夺》发现这句话果真出自这本书，读者也可以自己找找看。在书中第 83 页，你会发现她警告人们，这种可遗传的不育将会带来人类的厄运 — 但在生物学上这是绝不可能的。席娃博士常常以印度物理学界的先锋自居。是直接出自格里•圭代蒂（ GeriGuidetti ) 在 1998 年私下发表的一篇文章，她运营着位于俄勒冈州的“方舟研究所”，这个机构也提供可育种子。我在网上找到相关介绍，吉 德 蒂 “在美国多所高校教授生物学以及生物化学已有 20 多年了。她是几百篇科学文章或研究论文的作者”。或许她真如介绍所说的这样，但我在网上只能搜索到她对千年虫、禽流感、恐怖分子和终结者技术问题所接受的采访或文章。]什么值得担心的，而且也不见得是什么新问题，现在让我们来看看它在常规农业实践中的情况。数十年来，大多数农民都会每年重新购买充满活力的杂交种子。因为杂交种子并不能繁殖出纯种的子代，它的子代会出现各种的性状。拉乌尔•阿达姆查克 （Raoul Adamchak ) 认为，从种子公司的角度来看：这是好事情，因为种子公司就可以每年生产新的杂交种子以赢利。这些种子很贵，但大多数有机农民都会选择购买它们，因为杂交种子活力高，生长出的植株性状一致，具有抗病性，它们的产量以及口味都值这个价钱。而且，大多数农民也不再愿意每年亲自动手通过异花授粉培育自家的近交系作物。很少人有时间同时兼顾育种者和农民这两个角色。植的玉米有 96%是杂交种，总产量从每英亩 20 英斗攀升到每英亩 160 英斗。在中国，杂交水稻正逐渐替代传统水稻，2007 年杂交稻种植率高达 65%。可见，杂交作物尚且如此，更不用说转基因作物了，每年购买新种子在发达国家是习以为常的事情，在发展中国家这也逐渐变成常事。回应：合理化自身种种的反生物科技的言论，仿佛他们把“农民自留种”变成了神圣的咒语。只要具有丰富祆耕经验的人都知道，在务农中没有什么是比农民自留种更糟糕的事情了。自留种在种植过程中产量会逐代下降，因为种子会漸漸失去活力，患病率也会上升，也常常会被杂草种子所污染。<br>这里混淆了杂交和转基因的概念,所以安全性并不能得到保障。<br>PART   16   转基因作物的经济利益<br>20 世纪 80 年代，罗 伯 特 •夏 皮 罗 （Robert Shapiro ) 做 CEO (首席执行官）的时期，孟山都公司的步调太快了，以至于把在欧洲引种转基因作物的事倩彻底搞砸了，在一些该公开处理的事情上却遮遮掩掩。有些人指责孟山都公司只关注农户的利益而忽视消费者的权益 — 重视作物产量和效益更甚于作物的营养和品种多样性 — 但其实这种指责是说不过去的，因为种子公司与杀虫剂公司的顾客是种植者而不是进食这些作物的人。还有一些指责是说孟山都等“基因巨头”公司，迫使农户们对其产生依赖，作出这种指责的人明敁还没有搞清楚 “顾客”这个槪念 。 一 旦顾客对孟山都公司的服务不满意，他们立刻可以选择其他公司的服务。大多数农民是通过各个供应商和经销商购买种子的，那就是说在转基因种子上，孟山都公司是要面对来自先正达（ Syngenta )、美国陶氏( Dow ) 和杜邦-先锋（ Dupont - Pioneer ) 等其他公司的竞争。文章，他在文中诘问道：“根据季度盈利报告而不是根据其在生物学上取得的进步来重新设计对相关工作的评价体系 — 从经济利润最大化的角度而不是考虑生物技术上的互补来结盟（现存的公司并不是技术上最优的而是利润最丰厚的） — 这是个好主意吗？ ”先不讨论他那些从农业生物技术的发展和适用性角度来考量的浪漫想法，他在转基因问题上似乎放弃了用于分析核能问题的经济视角。他认为在核能开发的问题上缺乏私人资本和市场激励的介入是不对的，但对于现在的转基因来说，过多的私人资本与市场激励介入反而成了问题。的事物有好有坏，有时候好的事物也可能造成坏的结果，反之亦然。在反对转基因这件事情中，存在着各种反对企业的偏见，例如转基因农业公司被认为是恶贯满盈的，但那些跨国的转基因制药公司却没有受到谴责。罗伯特•帕尔伯格认为这是因为“富裕国家非常重视这些跨国制药公司所提供的药品及创造的福利，然而跨国种子公司并不被重视”。政客的攻击呢？我猜这是因为水的氟化处理是来自政府的，而作物的转基因处理是来自企业的。如果两者的来源是相反的 — 这本身也有可能一 它们所受到的对待也会颠倒过来。望有环保主义者抨击这个问题，但他们并没有这样做。限制基因工程技术的条例规定过于繁杂，以至于把很多小型公司逐出市场，最后仅有一些大型公司能够在广泛兼并的时期存活下来。只有孟山都、陶氏、杜邦、瑞士先正达、德国拜耳作物科学和德国巴斯夫等公司成为赢家。寡头垄断正在形成，遗传学家帕梅拉•罗纳德指出，在某程度上讲，只要汇集和控制了专利基因及相关技术的知识产权，就相当于掌控了农业生物技术的引擎。她认为这就意味着：环节对整个技术流程来说可能是最关键的步骤 — 举例说，把基因导入植物中是至关重要的技术环节 — 如果垄断了某个关键技术就相当于垄断了整个技术流程。当大学们向私人公司提供转基因关键技术的“专属授权”，必然会极大限制着公共研究机构在转基因作物研究上的发展。发展中国家正针对自身独特的农业需求，建立自己的非营利转基因项目，其中资金和技术援助多是来自洛克菲勒基金会、麦克耐特基金会和盖茨夫妇基金会的支持，这些项目都是开源的，所开发的新技术可以免费共享。澳大利亚的理查德•杰斐逊 （Richard Jefferson ) 正运营着名为“坎布里亚”（ Cambria ) 的研究中心，这个研究中心是非营利性的，致力于开发开源的转基因工具。在洛克菲勒基金的支持下，他的小组针对专利封锁的转基因技术，自主设计了两项技术，并要将其免费开放，尤其要向东南亚的使用者开放。稻对某种重要疾病产生抗性的基因。学校按照她的意思，授权孟山都公司以及先锋公司使用该基因，但指定它们只能在把这种基因用在发达国家广泛种植的几种作物上，而不允许用在贫穷国家的稻米上。此外，这个基因也在全球范围向有需要的人免费开放。中国科学家已经开发出导入这种基因的杂交水稻，预计这种抗病稻种很快就会被免费发放给农民。乔 尔 •科 恩 （Joel Cohen ) 和珍妮弗•汤姆森 2005 年收录整理的花名册可知，以下这些国家正在发展自己的转基因技术：的苹果、木薯、棉花、豇豆、黄瓜、葡萄羽扇豆、玉米、紺瓜、珍珠裟、土豆、高粱、大豆、南瓜、草莓、甘蔗、番薯、番茄、西瓜和小麦。希望让作物获得某些农艺特性、抵抗细茵和真菌的特性、除草剂耐受性、害虫抗性及病毒抗性，提高农产品质量。坦、菲律宾和泰国）在发展转基因作物，包括转基因的香蕉和芭蕉 、卷心菜、可可、木薯、花椰菜、鹰嘴豆、辣椒、柑橘类、咖啡、棉花、茄子、花生、玉米、芒果、瓜类、绿豆、芥菜、油菜、棕榈植物、木瓜、土豆、水稻、葱、大豆、甘蔗、番薯和番茄。展自己的转基因苜蓿、香蕉和芭蕉、豆类、柑橘类、玉米、木瓜、土豆、水稻、大豆、草莓、向日葵和小麦。该到此为止了。基因工程技术反而是有利于各地区增能的好工具，它提高了食品文化的多样性，让农民有能力在国际市场销售自己的农产品，摆脱大财团的控制。<br>《未来的种子》、’《厨房里的孟德尔》、《解放生物学》、《转基因的行星》、《明天的餐桌》这些书中。接下来我们来看一个绝对不会出现在反对转基因的书或者文章中的故事。<br>在夏威夷，人人都爱转基因木瓜<br>故事是这样的：20 世纪 60 年代，夏威夷的欧胡岛爆发木瓜环斑病毒，几近把岛上的木瓜产业摧毁了，农民们只能转到夏威夷大岛的普纳地区继续种植木瓜，这个地区还没有受到病毒的侵袭。但 在 1992 年，木瓜年产量高达 5300 万磅，却在普纳地区也发现了环斑病毒。巧合的是，同年有田间试验发现，一个被导入了病毒基因的转基因系木瓜对这种病具有抗性，就像是被接种了疫苗一般 。 一 场对抗病毒的竞赛开始了。眼看着自家的木瓜树正在被病毒所摧毁，农民们也行动起来，联合州政府的官员以及转基因木瓜的开发者 — 夏威夷病毒学家丹尼斯•贡萨尔维斯（Dennis Gonsalves )，共同推动抗病系木瓜通过审批。这种转基因木瓜在 1996 年得到美国农业部批准，1997 年也得到美国环保署和食品药物管理局批准（要留意的是，常规方法育种的植物审批并不需要经过如此烦琐的程序）。1 “ 8 年，新的木瓜种子被免费派发给农户。直到 2001 年，之前生产木瓜的所有地区也都重新种植木瓜了。“日出”和 “彩虹”这两种转基因木瓜品种非常美味很受欢迎，消费者遍布美国、加拿大甚至日本。很有可能你也曾吃到过，因为现在夏威夷 90%的木瓜都是转基因品种。但不被允许。夏威夷一些聪明的农夫就在转基因木瓜地中间种植非转基因的有机木瓜，这样既有机又防病毒。基因木瓜的田间试验，但中国的转基因木瓜技术正积极发展着，许多人预计一旦中国接受了转基因木瓜，全亚洲也会随之接受。（中国在 2008 年启动了一个耗资 35 亿美元的项目，旨在加速“转基因绿色革命”的进程以及推动“从髙投入的粗放农业向高科技集约农业发展”。）家带来好处的。木瓜被认为是一种次要作物（虽然木瓜对于夏威夷人和热带地区的贫农来说远不是次要作物），所以跨国公司以及跨国的环保机构都没有插手到这件事情当中。转基因木瓜得以被解除管制，主要是靠农民自身推动的，也正因如此，整个过程透明、快速、成本低。其中，一些公共机构也给予重要的帮助：夏威夷大学和康奈尔大学合作的农业项目已进行了推动，美国农业部也提供了 60000 美元的支持。转基因木瓜一经销售，就得到夏威夷本土消费者的喜爱，口碑也传到了海外的出口市场。这是个如此成功的故事，没有任何阴暗面，但接下来的故事却没有这么理想。<br>拯救生命的黄金米，让数百万人远离失明<br>但它缺乏多种重要的微量营养素，如 P - 胡萝卜素，这是维生素 A 的前体；而缺乏维生素 A 正是世界贫困人口面临的普遍问题。根据世界卫生组织的估计：“每年有 25 万 到 50 万名孩子因缺乏维生素 A 而失明，其中一半的儿童在失明之后的 12 个月内死去。”联合国儿童基金会 20 〇 4 年的报告指出：“在第三世界，约有 40%的 5 岁以下的儿童因为维生素 A 缺乏症而导致免疫系统低下，每年有大约 100 万少年儿童因此夭折。”后，瑞 士 的 英 戈 •波 特 里 库 斯 UngoPotrykus ) 和 德 国 的 彼 得 •拜 尔 （Peter Beyer ) 决定通过转基因技术联手开发含有维生素 A 的稻米。他们的研发耗时 7 年，在这期间波特里库斯已疲于应对那些反对转基因的积极分子，以至于瑞士政府不得不特地为他建造可防手榴弹袭击的温室，保证研究能不受干扰。1999 年他们向《自然》杂志投稿，描述如何将一个细菌基因以及两个水仙花基因(也会合成黄色色素使米呈现黃色）导入水稻中，成功使水稻合成胡萝卜素，但 《自然》杂志甚至都没将文章送审就拒绝发表了。植物学家彼得•雷文得知此事后，安排这篇文章在《科学》杂志上发表，这立刻就引起了强烈反响，被认为是科学上的重大成就和人道主义的惊人突破。波特里库斯成为了 2000 年 7 月 《时代》杂志的封面人物，并附上大标题“每年可以挽救上百万儿童的米”。的黄金”、“特洛伊木马”、“蓄意欺诈”、“失败的技术”、“多余的发明”、“对生物多样性造成威胁”、“骗取公众的信任”、“对传统白米造成威胁”、“会导致永久性大脑损伤”。绿色和平组织甚至在 2005 年宣称：“如果大面积引种转基因水稻，会加剧营养不良、威胁食品安全，因为这相当于鼓励人们只需依赖单一的工业化生产的主粮就可以营养充足了。( IsmailSerageldin ) 常常代表为这些言论感到惊异的科学家们作出回应：“我常常诘问那些生物技术的反对者，你们真的希望眼睁睁看着因缺乏维生素 A 而导致每年有 200 万〜300 万儿童失明、100 万儿童死亡吗？仅仅因为你们反对黄金米被创造的方式？ ”（撒拉格尔丁后来担任了国际农业研究所咨询团的领导者，现在是亚历山大港新图书馆的负责人。）讨论的也只有这点）。黄金米所能提供的 P - 胡萝卜素顶多只能满足维生素 A 每日营养推荐量的 1/5。不顾波特里库斯的强烈反对，瑞士先正达公司也加入了这场论战。后来科学家们把黄金米中的其中一个水仙花基因替换成一个玉米基因，得到了 (3-胡萝卜素含量提高了 20 倍 的 “黄金米 2 号”，解决了先前维生素 A 供应量不足的问题。后来，一名先正达的英国科学家同时也是公司对外发言人阿德里安•杜博克 （Adrian Dubock )，让先正达公司从各种纷争中获得 7*黄金米的专利权，并通过波特里库斯牵头的“黄金米人道网络”向第三世界提供第二代黄金米的使用权。每个农民只需要每年支付不到 10000 美元就可以免费获得黄金米种子，还可以每年自行留种和播种。了来自盖茨基金会 2000 万美元的支持，目标在 2011 年之前向公众开放转基因水稻。盖茨基金会也资助彼得•拜尔牵头的“国际支持维生素大米联盟”(international ProVitaMinRice Consortium )，这个联盟旨在“ I 上黄金米具有更多种微量营养素以及生物特征”。下一代大米将含有更多蛋白质、维生素 E 、铁和锌。而国际水稻研究所正着手一个更具野心的项目，把水稻从 C 3 植物改造成 C 4 植物 — 把低光合作用效率的模式（如小麦、土豆也是 C 3 模式的植物)改造为进化程度、光合作用率都更高的模式（如玉米、甘蔗就是 C 4 模式的植物）。C 4 模式的水稻只需要更少的水和肥料，产量却能提高 50%。“这是一个长期高回报的研究项目，政府很应该资助。”明尼苏达大学的一名农业经济学家菲 利 普 •帕 迪 （Philip Pardey ) 说道。反对转基因的环保主义者们之所以如此恶意攻击黄金米，是因为他们意识到这很可能会成为第一种得到广泛推广的经过生物强化处理的高营养食料作物。他们在这一点上判断得很正确。<br>面临饥饿的津巴布韦拒绝了 “有毒”转基因玉米<br>胁到 7 个国家 1500 万人的性命。联合国世界粮食计划署提供了 15000 吨美国米 （其中有 1/3 是转基因玉米）作为紧急援助，但津巴布韦政府拒绝了这援助，理由是部分的玉米可能会被用于种植而不仅仅是食用，这会危害到津巴布韦向欧洲（欧洲是反对转基因的）的作物出口。美国提议把玉米磨碎以确保无法用子种植。同时部分玉米转移到位于津巴布韦北部与其接壤的国家赞比亚，该国也有 300 万人口面临饥荒。在食用这些救济粮 6 年之后，赞比亚拒绝继续接收这些援助了。“即使我们的人们正在挨饿，也没有理由让我们吃这些有毒的食物，给我们这些食物不就是在危害我们的健康吗？ ”赞比亚总统利维•姆瓦纳 瓦 萨 （ LevyMwanawasa ) 表示，“我们宁愿挨饿也不要吃这些有毒食物。”费派发的救济玉米全被锁在了里面，《洛杉矶时报》正在仓库外报道，有一名年老的盲人在哀求政府发放这些玉米：“求求你给我食物吧，我们都快饿死了，管不了这到底有没有毒了。”更让人绝望的是，生活在农村的赞比亚人正在吃着 “树叶、细树枝甚至是有毒的浆果和坚果”，时报报道说。世界卫生组织估计在接下来的一个月内，将有 35000 赞比亚人死于饥荒。就在同一年，莱索托、马拉维和斯威士兰都无条件地接受了这些美国玉米，津巴布韦和莫桑比克也接受了被磨碎的玉米。心协力下，成功地让非洲多国对转基因作物心生恐惧。南非已经批准种植转基因棉花、大豆和白玉米 — 在当地很受欢迎的一种粮食，但其他国家在这方面仍受到重重压力。部都位于荷兰首都阿姆斯特丹。绿色和平组织在 40 多个国家都设有分支机构，共有上千名全职员工，而地球之友也在 68 个国家设有分部，拥 有 1200 名全职员工。你可以在罗伯特•帕尔伯格的书《为科学挨饿》 中找到关于这次运动的参与者、策略和效果等方面的详尽信息。赞比亚及其他一些国家的政策制定者相信了这些说法，转基因作物会引起过敏，导致消化道感染，传播艾滋病，作物中可能含有猪的基因，可能会使他们的农作物无法销往欧洲等。上，比 尔 •莫 耶 斯 （Bill M 〇 y ers) 问及印度的反全球化主义者席娃博士如何看待赞比亚的处境。她回答道：饿 — 当发现救济粮是转基因食品后，我们把消息告诉受灾群众以及饥民，他们自发到救援机构抗议，他们说纵然身处贫困与危难，也不能被强迨吃这些不愿意吃的东西。危难情况不能被用做商机。滋味。只要稍稍挨饿 — 只需要一周，就能使注意力惊人地集中，对此我可以作证。贝托尔特•布莱希特 （Bertolt Brecht ) 曾说过一句很实在的话：“先求填饱肚子，再谈伦理道德。”该去了解并记住公司的 CEO 到 底 是 谁 [李 •雷 蒙 德 （Lee Raymond ) ]，同样地，当绿色和平组织和地球之友出于意识形态，不遗余力地以“挨饿是为了你们好”来游说非洲人们的时候，我们该去了解并记住到底谁是这两个组织的领导者[绿色和平组织最初的领导者是蒂洛•博德 （Thilo Bode ) , 后来是葛德 •雷 波 尔 （ GerdLeipold )，地球之友的领导者是里卡多•纳瓦罗 （Ricardo Navarro ) ]。这些环保组织、商业公司以及他们所影响的欧洲国家和一些人道主义的非政府组织所施加的千涉，着实把非洲给搞砸了。欧洲人为主的反生物科技游说者通过提供严重的错误信息以及政治操纵等手段，只为达到一 个目的，就是确保从饥肠辘辘的人们那里得到的作物是安全并营养的……这些反生物技术的说客们宣称要保护非洲大陆不受跨国生物科技公司的压榨和剥削。这种欧洲中心论的观点是基于以下两个前提：非洲并没有专业知识来作出明智的决策，非洲大陆应该专注于有机种植。”温布古博士继续表示，无论是公司或是民间组织，都需要尊重非洲的自主权：了解到使用不合适的外国种质（种屑是指农作物亲代传递给子代的遗传物质）是存在风险的，了解如何避免本地种质的流失，保持本土品种多样性。同时我们也需要一些制衡机制来避免跨国公司利用一些地方的本土种质申请专利，完善保护知识产权的政策以避免不正当竞争，要避免地方种子公司的垄断经营，阻止跨国公司对在地消费者及在地公司的剥削。田间试验也应该在非洲本土进行，以确保在热带条件下的环境安全性。<br>转基因在解决贫困地区温饱问题上能起到很大的作用，但是却被一些利益集团操控，失去了原本应用的价值。<br>PART   17   非洲的农业问题<br>决部分问题而已。其中最核心的问题是营养失调和营养不良，而且问题还在持续恶化。根据 2008 年的一份报告称：“大量营养素如蛋白质、能量物质以及微量元素如铁质、维生素 A 、锌、碘等的缺乏，是造成半数儿童死亡率的主要原因。”转基因技术有助于提供更多和更好的食物。非洲的小型农场是依赖雨水浇 溉 的 （非洲只有 5 % 的农田有灌溉系统，而在亚洲这一比例高达 60%)，只能是靠天吃饭。如果不下雨，那么所有的作物都会枯死，全地区的人们都要挨饿。尽管耐旱的转基因作物会多少派上点用场，但关键的还是需要建立灌溉系统，打井，有电力系统推动，修建公路运输农用设备和农产品。料而没有还田，还有部分原因是因为农民们没有机会用上复合肥。在这些问题上，转基因技术完全帮不上忙。土壤改善技术其实已经很成熟了，包 括 （引自盖茨基金国家研究委员会的报告）：种植肥田作物，采用农林复合系统，等高耕种，灌木篱墙，梯田种植，使用塑料地膜防止水土流失，免耕或采用环保耕作，保留作物残梗，合理灌溉，采取综合营养管理，包括正确使用化学肥料。土地使用规划以及土地政策改革是配合上述技术的政策层面的措施。所有植物，来自乌干达的小麦锈病新变种威胁着全球的小麦植株，数以百万计的红嘴奎利亚雀成群结队地呑噬了所有的高粱米，这让一代又一代的孩子到田里驱赶鸟雀而失学。以上这些问题，转基因技术都能帮上忙。展出来的一些农业实践工作 、 一 些公司的策略 、 一 些政策措施或者是适用于北非的种质，不见得适用于撒哈拉以南的非洲。“热带地区阳光充足但缺水，温带地区却是水源丰富而阳光不足，”植物学家德博拉•德尔默 （Deborah Delmer )说道，“大多数农业技术是以温带地区为基础发展起来的，但大多数人口却分布在热带。热带的病虫不会因寒冬而冻死。热带的农民种植的作物比温带的农民要多，每一个热带地区都应该有各自的研究机构。”<br>转基因技术无法解决非洲土地贫瘠的问题，这时候需要多种技术对土壤本身进行改良。<br>PART   18   非洲与欧洲之间关于转基因态度的差异<br>非洲也下定决心运用生物科技来应对自身的农业问题。2001 年，世界经济论坛在瑞士达沃斯举行，物理学家和散文作家弗里曼•戴森见证了其中一场关于转基因作物的小组讨论。他说：欧洲人出于宗教热情而反对转基因食品，他们认为这打破了自然界的平衡，而且会给人类健康以及自然生态带来难以预料的危害。他们还围绕“预防原则”谈了很多。“预防原则”的内容是，如果一些做法会对生态造成无法挽回的损害，无论造成损害的概率多小，或者是这种做法可能带来的收益多么巨大，我们都不应该采纳这种做法。这个原则是不允许人们通过权衡成本利益来作决定的。预防原则是欧洲人拒绝转基因食物的坚实的哲学基础。益增长的人口以及普遍的贫困已经对非洲的生态造成不可挽回的损害，如果拒绝转基因食品，只会使生态继续恶化。欧洲人的所谓“不能允许无法挽回的伤害发生”的这个借口在现实世界中毫无意义。实际上，做任何一件事情都有可能带来不可逆的伤害。我们无法避免要衡量各种险。非洲人的生存需要转基因作物。在非洲的大多数地区，土地贫瘠，旱肆虐，很多作物因为病虫害而遭到损失。转基因作物能让依赖自给的农民从饥饿走向生存，使经营市场农业的农民从破产边缘走向富裕。洲人需要把作物销往欧洲。欧洲人为了保护本地农户而禁止转基因食品，正如非洲人所看到的那样，欧洲禁止转食品更多是出于经济利益的考虑而非纯粹出于哲学原因。世纪 90 年代末在欧洲爆发的疯牛病（但这事与转基因没有任何瓜葛），这场瘟疫印证了食物背后可能潜藏的巨大危险，也印证了对一心只想尽快平息恐慌的政府亩员们的不信任。大洋彼岸的美国人也知道了这件骇人听闻的事情。罗伯特•帕尔伯格认为欧洲和美国对待转基因的态度不同是源于两者法律和政治框架的差异：“美国的法律体系更倾向于在事后的民事诉讼，而不是在事前就订立法规确保消费者和环境的安全。而且美国的两党制体系让绿党没有机会赢得选举，他们也就没法通过执政联盟来倡导反对转基因。”只是盘踞着些激进的动物权利支持者或反对堕胎者。转基因作物以及设备可能会遭到蓄意破坏，研究人员也曾遭受恐吓，根据美国联邦调査局（ FBI ) 的估计，仅仅是地球解放阵线 （Earth Liberation Front ) —个组织，就已经在 1996 年至 2004 年间发起了 600 多起破坏活动，造成了 4300 万美元的损失。而这类情况在欧洲更为普遍。在 《非理性之战》这本书中，作 者 迪 克 •塔 弗 恩 （Dick Taveme ) 审视为何理智有时会被蒙蔽：“在德国，曾有发生极端反转基因者把燃烧弹投向马克斯一普朗克研究所，因为该所正进行一项矮牵牛花的转基因研究。他们争辩道：‘转基因技术最终必然导致优生学的产生，纳粹不正是奉行过优生学吗？这种研究会让纳粹主义复活的。”植物的尊严”。在所有的生物技术研究项目申请书中，一定要有一段来说明如何处理研究对象的尊严问题。伦理委员会会告知科学家们需要遵守哪些原则，如决不能通过转基因让植物“丧失自主性”，委员会的意思是要保证植物自身的繁殖力。遗传学者们不禁要问：那么农业上普遍的无籽水果和雄性不育的杂交品种也是违反原则的吗？</p><p>PART   19   预防原则<br>欧洲人所说的“预防原则”，是导致欧美还有其他地区在转基因问题的态度上形成分水岭的主要原因。达沃斯辩论围绕的正是“预防原则”，赞比亚的饥荒也受这个原则影响，欧盟_ 1992 年起就被这个原则所约朿，《卡塔赫纳生物安全议定书》 也体现了该原则，“预防原则”自 2000 年起就成为国际转基因运动的指导原则。罗伯特•帕尔伯格指出：“欧洲的预防原则其实是有着合理的成因。有记载德国曾发生过一场严重的环境伤害，导致大面积的森林毁灭，‘预防原则’正是在这样的背景下萌芽的。因此德国政府在 1974 年颁布了一项净化空气法案，鼓励任何针对潜在的化学品危害采取行动，即使还没有科学证据证明这些化学物品到底是否造成危害。1984 年，有记载在欧洲北海发生了污染事故，后来这个原则也被用于管理北海的海洋污染问题。”但随着时间的推移，当初触发“预防原则”诞生的环境伤害证据消失了，然而在这个过程中科学是明显地被贬值了。“预防原则”有多个版本。其中表述最清晰，被引用最多的是出自 1998 年在威斯康辛州举行的一次环境会议中发表的所谓“温斯布雷德宣言”(Wingspread Statement )。它的内容是：当某种活动可能会威胁到人类健康或者环境安全时，即使某些因果关系在科学上还没有完全的定论，我们都应该采取有关的预防措施。出于这点，这种活动的支持者，应该负有举证责任，而不是由公众负责。的 “科学上完全的定论”却让我崩溃。这是虚无缥缈无法企及的目标。世上没有任何事物是有彻底的科学定论的 — 甚至是重力、达尔文进化论，或者花生酱果冻三明治的安全性都没有。“科学”是个永恒的论点。对 于 “预防原则”更实际的表述应该是这样的：“如果在前期已有大量可靠的科学证据能证明存在隐患，那么我们就应该采取相应的预防措施。”风险平衡。出自温斯布雷德会议的召集人卡罗琳•拉芬斯珀格 （Carolyn Raffetisperger ) 的这段话被广泛引用：“风险评估体现了这样的一种观念 — 我们有能力估量和控制风险及伤害，而且我们能够决定哪些风险是可接受的。而预防原则是另外一种完全不同的槪念，从伦理道德角度考虑，我们正在尽力防止任何伤害的发生。”净效益分析被抛在了一边。一边说着要等待进一 步的研究结果，同时却又声称相关研究都过于危险不应该进行。一些激进分子 借 着 “预防原则”的名义，焚毁转基因试验田，恐吓有关的研究人员。“所有的科技都被认定是罪恶的，直到有证据证明它们是无害的。”地球之友的创立 者 戴 维 •布 劳 尔 （Dave Brower ) 曾如此说。这实际是一个瘫痪无力的法则。(我可以想象到，戴维一定会回应说：“适度的瘫痪或许对现在这个世界有好处。”）</p><p>PART   20   牛排餐刀的谬论<br>“牛排餐刀的谬论”。吉米的软件工程师们花费大量的时间预想维基百科可能出现的问题，然后针对这些问题设计软件解决。他举了下面这个例子来说明这种那么我们就要准备切牛排用的刀了，如果顾客们用刀刺伤了他人该怎么办？如何防止这种事情发生？我们或许要用笔子把每张桌子分离开，防止有人用刀刺人。”候，也带来了明显的副作用 — 你同时阻止了人们做好事。维基百科之所以能取得巨大的成功，因为他们恪守这样的原则 — 从不将时间花在解决假想问题上，而是集团体之力去解决现实存在的问题，他们着眼于最急切的问题，快速有效地找到针对性的解决方案。假想的问题却是无尽且未知的：“黃金米导致穷人们不吃绿色蔬菜，它可能导致维生素 A 的过度摄入，这可能是大公司操纵的‘特洛伊木马’诡计，它会带来无法预料的问题！”这种显然的不平衡却被看做一场博弈：这种构想认为，意外之事都是不好的事，不可能会是好事，同时现实中并不存在蓄意的恶果。事实上，蓄意造成的恶果随处可见，而很容易就能分辨意外之事也有好与坏，我们可以根据所需扩大好的方面，纠正不好的地方，由此达至平衡。手机产生的微波辐射会影响大脑，它会恶化数字鸿沟，跨国公司会通过它来控制通讯领域，它会使社会均质化 — 但事实证明以上种种都没有发生，尽管这项技术的确带来了一些其他的问题，如存在各种不相容的标准，导致新形式的无礼行为。然而这项技术迅速成功，作出巨大贡献，它为世界各地的人们尤其是穷人赋权增能。已故的人类学家玛丽•道格拉斯 （Mary Douglas )，终身致力于对风险的研究，她留意到宗派主义团体例如某些环保组织，把自身与世界上无尽的需求隔离开来了。她写道：“在他们眼中，圣洁与安全是永远都不够的。”她自己作为一个英国人，也很想知道：“那美国人又害怕些什么呢？他们担心的确实并‘不多’，只是他们所吃的食物、饮用的水、呼吸的空气、生活的土地和使用的能源而已。”经济学家保罗•罗默 （Paul Romer ) 给我们补充了一个全球视野:如果一个社会失去了紧迫感，那自然会有后来者居上替代它的地位。</p><p>PART   21   预防原则的替代<br>下议院科学与技术特别委员会提议“不应再使用‘预防原则’，应 该 把 它 ‘从政策导向中去除’”。各方都在努力起草替代原则 — “积极原则”[是由马克思 •摩 尔 （Max More ) 和 凯 文 •凯 利 （Kevin Kelly ) 提出的]，“预防措施”(纳菲尔德生物伦理委员会提出的），“可逆性原则”[雅 麦 斯 •卡 西 欧 （Jamais 超越预防原则》 中提出的，作 者 卡 斯 •桑 斯 坦 （Cass Simstein ) 是一名行为经济学家，现在负责奥巴马办公室的信息与法规事务。预防原则”替代掉，因为它的名称以及出发点都非常好。我要去除这个原则中的偏见，让遵循它的人们从无所作为中醒来走向行动，我要给它作这样一个补充 — “警戒原则”，完整的表述是：“永恒的警戒乃是自由的代价。”“预防原则”严重地阻碍和减慢了新事物产生的进程，即使面临着迫切需求的时候也是如此。在 “预防原则” 上加上 “警戒原则”有助于鼓励人们探求新事物。我们关注于未来可能出现的状况，一个新设备或是一项新技术要先经过多方面的审査才能进入试用阶段，同时它又被分成三类继续受到监管：第一类，暂时不安全，有待进一步证实其不安全性；第二类，暂时安全，有待进一步证实其安全性；第三类，暂时是有益的，有待进一步证实其益处。随着时间的推移，评价标准将会日趋精细，有关政策法规也会作出相应调整。转基因粮食作物首次向公众开放是在 20 世纪 90 年代初，出于安全的考虑，最早一批勇于尝试种植这些作物的人受到监测，看看会带来什么害处或者好处，尤其留意着会不会有什么意外状况发生，无论是好的或是坏的。（举例来说，一个 Bt 玉米带来的意外好事，由于它们较少遭到昆虫损害，因此真菌的生长也减少了，从而降低了吃玉米薄饼导致霉菌毒素中毒的可能性。〉直到 20 世纪 90 年代末，我们已经保持了 10 年的警惕，种种经验告诉我们，到目前为止转基因食品显然是安全的和有益的。欧洲人也已经开始谨慎地购买和种植转基因粮食作物了，反转基因的激进分子虽然仍心存怀疑，但也停止焚毁转基因研究试验田和实验室了。过散布高科技传感器，装备有无线电话的保持警惕的志愿者，可以收集到相关数据，再借助互联网技术，我们就可以对突发情况进行全天候、高密度及自动化的监控，从而作出相应调整措施。（维基百科就是一个实现警戒原则的例子：应。）用这种模式来构建预警系统关键在于要识别哪些方面需要监控，就正如我们审査一项新技术的过程。（黄金米真的助长了营养不良的发生吗？真的存在维生素 A 摄入过多的案例吗？如果真有的话，那么我们可以考察这些状况是为何发生，从而采取措施阻止吗？）更聪明的预警措施可以是设立专门机构，用于监测发现一些意料之外的关联，例如，在石棉粉尘浓度高的地方周围肺癌发病率也高 — 这在 20 世纪 30 年代就被发现了，但直到 20 世纪 80 年代才有相关措施出台。成千上万人因为措施的滞后而经受不必要的伤害或死亡。否仍在世的护士口中传来消息的年代已经一去不复返了，取而代之的是对网络信息的主动监测，对第三世界食品市场动物销售条件的主动监控，“哨兵医师”网络，自动化生物测定，以及将来的更多手段。这就是构筑警戒系统的方式。我们也应该对那些早期对新东西作反复尝试的人表示敬意。20 世纪 20 年代，放射性元素因具有治疗的效果而得到赞誉，直到当时有一名百万富翁高尔夫球手埃本•拜尔斯 （Eben Byers ) , 喝 下 1000 瓶当时很风行的、名 为 “雷迪特”（ Radiothor ) 的放射性饮剂，之后死掉了。20 世纪 60 年代，我的一些同代人费尽心力去证明，即使过度使用大屏显示器，也不会损害大脑或是染色体，但后来证明这可能对个性造成负面影响。我们可以依靠业余爱好者发现到底玩多久的电子游戏会引致自杀，吃多少胡萝卜才会导致“橙眼精神错乱”，要拥抱多少只灰熊才会被其中一只吃掉。由一大批律师来设立基因专利法规不见得对推动生物技术有好处。生物科技希望获得自主的发展。是那些具备科学能力和自信、用于抵抗那些谨小慎微的环保主义者的发展中国家 — 例如中国、巴西、印度、南非、阿根廷和菲律宾。只要它们进步，世界也会随之进步 。 一 些基金会如盖茨基金会、洛克菲勒基金会和麦克耐特基金会都在帮助推广转基因技术 — 以实地的、细致的方式 — 向最需要这些技术的最贫困的国家推广，这些国家大多位于非洲和南亚。如果欧洲国家不断推卸责任和抱怨，只会拖全世界的后腿。</p><p>PART   22   该如何面对转基因<br>我们以基因工程技术扮演无所不能的上帝此受到什么惩罚吗？的问题。“历史上，工程学的发展是伴随着一系列无法预料的后果，”她说道，“我们对自身的认知限制一无所知，那么如何能在狂妄与谦卑之间前行？ ”我回答道：起，就有很多以狂妄和不可预料的后果为题材的戏剧。剧的兴趣。转基因生物已经得到广泛的试验，但除非有可疑事件发生，否则是不会引起报道的……你绝不可能看见有头条写着“转基因作物继续有良好的表现”。那么我们就能知道掌握了什么。整个工作过程必然混杂着狂妄与谦卑。影响。他一贯性格直率，也曾就转基因亵渎上帝发表过明确声明：“我开始相信这种转基因技术终会把人类带到上帝面前接受审判。”教皇本笃十六世在 2006 年对研究转基因的科学家批评道：“不遵循上帝造物的意志而修改‘生命的语法’……不是上帝却想要取代上帝的地位，这真是狂妄自大，是可怕的冒险。”不可靠的盟友，他认为基因工程“触犯了神圣与世俗之间的界限”，必须在全球范围内禁止。[读过里夫金作品的科学家们，都认为他是美国的傻子领袖。进化 学 家 斯 蒂 芬 •杰 伊 •古 尔 德 （Stephen Jay Gould )，本身也是一名具有影响力的左翼分子，他这样评价里夫金的一本生物技术著作《基因术》“他聪明地把一本宣扬反智的小册子伪装成一本学术著作。我未曾在大思想家的严肃作品中读到过哪怕是一本伪劣作品。”]很多气候问题，但在转基因问题上他却借用了里夫金的观点，他在书中写道：它代表着自然界的第二次终结 … … 一 旦 ‘转基因兔子’变得普遍的时候，如果我们在森林偶遇一只兔子，那时还会对它产生比可乐瓶更多的虔诚与喜爱吗？”在环保主义者中，存在一种普遍情结，那就是所有自然界创造的东西都是好的，而所有人造的东西都是坏的。“四条腿的就是好的，两条腿的就是不好的。”自然界是一个整体，因此是神圣的。大自然神秘而又圣洁，然而人类是愚钝的；大自然同时也是脆弱的，容易遭受人类掠夺式的伤害。当我们谈论“自然”的时候，我们到底在谈什么？如果我们对“自然”的槪念包括了物理、化学和力学，那么我们是没有可能做出一些所谓违反自然的事情的。违反自然的事情只存在于想象之中，而不可能实现。我们所做的任何事情，其实都是基于自然界允许的前提下的。在地质学的角度看来，核裂变再自然不过了。基因水平转移在细菌之间普遍发生。显然，当人们在说“违反自然”时，意 思 是 “不符合我所理解的达尔文学说以及我所知道的传统农业育种理论”。又或者说，人们所指的“违反自然”说 的 是 “一些我还没习惯的事物 。真正起到帮助的，是能意识到其中好与不好的各方面。在 1999 年及 2003 年，著名的英国那斐尔生命伦理学委员会曾对基因工程的伦理问题作了详尽的考察，最后作出结论：“让发展中国家有需要的人们能轻易获取价格低廉的转基因作物，是一种道义责任。”</p><p>PART   23   未来转基因发展<br>们没有意识到，面对着波澜不惊的生物科技，那些反对转基因作物的斗争注定是会失败的以 及 《遗传学 101》已被巡回展出。现在我们转向关注生物学的前沿，那些在教科书上没有涵盖的新发现与新技术。这也是提醒环保主义者们，不要继续针对这些方面花费心思了，去寻求更有力的新工具，抓住机会启动新一轮的绿色议程吧。总会有一天，转基因作物会成为过气的食品时尚，连同种种过时的忧虑被丢弃在垃圾補里：“还记得我们曾经以为 Bt 玉米会带来世界末日吗？”</p><p>]()</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【地球的法则】第四章</title>
      <link href="2017/10/09/2017-10-09/"/>
      <url>2017/10/09/2017-10-09/</url>
      
        <content type="html"><![CDATA[<p>[<br>第四章<br>核电新篇章</p><p>煤 是杀手。在所有化石燃料中，煤是唯一一个可以使得这个地球不适应居住的燃料。<br>——费雷德·皮尔斯<br>关于气候变化，知道最多的人是最恐惧的。而对于核能源，知道最多的是最没恐惧的。<br>——见于多个出处</p><p>PART   1   汉森：核电是绿色的</p><p>威的说法来自美国航天航空总署（ NASA ) 的一位权威而且直率的气候学家，他 名 叫詹 姆 斯 •汉 森 （James Hansen )。当汉森 2007 年说，我们不能让大气中二氧化碳浓度从目前的 387 ppm 上升到 450 ppm ，而是要下降到 350 ppm 的时候，环保主义者有了新的口号：“350!”给他写了一封公开信，提出如何应对气候危机的一些建议。他写道：“火力发电厂就是死亡工厂。燃煤所排放到大气里的二氧化碳数量是其他化石燃料的总和。”汉森也提到美国需要什么：“从源头上对所有的化石燃料征税，消灭所有的煤炭火力发电厂，以及加紧进行第四代核反应堆发电的研究，并且与国际同行进行合作。”他警告说：“危险的是，一小部分极端环保人士会使得安全核反应堆发电的建设延缓，从而使得我们的用电还是不得不继续依靠燃烧煤炭来满足。而这正是指向灾难的处方。”他在信的末尾重复了这一点：“我们这个世界面临的最大危险之一，就是一小帮声音非常强大的反核行动人士出来阻止我们铲除煤炭发电的努力。”从新建以及待建的一些核子发电站中他们可以获得更多。汉森是对的：核电是绿色的，新的核电站更是如此。接下来我就会讲到为什么。</p><p>火力发电给温室效应增在了很大的压力，这里呼吁我们发展核电。<br>PART   2   核电引起的反对<br>核电最容易引起人们的强烈反对意把足以致命的核废料留给后人来处理。我当初也是这么想的，直到 2002 年的某一天。那天我去了雅克山，正是那一次走访改变了我对核电的看法。我会详细地描写这一过程，因为这是在窥探一个在大多数人的认识地图上属于“未曾被探索过”的区域，你会看到两个人是如何改变他们对核电的看法以及一个组织如何改变对自身的看法。维加斯西北 100 公里的地方就成为美国政治角力的风口浪尖。这里存放着“用过的核燃料以及其他高度辐射的废料”。这与今日永存基金会 2002 年那次到访该地没有任何关系，我们那一次只是想去看看内华达山的一个山洞是怎么样的。今日永存基金会的标志性项目（其他项目就是围绕这个项目派生出来的)是一个宏大的万年钟，它将会被安置于内华达州东部的一块山地里，我们希望它会成为一个标志，正如我们所说的，“使得人们可以自动而且经常地想长远问题，而非只是偶尔而且很困难地去想这些问题”。我们当时在想，山里什么样的一个地方适合放置这样一个钟呢？特别是一个沙漠里的大山？我们想雅克山也许可以给我们一些启发，并且我们确实获得了启发 — 又长又直的圆柱形通道是很无聊的，25 英尺髙的顶部也是很无聊的，但低于 10 英尺的仟何一个距离都是很舒服的，并且任何高于 35 英尺的东西都是很让人惊叹的。今日永存基金会的核心价值发出了挑战。我们感到雅克山有一种病态的东西，而这样的病态正是来自于其所标榜的长线思考以及关注未来一万年这样的思维。那一次跟我们坐在同一辆汽车上的有万年钟的设计师丹尼•喜乐斯（ DamiyHillis ) 以及 GBN 的联合创办 人 彼 得•舒 瓦 茨 （ PeterSchwatrz )。我在游记上写道：东西上面，还告诉人们怎么用救生呼吸器。丹尼•喜乐斯说，美国职业安全与健康协会就有明文规定，工人必须带上这个才能下井，以预防突发的矿井火灾。而在隧道入口那里停着两辆全新的救护车，好像是要发出“这里绝对安全”的信息。地方，整个隧道像激光一般笔直，而且隧道的直径高达 25 英尺。整个回型隧道有 5 英里长。有很多东西需要从这个山洞里转移出来，现在仅仅是完成了部分测试性的转移。我们下了火车，去到其中一个测试的地方，那里的 工 程 人 员正在测试高温和急冻对于当地岩石以及水流的影响：他们先是对山洞进行连续 4 年的高温加热，模拟核废料存放于其间的情景；而后是连续 4 年将山洞冷却下来，这个过程就是对未来 1000 年即将发生的核废料处理的一个模拟。些想法。我们都对政府在这个地下通道上已经花费的 80 亿到 160 亿美元(具体哪个数字更准确就看你怎么来计算）的投资表示惊讶。其中大部分的钱是花在测试上，那些测试旨在告诉民众，那些储存在地底的废料在未来 1 万年内都是安全的。这可是一笔相当大的开支，并且是基于 20 世纪 50 年代的思想，从根本上来说是一个政治行为，旨在让那些对科学不了解的批判者相信他们的决定而不发表质疑的声音。头 （这件事有 50%的可能性会发生），那么 50 到 100 年之后我们就会重新把那些废料取出来用做新的能源。了，而这则正好对今日永存基金会的基本假设提出了挑战。我们会问自己：假如我们今日永存基金会要处理这个核废料存放的问题，我们会怎么做？丹尼说：“我会在地下挖同样一个洞，并且只需花费几百万的成本，并且告诉人们说我们只会把核废料放在那里几百年的时间，而与此同时我们又着手去寻找如何完全处理这些废料的办法。”并错误地以为我们现在可以为将来 1 万年的人们作抉择，最终导致愚蠢决策的一个经典案例。而今日永存基金会要做的恰恰与此相反：我们所提倡的长线思考是我们看到了正在发生的一系列事件，并在此基础上设计出一些可以帮助我们变得具有适应性的方案，并且随着时间的推移不断地保护和增加我们的选项。后来我越是想到环保人士那种典型的反核举动 — 过去很多年里我就是这么做的，我就越是觉得那样的做法很愚蠢。他们通常会说：“你必须要保证核废料里的放射性物质在未来至少一万年时间里是可以得到完全封存的（哦，不，应该是 10 万年；不，应该是 100 万年），假如你不能保证这一点，那就不能修建核电站。”为什么呢？ “因为任何强度的核辐射都会伤害人类以及其他的生物，甚至还会渗入地下水。”天的人类一模一样，甚至也继承我们今天的忧虑和只是拥有我们今天的技术。假如我们考虑一下 200 年以后的人类呢？假如人类以及科技在未来还会得到发展，那时候的人类跟现在比起来将会变得无法想象的强大，那时候的人类会有更值得他们担心的东西，而不是去担心极其容易检测得到并且极其容易得到处理的核辐射。而假如我们 200 年后回到了石器时代，偶尔遇到一些核辐射也不会成为最值得我们关心的问题。假如我们想象一下 2000 年以后或者是 1 万年以后，那时问题不是变得更加棘手，而是慢慢就消失了。反核转向支持核电。他就是彼得•舒瓦茨，他是一位能源专家，并且同时也担任艾默里•洛文斯的洛基山研究所的董事会成员，彼得后来变得非常积极地提倡要复兴核电。他和洛文斯之间还因为关于这个问题的争论而差点导致朋友关系破裂。<br>我们以我们现在的认知和判断，为了保护环境而来阻止新能源的发展。只能说不同的人有不同的看法，未来怎么发展永远是无法预估的。<br>PART   3   核废料问题和基核电力<br>列的会议，探讨加拿大可以如何处理其 22 座 CANDU [加拿大重水铀反应堆(Canadian Deuterium Uranium ) ]核反应堆里的废料问题。其中一个选择是把这些废料放到加拿大地盾的古老而且稳固的岩床里去，然后忘记它。另外一个选择是把废料存放在反应堆所在地的一些干燥的箱子里。还有另外一个选择是建造类似雅克山那样的一个地方，将其存放于地下，但可以重新提取出来。在那次的研讨会上，我讲述了我们在雅克山的经历。参加研讨会的还有一些印第安人 （他们的部落在加拿大被称为“第一国家”），他们则建议可以采用为身后“七代人”着想的思路，易洛魁部落一直以来都是这么做的。假如我们以 25 年这个标准年份算做一代人的话，那就意味着我们需要为未来的 175 年去考虑核废料的问题。来了。而这一政策是基于“对后代的尊重：我们不应当预估未来人们的需求或能力。与其以一种家长式的做法来干预，我们应当把如何处理这些核废料的选择交给后人。”为此，加拿大还制订了一个“适应性周期管理”计划，计划规定，用过的核燃料需要放置于反应堆现场的干湿两种储存设备里，同时，他们还会建造一个“短期”的地下集中存放点，并且设计成容易提取的结构。之后才是在山地里挖一个深邃的洞进行永久保存。未来的加拿大人也可以对此计划的每一个步骤发表他们的意见，但我们没有提及 1 万年储存的想法。不过，这份报告确实提到：“经过 175 年之后，核废料的辐射能力下降到其刚从反应堆里被取出来时的 1/1000000000。”核废料就有这样一个有趣的特征，它会随着时间的推移而丧失毒性，而不像很多化学废料例如水银那样毒性一直不减。不再是那种看似宇宙级的难题了，而核电这种零碳的发电方式则有望成为应对气候变化的一个主要解决方法。我对核电的态度已经从反对转为支持了。现在我问自己的问题是，为什么这个过程会需要那么长的时间？很多年前我就可以去了解核电的真相啊，假如当年我不是那么懒惰的话。客》的前任编辑，她就真的做了这件事。1980 年，在她和其他一些行动分子的千预下，位于长岛的耗资 60 亿的肖勒姆核电工厂在未曾运营之前就被勒令关闭。这一事件令美国的核电业界大为受惊，乃至走向停顿。20 世纪 90 年代的时候，她开始听到相反的声音，那是一位来自核电行业，专门关注核安全的科学家给她讲的故事。这位科学家名叫瑞普•安德森 （Rip Anderson )，她在位于阿尔伯克基的桑迪亚国家实验室工作。出于新闻人的触觉，格温妮丝决定要跟随安德森去探访美国的核电工业，并且将过程写成了一本书，名 为 《拯救世界的能 M : 关于核电的真相》，这本书于 2007 年出版。两样东西，基荷电力以及生态足迹。”而提供的稳定、连贯、昼夜不停、无论刮风下雨都能满足人们所需的最低额度的电力。”基荷电力是电网的基础。截至目前为止，它基本上都只是有三种来源：化石燃料、水力以及核能。世界上有 2/3 的电力供应都是来自燃烧化石燃料 （主要是煤炭）得到的。而属于绿色能源的就只有水电以及核电，它们分别占 16%。（在美国，有 71%的电力来源是煤炭和天然气，6.5%来自水电，20%来自核电。）几十年里将有数十亿人爬着能源的阶梯走出贫困，到了本世纪中叶，将需要更多的基荷电力。假如气候是主要的绿色威胁的话，那么城市将是一个主要的绿色福利，而核电看上去更是有双重的绿色意义。风能以及太阳能，虽然它们都非常好，但是都不能作为基荷电力。因为它们都是间断性的 — 只有当有风或者有太阳的时候才能发电。假如有一些大规模的电力储存装置建起来的话，它们还是可以作为基荷电力的，但目前没有那些电力储存装置，它们就只能充当配角，通常是作为火力发电的配角。（假如是基于太空的太阳能发电，则可以直接作为基荷电力，可以通过微波将太空中收集的太阳能传输到地面的天线上。太空中的太阳光的强度是地面强度的 3 倍，并且它总是在那里。同时，地球空间轨道上的太阳能板接受太阳能照射的程度是你家屋顶的太阳能板的 3 倍，因此合起来就是 9 倍的好处。不过要将电力从太空输送到地面是需要花费很大的成本的。但日本已经在计划修建一个 1000 兆瓦的太空太阳能发电装置，另外，加州一家电力公司也声称到 2016 年，他们会有一个位于太空中的容量为 200 兆瓦的太阳能发电场。）<br>核废料是可处理的，需要时间成本，但是结果是不会对环境造成太大危害。同时核能也能提供稳定的电力输送。<br>PART   4   生态足迹<br>1/3 平方英里的土地。而一个风力发电厂则需要占用 200 平方英里的土地才能发同等的电，太阳能发电厂则需要占 50 平方英里土地。”而这还仅仅是土地占用方面的足迹。（顺便提一下，1000 兆瓦等于 1 吉瓦，也就是 10 亿瓦，后面的篇幅里我将主要用这个单位。）普•安德森告诉我，核电厂的废料在体积上是微小的，假如一个人一生所需的电力都是用核电供应的话，累积产生的废料也才足够装满一个可乐罐。相比之下，燃煤发电带来的废料则是巨大的 — 供应等量的电力，将会产生 68 吨的固体废物以及 77 吨的二氧化碳。核废料通常会被放进干燥的储存桶里进行存放，所有的核废料会被放到一小块地方，在本地有人进行监控。你任何时候都可以了解到正在发生什么事情 。 一 个发电能力为 1 吉瓦的核电厂需要 20 吨的燃料，这些会转换为 20 吨的废料，并且由于它们非常浓缩，可以被装进两个每年需要燃烧 300 万吨的燃料，并且产生 700 万吨二氧化碳，并且，二氧化碳马上会被排放到大气中，也没有人能够控制，没有人知道这些气体会带来什么影响。这还没有算因为燃煤而产生的扮煤灰以及烟气一 它们都是全球最大的放射性物质输出来源，这些气体里包含了大量的重金属，包括铅、砷以及大量的汞，它可以导致人神经中毒，并且已经渗透到食物链里，甚至医生都建议怀孕妇女不要吃野生的鱼和贝类。据估计，每年因为燃煤产生的空气污染而致死的个案，在美国有 3 万例，在中国有 35 万例。假如比较它们的整个生命周期，并且把这个生命周期里会产生的所有温室气体排放量算上的话，2000 年由国际原子能机构所发布的一份调査结果显示，生产 1 千瓦时的电，核电的碳排放量跟水电以及风电的碳排放量差不多，是太阳能发电碳排放量的一半，是 “洁净煤”技 术 （假如真的有的话）的 1/6,是天然气的 1/10,是煤炭发电的 1/27 (按照目前的燃烧方法计算)。<br>核能是清洁度，而且是低碳的。<br>PART   5   能源组合<br>基荷电力，生态足迹，还要加上能源组合重的一个问题，我们需要同时做所有该做的事情，以最大程度地避免危机。第一个关于能源组合的全面论述来自工程师罗伯特•索科洛 （Robert Socolow )以 及 生 态 学 家 史 提 芬 •帕 卡 拉 （Stephen Pacala )。《科学》杂志在 2004 年刊登了他们的论文《气候稳定的楔子：利用现有技术来解决未来 50 年的气候问题》这篇论文介绍了如何利用一系列我们现在已经有的技术和实践方法来降低温室气体排放量，这些技术和实践方法被称做“气候稳定的楔子”。但文章指出，只有我们从昨天开始就努力地推行所有这些技术，我们才有可能达到目的。7 种可以降低碳排放量的方法提髙能源使用效率、推广可替代能源、停止砍伐森林以及翻耕式的农作、能源转换（从煤炭转换为天然气，石油转换为热泵等），以及使用核电。假如我们在未来 50 年内将现在全球范围内的 700 吉瓦的核电发电量翻 3 倍，就可以从现在开始每年减少 10 亿吨碳排放量，到这一阶段结束的时候减少 250 亿吨的碳排放量。（2008 年，全球碳排放量超过了 70 亿吨，并且还在飞速上升。假如我们将索科洛的碳排放量转换为二氧化碳排放量的话，也就是需要乘以 3.67,因 此 70 亿吨的碳就等干 257 亿吨的二氧化碳。）以这样快的速度来增加我们的核电发电能力，其实并没有什么了不起的。索科洛和帕卡拉的这篇论文指出，假如我们在全球范围内继续按从 1975 年到 1990 年间的速度增加核电站的话，再坚持做 50 年，那么我们就可以拿核电作为其中一个楔子。，就展现了索科洛这个图表的其中 6 个楔子，唯独核能被摒弃了。如此。你可以在最短的时间里以最低的费用获得最多的效果。正如艾默里•洛文斯几十年的实践所明证：节能不需花钱，还会生钱，在任何一个层级上都可以做，包括从个人到全球范围的规划。那些认为环保教育会带来经济损失的人已经被事实所否定了。欧洲人和加州人的人均能源消耗仅为美国人均能源消耗的一半，但他们活得好好的。20 世纪 70 年代的时候，力卩州州长杰里•布朗 （JerryBrown ) 启动了一系列的方案，以限制该州未来 30 年内能源消耗量保持在一定范围内，但加州的人均收入增长还是保持 80%的增速，而其他州的能源消耗景则上涨了一半。加州的人均温室气体排放量也仅为其他州人均排放量的一半。森菲尔德 （Arthur Rosenfdd ) 的物理学家经历了 1973 年的欧佩克石油禁运事件之后，决定转行去研究能源有效利用的问题。在他的游说下，加州开始推行 “技术强制”政 策 （对冰箱以及汽车的能源使用效率进行明确的限定）；对建筑物在热能有效利用方面也进行了规定；对太阳能板使用者给予赋税优惠；使得类似太平洋燃气及电力公司这样的公司会突然间产生了动力在其消费者中间推广能源保护的做法，而非新建更多的发电厂。我的很多朋友都深入参与其中。当我还是州长个人助理的时候，一 位 《地球目录》的朋友（休伊•约翰逊 ，Huey Johnson ) 就是当时的资源部部长，另一位朋 友 （宇航员瑞斯蒂•施维卡特， RustySchweickart ) 则是能源委员会主席，另有 两 位 [西 蒙 •范 •德 •茱 恩 （Sim Van derRyn )，以 及 彼 得 •卡 霍 普 （PeterCalthorpe ) ]则分别管理着州建筑师协会办公室，还有一位则操持着适用技术办公室。上任他就把工作重点放在气候变化上，并且做了几件有创意的事情。其中一个法案是要求加州的所有新项目都必须提交气候影响报告，作为其环境影响报告的一部分。另外一个法案则指出，最大的空气以及大气污染源是那些没有经过规范并且通过燃烧最劣质的燃油来运行的船只，亦称掩体。布朗就成立了一个由美国西海岸的一些律师组成的联盟，他们坚持要求《清洁空气法》要对西海岸地区生效，以使得轮船燃料转换到更为清洁的燃料系统上，例如转换为柴油电力驱动，并且要对他们排出来的废气进行处理 — 假如他们还想继续在西海岸做生意的话。）能源利用率方面期间，全球能源强度（即每单位 GDP 所消耗的能源量）降低 1 3 2 % (其屮 44%是在美国发生的），还有很大的降低空间。我们的建筑、汽车、基础设施、城市、农场、供电线、轮船、军队以及整个人类文明的架构 — 对于所有这些我们都可以下更多工夫，以使得其能源浪费降到最低。并不足以代替需要被关闭的火力发电厂，并且也不能通过这样的方式来为正在腾飞的中国、印度、非洲以及拉丁美洲带来电力。于是我们又回到基荷电力上来，我们的选择就是煤炭发电或核电。<br>能够提高效率但是还是满足不了需求，特别是在发展中国家，对能源的需求是随着发展而提高的。<br>PART   6   政府<br>府的角色。近些年来，环保人士大都放弃了政府，他们更乐意跟国际或本地非政府组织或商业组织或其他草根组织进行合作。但基础设施则是我们雇佣政府来处理的事情，特别是能源方面的基础设施，因为这个会涉及无尽的立法、契约、路权，约束、补贴、研究、政府与私营企业的合约以及细致的远见才能发生。能源政策就是如此大的规模、范围、速度以及需要耐心地跟进，唯有政府才能做到这一切。没有政府的介入，就不会有很好的电网系统。正是这些理由以及其他一些我即将讲到的理由，让很多著名的环保人士都变成了支持核电人士（出乎我的意料），有的非常热情地宣扬这一点，有的则勉强地偏向这个立场，有的对此作出了大力的倡导，有的只是私下里作出表态。我们是否能发现这个人群的某些特征以及为什么他们会转为支持核电呢？我想答案是肯定的。在盖娅理论本身也差不多成为了一种环保宗教。而洛夫洛克于 1957 年发明的电子捕获检测器则先是使得人们可以测算出杀虫剂用量，并引出了雷切尔•卡森 （Rachel Carson ) 革命性的《寂静的春天》，接着是引发人们去检测环境中的 PCB，再接着是导致科学家发现大气里的氟化物以及其对臭氧层空洞加剧的影响。自从 20 世纪 40 年代在医学研究上接触到放射性的同位素之后，洛夫洛克一生都支持核电。1985 年，当我第一次跟他见面的时候，他就向我宣传核电，虽然当时我不怎么相信。他于 2004 年给英国《独立报》 写了一篇后来常被引用的文章：但是有唯一种能源是不会导致全球变暖的，那就是核电……人们对核电的恐惧是因为看多了好莱坞风格的描写、来自环保分子的声音以及媒体的报道，这些恐惧是没有依据的，自从人们 1952 年幵始使用核电以来，它已经被证实是所有能源当中最为安全的……我也是环保人士，但我希望同样投身于环保运动的我的朋友放弃他们反核的错误立场。哪怕他们对核电危险性的担心是正确的 （事实不是），但假如核电可以在全球范围内作为主要能源得到应用，其带来的危害也是无足轻重的，但热浪的到来以及海平面上升（将淹没全球所有沿海城市）则会导致不可容忍和致命的后果。我们没有时间来对未来潜在的能源进行实验了 — 人类文明处于燃眉之急，我们必须使用核电 —它是唯一安全、现成的能源。现在就要开始行动，否则我们就会受到愤怒的地球的惩罚。国政府决定要增加 10 座新的核反应堆，来更换和添加到现有的 19 座核反应堆当中。这些核反应堆为英国提供了 20%的电力。他早在 1979 年的时候就组织了一个关于气候变化的会议。他提出了去碳化的观点，提到过去两百年里人类所使用的燃料所需的碳原子数量越来越少，从木头到煤炭到石油到天然气，一直到零碳的水电和核电。2007 年，他 在 《国际核管治、经济和生态》上发表了一篇论文，文章提到：“核电是绿色的，可再生能源不是绿色的。”他得出这一理论是基于生态足迹分析。他写道：“作为环保人士，我非常重视保护土地，把土地留给自然……假如我们看每立方米所产生的电力，核电相比于其他竞争对手有巨大的优势。”要提供 1 吉瓦的电力，假如是核电，需 要 150 平方千米的土地（58 平方英里）；假如是风电，则需要 770 平方 千 米 （298 平方英里），假如是用玉米来产生生物电，则需要 2500 平方千米（965 平方英里）。于 1977 年开始担任主席。他是一位加拿大人，而且获得了生态学博士学位。1986 年，他离开了绿色和平组织，并且宣传绿色和平组织以及整个环保运动都已经变成反科学组织了。不过他依然还是造林绿化的热情支持者，并且更是因为其支持核电的立场而受到关注，目前他是“清洁安全能源联盟”联合主席，该联盟由核能研究所发起，是一个美国民间进行政策游说的组织。<br>政府如何去说服民众去相信核能的安全性。<br>PART   7   没有大力推行核电的原因<br>国 “地球之友”的一个受托人，当他了解到气候变化带来的危害时，作为一位环保人士，他转而支持核电。但是，他被告知，假如他选择那样的立场，就不能继续担任“地球之友”的受托人。于是，他退出了“地球之友”，并且于 2004 年写了一篇文章：没有大力推行核电，乃是因为缺乏公众的支持，媒体少有相关报道，另外就是有环保组织在进行非常强势的抵制。其中大部分的反对声音其实并不能经受得起客观事实的推敲。《天气制造者》的作者，这本书被认为是关于气候变化的最好一本书之一。他在 2006 年给墨尔本的一份报纸写的专栏文章里如此写道：电厂。到那时，我们就可以拥有像法国那样的电力基础设施，而我们这么做的话，其实是为世界做了一件好事，因为任何本国的核电站所面临的危险都是本地的，而温室气体污染则可以给全球带来影响。些没有澳大利亚所具备的可再生能源的地方发展核电，而澳大利亚则可以将自身丰富的铀储备卖给这些市场，但澳大利亚本身不应该建核电站。能源以及环境方面的权威人物。他是核武器扩散方面的专家，哈佛环境政策教授，伍兹霍尔研究中心 （Woods Hole Research Center ) 主管，同时还跟保罗霍肯一起撰写环境政策方面的文章。他的这些资历使得他成为了国家能源政策委员会的联合主席，并且他还负责撰写该委员会于 2004 年发表的一篇报告，题为 《结束能源困局》该报告建议，政府要对新一代核反应堆建设增大支持，并且推动建设集中式的核废料“中期”存放地点 — 建议选在雅克山周边的公路旁边。在 接 受 《纽约时报》记者采访时，霍德伦说：“经常有人问我，‘我们不建核电站能够解决气候问题吗？ ’我会回答说：‘是的，不使用核电也能解决气候问题。’但是假如我们使用核电的话，问题解决起来会更简单。”溃》（ CW /叩 2004)的作者，他非常细致地读过霍德伦的报告，当他在旧金山一次演讲完了之后有观众向他提问是否赞成斯图尔特•布兰德关于复兴核电的看法时，他的回答使所有观众和我震惊，他说：“要解决我们面临的能源问题，我们需要一切我们能够利用的手段，包括核电。”对者，他于 2004 年的时候写了一本书，即 《长线危机》，他书中所描述的石油峰值的表现形态以及大城市的脆弱，我觉得说服力都不够，但很多环保人士却信以为真。但他们应当注意到的是，在 《石油以外》这一章结尾的时候，作者是这样总结的：“也许是否使用核电意味着，我们在未来还能见到今天我们所认识的人类文明还是其替代物。”他们的人数会增加。当他们表述要支持核电的时候，他们使用的话语是如此晦涩，以至于人们很难引用他们的话。戈尔就是其中一位。在一次国会听证会上，他说出了平时在公众场合他避而不谈的话，他说，他并不反对核电，并且估计未来核电还会增长。我的年长的老师保罗•埃里克则说，气候问题让他更加支持核电。《自然的终结》之作者比尔•麦吉本则给《拯救世界的电力 》 to—书写了一篇友好的书评，并且发表在《究竟》（化 心 他 ）杂志上。他写道：“环保人士需知道，时代和环境都在发生变化，环保人士需要重新考量什么是最值得优先做的事情。假如环保人士只是说核电有危险并且会带来后果是不够的，任何东西都会带来后果。”麦吉本说，他的看法跟 IPCC 的建议一致，即核电“在全球电力供应的比重应当从目前的 16%上升到 18%”。话 — 你看到什么模式？他们当中只有 1 个 人 （帕特里克•摩尔）是不对气候问题非常着迷的，他们当中只有 4 个人不是科学家（蒙蒂菲奥里、昆斯德勒、戈尔以及麦吉本）在我所接触到的所有对气候问题非常关切的人当中，他们关于核电的一般看法是，认为核电是“两害相权取其轻”，以及 “不应该放弃任何一个选择。“至于在科学家的圈子里呢，格温妮丝在她的书里写道，科学家支持核电的比例是很大的，一般的科学家里有 89%的人支持核电，能源科学家里有 95%支持核电，而放射科学家当中则 100%支持核电。（知道得最多的是害怕最少的。）<br>知道的最多的是害怕的最少的，正因为民众对核电不了解所以才会产生顾虑和反对。<br>PART   8   生育因素<br>辑 贾 森 •马 克 （Jason Mark ) 写了一篇文章，讲到关于环保运动领域里围绕核电的辩论。他的研究是在网络上进行的，他在 2007 年的一篇文章《核子分裂》(rhe Fission Division)里说：反核专业人士所共同倡导的反核政策在民间并没有引起很大的回响。我们看一些最热门的关于环保的网站，可以发现人们正在讨论核电带来的好处。例如，当网站 Grist . org 对读者提出“面临日益严重的气候变化带来的威胁，核电是否值得我们重新进行审视？”这个问题的时候，54 % 的回应者都给出肯定回答。而在网站 Treehugger . com 的一个调查则显示有 59%的读者会在有条件的情况下支持核电。锋。在一次在线讨论中，一 位 《地球正义》在线博客的读者写道：“我过去 30 年曾是坚定的反核人士 … 但是，过去两年里我改变了我的想法，现在，我支持在美国建设新一代核电厂。原因是气候变化已经变成一个巨大而且紧迫的问题，我认为我们必须接受核电作为相对不太罪恶的这个选择。”而当这一话题在网站 Worldchanging . com 出现的时候，支持核电与反核的读者比例则为 50 : 50。对于年轻的环保人士而言，冷战时代的核恐怖已经成为陈年往事，而切尔诺贝利也不是他们亲身经历过的事件。但气候变化所带来的威胁则是包围着他们的世界，还有不断加速的科技发展，他们所安享的正是这些。站在年轻人的角度来看，核电不过也是技术的一种，判断其优劣的标准是它是否管用，而不是像他们的前辈那样带有过时的眷恋。是绿色和平组织英国分部的主管）告诉英国《卫报》 说，他现在支持核电，并且他并不孤单：但关键一刻是当我得知西伯利亚的永久冰层开始大面枳融化并且释放出甲烷的时候，这对于全球来说都是一个相当严重的事件。这有点像突然间转变自己的信仰。但很长一段时间以来，环保就意味着要反核，但现在我跟很多环保人士聊天，他们都说，核电不是最佳选择，但它比气候变化要好。这样的观点是很多人的共识。安全性、成本、废料储存以及核扩散。这几样东西没有任何好的一面，只有程度不一的坏的一面，并且他们会将此认为是铁定不变的。假如核反应堆发生意外是可能的，那核电就不可行。假如发展核电所需成本很大，那么核电也不可行。如此种种。把事情绝对化是会带来很大影响的。一旦任何东西被看成是绝对的邪恶，那这就会成为一个预设；所有东西都会基于你这个预设而存在。组合以及政府层面的参与一一这些都是逻辑而不是问题。这些是相对的，而非绝对的，也就是说我们需要采取分析风险并且权衡利弊而作出判断的思维。并且，这些可以给我们带来积极的效果，使得我们可以将发展核电作为其中一个应对气候变化以及解决贫困问题的工具。为什么我们应当扩大核电的使用范围了。现在我看待安全、成本、废料处理以及核扩散的视角跟过去不一样了。我学会了不去相信我曾被很多环保同行所告知的东西，现在，我还学会了不去相信环保主义者说的那一套东西。我开始以工程师的视角去想这些问题，我把它们当成是设计的问题。我会去定义它们，以一种可以导向解决办法的方式来描述它们，解决那些难题，而一旦你找到了答案，就马上去行动。应堆在运作，它们为全球提供了 16%的电力，并且每年因为使用核电而非煤炭发电，我们还可以减少向大气中排放 30 亿吨的二氧化碳。这么多年来，核电行业尚未发生过重大的意外，并且从我们经历过的三次事故中吸取了深刻的教训，它们分別是 1957 年发生在英国的温德斯格尔核电站大火；1979 年发生在三里岛的核泄漏事故，以及 1986 年发生在切尔诺贝利的气体爆炸事故。毁性打击，人们为降低事故风险已经下了很多的工夫。因此，新的核电技术是相对比较安全的。”比尔•麦吉本则有另外的看法：“假如发生了意外，核电就是一个潜在的安全威胁。但煤炭发电则会带来肯定的破坏，假如我们还是按照一贯的办法燃煤发电，将会使得大气里充满可以导致地球变暖的温室气体。”们的恐惧，而这可以从理解恐惧是如何一回事开始。《今日心理学》Today ) 杂 志 上 有 一篇文章《我们判断失误的 10 种可能》 肠下面儿段文章中列出的原因就正好导致了人们闻核色变的心理：人们听到放射性这个词，就会想到核电、 X 射线，以及危险。因此我们很害怕别人要在我们居住区域周围修核电站。但我们每天都在接触放射性的东西，并且其致命的概率远高于核反应堆：那就是太阳光。它是如此熟悉和天然，以致于我们很难理解其中的危险。我们应当害怕的是害怕本身。虽然我们经历类似“9 • 11”那样的恐怖袭击，或因为感染埃博拉病毒而死的可能性极低，但是长期对这些事情抱有恐惧的心态就会带来慢性焦虑，其影响则是重大的。<br>观念是影响技术发展的一个关键因素。不同职业、不同年龄的人看待问题的角度不同。另外则是人类具有一定的恐惧心理。<br>PART   9   切尔诺贝利的真相<br>岛原子弹事件以及冷战，使得任何跟核相关的东西都被认为是绝对的邪恶，我们对核武器的反感也会影响到我们对核电的感受。因此，1984 年博帕尔发生了化学物品泄露事故之后得到的反响远远不及切尔诺贝利核电站事故所引发的反响强烈，虽然事实是，有 6000 人在博帕尔事故中死亡，而仅有 56 人在切尔诺贝利事故中死亡（其中 47 人是工人，9 人是孩子）。由于人们担心受到辐射会让婴儿出生时有生理缺陷，根据世界卫生组织的数据，事故之后，切尔诺贝利地区的夫妇有 25 万起堕胎个案。但是我们还没有看到任何婴儿出生有缺陷的报道，在广岛也没有。关于疾病，低度放射性专家约翰•郭夫曼 （John Goffman ) 称：“未来本地区直接因为这起事故而发生致命的癌症的个案将不低于 50 万例。”事实上，真正的发病人数比这一预测数字的 1%还低。中，因为患癌症而死亡的人数总计将高达 4000 人。”这 是 “切尔诺贝利论坛”于 2006 年发布的一份报告，这份报告有联合国 7 个职能部门参与调研。我们在这个网站上可以看到一份归纳的调研结果。60 万人里的 10 万人最终都会因为患癌症而死，哪怕切尔诺贝利事故从未发生。而每 100 个普通癌症病人当中，会有 4 个也许会因为接受了核电站的辐射而提早死亡。从统计学的角度来讲，这不是什么意外 —- 流行病学就根本无法检测到。真正的威胁是贫穷以及心理上的压力。“切尔诺贝利所带来的最大的公共卫生影响是对人们心理健康带来的影响。”说这话的是路易萨•温顿 （Luisa Vinton )，她是这个论坛的主席，这是她在 《生活在切尔诺贝利》这部电影里讲的一段话。“我们最终得出的结论是，人们对核辐射的恐惧反而是比核辐射本身对健康的威胁更大。”报告指出，切尔诺贝利周边地区现在最急需的就是经济发展。<br>人们经常对某些问题过于担忧从而反而影响的身体健康。<br>PART   10   隔离区成为生态区<br>非常矛盾的是，隔离区成为了一个独特的、保存了生态多样性的地区。”在 玛 丽 •米 西 奥 （Mary Mycio ) 所写的非常精彩的《巧恼的森林：切尔诺贝利自然史 》  这本书里，她写道：停止，伐木也被停止，耕作以及其他人类行为也被停止，使得这里成为了乌克兰全国在环境方面最为干净的一个地区 — 除了这里有放射性以外。成了一块让人欣喜并且有时候非常美丽的野生地带，这里到处都有海狸、狼、鹿和猞猁，还有像黑鹄和蓝山雀那样的罕见鸟类。欧洲仅存的天然大型动物，也成功地被引入到那里。1994 年，来自得州理工大学的两位生物学家，罗 纳 德 . 切 舍 （Ronald Chesser ) 以及罗伯特•巴克(Robert Baker ) 开始了为期 15 年的调査，旨在研究核辐射对隔离区动物的影响。在一个著名的名叫红色森林的辐射区（那里所有的松树都被辐射摧毁，但桦树则存活了下来），他们首先观察野生老鼠：过的辐射量，但所有的动物看上去都很正常，并且很多雌性的老鼠都怀有正常的老鼠胚胎。我们所测试过的所有动物都是这样 — 他们都含有高辐射量，但体态上是正常的。这是我们所获得的诸多惊人发现里的第一个。报告发表在 1996 年其中一期《自然》 杂志的封面故事上。文章刚发表，他们就获得了一个自动测序机，这不单没有改进他们的发现，反而是彻底地否定了他们之前的发现 — 田鼠并没有任何重要的基因改变。因为愤怒，他们决定要收回那篇《自然》杂志上的论文。罗伯特•巴克在他个人网站上总结道：“像农耕、畜牧、打猎，以及伐木这些人类行为的消失，为当地的动物带来了巨大的益处。可以说，世界最严重的核电站事故对当地动物的破坏性影响远远不及人类活动对动物的影响。即使是在核辐射最厉害的地方，野生动物都影响远远不及人类活动对动物的影响。”一个主要的历史地点。当 33 万人外迁而动物入驻之后，这里变成了欧洲最好的天然保留地。联合国发展规划署已经建议在那里搞生态旅游了。除了几个著名的热点以外（那里的辐射强度也在减弱），这里的辐射量已经降到可忽略的程度了。这里重新覆盖上了森林，而普里皮亚这座鬼城，曾经居住有 5 万人，它正是关于建筑设计失误的深刻教训 — 切尔诺贝利核反应堆当时是没有覆盖装置的。而反应堆旧址本身则成为了一座恢宏的纪念碑，只要最后的保护罩盖上之后，就可以长期放在这里，就像英国巨石阵一样。<br>隔离区的生态得以恢复，对动物的影响并没有想象中那么严重。<br>PART   11   癌症<br>论。其中一个是癌症。有医学背景并且早年也曾从医的詹姆斯•洛夫洛克于 2004 年的时候曾写道：“人们听说化学品或辐射从统计学角度看会引致癌症，因此焦虑不安。我们必须阻止这样的焦虑。我们当中有 1/3 的人最终会因为得癌症而死，因为我们呼吸的空气里都含有一种普遍存在的毒素，即氧气。”癌症研究专家以及企业家威廉•哈赛汀 （William Haseltine ) 则从另外一个角度阐述了这种不可避免性：“癌症是老年化的一种病。要预防癌症是非常困难的，因为它本质上是跟老年化的历程捆绑在一起的。”而预防癌症的最稳妥的办法就是传统的做法：早点死于别的病。发生在广岛的恐怖转化成为唯一我们可以影响的东西，那就是核电站本身，这个过程就像看到别人的疼痛也会感到疼痛一样。我们来比较一下其他基础设施的能源形式及其危险程度吧。汽油是非常容易爆炸的，在汽车事故以及其他地方，很容易就会因为爆炸而致使几千人死亡。天然气爆炸可以摧毁整座房子，它流动于脆弱的管道里，还通过像炸弹一样的油轮来运输。电网也是具有很强危险性的，并且它一直延伸到你家的灯具跟电源相接的地方，任何无意中碰到的人都会触电，并且还会引起无数的火灾。另外一个不切实际的替代品是氢，它具有强大的活性，可能干扰输气管工作，并且它还具有强烈的挥发性，因而它是最容易在输气过程中发生泄漏的气体，再有是它的燃点非常低，以至于手机也能使它燃烧，并且它燃烧的时候人们还无法看到它的火焰。另外一个被寄予希望的选择，是将火力发电厂排放的大量二氧化碳用管道输送到海底将其封存起来，但这样做就会为现有的输气管道带来一种新的危险气体。1986 年，在喀麦隆的尼斯湖里突然有一大团二氧化碳气体喷发出来，这些气体以每小时 20 英里的速度蔓延到下游的村落，致使远至 15 英里以外都有 1700 人和 3500 头牲畜窒息。矿井里的工人知道得很清楚，这样的气体又称为窒息性气体，一旦空气里二氧化碳浓度高于 15%的话，人马上就会死亡。但是还没有一个美国人因为核辐射而死亡，而核辐射只是核电的副产物的一种，我们却只是对此怀有恐惧感。应用于医疗领域的核辐射已经救治了无数的病人，并且这些病人所接受的核辐射量远远高于在核电行业所允许的核辐射量。<br>人们认为核辐射会使人换上癌症，但是其实是老化产生癌症。<br>PART   12   癌症<br>生什么影响。20 世纪 70 年代的时候，我主持的《共同进化季刊》曾发表过来自 海 伦 •卡 迪 科 特 （ HelenCaldicott ) 以 及 约 翰 •高 夫 曼 （ JohnGoffman ) 的关干此话题的文章，他们都对此表示担忧。直到后来我读到一个实验，该实验记录了分別接受少量核辐射以及完全没有接受核辐射的老鼠健康状况。他们发现，那些接受了核辐射的老鼠健康比没有接受辐射的老鼠要好，也就是说，核辐射反而给它们的健康带来好处。后来我就不再发表对核辐射的担忧了。说：“目前还没有定论，这就是我的看法。有两派观点，其中一派说，少量的辐射对人是有好处的，这一现象又称毒物兴奋效应。有越来越多的证据在支持这一观点。并且看上去很有趣。另外一派是说，少量的辐射反而更为危险。而其中让我感到吃惊的证据是，在某些地区，例如印度和伊朗，自然中的背景辐射是很强的。生活在那些地区的人，他们的人均寿命跟其他地区的一样。并没有证据显示强辐射会对他们带来影响。”核辐射都是有害的这一观点的做法，就是在没有任何背景辐射的地方做实验。正好有人提议在新墨西哥州的一个盐碱区 — 核废料隔离试验厂（简称 WIPP )所在地 — 建一个超低背景辐射的生物实验室来做这个研究。在盐碱地，离地面半英里深的地方，那里的背景辐射含量是地面的 1/10。通过对细胞、组织以及极容易患癌症的转基因老鼠进行实验，就能判断出关于少量辐射是否有害的说法孰对孰错。是不是任何辐射量都会带来危害？还是说有一个数值，低于该数值的辐射量是可以忽略的？假如是，这个数值是多少？或者，假如接受少量辐射反而会导致毒物兴奋效应的说法是正确的，什么是最合适的辐射量？还有，具体是什么机制使得损坏的 DNA 得以修复，使有害的部分得以清除，受损或致癌细胞如何得以修复，甚至产生其他的反应？ （毒物兴奋效应方面的一位专家 T •  D •拉基称，他发现每年接受 6000 毫雷姆的辐射是最有利于健康的辐射量。）认为接受任何程度的辐射都有害健康这样的观点假如是错误的话，那么我们可以知道美国在核废料处理上花费了大量不必要的钱，另外清理像雅克山那样的地质处置库所需要的天文数字的花费也会大大超出预算。环保局显然是相信了任何辐射量都是有害的这样的理论，并且因此勒令所有的核电站要确保住在附近的居民每年接受核辐射量不大于 15 毫雷姆。而这仅仅是照一次乳房 X 光辐射量的一半，美国本土背景辐射平均值的 1/5,是照儿次 CT 所接受的辐射的 1/66,以及一年里每天吸 1.5 支烟的烟民所接受辐射最的 1/80。生活在伊朗拉姆萨尔的人们，他们当地的背景辐射每年为 13000 毫雷姆，却没有明显的对健康产生影响。宇航员每次太空舱作业允许接受最多 25000 毫雷姆的辐射量。切尔诺贝利所发现的那样：“人们对核辐射的恐惧本身所带来的健康危害远远大于核辐射所带来的健康危害。”切尔诺贝利所带给我们的教训是双面的：一方面，我们要学会小心，另一方面，我们也要学会不要随便对什么东西都恐惧。<br>人们对核辐射的恐惧本身所带来的健康危害远远大于核辐射所带来的健康危害。<br>PART   13   发展核电的成本高<br>发展核电的成本高得力子一个人的辛苦努力。他就是艾默里•洛文斯（ AmoryLovins )，洛基山研究所的创办人和主管。他过去 30 年一直在以各种方式讲述发展核电所需巨额资金，他的指责也带来了可怕的效果。洛文斯是我的一位老朋友，也曾是我的同事。我 曾 在 《共同进化季刊》中介绍过他关于能源有效利用的观点，并且称赞过他写的书。在黑客大会( Hacker’s Conference ) 上，我还看到他讲传统汽车如何花大部分的能釐来使得汽车本身得以启动，以及他所设计的超级汽车如何高效利用能源，以及这些节约下来的能源如何转变世界能源经济，这个讲述让在场的那些不容易被说服的观众都叹为观止。在他的很多文章和演讲里，他话语犀利，足以媲美于口齿伶俐的经济学家凯恩斯。在接受一次采访时，他随便说道：“假如你能够建设一个高效的、多元的、分散的、可再生的能源系统，那么那些重大的失误 — 不管是因为意外还是因为恶意 — 都会从设计上使其变得不可能，而非因为设计而使其不可避免。”斗争”）的逻辑是这样的：私人资本是考量哪一种能源形态最优的最为客观的判断者以及明证。而在这一领域，核电总是输家，而微电力总是赢家。因此，我们看到全球范围内微电力正在蓬勃发展而核电发展则被搁置。所谓微电力，洛文斯指的是高效、热电联产（ cogeneration ，也称做 CHP : 热能与电力结合）、小型水电站以及像风能、太阳能、生物炭以及地热这样的可再生能源。“最廉价、最可靠的电力通常都是在靠近消费者的地方生产的。”在洛文斯看来，政府因为气候变化而对核电发展提供补助会适得其反，因为这会让对微电力的部分投资转向其他领域，而微电力相比之下可以更快更低成本的部署，对于抵抗气候变化也更有作用。“在全球所有的核电项目中，没有一丁点的私人资本会感受到风险。”说：“未来不会有核电站。人们不会再去新建核电站了。问题在于现在已经在运行的那些核电站未来是否会继续运行直到其生命周期结束，还是远没有到那个时候就已经被关闭了。” 2007 年，洛文斯在一个辩论会上说：“尽管从业人士看法相反，但核电正在因为受到了来自市场的不可药救的打击而走向死亡。”<br>最廉价、最可靠的电力通常都是在靠近消费者的地方生产的<br>PART   14   各国的核电站<br>有 31 座核反应堆正在修建。在美国，核电管理委员会正准备批准 17 座新的核电厂项目申请（到 2009 年仍未批复），而加拿大则准备在阿尔伯塔以及新不伦瑞 克 省 （这里的核电站发的电有部分将卖给缅因州，后者于 1997 年把该州唯一的核电站关闭了）建新的核反应堆。在欧洲，许多国家相继改变他们在核电上的政策。绿色芬兰开始建设一座巨大的可以发电 1.6 吉瓦的核电站。绿色德国则低调地决定要让该国目前的 17 座核电站保持运行，而不是如之前所说那样关闭它们。绿色瑞典也是同样的做法，并且他们还对核电站进行了扩容。绿色比利时有 7 座核电站，他们也决定这么做。意大利于 1987 年关闭了该国的 4 座核电站，主要是受到切尔诺贝利事件影响，之前他们就成为了能源进口国，主要是从靠核能发电的法国进口；但意大利也于 2007 年开始一项计划，要新建 4 座核电站。在 戈 登 •布 朗 （Gordon Brown ) 的工党领导下的英国则决定要对原有的 19 座核电站进行升级，同时新建一座核电站。爱尔兰、挪威和波兰则准备开始建设他们的第一座核电站。法国目前有 80%的电力都是核电，他们已经开始建设新的核反应堆并且正在扩大其总体核发电能力，以及通过一个市值 70 亿美元、名为阿海珐（ AREVA ，法国能源公司）的国营机构为全球市场提供电力。俄罗斯也走上了类似的道路，准备使其国内的核反应堆数量翻番，目前他们有 32 个核反应堆，同时也通过一个市值 80 亿的名为原子能公司( Atomenergoprom ) 的国营公司把多余的电力卖给国际市场。亚、摩洛哥、南非、阿尔及利亚、巴西、智利以及阿根廷”，这 是 《纽约时报》一篇文章说的。同一篇文章还提到：“西方的投资者，包括像花旗银行那样的大牌，都看中了俄罗斯的核电市场。”正在新建第一座核电站的国家包括阿尔巴尼亚、白俄罗斯、土耳其、伊朗、阿 联 酋 （他们有两个 1.6 吉瓦的核反应堆在建设中）、缅甸、泰国、越南以及孟加拉。正在考虑建设核电站的国家和地区包括叙利亚、以色列、约旦、沙特阿拉伯、巴林、科威特、阿曼、卡塔尔、阿尔及利亚、加纳、尼日利亚、哈萨克斯坦、印尼以及菲律宾。而对本地已有的核电站进行扩容的则包括乌克兰、匈牙利、保加利亚、阿米尼亚、阿根廷、墨西哥、巴西、南非、巴基斯坦、韩国以及中国台湾。（可以在维基百科的“核能源政策”这一条目上跟进这些国家和地区的进展。）容至 30 吉瓦。中国从西屋电气公司购买了两座核反应堆，并且与阿海珐签署了价值 120 亿美元的协议 — 据说这是行业历史上最大的一宗交易。中国计划到 2020 年的时候，将本国核发电能力提高到 70 吉瓦。目前中国拥有 11 座正在运行中的核反应堆，有 5 座核电站正在建设中，有 30 座核电站正在规划中，还有 86 座核电站尚待批复。日本，是继美国、法国之后，全球第三大核电国家行的核反应堆，并且计划到 2017 年要新增 11 座。日本政府计划将核电占能源比例，从目前的 30%上升到 60%。市场范围内依然是保持着过去几十年的衰落趋势，因为它总体上没有竞争力，没有人需要它，它已经是过时的东西了。”此彻底？我们发现，洛文斯关于核电在经济上不划算的论证仅仅在他自己所定义的非常狭隘的商业边界内才是有效的。但这一看法已经越来越不符合现实了，并且他主要是针对美国作出那样的结论的。他的论证对于那些政府主导的国家，例如法国、日本以及大多数发展中国家，特别是中国和印度，是不成立的。假如那些国家的政府需要核电，他们就会建设核电站。更为重要的是，气候变化的加剧改变了所有人关于成本以及风险的看法。<br>各个国家都在兴建核电站。<br>PART   15   煤炭太便宜<br>场上煤炭成为了主要的能源来源 — 全球有 40%的能源都是来自煤炭的（20%来自天然气、16%来自核电、16%来自水电、6 % 来自石油、2 % 来自可再生能源）。假如只是市场规律在发挥作用，煤炭依然会占主导，而世界也会走向崩溃而一旦意识到这一点，就使得哪怕是像英国和美国这样深度资本主义化的国家的政府也开始有所行动。依靠政府的力量，可以把煤炭的价钱提高 — 例如通过碳税、碳排放量限额与交易市场，碳获取和碳封存方面的要求，还有政府强制规定。而随着煤炭价格上涨，要满足基荷电力供应，核电就会慢慢成为一个在成本上值得考虑的替代品。（随着煤炭价格升高，风电、水电、热电联产、太阳能以及地热都会变得更为现实。）而天然气发电厂的命运，包括热电联产，就会依赖于本地天然气的价格，这个在大多数地方都是在飞速上涨。没有任何一个曾依赖于俄罗斯获得天然气的国家会希望保持这样的趋势，因为这很容易会变成一种政治武器。样一一例如要修水坝以及建大型的风力发电厂一 -发展核电需要大量的前期资本投入，但一旦设施建设好之后，其运营的成本相对于煤炭以及天然气而言是很低的，只占核电站整个生命周期成本的 1/4 到 1/3。风电也是需要大量基础设施投入的，并且也发展迅速 — 2007 年，全球风力发电总景为 94 吉 瓦 （核电为 365 吉瓦，煤炭为 1393 吉瓦）。而扩展风电则一直都是意味着扩展长线输电线。丹麦和德国是欧洲走在前列的风电国家，它们在新建风力发电站时都遇到了障碍，主要是建设成本上升以及缺乏合适的地点。有些人会认为大片的风力发电机组是一种对自然的冒犯（让我想到了洛夫洛克以及年轻的罗伯特•肯尼迪），但我个人觉得风车是很刺激的。可惜的是，风力发电面临着间断性问题，只有 20%是有效电力（例如 94 吉瓦里就有 4/5 是流失的），而今日的核电站则可以达到 90%的电力有效利用。另外，目前还没有什么存储方法可以使得风电成为基荷电力。（一些正在开发中的大规模电力存储工具包括飞轮，热液体、压缩空气、更好的电池或分布于常见的即插即用混合电力汽车里的电池。）很多鸟类爱好者认为风车对飞鸟有影响因而反对风电保方面的杂志《高地新闻》 列出 1”下面这些数据，而不给予评论：“在美国每年导致鸟类意外死亡的原因数据如下：风车，28500 起；房屋，5.5 亿起；电线，1.3 亿起，猫，1 亿起，汽车，8000 万起；杀虫剂，6700 万起。”<br>核电其实不贵，只是煤炭卖的太便宜了。<br>PART   16   太阳能<br>太阳能目前在全球的能源供应系统里还只是个小配角有 10 吉瓦的电力是通过太阳能来供应的，但太阳能电力的实际可利用率仅为 14%，因此只有 1.4 吉瓦是可以使用的，这一数值比一个大型核反应堆提供的电还要小。我对于 20 世纪 70 年代太阳能发电的热潮记忆犹新，而里根上台之后就取消了卡特总统颁布的太阳能税收抵免政策，太阳能电力的热潮由此大减。在 2007 年的太阳能大会 （Solar Power Conference ) 上，我有一个难得的机会在 12500 名 观 众 （这一数值是 2006 年的两倍）面前采访特德•特纳 （Ted Turner )。他们当中包括一些老派的太阳能电力的支持者，如 约 翰 •谢 弗 （John Schaeffer )，他 创 办 《好东西》（/? ea / Go ⑶ k ) 邮购目录，这一目录从 1978 年以来已经让数千人摆脱了电网的束缚。在会场上，我们周围都是穿着西装的人，他们当中大多数人看上去都想拯救世界，同时也从这一科技中赚取巨大的财富，因为他们认为这一科技迟早会得到很大的补贴。这就是他们愿意听又有钱又支持环保的特纳的理由。特纳说着说着就偏离了话题，谈到了伊拉克战争，并且提到敌人对士兵的激励是，假如他们死了，他们可以获得 40 位处女。特纳说笑道：“假如我们在太阳能方面也有类似的激励机制，我们就已经获得成功了。”（我忍不住也问他关于核电的看法，他说：“我情愿有一座核电站而不是一座煤炭发电站。”）太阳能发电，并且还不断有新的材料和新的配置一 -纳米化以及集中化。也许未来还会有能够产生电力的太阳能涂漆。目前最为有效的就是集中的太阳能集热器 （solar thermal ) , 也就是汇集起来的太阳光会给液体加热，水流而后带动涡轮机旋转，其中一部分热气会被储存到流体汇集器里，这样当乌云遮住太阳或晚间的时候也一样可以供电。假以足够多的创新，未来几十年积累下来，太阳能会而且应当成为未来主要的能源形式。让那一天更早到来吧。另外，财务管理公司联博基金（ AllianceBemstein ) 则称：“太阳能产业最近因为政策而获得了惊人的发展……我们认为这里的投机倾向已经泡沫化了，特別是这个行业的基础设施都有赖于政府的补贴以及政治上的支持。”我的妻子瑞安和我两个人用的是太阳能电力，我们不需要什么激励。我们 26 年来都是靠我们的拖船顶上的太阳能板获得电力并储存在电瓶里的。我们正在恢复的橡树草原圈养牲畜的电篱笆，就是靠太阳能供电的；篱笆的自动门也是靠太阳能供电的。最好的一个是我们的太阳能加热的游泳池。一年当中有 7 个月我们可以让水池的水温上升到 80 华氏度，而无需使用丙烷。在夏天，太阳能板则可以在夜里将多余的热量反射到空中。太阳能发电对于家庭使用是很适合的，但是风力发电就不行。风力发电可以作为一种基础设施来部署，而截至目前为止，太阳能还不能这么做。<br>太阳能发电有很大的开发空间。<br>PART   17   核电获得了过多的补贴<br>核电获得了过多的补贴，这样的电力在市场环境下是不能有竞争力的，并且还从太阳能本该获得的补贴里偷走了一部分。这也是洛文斯的主张。2007 年的一份调査比较了美国政府在过去 50 年间的能源发展的驱动力，并且着重着眼于 1994 到 2003 年 这 10 年。被调査的驱动力包括直接补贴、研究、税收减免、管制、政府服务，以及市场干预。这个调查的结论包括：的，石油行业获得了几近一半的政府补助 … 人们因为可持续能源在价格上竞争不过传统能源而不去使用它们是错误的……煤炭以及核电都没有获得足够的经费支持，而太阳能技术，如光伏技术、光热技术以及风电则获得了充足的经费支持。及罗伯特•  M •温 德 灵 （Rorbert M .  Wendling ) 写 的 《半个世纪的美国联邦政府能源发展驱动力分析：价值、分布以及政策影响》States Federal Government Energy Incentives: Value, Distribution, and Policy 这篇文章里看到，文章发表在 2007 年总第 27 卷 的 《全球能源议题 )）(International Journal of Global Energy Issues ) 杂志 Al ，低这一调査则遗漏了很多在州政府层面对再生能源的补贴的分析。洁净煤技术被认为是可以充当核电的替代品源，但前提是我们已经部署了碳捕捉与封存的技术。而直到 2009 年，还没有一 个试验的发电厂是利用这样的技术，虽然中国正在进行这方面的研发。哪怕是业界的碳捕捉与封存技术的支持者也不认为这项技术可以在 2030 年之前进行首次商用推广，或者说在 2050 年之前实现大规模的使用。这项技术要处理的二氧化碳总量是巨大的。一个 1 吉瓦的火力发电厂每天要燃烧 80 节火车车厢所装载的煤炭数量，并且上面的每一节火车要装满 100 吨的煤炭。燃烧后生成的二氧化碳之重量是媒体本身的 2.4 倍，因此这样一家工厂每天将会排放出 19000 吨的二氧化碳，每年累计下来就是 700 万吨。这些二氧化碳需要经过分离、压缩成液体，并且输送到一个合适的地点，而后将其放到地底下 1 英里深的地方，并且永久封存起来。希望他们在发展中国家可以碰上好运气做这样的实验吧 。 一 位名叫安德斯•汉森 （Anders Hansson ) 的瑞典人作了一个计算，他计算了需要多少的二氧化碳才能带来真正的改变。结论是，一旦这样的技术得以施行，二氧化碳将会成为地球上被运输的最大的货物。《华盛顿邮报》的漫画作者汤姆•托雷斯 （Tom Toles ) 则指出，最好的实现碳封存的办法就是把煤留在地底，不去挖出来使用。有太多铀元素了。”事实并非如此，并且假使真是如此也并不会有影响。现在已知的铀矿含量可以足够按照目前的使用量继续使用 100 年。而随着铀矿价格的升高，也使得人们开始去寻找新的可能，并且在各地都已经有新的铀矿被发现。而价格上升也使得越来越多人去对已经用过的铀燃料进行再处理，这样就使得铀矿的使用率得以提升好几倍。最有可能替代铀的是钍，后者在地表的含量是前者的 3 倍，并且不会溶解，也不能用做武器，产生的废料也非常少。另外，新一代的核反应堆已经变得越来越高效，快中子增殖反应堆可以生产出的燃料比其消耗的还要多。稍后我会详细讲这一新型的设计。<br>人们普遍认为石油行业获得了来自联邦政府最大的补贴，这是准确的，石油行业获得了几近一半的政府补助。<br>PART   18  金钱问题<br>会去找环保人士，因为人们知道我们不大了解金钱，并且我们也不怎么在乎金钱。我们的任务是保护自然环境，而不是纳税。我们非常高兴地要求人们提交环境影响评估报告，这会带来相当大的一笔费用还会给工程带来延误，我们呼吁拯救濒危动物也没有考虑到成本分析。一只秃鹰值多少钱？別问我们了。有时候我们会发明出一些有用的经济学的工具，例 如 “外债换自然”，并且我们很多的组织在财务上也运转得很好。但金钱方面的问题更多还是被环保人士当做一种武器来使用 。 一 位行动分子在《猎户座》 杂志上写道：曼 •卡 恩 （Herman Kahn ) 讲到 20 世纪 70 年代围绕着跨阿拉斯加输油管道事件的斗争时，他是这么说的：“环保人士起初是抱怨这个管道设计得如何不好，他们也是对的。管道本身的确有问题。但当这些问题解决之后，环保人士就把所有精力都放在暂缓这一项目以及其他增加项目成本的枝节上。他们最终的结论是，管道不该建设，因为它太贵了。这就像一个小孩杀死了自己的父母而后向法院求情，因为他成为了孤儿。”护方面的成本分析是相当精彩的。他领导的洛基山研究所每年为企业以及军事部门提供咨询所获得的利润就高达 900 万，这一方面让他的这些客户可以节省能源，另一方面也是对环境有好处的。但当他把这一本领应用到核电上来的时候，我觉得他对私人领域的偏见阻碍了他的想法。他说：“我仰慕那些试图改变公共政策的人，但我自己不会花很多时间来做这件事。在商业、公民社会以及政府这三足鼎立的世界里，你为啥要花时间去攻克最没有效率的一足？”单靠市场不能限制温室气体排放。政府必须成为主导。政府认为大气需要什么，将会成为能源经济的主要推动力。<br>政府需要主导市场去解决环境问题。<br>PART   19   核废料隔离处置试验场<br>上没有任何一个正在运作的地质处置库。”是放射性物质。它的名字叫核废料隔离处置试验场（英文简称是 WIPP )，位于新墨西哥州，当初得以通过安全性评估，也 是 得 力 于 瑞 普 •安 德 森 （Rip Anderson )，他是桑迪亚实验室 （Sandia Lab ) 的科学家，正是他带着格温妮丝走进了核电的世界。由于政治上的考量， WIPP 只接受来自美国军事部门的核废料 （包括低浓度以及高浓度的）。而民用核电站的废料则被送到雅克山去。详细看过了各种处置库之后，安德森说：佳的一个地方就是 WIPP 。我们已经从任何你能想象得到的方面去证明这一点了。我们的研究都是可以寻找到路径并且过程是透明的。从地质上以及水力上来看，这里是最为安全的。这里有足够的空间，并且我们在有需要的时候可以随时从盐床里挖出更多的面板。只是政治以及官僚在阻碍着事情的进展。WIPP 处于盐碱地，而雅克山是一个军事保护区里的一个沙漠边脊，但这不是为何其中一个可以运作而另外一个不可运作的理由。新墨西哥州对于核电是熟悉的，因为那里的洛斯阿拉莫斯国家实验室和桑迪亚国家实验室很久以来就是担任着设计和建造核武器的任务。而内华达州则是测试核弹的地方。内华达州居民未曾停止过与政府的抗争，而政府则控制着当地 86%的土地。要在内华达放核废料？ “不行！见鬼去！把垃圾扔到别的地方吧！ ”反核环保人士则会重申这样的立场，并且会从给交通带来的危险、没有对地下水进行充分的测试、热能对岩石的影响、不可预知未来 1 万年会发生什么等方面来展开论述。建设这样一个地方需要金钱，并且我们需要这个地方就跟我们需要监禁危险的外星人一样紧要。我们必须停止生活在一个科幻的世界里了。在真实的世界里，英国和法国的 40 年核工业所产生的废料都是存放在玻璃瓶里，而后放到不锈钢的容器里，埋在地下几米深的地方。珊迪和我就曾站在位于诺曼底海牙的高浓度核废料存放地地面上。我手上的检测器测出的輻射指数仅为每小时 0.25 微西弗，这比任何一座长途飞行的飞机上的辐射指数都要低 20 倍。在芬兰的尤拉左基（ Eurajoki )，人们在建设一个深层地质处置库来存放高浓度核废料。这一项目获得了欢迎，因为当地人已经对核电习以为常了。他们居住的地方过去 30 年都是使用核电的。这一存储仓库估计在 2010 年可以投入使用。另外，芬兰的邻邦俄罗斯则希望成为全球核燃料的处理者 — 包括采矿、处理、运输、再处理以及废料的存放。常有效的，以至于新的方法都是以此为基础设计出来的。现在美国的核废料会首先被冷却儿年时间，而后是将其存放在干的存储箱里，放在车库后面。至少对于全美 39 个州的 121 个核反应堆都是这样处理的。因为所有这些存储箱都是会被运到其他地方的，现在立法规定，它们要被运到一些监管更为严密的中期存放地点，这些核废料未来几十年就会存放在那里，与此同时，美国政府将会决定是否要重新回收利用这些废料或者是直接将其掩埋。因此美国将会采取跟加拿大一样的“适应式分期管理”的方案。在我看来，由此而浮现出来的规则是.• 短期规划，留出足够的选择空间；短期内的行动要保证未来可以有最大的选择空间。美国那些使用核电的消费者多年来已经在为长久的核废料处理埋单了。他们总共已经支付了 280 亿美元的费用，剩下需要解决的就是政治方面的问题。<br>核废料的处理其实是有规划的，同时也是能够保障一定用户利益的。<br>PART   20   核废料都得到处理<br>重新处理用过的核燃料是合理的做法料”的东西依然保留着 95%的能量。假如美国现在所有的那些核废料都得到处理的话，我们整个核电工业将可以仅靠这些废料运行 7 年。核废料经过再处理后，其中不可再次利用的仅仅是其中很少一部分，有人说是 1/4,有人说是 1/10,并且带有辐射性的物质也不会长期保持危险。因为可以用做武器的钚元素可以用现行的这套核废料处理技术获得，福特以及卡特政府就宣布要关闭那些核废料再处理设施并且期望其他国家也可以效仿。但结果并非如他们所想。他们都有对核废料重新处理的方案。现在，即使是美国本身也开始在爱达荷州、新墨西哥州以及南卡罗来纳州修建相应的核废料处理厂。篇关于法国如何对核废料进行再处理的文章则引起了我的再思考。位于海牙的处理厂每年可以处理 1700 吨的核废料，并且那里的安全记录非常好。但是即使是在法国，这样一个基本依赖于核能来供应电力的国家，由于对核废料进行再处理代价高昂，只有在铀的价格很高的情况下，或者是他们要开发快速增殖反应堆的时候，核废料再处理才会在经济上比较划算。虽然经过处理后最后残留下来的那些废料的寿命相对比较短，但是它们更热，并且比起那些第一次产生的核废料更为难以处理。在白宫的 8 年时间里，我们所面临的每一个武器扩散的问题都跟民用反应堆项目有关，而假如我们某一天要利用核反应堆来取代煤炭以生产电力，我们就需要将这些核反应堆放在很多地方，这样的话就会使得核扩散的风险高于任何我们所能承受的范围。并且我们也将会用光所有的铀，除非用过的铀被放入增殖反应堆或者类似的过程，但这样就会增大这些材料被发展为武器的可能性。现在的核废料处理技术会产生钚元素以及浓缩铀，这些都是建造核弹的必要材料。不过我们可以找到一些政治上以及技术上绕过这个问题的办法。<br>处理核废料要考虑经济成本的因素。<br>PART   21   核弹头转化为核燃料<br>发展核电比其他任何做法对于销毁现有的核武器所作的贡献都要大。“百万吨级到兆瓦 ”（Megatons to Megawatts ) 就是一个美苏联合项目，旨在把核弹头变为核燃料。项目始于 1994 年，现在，美国有 10%的电力就是来源于俄罗斯的导弹和核弹。项目的目标是到 2013 年，将 2 万个核弹头转化为核燃料。这些燃料足够整个美国的核电行业使用两年。其中包含了两个过程，其一是把武器用的高浓度铀（9 5 % ) 降级为适合核反应堆使用的低浓度铀(5%)。另外一个是把钚转化为一种混合氧化物，后者可以作为燃料使用。未来几年，美国将幵始把自身的核武器进行类似的转化，具体将在田纳西州以及南卡罗来纳州进行。这个如此惊人的项目进展到现在还没有多少媒体关注，公众则没有任何的强烈反响。[弗 里 曼 •戴 森 （Freeman Dyson ) 告诉我说这是好事：消除核武器的重要动作假如不被报道反而总能做得更好克松总统让美国消灭生物武器，以及老布什让美国去除战略核武器的努力。这两次解除核武都是默默地进行，也就不会变成政治事件。”]没有其他武器在瓦解之后还能创造出如此重大的民用价值治圈内部，要求最终解除全球所有核武器的呼声也许可以从这里获得更多的动力。的核电就意味着更多核武器。就这么简单。”这种话有些过于武断。全球范围内的核电复兴需要在核技能、核装备以及核材料方面的极大扩展，需要一个完整的核电经济体系。而核武器在这样一种趋势下也会悄悄地发展，不是吗？很多人批评这种从能源到武器的发展方向，其中最集中的一个观点是历史上从没有这么出现过。以色列、印度、南非，以及朝鲜都是以发展核电的名义，秘密发展核武器。在现今正在使用核电的 31 个国家里，只有 7 个是有核武器的 （美国、俄罗斯、英国、法国、中国、印度以及巴基斯坦），并且它们没有核电站（虽然他们都有正在建设中的核电站项目）。果，主要原因是这方面的国际合作是包容和密切的。即使某一届美国政府干得特别坏，但每一个国家都不希望核武器落入非政府人士的手中。约翰•罗布(John Robb ) 对核武器恐怖主义进行了详细的分析，他的博客名为“全球游击队”，他还写了《勇敢的新战争》 2007)这本书：虽然人们最担心的大规模杀伤性武器是核武器，但长期来说，它并不是真正的威胁。制造核武所需的基本材料，就需要一个国家级别的生产能力才能创造出来，而这些材料又是很难改造、运输和转化为核武器的。即使是从黑市上买回来一些部件，也不容易组装出核武器。假如真的很容易组装，那像伊朗那样的国家，他们所能支配的资源远远多于任何一个恐怖组织，他们自己就可以组装而不是去作自主研发了。誉是跟核武器的生产紧密联系在一起的。将此资源与恐怖分子分享，就会给超出一个国家所能掌控的一些组织极大的权力 — 就有如把总统官邸的钥匙送给本•拉登一样。次性的灾难，而不是持续性的威胁。而通过传统的方式去散布放射性炸弹也是同样的道理。不，真正威胁是来自由小团体所策动的、基于生物技术制造出来的大规模杀伤性武器。与核技术不一样的是，生物科技的知识以及工具已经分散到全球各地了，而其可以产生的力量则正在呈现指数性的增长。是否对核武器有渴望，但他们确实是需要核电的，并且这可以让世界有谈判的筹码去监督伊朗如何使用核科技。）<br>对于减少战争方面有好处。<br>PART   22   国际能源银行<br>罗一切的战略 — 发展一个国际能源银行。这一银行的目的是紧密监控世界市场上核燃料以及核废料的动态，以防止任何非法的浓缩铀或重新处理核废料的行为。核燃料以及核废料本身是没有爆炸能力的，因为它们浓度太低了。很多国家实际上会愿意把核燃料的再处理外包给別人，因为这样的操作非常昂贵而且不易控制，假如他们可以把自己国家的核废料通过他国的资源或者服务来处理的话，对于这些国家来说会是大大地松了一口气。而作为国家，只需从一些可信的国际机构那里租借核反应堆所需的核燃料，就像送牛奶的工人送来牛奶同时拿走牛奶瓶一样。政府的一个福荫后人的政绩。这一项目于 2006 年提出，当时受到了反核组织的痛骂，也受到了美国国家科学院的批评。但是很快有 18 个国家参与到合作项目当中，包括法国、日本、加拿大以及英国，它还获得了国际原子能机构的支持，这对于项目监管是极其重要的。 GNEP 的一部分是要开发出新的防扩散的再处理技术，以及新的核反应堆设计，例如像钠冷快堆那样的技术，它可以自己生产出自己需要的燃料，减少核燃料的运输，同时减少用过的核燃料的量和降低用过的核燃料的寿命。不管 GNEP 是否会成功，它不过是多个已经被提出并且获得了资金的国际间核燃料循环利用项目当中最有野心的一个。这些项目当中的一个或者多个组合到 21 世纪 10 年代的时候将会投入使用。奥巴马总统也于 2009 年在布拉格向全球的观众宣布了他对核燃料银行项目的支持。<br>核燃料银行能够有效的利用能源。<br>PART   23   核电站建设授权流程<br>所布电力，其中一个原因是该国有一个有效的核电站建设授权流程，只需 4 年审批时间，而不是像美国需要 12 年之久。因此，法国的空气在欧洲是最清新的，法国的电费在欧洲范围内是最便宜的，并且他们还有每年 40 亿的收入，将多余的能源卖给邻国，包括绿色德国以及同样拥有核电的英国（每年有 2 吉瓦的电力通过英吉利海峡往西输送到英国）。法国于 2004 年关闭了该国最后一座火力发电站。与美国相比，法国的人均二氧化碳排放量要少 70%。美国也学到了东西。美国核能管理委员会也采取了法国的做法，对核电站的设计进行标准化并且采取了一个逐渐在中国台湾、日本、韩国兴起的审批程序。核反应堆制造商可以让他们的设计得到预通过。来自西屋电气公司的一座下一代反应堆已经获得了通过，另外两个分別来自法国能源公司（简称 AREVA ) 以及美国通用电气公司，反应堆选址则正在审批过程中。很多核反应堆选址已经存在了，这是 20 世纪 70 年代核繁荣遗留的产物 。 一 旦要修建一个核电站，就只需申请一个建造以及运营的执照，而核能管理委员会则有 3 年的时间来作批复，是通过还是驳回申请。拿到数据，聆听各种批评声音（包括来自环保人士的声音），作出调整，作出决定，而后就开始。有了标准化的设计和标准化的零部件，大型核发电站应该可以在 4 年时间里建好。到其他跟温室气体排放相关的领域，包括可再生能源技术、交通、农业以及城市设计。其中对风能、太阳能、地热、生物燃料、海浪发电、潮汐发电、洁净煤、能源有效利用与保护以及核电都有鼓励措施。《经济学人》杂志对此进行了槪括：其一，最先获得建设许可的 6 座核反应堆，以及开始动工的核反应堆可以获得最多为 20 亿美元的保险，以应付常规的拖延以及法律诉讼。其二，它延伸了旧时的一个法案，并规定在发生核事故的情况下，核电厂最高承担的责任不超出 100 亿美元的范围。其三，新建的核反应堆所发出的第一个 6000 兆瓦的电力，可以获得 1.8%的税收减免。其四，也是最为重要的，这一法案将提供数额未定的贷款支持新的核反应堆以及其他使用“创新”技术的发电厂。目前正在修建的被称为第三代，因为它们有更好的内置安全设施以及更优的效率)的研究预留了资金。第四代核反应堆到 21 世纪 30 年代才会投入商业使用，它从设计上就追求最大的可持续性，建设以及运行成本会降低，超高的燃料利用率，废料将大大降低，而且放射性周期会变得更短，还有可以产生氢气或为海水去盐化的高温。最终目标是永久地解决现在的核反应堆所面临的四大问题：安全性、成本、废料以及核扩散。由 10 个国家组成的联盟以及欧盟正在开展这一研究。当中，划出一部分的资金用于第四代核反应堆的研发，并且由此加快研发的速度。“这一基金应当是用于开发可以快速消化核废料的反应堆以及钍反应堆，以此避免产生新的长期滞留在那里的核废料。”他所提及的这种反应堆是积分快堆，他说，它 们 “可以燃烧现成的核废料，以及多余的武器用的铀和钚，并且过程中还可以发电”。还有是液态氟化钍反应堆。汉森提出说，大规模能够使用的核反应堆，也许可以首先在中国、印度、韩国开发出来，因为这些国家的需求是最大的，而美国或者欧洲则提供技术支持。而假如是在美国部署的话，那么类似雅克山地质处置库那样的东西将因为这种可以对核废料进行回收的反应堆的出现而变得不再有意义。洛 维 尔 •伍 德 （Lowell Wood ) 那个钍增殖反应堆的方案，那样的方案可以在 50 年内都不需要重新添加新的燃料。它会埋在地下深层的地方，当这些钍都燃烧完了之后，它只会留在地下而不会被人接触到。” 2008 年 《核能源进展》杂志的一篇论文有关于这方面情况的详细描述。操作，没有任何废料要处理，不需二次处理或者废料储存设施，因为反应堆所在的容器就是最为稳健的核废料存放箱。<br>核反应堆会变得更加清洁，更加环保，更加安全。<br>PART   24   微型反应堆<br>微型反应堆提出的分布式微型电站的设想（“成本最低、最为可靠的电力通常是最靠近消费者的电力”）。它们在成本以及建设工期方面比吉瓦级別的标准核电站要低得多，并且其所需的开发周期也比标准的核电站短得多。浮在驳船上，将于 2010 年开始交付使用，这些驳船将会飘荡于最近才开始出现的北冰洋海面，而一些发展中国家的客户也会从俄罗斯那里购买一些驳船放在一些边远的海滨渔村那里使用。而日本的东芝公司则研发出了一种 10 兆瓦到 50 兆 瓦 的 “核电池”，该公司称之为 4 S ，意 思 是 “超级安全、小而且简单” — 预计在 2015 年的时候即可投入市场。而位于加州的劳伦斯利弗莫尔实验室则设计出了一种 20 兆瓦的核反应堆，代号为 SSTAR ，意 思 是 “小，封存完好，可以运输的自动核反应堆”。这些小型机器可以直接通过货车运输，并且可以埋到地下，不需要使用燃料，也不会有废料产生 — 只需要过几十年后把这些核反应堆本身更换掉即可。核反应堆，并且是基于洛斯阿拉莫斯国家实验室设计的氢化铀的方案来做的。2500 万美元。另外俄勒冈的一家名为纽思科（ NuScale ) 的公司则声称他们有 40 座兆瓦级别的轻水反应堆，并且这些反应堆在 2015 年的时候就可以投入使用。此外还有南非研发的卵石床模块式反应堆，其设计可以防止核泄漏，并且可以放到地下进行操作，发电功率可以高达 100 兆瓦。<br>新型反应堆的发展。<br>PART   25   核电将成为我们的选择<br>对核电的抵制可能会使得它发展得更坏、更慢、更昂贵、更缺乏系统，以及在整体上缺乏良好的协调。但假如我们用合适的方式去鼓励核电的发展，这将会减少人类向大气排放的二氧化碳；我们可以使核电与其他零碳排的能源形式协调发展；它可以促进其他绿色服务的发展，例如海水淡化；此过程中铀和钍从地底采掘出来到重新回到地底不会带来更多的污染；能使得消除核武器的进程加快；它可以安全地为城市供应电力，并且因此可以减少全球贫困；而且假如有其他更好的东西出现的话，也可以很容易地转换为新的能源生产方式。稍有理智的环保人士应当考虑努力去推广一流的微型核反应堆这些反应堆寻找到主顾。我们也许可以坚持在下一版的《京都议定书》里不再重复否认核电可以减少碳排放量这一事实。我们也许可以倡议对不同形式的核反应堆设计进行开源，使得大众可以参与到调试当中，并且以此增强信任。我们也许可以鼓励上商用船使用核电驱动，这些船目前占据全球温室气体排放总额的 4 % ，另外飞机飞行也是会排放同等额度的二氧化碳。当我们在推广电动车的时候，我们也许会发现，电动车要降低碳排放量，前提是它们的电力是来自于绿色能源的，例如核电、风电、水电或者太阳能。门为氢设计的核反应堆。同样的机器也能作海水淡化，海水是消耗能量最大的水，它也是可以为沿海居民提供饮水的最不会对自然造成损害的办法。我们开始时以为煤是像当年的核电那样可怕，可以给系统带来长期的威胁。我们需要密切地监察煤炭所产生的实际影响并且保证他们是可以工作的。为了鼓励公众对核电的信心以及熟悉程度，我们可以效仿瑞典和法国的做法，开放所有的核反应堆让公众过来看。（有 1/3 的瑞典人都参观过核反应堆，这也说明为什么该国有八成的人都赞同继续使用核电。）尔的导师罗杰•瑞维勒 （Roger Revelle ) 的研究成果。他发起了对大气二氧化碳研究，正是该项目的研究成果第一次揭示了对气候变化不能忽视的真相。瑞维勒称核电会比其他的能源形式更为仁慈。他说：“我们需要做的是向法国和曰本学习。”他们对此没有任何的害怕。“我们甚至还可以鼓励塞拉俱乐部，他们于 20 世纪 60 年代末期曾提倡使用核电，而在 20 世纪 70 年代初期，他们将核电看做比水电还要好的选择。他们当时是正确的。”<br>技术的交流。<br>PART   26   穷人用电<br>美国在核电方面的作为并不是最重要的事件。称：“电力并不是某种奢侈品。它是一种基本人权。对于孩子们做功课、家里煮饭或者取暖、手机充电、通过电子通讯工具（例如电视辩论、电子邮件等)参与国家辩论、让妇女感到安全的路灯，以及帮助扑灭那些宵把我们吓倒的大火，电力都是必须的。”村子里，村民才能用电。《纽约时报》的一篇文章讲述了其中一个村的命运：的节奏。小偷少了，因为村子里亮了起来。政府也安装了水井，帮助农民灌溉。碾米机也出现了，并且提供了新的工作。这样的繁荣持续不多久，大雨打垮了输电线。碾米机也关了。黑暗再次掩盖了整个村庄。过怎么样的方式，穷人都会用上电。而这些电从哪里来将决定气候将发生什么变化。]()</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电影观后感</title>
      <link href="2017/10/08/2017-10-08/"/>
      <url>2017/10/08/2017-10-08/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十一出行随想</title>
      <link href="2017/10/04/2017-10-04/"/>
      <url>2017/10/04/2017-10-04/</url>
      
        <content type="html"><![CDATA[<p>对于道路拥堵这一点，今天的我是深有体会，接下来我将会进行详细的说明，主要针对的是高速路这一块。</p><p>首先是分析拥堵的接触点，分别为拥堵前，拥堵时，拥堵后。通过对接触点的分析拥堵的原因，大概可以划分为两点，一是交通事故，二是车流量大。</p><p>先说交通事故方面，笔者在从武汉回老家过程中经历了五次拥堵，其中四次都是交通事故导致的，主要的原因分析后可以得知，主要为碰撞的主体和客体之间的矛盾，而这个主体和客体分别为，撞的车和被撞的车。而这里又可以分为主体的过错和客体的错误。于是我就想从这不同的三个方面来分析这个问题。分别为撞车前，撞车时，和撞车后。先来分析撞车前。我总结了三个原因。一，缺乏经验导致的碰撞，二，出于疲劳驾驶带来的碰撞，三，由于汽车本身质量问题带来的碰撞。</p><p>首先是经验不足的问题，这个可能是每个刚拿到驾照的人都可能会发生的问题。而这个无法被控制。你无法要求一个刚获得驾驶执照的人不去上高速。也无法要求一个刚学会开车的人不去开车。这里就存在了一个消费的痛点，怎么能让刚获得驾照的人能够适应复杂的交通路况。我觉得，光凭自己进行练习，肯定会花费更多的时间和精力， 以及可能发生的各种交通事故。我觉得，更好的方法可能是，有这样一个场景，能够使新手（刚拿到驾照的）适应这种复杂的行车条件，并能够在确保安全以及不出事故的条件下达成，这可能是从心理以及生理上都得到锻炼的方法。</p><p>二就是改善用户在行驶过程中出现疲劳驾驶的体验。这个体验可能会因人而异。但是却有一个共通点，就是一个如何用提醒来达到提升用户驾驶集中力的一个目的。目前有好几个方案，但最让我注意的是，导航对司机的一个提醒，就是注意疲劳驾驶。但是感觉意义不大。对于疲劳驾驶的判定，因为标准不同，最后得到的效果也是差强人意的。如何用一个比较合理的方法去改善这种体验。还是一个值得深刻思考的问题。而我想到的可能是对服务区的一个引导性的问题。</p><p>对于汽车质量的问题，往往与汽车的保养有关。当缺乏一定时间的维护时，往往会对汽车本身带来一定隐患。而司机对车的状况不可能完全了解。应该是缺乏一种直观的反应汽车情况的系统，能够以一个直观的反馈表现汽车的状态，并通过智能化的标准对汽车本身的状态进行一定的评估。从而提醒司机对车进行保养和维修。</p><p>再一个很大的因素就是在撞车发生时，存在的一个占道问题。事故发生后，往往就是等着保险来的人，要么就是双方针对理赔争执不休。要么就是汽车完全损坏无法挪动。各种原因都在占用道路资源的同时浪费了其他人的时间。</p><p>再来说说车流量的问题，也可以分为主观和客观原因。客观原因是整个城市系统对道路系统的一个反馈机制存在一定问题。当拥堵发生时，道路本身对道路情况的反馈只有当你堵了之后才知道。或者通过地图软件 app 之类的发现问题。而这些软件一般只会在你拥堵后告诉你，你堵了多久，你还需要等多少分钟，这无疑是给用户造成了不好的体验。再一个就是主观上，对于寻路系统过度依赖，都选择了最近最快的路线而导致车流量大快不起来。反而是那些稍微绕远路的能够节省许多时间。</p><p>于是，为了更好改善用户体验我有了一整套想法。首先是满足主体的需求，则是能够使刚拿到驾驶证的人能有开车的经验，可以引入 vr 驾驶的新技术，通过虚拟仿真模拟复杂路况的手法来得到经验的锻炼，另外加上一定的实际开车辅导。同时在拥堵或者车流量大时能够提醒新手尽量不出行某路段，可以大大减少新手开车的事故率。</p><p>对于疲劳驾驶，也能够使用一些方法。例如，在检测到实际行驶一段路线后，提醒驾驶员休息，并告知最近的服务区，以及建议停留的时间。在这个时间里，可以满足司机及乘客的消费痛点，即用 app 推送一些提神醒脑的饮料，并给出优惠券。引导司机去购买。同时推荐餐饮，运用大众点评类的评价对服务区进行星级评价。同时推出团购消费券，降低服务区的成本。这样也能形成预定化的服务以及美国式停车餐厅（即开到一个地方直接取餐的模式）可以大大减少消费者购买用餐的时间，增加服务的效率，甚至可以根据停车车位进行送餐。并通过用户对用餐的体验给服务区评分来规范服务区的服务质量。</p><p>对于汽车的质量。我想可以引进对汽车进行可视化系统性检查的软件，通过最直观的数据来体现汽车的健康状况。并定时提醒用户对车进行保养和检查，同时可以给出保险套餐服务，在用户进行行程规划时，自动与这套系统进行交互，获取汽车的健康状况信息，并根据路况给出最佳的行驶速度及注意事项。同时收集不同路段汽车发生事故的数据，进行数据统计分类。给出最多发事故的路段及事故种类和最多发的故障。在事故发生时，可以自动显示汽车的受损情况，并联网直接与保险公司联系。通过 360 度全景摄像头（行车记录仪）上传事故画面以及事故经历进行理赔或者联系拖车甚至直接呼叫 120 急救，并联系交警。通过在线交警直接对事故进行结局，可以大大减少拥堵的时间。</p><p>对于焦急等待的人可以通过定位跟踪事故车辆，对事故车辆进行取证加快保险处理速度。将事故的处理进度更直观的反应给等待的人，并提出一些建议措施。比如前方一段距离发生拥堵，需要大概多久，您可以前往某某服务区进行等候和休息。等到拥堵解决时，再直接提醒。如果是过了服务区的路段，则可以推荐其他路线和最佳速度，同时对拥堵进行进度跟踪。把路线上发生事故和拥堵的事件和时间形成列表式，可以让司机对行程进一步规划，也可以智能推荐行程安排。</p><p>对于车流量的问题，更多的还是在于对用户的引导。在大部分用户选择了某一路段时可以进行一定的计算，显示这条路可能很多人再走，另外给出一条比较好的，人不是那么多的方案。另外对路上发生拥堵的情况，把拥堵路段大概耗时显示出来。给用户列出不同的行程方案并给出联系。</p><p>这里只是停留在想法层面，没有用数据去证实，感觉想法应该能满足部分用户需求，但是最终还是得用用户的体验和数据说话。不过作为思维的锻炼以及以后想法的素材还是记录一下。</p>]]></content>
      
      
      <categories>
          
          <category> 随想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【地球的法则】第三章</title>
      <link href="2017/09/27/2017-09-27/"/>
      <url>2017/09/27/2017-09-27/</url>
      
        <content type="html"><![CDATA[<p>[<br>第三章<br>都市新希望</p><p>城市是舒适的.居住于城市<br>就是走向文明，可以通宵阅读<br>或唱歌跳舞.直到曰出<br>在等待中起来而不是醒来。<br>——罗伯特•弗罗斯特《慈悲的假面具》</p><p>PART   1   城市的意义</p><p>城市使得创新得到加速。城市解决了人口过度膨胀的问题。虽然城市正变成人类历史上最绿色的东西，但我们还有很长的路要走。</p><p>城市使创新加速，解决人口膨胀，努力成为最绿色的东西。</p><p>PART   2   手机创新的意义</p><p>很多因为厌倦贫穷而搬到城市里的人所展现出来的动力和智慧，正在加速着许多具有改变世界意义的创新，并且，这些创新也正在得到大范围的推广。最经典的个案就是与手机相关的。<br>2007 年，英国广播公司派一位记者以及摄影团队到肯尼亚，他们遇上了一个通过手机组织起来的快闪行动，一些贫民窟居民参加了这次行动。他们包围了一辆推土机，以此反对强行拆迁。记者还发现，有农民利用手机  — 他们称这是他们新的中间人 — 来跟踪几个远处村庄的西红柿价格。他们还发现，养牛的牧场主也会利用手机来跟踪远方的放牧工人。内罗毕的一位年轻的妇女说，现在手机就是她的办公室：“它使得人们可以自我控制，就跟火车轮以及铁路一样重要。”而手机短信也在帮助人们识字。手机的直接性可以让人们绕开政府腐败。手机信号覆盖到哪里，经济发展和社会改变就会在哪里发生。<br>发展中国家的穷人还把手机变成了货币。麻省理工学院的技术研究员阿里克斯•彭特兰（ AlexPemland ) 写道：<br>人们还使用短信来支付购买蔬菜或乘坐出租车的费用。因为在发展中国家，重新翻修后的手机仅仅卖 10 美元，并且接收短信是免费的，社会的每一个阶层都通过短信联系了起来。即使是建筑工人，也不再是待在街角等工作。相反，现在有了集中的电脑系统，他们可以直接通过短信收到工作信息。国际电信联盟估计，在最贫穷的国家，每增加使用一台手机，就可以为国内生产总值增加 3000 美元，这主要归功于手机所带来的商业效率的提升。</p><p>预付费的 SIM 卡就已经达到了 30 亿美元的营业额，并且都是由本地的草根老板来经营的。 SIM 卡（SIM 卡，是 （Subscriber Identity Module 客户识别模块）的缩写，也称为智能卡、用户身份识别卡，GSM 数字移动电话机必须装上此卡方能使用。它在一电脑芯片上存储了数字移动电话客户的信息，加密的密钥以及用户的电话簿等内容，可供 GSM 网络进行客户身份鉴別，并对客户通话时的语音信息进行加密。）可以在菜市场或者类似的地方买到，通常会跟充值卡放在一起销售。有些人则只是带着一张 SIM 卡在身上，当他们需要打电话的时候，就借别人的电话来打。肯尼亚的一家名为“猎游网络”（ Safaricom ) 的电信公司则提供一种名为 M-Pesa 的服务，这一服务可以使手机实现自动提款机的功能。你要是想给別人寄钱，就给对方发送相应的代码，对方获得代码就可以到当地的 M-Pesa 代理处取钱。手机话费可以作为现金的替代品用于交易。而信用卡付款也是用手机来完成的。国外的亲属汇款回国也是通过手机。（总额现已达到每年 3500 亿美元，并且预计很快将会增长到 1 万亿。在有些发展中国家，这些汇款的总额已经超过了国际援助以及国际投资的总和。）手机而无需实体银行的银行业务，我甚至希望在加州也能有这样的服务。你可以在任何时间任何地点开通一个账户。你可以将自己 Wizzit 账号上的钱转到任何一个银行账户上，用这些钱交水电费或者在全球任意一个自动提款机获得现金。它的服务中心也是多语种的。甚至小孩也能有他们自己的账户。与 M - Pesa 以及 Wizzit 相类似的，还有菲律宾的 GCash 服务。他作祈祷，主人收到提醒后的 20 分钟，手机会自动关机。刚果共和国的一个名为非政府组织（ NGO ) 的公司则“为当地的老师、长者以及商界领袖提供智能手机，他们一旦遇到孩子被征为童子军的情况就可以作出举报。”有些手机还包含了语言教学的游戏。诺基亚则在生产一种有 7 个电话簿的手机，以方便多人使用。逐步完善的基础设施佛大学一位名叫伊凡•佐克曼 （Ethan Zuckerman ) 的博客作者如此写道。一位创业者所需的无非就是一座手机信号塔，而建塔的费用可以通过卖手机给当地消费者而获得。获得了利润之后，还可以建新的手机信号塔。而网络链接也可以通过类似的方式实现，每次买一个卫星碟形天线就可以了。过不了多久，当地人就能通过为美国公司做数据录入或翻译的工作而获得收入。手机信号塔以及手机充电器的普及需要电力，而目前电力基本上是通过低效而昂贵的柴油发电机来发电。佐克曼预计，未来会有一些微型发电装置逐步得到普及。</p><p>PART   3   手机带动经济发展</p><p>尼古拉斯•苏里文 （Nicholas Sullivan ) 写了一本关于手机革命起源的书 《现在你能听到我了》 （You Can Hear Me Now，2007)，他为此专门采访了麻省理工学院雷格顿（ Legatum ) 发展与创业精神中心的发起人伊卡博•卡迪尔 （Iqbal Quadir )。卡迪尔出生在孟加拉的一个小村镇，当年他还在纽约一个金融公司工作的时候，遇到了计算机系统崩溃的意外。他说：“我意识到，能够跟世界连接起来，本身就是一种生产力，不管对于一个现代化的办公室还是对于一个欠发达的农村，都是如此。”正是基于这样的认识，1994 年的时候,卡迪尔开始为孟加拉修建手机网络。他与格莱珉乡村银行 （Grameen Bank )合作 — 后者是一个微型信贷组织，正是这一组织帮助穆罕默德•尤奴斯(Muhammad Yunus ) 获得了 2006 年的诺贝尔奖 — 他在孟加拉全国各地招募了许多的农村妇女，给她们手机，并且让她们进驻到大大小小的村落里，假如其他村民需要打电话的话，就可以找这些妇女，这就是格莱珉手机的模式。截至 2008 年，格莱珉手机的利润额为 10 亿美元，而伊卡博的哥哥卡莫尔•卡迪<br>尔 （Kamal Quadir ) 则专门为孟加拉创建了一个基于手机的在线市集，名 为 “手机市集 ” （Cell Bazaar )。这一手机市集使得一对一的货品以及服务交易成为可能，并且最低的交易成本仅仅为两美分。穆罕默德•尤奴斯说：“格莱珉银行只是对穷人有影响，而格莱珉手机则对整个经济产生了影响。”苏里文的书里还记录了发生在非洲、印度以及菲律宾的类似的变革。<br>穷人的无限创造力在简•切普蔡斯（ JanChipchase ) 的幻灯片里展现得非常清晰。切普蔡斯是诺基亚在某一个区域的人类学家，他研究的是出现在发展中国家里的人们所利用的信手拈来的科技。他从印度的贫民窟里拍下了很多照片，可以看到整条街都是手机维修店，当地聪明的维修师可以反向破解世界上儿乎任意一台手机，并且制造出图案丰富的修理手册。他其中一张幻灯片展示的是乌干达一处贫民窟里的一个破烂的门口。淡蓝色的门上可以看到手写的“077399721”。这不是一个街道地址，它是一个手机号码。贫民窟是最先围绕着手机来塑造他们生活形态的都市元素。</p><p>金字塔的底层已经不在是一个被忽略的市场了，那里是一个国家经济的创意引擎。乔 • 葛劳 （ JoelGarreau ) 在他发表于《华盛顿邮报》（Washiton Post）的一篇文章上写道：“我们从零开始，仅仅用了约 26 年的时间，我们这个拥有 66 亿人口的地球上已经有 33 亿手机用户了，这意味着我们走过了一个分水岭。这是人类历史上扩散速度最快的一种技术……发展中国家的手机使用者数量超过了发达国家，这也是通信技术历史上的第一次。”到国外旅行的美国人甚至会发现，手机网络覆盖率在发展中国家甚至比美国做得更好。<br>科技史学家凯文•凯利 （Kevin Kelly ) 由此总结出一个有趣的结论：<br>10 年前，那些对科技发展感到忧虑的人会对“数字鸿沟”感到担忧。这个概念是指，有电脑以及能联网的人跟没有这些技术的人之间所产生的不公平的鸿沟。那时候人们经常问的是，“对于这个数字鸿沟问题，你该如何解决？”<br>那时候我的回答都是一致的：“不需要做什么事情。这不过是早获得以及晚获得的区别。早获得的人（就是我们）就会为早期还不甚中用的技术付费，这样就使得晚获得的人可以更廉价地购买到这些科技产品，以及更好的科技产品。后来才购买这些东西的人甚至可以用非常低廉的价格买到。”我接着说到了我现在依然相信的东西：“晚获得的人会非常快非常广地接纳和使用这种技术，很快这个地球上的所有 60 亿人都将会连接到网络上。而假如说我们有什么需要担忧的话，那就是：当我们所有人都连接起来之后，会发生什么？”</p><p>PART   4   人口过度膨胀的担忧</p><p>人口过度膨胀也曾引起过类似的担忧。事实是，城市居民通常会生更少的孩子 — 贫民窟里的居民也不例外。正是因为城市化的这一副产品，环保人士对于人口过度膨胀的担忧在慢慢地消失。但是这一消息还未广为人知。这一影响是如此之深远，很值得在这里回顾一下我们对人口过度膨胀之担忧的历史。<br>世界上最古老的故事，就 是 《吉尔伽美什》 它是 4000 年前人们用楔形文字写成的。这个故事记录了被称为人类历史上的第一个城市 — 苏美尔首都乌鲁克的故事。并非很凑巧的是，乌鲁克也是第一个文字创作方面的中心。在史诗里，有一场大洪水卷走了所有人以及所有的动物，只有那些逃到方舟里的人和动物才得以存活下来。而巴比伦的洪灾与《圣经》里描述的洪灾有明显不一样的起源，后者创作的时间比前者晚 1000 年。戴维•丹罗斯 （ DavidDamrosch ) 在他写的《被掩埋的书》 中写道：<br>最根源的问题不是像《圣经》里所描述的那样是因为人类好奇，而是因为人类不加控制地进行繁衍，并且人们开始制造出各种声音。天神也因此睡不好，于是他们就听从他们的领袖恩利尔的话，给人类送来了洪灾。<br>恩利尔的这个行动是暴力的，但是它符合生态学上的逻辑：人类发出的噪音是因为人类过度繁衍所致，这个在旧时的美索不达米亚是很严重的现象，并且这给当地的资源造成了极大的压力。<br>这些读起来就跟勒布兰克所写的因为人类贪欲与环境可承载能力之间发生冲突，进而发生的战争这种事非常类似。托马斯•马尔萨斯 （Thomas Malthus )在他 1998 年出版的《人口原理》（An Essay on the Principle of Population） —书里也讲到了同样的故事。 我的老师保罗•埃里克于 1968 年写成的《人口爆炸》(The Population Bomb ) 一书也表达了类似的担忧。在那本书里，他把人口过度膨胀放在了我们要实现可持续发展目标时首要解决的问题。那本书开头是这么写的：“我们尝试养活地球上所有人的努力已经到尽头了。到 20 世纪 70 年代和 20 世纪 80 年代的时候，将会有数以百万计的人因为饥荒而死亡，哪怕我们今天就开始采取任何紧急行动方案，也会无济于事。”作者在书的结尾处推荐我们要实行“强制生育控制”的政策，包括由政府通过居民饮水以及食物采购的渠道发放节育的药物。</p><p>PART   5    环保人士是怎么响应人口爆炸</p><p>关于当时环保人士是怎么响应人口爆炸的问题，我可以说一个自己亲身经历的案例。1969 年，看了埃里克的书之后，我得到了启发，决定要组织一次露天的现实剧场，那是一个大型的演出节目，当时我们就称之为“地球生命之舟”。当时，我们效仿民权运动人士发起的静坐行动，我们就搞了个“饥饿静坐”行动。那些吃得好好的美国人会自愿选择让自己挨饿一个星期，以此来让更多人关注数以百万计的在其他地方不得不每天都忍受饥饿折磨的人，而他们之所以要挨饿，是因为人口过度膨胀所致。而我们那个“地球生命之舟”实际上就是一个停车场，周围有充气的管子将其围起来，有一扇门是开向外面的，上面写着一行字：“你准备好去死了吗？ ”其设计的理念是，所有那些依然在生命之舟里不进食的人都还活着，但他们随时都可以停止忍受这样的折磨，从门口走出来，并且立刻“死亡”。<br>有 60 多个志愿者参与了这个演出，他们大多数都是来自一个叫“野猪农场”的流动表演组织。媒体也来了，他们期望可以捕捉到一些有趣或者是有教育意义的镜头；当时根本没有人知道最终结果会是怎么样。参与其中的志愿者发现，困在那样一个只有水没有食物的地方，一开始会觉得很闷，而后会觉得非常无力。你的身体会蜷缩起来，以保存自己体内正在不断减少的任何一丁点的能量。为了让参与其中的志愿者保持斗志，每到晚餐时间，野猪农场的领队瓦维•格拉维 （Wavy Gravy ) 就会通过喇叭，像一位酒店的服务员那样进行广播，广播的内容则是我们根本无法享用的美味的晚餐。<br>有少数几个人顺利地熬过去了。那是一些身体强壮的瑜伽师，不过他们也因 为 “只是喝西北风”，连眼睛也变成了红色。我们大多数人都是在忍受着。有很多人“死了”。在那样一个几乎是没有尽头一星期的最后，那些幸存者围坐成一个大圆圈，大家就七嘴八舌地叫嚷起来。有人唱起歌来，一开始只是“啊啊”的声音，慢慢就变成了哀号，最后就变成了大家对我们自身经历的痛苦，以及整个地球正在经历的痛苦的哭诉。</p><p>PART   6    关于人口爆炸激烈的争辩</p><p>埃里克自己在之后也参与进去了。1972 年联合国在斯德哥尔摩举办了第一场关于环境议题的全球论坛。那时候，已经成为畅销书的《地球目录告别版》 为其母体机构，也 就 是 庞 特 基 金 会 （Point<br>Foundation ) 带来了一笔 100 万美元的收入。于是庞特基金会决定派遣一支专门宣传对立观点的队伍去斯德哥尔摩，并因此花费了其第一笔也是最大一笔的开销。这个队伍里的成员包括诗人（有盖瑞•施耐德，麦克•马克鲁）、印第安人[特别是霍皮族的长老，他们当时正在抗议大公司在黑梅萨（位于俄克拉何马州）地区的采矿行为]、旧金山地区的环保人士，包括第一批抗议捕鲸的斗士琼•麦金太尔以及公开反对人口过度增长的斯蒂芬妮•米尔斯，永远都准备着的野猪农场以及他们的巴士。其中一辆巴士当时就在斯德哥尔縻街头巡游，它的外表就被装扮成一头鲸鱼。他们一路上就播放鲸鱼哀鸣的声音，当录音带不幸出现故障的时候，他们就直接张口吟唱出鲸鱼的声音。<br>当时在斯德哥尔摩，就有一个关于人口过度增长的争论爆发出来了。争论的双方分別是埃里克和他的论敌巴里•康芒纳 （Barry Commoner )，康芒纳当时写了一本很受欢迎的书，叫 《封闭的循环》，那本书就直接抨击了埃里克关于人口爆炸的论调。他们两个当时都参加了斯德哥尔摩的大会，并且康芒纳还通过一些第三世界国家代表之口，向埃里克提出了很多尖锐的问题，而埃里克则逐一作出强烈的回应。康芒纳的观点是，没有必要推行控制人口增长的政策，因 为 “人口结构的转变”会改变一切 — 只需要帮助穷人摆脱贫困，他们就会少生些孩子。而埃里克则坚持认为，情况已经变得非常严重了，不能采用那样的政策，并且，那样的思路也不可能实现：因为你需要有强硬的政府的控制，才能降低生育率。但假如不控制人口增长，后果就是大规模的饥荒以及对环境带来的巨大伤害。<br>在当时，我是站在埃里克那一边的，并且不认同康芒纳的观点。但是埃里克所预言的饥荒并未发生，这在很大程度上是因为有了农业领域的绿色革命，并且我们也不需要一个强硬的政府来推行人口控制的政策。相反地，康芒纳关于人口结构转变的观点反而基本上都被证实了，虽然实际发生的过程是他或者任何其他人所未曾预料到的。</p><p>PART   7    城市化破解人口爆炸</p><p>几十年来，环保人士一直担心人口过度膨胀会带来许多后果，并且来自联合国的早期调研也证实了那样的担心。有一位名叫华莱士 •考夫曼 （Wallace Kaufman ) 的人口乐观主义者在 1994 年的时候写道：“所幸的是，地球人口将会在下一个世纪中叶前后达到 120 亿到 150 亿的峰值。”而 在 1972 年出版的描绘广儿近是末世色彩的《增长的极限》(Limits to Growth) 这本书里，作者指出，人口的过度增长将会超出地球可承载能力的上限，之后就会出现人口衰减。这样一种预估至今依然被很多环保人士所认同。<br>但是这一理论的增长原理早在 1963 年的时候就被证明是错误的，那时候人口增长的速度达到每年 2 % 并且开始下滑。1963 年的这个转折点告诉我们：<br>我们想象中的那个类似 J 形的增长曲线实际上是更为常见的 S 形增长曲线。人口增长的速度正在变慢。没有人想到人口增长速度会变为负数，并且地球人口在本世纪会开始逐渐缩减，既不会达到峰值也不会出现人口急降。但这正是已经发生的事实。（当然，假如气候变化真的带来了灾难性的悲剧，那 《增长的极限》一书所描述的那个曲线将会重新出现，但不会是因为人口过多而导致地球承载能力不足，而是因为地球承载能力下降而导致人口数量下降。）<br>1990 年的时候，我开始意识到人口和生育率正在发生一些奇怪的变化。但直到 2004 年我读到菲利普•朗曼 （Phillip Longman ) 在 《外交事务》杂志（Foreign Affairs）上发表的一篇题为“全球婴儿衰退潮”（The Global Baby Bust)的文章，文章写道：“全球有 59 个国家，也就是几近全球 44%的人口，现在都没有足够的婴儿来防止人口衰减。这一现象正在开始在更多国家蔓延。根据联合国的最新预估，到 2045 年，全球人口总体生育率将会低于人口更替率。”在前面提到的这篇文章以及 2004 年出版的《空摇篮》 这本书里，朗曼解释了其中的原因：“当越来越多的人迁往城市之后，在城市里生更多孩子并不能带来更大的好处，同时妇女也获得了经济上的机会以及节育方面的帮助，就会使得抚养孩子的成本增高，不管是经济方面还是社会方面。”</p><p>发展经济学家保罗•普拉克 （Paul Polak ) 指出，对于农村地区的穷人来说，生育多个孩子是非常合乎理性的：<br>在盂加拉的一个有一亩田地的家庭，就需要 3 个男孩：一个帮家里干农活 ，一 个读好书以谋得一份有机会收取贿赂的政府工作，以此养活家人，另外一个男孩则需要到本地找到一份工作，以他的工资来支持他弟弟读书，让他弟弟最终可以谋得政府工作。但最终要有 3 个男孩子就意味着要生 8 个孩子，因为其中两个很有可能在 5 岁之前就要死去，就仅仅剩下 3 个男孩以及 3 个女孩。<br>关于城市人口出生率将会发生怎样的变化，在联合国于 2 〇〇 7 年发布的一份报告中对此有所描述，该报告题为“城市发展的新空间”（Unleashing the Potential of Urban Growth），是由乔治•马田（ GeorgeMartine ) 撰写的。该报告指出：“人们生活在城市里，会有新的社会渴望，女性有更强大的力量，性别关系也发生变化，社会关系在发生改善，并且配置了更优质的生育保健服务，这些都会降低生育率。”在村子里，每多生一个小孩都是新增的资产，但是在城市的贫民窟里，每新增一个小孩都是一个负担。因此，搬到城镇里的妇女会关注教育以及为自己寻找机会，同时她们也会少生优生。<br>这就是城市化破解人口爆炸之道。</p><p>PART   8    人口负增长</p><p>这里有一个奇妙的数字：2.1。假如地球上每一位妇女都生育 2.1 个孩子，那么人口增长的速度就会变成 0 ; 人口既不增也不减。（之所以是 2.1 而不是 2,是因为有些孩子在没有到达生育年龄的时候就已经死去了。）当生育率大于 2.1 的时候，人口就会呈指数性地增长，而当这个数值小于 2.1 的时候，人口就会呈指数性地下降。复利息的机制在这里显现得很明显：孩子越少，她们生育的孩子就更少，她们的孩子的孩子也会生育更少的孩子。<br>有人说，人口结构是一种命运。人人都经历出生、迁徙以及死亡的过程。而这三者的统计学分布则定义了我们这个世界。未来的 50 年，也许会是人类历史上人口结构转变最大的 50 年。有许许多多人的生活正在发生巨大的改变。我们在自己的有生之年，就见证了地球人口翻一番的奇迹（1962 年地球人口是 33 亿，到 2007 年，地球人口达到了 66 亿），与此同时，我们发现这将会是最后一次出现这样的人口翻番的奇迹。现在各地的生育率都在下降，并且比预期的下降速度要快得多，而且下降的幅度要远远大于预期。人们当时认为，生育率下降到 2.1 的时候就不会再下降了，但是在大多数地区，下降的趋势依然强劲，并且可能不会见到谷底。另一方面，已经出生的这些人以及他们的孩子将会在本世纪中叶的时候让地球人口总数达到峰值，而后就迅速地下降。<br>这样的峰值会有多高？ 2008 年联合国发表的中期预估认为峰值可以达到 90 亿，但是这一数字是基于一个假设，那就是发展中国家的生育率会因为某种原因而增加。但是这好像不大可能。我认为更有可能的峰值是 80 亿，之后就会出现一个急降，甚至会成为一场危机。<br>对于任何一位选择不生育的妇女，就需要有另外一位妇女生育 4.2 个孩子，才能让人口保持不变，但这不会发生。遗传学家威廉•哈兹尔廷 （WilliamHaseltine ) 非常严肃地说：“这里有一个很奇特的现象，并且好像任何文化都是这样：一旦妇女获得了经济上的独立，她们就不再去生育孩子了。”在大多数情况下，只要经济独立就会使得这样的事情发生，而这正是人们迁往城市后会发生的事情。<br>因为城市化现在主要是在发展中国家发展得最为迅速，那里的生育率下降速度将会是最大的，也就意味着那些国家的老龄化速度也是最快的，虽然其后果可能短期内不容易被觉察到。墨西哥的生育率已经从 20 世纪 70 年代的 6.5 下降到 2008 年的 2,并且仍在下降。菲利普•朗曼认为，到本世纪中叶，“青年在墨西哥人口中的比例将会低于美国”。另外，在中东和印度，因为生育率下降得非常迅速，那里的老龄化速度是美国的 3 倍。在城市里实行计划生育政策的中国，其当前的生育率为 1.73，正在走向人口结构崩溃。因为到了 2020 年，中国的劳动力供应将会严重缩小，并且其国民的人均年龄将会大干美国国民的人均年龄。到本世纪中叶，中国很容易就会随着世代的更替，每一代人死去，都会让这个国家的人口总数减少 20%〜30%。甚至是现在，已经有很多中国家庭在抱怨 4 : 2 : 1 现象，每一位年轻人都需要同时照顾他们正在变老的父母以及他们父母的父母。朗曼认为，这样一种趋势将导致发展中国家会未变富先变老，而这本身又会成为一个贫困的陷阱。</p><p>PART   9    人口负增长的影响<br>**那些先变富后变老的国家现在也遇到了越来越多的问题。在那些早已完成城市化进程的国家里，平均生育率为 1.56,有些地方甚至下降到 1.2。这是能够使人口灭绝的一个数字，可以十分肯定的是，到 2050 年，俄罗斯、日本、韩国、意大利、西班牙以及德国，其国民人数将会少于现在的水平，但是到了那个时候，这些国家的国民大多数将会成为老人：不再具备生育能力，也不再是处干可以高效生产财富的年龄，并且可能只有很少甚至没有孩子来照料他们，而整个国家经济会因为缺乏年轻人而走向崩溃。<br>朗曼指出，在意大利，由于其生育率已经低至 1.2,到了本世纪中叶，“该国六成新出生的孩子都不会有兄弟姐妹或者叔伯亲戚，只有父母、祖父母，也许还包括皆祖父母”。意大利人现在不养孩子了，他们养宠物，在所有发达国家都会看到这样的现象。<br>日本是怎么在经历了惊人的增长之后在 20 世纪 80 年代的时候进入持久的衰退期呢？朗曼对旧金山的观众说：<br>在 20 世纪 80 年代的时候，日本的经济一直都在蓬勃发展，因为那时候生育率还足以让劳动者的人数保持增长……而日本的经济衰退就发生在其适龄劳动者人数开始衰减的时候。<br>因为日本并不欢迎移民，因此它面临着最大的老龄化问题。我们在 GBN 预计，日本传统的解决劳动力不足的办法现在依然有效，那就是利用高度精密的机器和机器人来照料日本的老人，这样的机器人也将慢慢地传播到其他的发达国家。</p><p>而人口前景最让人担忧的则是俄罗斯。那里的出生率仅仅为 1.14,俄罗斯的女性平均每人会堕胎 7 次。 GBN 的一位人口结构专家在他于 2008 年写的一份报告中提到：历史从没有出现过一个国家的人口同时在老化并且在衰减的，而这一现象正发生在今天的俄罗斯，并且预示着这个国家的衰亡：生态学上的例证表明，这样的一种人口增长趋势将会导致一个死亡的螺旋，并且那是不可逆转的。俄罗斯在 20 世纪 90 年代进入这一“人口衰老与衰减”同步发生的时期，那时候促发这一现象的原因包括：经济的崩溃，人们通过静脉注射毒品导致艾滋病病毒传染增加，大型的环境污染，以及非常糟糕的个人保健习惯。在俄罗斯，从 15 岁到 6 4 岁的每一个年龄层里的成年男性死亡率在苏联解体之后上升了 40%。</p><p>PART   9    人口政策</p><p>环保人士有各种理由感到高兴，因为人口爆炸被消除了，并且人类对自然环境 （包括大气层）的破坏将会随之急速下降。巴西现在的生育率为每个妇女生育 1.3 个孩子，这将会是对热带雨林最好的保护。而那样的生育率将会使得该国人口在 45 年后减半，并且在之后的 45 年里继续减半。也就是说，每个人平均可以获得的资源将会增加，这对于个人或者是对资源都是好事。但是从另外一方面讲，这也将意味着持久性的经济危机，人们不会有金钱或者是注意力去担当起负责任的管家。并且战争爆发的可能性会上升，而战争对环境会带来致命破坏。<br>我认为，一个理性的关于人口方面的政策，应当关注于如何应对人口缩小所带来的影响。环保人士在早期就提出人口问题的重要性，并且采取行动进行教育、推行生育控制的方法，以及鼓励经济发展从而在全球范围内降低了人口出生率，他们的这些努力是值得称赞的。而且，我们还应该对埃里克表示致敬，是他讲出了史上最伟大的弄巧成拙的预言之一。现在该是进行跟进的时候了，我们需要一个细微的转变。21 世纪最有效的环境人口项目是有稍许倾向于鼓励生育的。<br>但是，没有人知道这样的做法是否在其他国家也行得通。在欧洲，过去 40 年里，人口生育率一直在呈现下降趋势，有没有办法改变这一局面呢？教皇本笃 （ Benedict ) 在 2006 年的时候就曾抱怨过：“孩子本来应该是我们的未来，但现在人们却把孩子当成是当下的一种负担，而政府则尝试推行各种政策去鼓励人们多生。”澳大利亚政府有一个三胎政策—–一个是为了父亲 ，一 个是为了母亲 ，一 个是为了祖国。但是，澳大利亚的生育率依然是停滞在 1.8。新加坡的生育政策则从“最多两个”改 为 “假如你有能力，不妨生三个或者更多”，但是该国则是全球生育率最低的国家之一，生育率仅仅为 1.04。所有发达国家现在都面临着婴儿匮乏的困境，并且将因此而走向经济上的下坡路，只有两个国家例外。<br>在发达国家当中，美国和法国是生育率最高的国家，仅仅低于人口更替的水平。美国主要是因为有赖于外来移民以及信教人士。第一代移民都有很强的家庭观念，并且，他们的家族通常规模很大。（不过这一局面很快会发生改变，因为移民输出国很多都开始走向老龄化，不再输出年轻人。）另外，美国有很多非常虔诚的宗教信徒，他们宁愿相信上帝说的多子多福的话，也不愿正视养育多个孩子给家庭带来的沉重经济负担和机会成本。<br>法国的做法是推行社会主义式的政策。每一位产妇都会获得接近全薪的带薪产假，对于第三胎可以获得 40 个星期的休假时间，并且，产妇的雇主要保留产妇的工作。甚至，做父亲的也有作为父亲而享有的带薪休假。抚育孩子是免费的，托儿所是免费的，那些生得多的家庭还可以获得政府的税收优惠以及免费的公共交通补贴。生第三个孩子的家庭，家长每个月可以从政府获得 1500 美元的补贴，可以连续领取一年。法国的出生率从 2005 年 的 1.92 上升到了 2007 年的 1.98。</p><p>PART   9    南北半球的冲突<br>**接下来的 30 年，全球将会在人口结构方面发生巨大的分裂：在北半球，你看到的都是老城市以及老人；而在南半球，则会看到新城市和年轻人。在北半球将会出现缓慢的经济增长，然后是经济停滞乃至衰退。而在南半球则可以看到经济发展的新机遇。2009 年以前，所有人都对中国年均 10%的经济增长表示惊叹，但是印度同期有 8 % 的经济增长，而不再是单纯出售香蕉的非洲则有 7 % 的年均经济增长，增长的龙头是南非。2007 年，美国经济增长了 2.2%，法国经济增长了 1.8%，日本经济增长了 1.9%。我们可以静观哪个国家在经历了 2009 年的金融危机之后会最先而且最快地恢复过来。<br>南半球正在进入人口红利期。新出生的数百万年轻人就生活在城市，他们的父母选择在城市里生下他们，就是为了要在养更少孩子的同时获得更多的机会，他们基本上就是在工作的年龄，没有太多小孩或者老人要照顾。本•瓦腾 伯格 （Ben Wattenberg ) 在他写的一本书《更少》 中写道，那些生育率偏低或者生育率在下降的贫穷国家，他们正在比发达国家更快地变得富裕起来。2006 年出版的一份联合国的报告说：“全球接近一半的人口都低于 24 岁……有 85%的 15 到 24 周岁的已到达工作年龄的年轻人，都是生活在发展中国家。”<br>虽然北半球前进步伐在变缓，南半球却正在加速进步。创新源于年轻人，正如科技分析家克莱•舍基（ ClayShirky ) 所指出：“年轻人 （在创新方面)更有优势，是因为他们不需花时间来遗忘掉那些已经失去意义的东西。”不过，年轻人同时也是暴力和犯罪的主要施行者和受害者，并且，军队、民兵部队以及游击队的成员大多也是年轻人。<br>人口结构变化与气候变化之间将发生怎样的冲突呢？如果人口数量不断下降的话，就可以把它看做适应气候变化的一个做法。随着地球可承载能力下降，人口数量下降速度会变得更快，甚至我们可以预估到一点：我们不是相互残杀，我们只是生得更少一些，我们选择更低的出生率而不是更高的死亡率。这在很大程度上取决于北半球的人怎么看待南半球，以及南半球的人怎么看待他们自身。发展中国家的居民是最容易受到气候变暖所带来的负面影响的，包括海平面上升、极端天气的出现，以及干旱。很多生活在北半球的人会有一种无视气候变暖趋势的心理，他们认为这样的事件与他们不相干，但实际<br>上他们应当把这些事件看做他们未来即将面临的类似事件的先兆。同样，生活在南半球的一些人会选择扮演受害者的角色，他们把矛头都指向浪费、贪婪、殖民以及过度排放二氧化碳的北半球同胞。<br>更值得期待的一种结果是，走向城市化的南半球的年轻人发明出他们自己应对气候变化的方法，并且最好是和北半球的人合作。有很多种应对气候变暖的办法都可能是从南半球产生，而且最后可以在全球范围内获得推广。</p><p>PART   10    可持续发展方面的贫民窟</p><p>贫民窟居民的一些生活方式已经给其他地方的人带来了关于可持续发展方面的启发。未来应该还会有更多这样的案例。我就举一个离我自己最近的例子吧。过去两年，我都在研究和欣赏世界各地的贫民窟，却没有想到，原来我自己就生活在一个与此类似的地方。<br>“二战”时，美国使用的自由轮就是在加利福尼亚的索萨利托生产的，1944 年产量高峰的时候可以每天生产一艘。战争结束后，从前的船坞就差不多成为了一个法律以外的地区，而流氓也搬进来了，准确地说是漂进来了。慢慢地，在 20 世纪 50 年代以及 20 世纪 60 年代期间，这个废弃的地方就出现了浮动的房子、被遗弃的船只、可以用做居所的雕塑，这些都被艺术家、在海上作业的民工以及其他有胆量但没有金钱的人所占据。<br>有时候会有一个仁慈的房东过来收收房租，并且保护这个社区，使之免遭政府人士的骚扰。人们从岸上通过接驳起来的电线偷电，而用水则通过花园的水龙头获得。人们把垃圾扔在湾里，每次退潮的时候，堆积起来的垃圾都会发出臭味。<br>那里还有毒品交易，有时甚至还会发生谋杀事件。还有一些妓女，一家时装店，一个时装展区（都是些回收利用的衣服），好几支摇滚乐队以及一个剧团 — 天线剧团，并且它还在世界上享有盛名。从 1973 年开始到现在，我就一直住在那里，经历了所有这一切。<br>过去，海岸警卫队以及乡村警察会试着去拖走那些船屋。索萨利托市政厅也曾发出行政指令，将会在清晨拆迁这块居住地。由民间环保人士、湾区保护与发展委员会联合创立的一个归属于州政府的机构宣称人们居住的船屋是非法的 “港湾填充物”，并且在过去 35 年里坚持不懈地要赶走它们。而住在那里的人们则聘请了律师来帮他们打官司，他们不但活下来了，而且还在成长，并且逐渐变得更加绅士化。<br>索萨利托的 400 多艘住人的拖船现在大多数都已经合法化了，他们要交租金，并且还跟城市里的基础设施连接上，因此，现在那里的泥土闻上去也有了泥土的味道。有些游客会在甲板上踱步，欣赏我们丰富多彩的生活。很有可能你从安妮•拉梦特 （Annie Lamott )、阿兰 •华兹 （Alan Watts )、保罗•霍肯 （Paul Hawken 〉或者绿色建筑师西姆.范•德•莱恩 （Sim Van Der Ryn )等人的文章，或者是从谢尔•希尔弗斯坦（ ShdSilverstein )、费尔•法兰克(Phil Frank ) 等人的漫画，或者是奥提斯•瑞丁 （Otis Redding ) 在甲板上的表演，或 者 是 “天线剧团”的演出那里，甚或是在伊莎贝拉•柯克兰德 （Isabella Kirkland ) 的生物绘画那里，以及在任何一个被新都市主义所影响的城镇那里 — 接触到类似索萨利托这片近水地区的那种创意生活。这里最后提到的是我自己经历的案例。</p><p>PART   10   棚户区</p><p>1983 年，当建筑师彼得•卡霍普 （Peter Calthorpe ) 尝试动员本地社区失败之后，他决定放弃旧金山，搬到了我居住的南四十码头上，住进了一艘船屋。他发现那里是加州最为密集的居住区，并且没有人会锁门，甚至大多数的门都没有锁。不用身处其中，都会感到那里都是一个热情且令人骄傲的社区。当卡霍普尝试寻找是什么原因导致这一社区如此活跃时，他发现正是码头本身以及人口的高度密集，使得这里变得如此丰富。住在这里的 49 户人家毎天都会走路经过其他人的门口，到岸边的停车场，又从那里回来。每个人都认识其他人的面孔、声音，甚至是別人养的猫。卡霍普得出这样一个结论，正因为这里是可以步行的，所以造就了这样一个社区。<br>基于这样一个观察，卡霍普创立了新都市主义，其他几位创始人分別是安德雷斯•杜安尼 （Andres Duany )、伊丽莎白•普拉特-齐伯克 （Elizabeth Plater - Zyberk ) 和其他几个人。1985 年，他在一篇发表于《地球目录》的文章《重新定义城市》（奶 里 提 出 了 “步行的可行性”这一概念。从那时起，新都市主义就成为了城市规划里的一个占主导角色的力量，他们力推高密度、混合使用、步行、公共交通、不拘一格的设计以及区域化的设计理念。其主要的灵感来源之一就是棚户区。<br>棚户区还派生出其他很多的创意。例如，商业区的街道设计可以更像棚户区的街道，同时有零售和服务的存在 — 可以在卖衣服和水果的摊子中间有一两个移动理发摊或饮料摊。巴西库里提巴市市长杰米•雷纳 UaimeLemer )说：“晚上 6 点钟以后，要允许小贩占据城市里的闹市区。因为那样可以给城市带来活力。”环视全球，有数以千计的棚户区，居住在那里的人口总计有 10 亿，他们当中大多数是年轻人，并且都在尝试一些不受法律或传统约束的东西。<br>棚户区是绿色的。因为那里有最大的密集度。例如，在孟买每平方英里就居住着 100 万人。同时，棚户区所消耗的能源以及物料又是最少的。居住在那里的人们会使用步行、骑自行车、坐人力车或者本地的私营小巴（这些在各地有不同的名字，在肯尼亚叫马踏途，在坦桑尼亚叫达拉达拉，在加纳叫途罗途罗，在菲律宾叫吉普尼，在泰国叫途途，在海地叫踏踏，在罗马尼亚叫马斯的士）等方式出行。（棚棚户区也不是所有东西都是最有效的。例如，在巴西的贫民窟里，居民直接从电网偷电，由于这样用电不需交电费，诺基亚的研究员简•切普蔡斯发现，居民会一整天都开着灯不关。）<br>在大多数棚户区里，废品回收就是他们的生活习惯之一。孟买的达拉维贫民区有 4000 个废品回收站以及 30000 名拾荒者，这些拾荒者每天都会从平均 6000 吨的垃圾里寻找他们需要的宝贝。《经济学人》有文章报道说：“拾荒者横扫河内街头，寻觅有用之材，就像马普托街头的小鸡从垃圾堆里觅食一样。在亚洲以及拉丁美洲的每一座城市，都有人以回收旧的包装盒为生，并形成产业。”还有人对作作过调査，写了一本书《地球清道夫》，作者是马丁 •美迪娜 （Martin Medina 〉。尼日利亚的拉各斯被称为地球上最混乱的城市，但那里每个月的最后一个星期六都会举办一次环境日，从上午 7 点 到 10 点，所有人都不允许开车，大家就利用这段时间来清理整个城市 — 包括棚户区。</p><p>PART   11   高密度城市<br>**卡霍普在他发表于 1985 年的文章里提出了“步行的可行性”的观点，这一观点至今依然令不少人觉得惊呀：“城市是对环境破坏最少的人居形态。比起居住在密度更低的地区的居民，城布居民人均消耗的土地、能源、水都更少，他们所排放的污染也更少。” 2004 年 的 《纽约客》杂志曾发表了戴维•欧文 （ DavidOwen )撰写的一篇文章《绿色曼哈顿》（ Green Manhattan)，这个标题本身就颇具火药味。作者写道：<br>哪怕按照最严格的标准来衡量，纽约都是全美最绿的一个城市，也是全球范围内最绿的城市之一……而纽约能做到这一点，关键在于它的高度密集性。曼哈顿的密集程度是全国平均水平的 800 倍以上。当你把 150 万人放到一个只有 23 平方英里大小的岛上，实际上你就降低了他们浪费的可能。并且只会使得大多数人居住在全球能效最高的住宅建筑里，也就是公寓楼里。但城市的生态足迹呢？在 1996 年出 版的 《我们的生态足迹 》作者是马蒂斯•瓦克纳格尔（ MathisWackernagel ) 和威廉 • 里 兹 （William Rees ) —书中，提出了要按照槪念面积来计算环境影响的想法，此举意在衡量诸如城市那样的大型系统的资源利用有效性，同时也是对城市扩张的一种谴责。这一槪念成功地使许多城市采取了一些有利于环境的措施，但我们尚未见到对于农村的类似对比研究，那里的人均环境影响要比城市大得多。此外我们也还没有看到对城市棚户区所作的类似调查，我相信那里的生态足迹一定最小。<br>高密度的城市使得半数的地球人口可以生活在 2.8%的陆地面积上。不久后，这一数字将变为 80%的人群居住在 3 % 的陆地上。我们不妨考虑基础设施的有效性吧。2004 年发布的一份联合国报告称：“城市里由于人口以及商业的集中，使得人们可以大大降低单位用水、排污、道路、电力、垃圾回收、交通、医疗以及建学校的费用。”在发达国家，城市是绿色的，因为城市可以降低能源使用。而在发展中国家，城市之所以是绿色的，是因为它可以吸收农村人口，从而降低对农村自然系统的环境压力。<br>由 马 克 • 伦 敦 （Mark London ) 和 布 来 恩 • 凯 利 （Brian Kelly ) 所写的《最后的森林》 2007)就提到了亚马逊森林的现状，并且指出，巴西北部的一个靠政府补助的城市马瑙斯就“回答了我们该如何阻止森林砍伐行为的问题”。答案是给人们好的工作。人们有了工作，他们就可以买得起房子，有了房子，他们的家庭就有了安全感，有了安全感，他们就会吏关注于未来。现在有 10 万人居住在马瑙斯，他们在城里过得很好，他们在从事诸如手机和电视等行业的工作，而不是到森林里去砍树。</p><p>PART   11   城市化的机遇</p><p>城市化带来了巨大的机遇，但环保人士尚未捕捉到这一点。我认为有两个行动可以开始了，其一，是保护那些新近荒芜起来的村落；其二，是在城市化过程中最大限度地增加绿色的份额。因为城市任何时候都在变化，要改善城市的绿色状况其实并不困难。<br>城市会相互学习，这点比任何政党做得都好。那些好的做法会迅速得以传播。市长们也经常出差，他们会去考察全球最为绿色的城市 — 如冰岛的雷克雅未克、美国俄勒冈州的波特兰、巴西的库里提巴、瑞典的马尔默、加拿大的温哥华、丹麦的哥本哈根、英国的伦敦、美国的旧金山、厄瓜多尔的卡拉克斯湾、澳大利亚的悉尼、西班牙的巴塞罗那、哥伦比亚的波哥大、泰国的曼谷、乌干达的坎帕拉，以及美国得州的奥斯汀。城市生态游也是一个增长中的行业。<br>要管理好城市生态，我们首先要理解它。我认为，《科学》 杂志 2008 年的一篇文章对这一新生学科的描述非常诱人：<br>我们关于城市生态在不断进化中的理念框架认为，城市是一个多元的、动态的景观，也是复杂的、具有适应性的社会生态系统，这一生态系统当中的生态服务使得社会与生态系统在多个层面得以衔接起来……<br>化学环境的改变、不加处理的污染物、简化的地理结构以及被人为变更的城市水体流动状况，其合力形成了一种城市流动“综合征”，表现为低生态多样性、营养高度密集、营养维系能力降低，以及主要生产能力提升……要应对这样的一种综合征，我们也许要放弃恢复原先水体流动的想法，转而去设计一个符合我们愿望的生态系统……要设计一些平衡生态，当地的生态也许会经过大幅度的改造，以使其适合人类使用，这些地方在地理上要合理地分布，要有人管理，使得它可以最大程度地增加生物多样性，同时也能提供经济上的好处，以及生态系统服务。这样一种平衡生态给我们带来了极大的希望，生态学家未来将越来越多地参与到新城市的设计和管理当中，他们也会参与旧城改造工作。  <br>我们从“社会生态系统”以 及 “平衡生态”这样的杂交槪念里可以看到进步的痕迹。新兴的都市生态学将把大批生态学博士后带到都市规划的书桌前 — 不管他们之前研究的是蟑螂防治还是都市疾病的方位分布 — 他们将帮助城市管理者去细致地聆听和包容自然环境，就像他们聆听和包容人造环境一样。<br>每一个搞环保的组织都应该有一个都市战略，其中一些还应当专注于城市。贫民窟有一个好的做法值得我们学习和借鉴，那就是都市农耕。《科学》杂志上的另外一篇文章写道：<br>现在，本地食品运动愈演愈烈 ， 一 些专家想借助高科技手段将整个农场从农村搬到城市。他们预计，在不久的将来，城市的大部分食物都可以在城市的高效温室里培育和生长……经过良好设计的都市温室，其用水仅仅为农村田地用水的 1 0 % , 面积也仅仅为后者的 5 %  … 一座 30 层楼高的都市农庄所生产出来的粮食（包括蔬菜、水果、鸡蛋以及肉类）就可以供 5 万人吃。这样一座大楼的高层楼面可以种植水培作物，而低层的楼面则可以用来养鸡、养鱼，这些动物还可以消化多余的植物残渣。<br>城市的屋顶可以为节能以及“平衡生态”提供无限可能。在都市屋顶上开辟一个花园，使之形成其自身的生态社区，已经有很多人这么做了。假如你想收获食物，就加一个“高效温室”吧；假如你想储藏一些电能备用，就加几块太阳能板吧。<br>最简单而回报最大的方法就是把所有东西都变成白色。白色的屋顶可以为屋主节省 20%的电力开销。因此，加州政府规定，本州所有的新建房屋以及翻修的房屋，屋顶必须做成高反射性的颜色。假如你还种上很多树，那就更加降低了城市的“热岛”效应，并且还能减少烟雾。城市有 1/4 的表面积是屋顶，有 1/3 的表面积是路面，这些都可以用水泥或者在沥青当中混入淡色调使之变白。一个白色的城市会反射太阳光而不是吸收太阳光，这样还可以带来一些气候方面的好处。劳伦斯布克莱国家实验室 2008 年发表的一份报告指出：“假如全球最大的 100 个城市选择将他们城市的深色屋顶换成浅色，以及将沥青马路换成水泥马路或其他采用浅色原料的马路，这样就可以相当于少排放 40 亿吨的二氧化碳。”我们不妨把这个项目叫做“雪花石膏城市项目”，你可以顺便哼几句 《美丽的美国》 里的歌词以作支持：“哦，美丽的爱国梦/超越年月/雪花石膏城市在闪耀/不因人们的泪水而黯淡。”<br>一些环保人士已经成为高密度城市的支持者。塞拉俱乐部的杂志报道说，在温哥华，“市长山姆•苏利文 （Sam Sullivan ) 的生态密集计划包含了分区政策上的变更，使 得 ‘二级套房’、三联房、狭街道上的房拼房都成为可能”。而地产商彼得•卡尔霍普 （Peter Calthorpe ) 的 “可步行社区”则成为一个卖楼亮点，凡是可步行的社区都会卖得更好的价钱。要鼓励步行以及多使用公共交通系统的一个行之有效的办法就是对闹市区的汽车征收“交通堵寒税”。2002 年，伦敦市继香港和新加坡之后，也开始对开进市中心的汽车征收每天 8 英镑的税费。此举一经施行，进出市屮心的交通压力大为减缓，市民对交通堵塞的抱怨也随之消失。斯德哥尔摩、旧金山、悉尼以及 t 海都将会采取类似的措施，还有更多的城市会效仿。</p><p>一个随之而来的问题是，当城市中心区的生活成本增加以后，大多数有孩子的家庭会选择搬到城郊去住，那些好的学校也会跟着孩子搬迁到他们居住的地方。而环保人士则可以通过给相关机构施压，让每一个街区都有好的学校、公园、游乐场、木偶剧场以及旋转木马，从而让整个城市变成像巴黎那样的对孩子友善的城市，由此逆转学校往郊区迁移的趋势。彼得•卡尔霍普告诉我，他已经成为了学校券制度的支持者，因为这样一种制度可以使得市区的学校可以在公开的市场上与其他学校进行竞争，由此吸引那些搬到郊区的孩子回来上学。新型的有补贴的人居模式也应当被开拓出来。<br>基础设施使得城市成为可能，而这些设施本身每隔几十年就该重建一次。基础设施咨询师伯兹•阿伦•汉密尔顿 （Booz Allen Hamilton ) 于 2007 年发布的一份报告中说：“未来 25 年，我们花在更新城市排水供水、供电以及交通设施上的钱估计要高达 40 万亿 。” 一 个基于环保理念的城市绿色基础设施规划会是怎样的呢？中国目前正在修建 170 个新的交通系统。而高铁则终干出现在了美国。另外，随着智能电网以及微电网时代的到来，电力输送的模式将被扭转，我们将看到这样的系统未来会有更大的适应性以及更高的效率。<br>城市会成为气候变化趋势的第一见证者。哥伦比亚大学一篇发表在《科学》杂志的研究结果指出，假如我们以高出海平面 30 英尺为安全线，全球超过 500 万的城市里有 2/3 面对着海平面上升以及“气候剧变”，都会变得“特別危险” 。 一 直保护着伦敦的泰晤士河水闸在 1896 年 到 1996 年期间，因为洪水，其水平面一共上升了 27 次，在 1996 年到 2006 年期间则一共上升了 66 次。有人估计，到 2030 年，伦敦会被海水淹没。<br>从缓解气候带来的危害的角度，假如我们专门为城市制作一个“气候足迹”的模板，记录下城市的反照率、植被覆盖率、温室气体、煤烟排放，另一方面也记录城市的零碳能源，例如水电、核电、风电以及太阳能电力 — 那会是值得一做的事情。跟其他的生态足迹调査一样，这个城市气候足迹研究也该有个时间维度，以方便我们了解城市是在改善还是在倒退。再接着就是适应，我们可以做出“气候图景”的模板，清晰地列明城市该如何应对气候变化带来的挑战，包括海平面上升、干旱、极端天气以及温度的变化。城市周围是否有高地？建筑物里是否有空间让人在危急情况下走到高层？本地的水源供应以及农业是否能够应对海水入侵或者干旱（假如是内陆）？假如我们不得不逃离城市，该怎么做？</p><p>PART   12   城市的思考</p><p>在漫长的历史长河里，发展的城市不总是带来好处。城市集中了犯罪、污染以及不公正，但同时城市也是商业、创新、教育以及娱乐的集中地。假如说对于搬到城市里的人而言，城市总体是有好处的，那就表现在城市可以提供更多的工作机会。城市可以改变一个人。不管是在贫民窟还是在写字楼还是在散布的郊区，进步的趋势都是从乡巴佬到都市化到大都会化。字典上罗列了大都会所涵盖的一切：多元文化、多种族、全球性、世俗、多旅行、多阅历、非乡村、有文化、有教养、复杂、有魅力、都市味。<br>城市的腾飞是 21 世纪头 50 年最为重要的经济事件。这会带来一些影响，包括对能源以及食物供给系统的冲击。很多人正在从烧柴火、烧牛粪走向柴油机并且以此来给电池充电，接着是走向 24 小时不断电的电网。他们也在食物的阶梯上往上爬：从自给型农业到种植诸如水稻、玉米、小麦、大豆等经济作物到富含蛋白质的肉类，并且向国际市场拓展。有环保人士尝试去劝农民不要有这么大的野心，但他们的努力就跟他们劝农民不要往城市里跑一样无力。<br>农村的生活一去不复返了。除非有灾难性的气候变化把我们赶回那个时代。关于人口变迁的文献经常提到“明亮的灯光现象”，说正是灯光的诱惑使得人们搬到城市。由于有了军事卫星成像技术，我们可以从太空中看到这些灯光了。我们看到夜晚的地球，在近几十年里，在各个大陆上都洒满了闪亮的灯光，在大都会里则最为闪亮，在不同的大都会之间则可以看到被交通线点亮的灯光纹理。这些灯光所编织成的网络显示着一个信息：这不仅仅是一个充满活力的星球，而且是一个文明的星球。</p><p>到底是什么力量可以点亮这么多的灯光？<br>有关本章节的更新、附带资料以及插图。</p><p>]()</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用户体验&amp;可用性测试框架整理</title>
      <link href="2017/09/26/2017-09-26/"/>
      <url>2017/09/26/2017-09-26/</url>
      
        <content type="html"><![CDATA[<p><strong>用户体验&amp;可用性测试</strong></p><p><img src= "/img/loading.gif" data-lazy-src="/images/UT.jpg#alt=%E2%80%9C%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C&%E5%8F%AF%E7%94%A8%E6%80%A7%E6%B5%8B%E8%AF%95%E2%80%9D"></p><p><strong>框架整理</strong></p><p><img src= "/img/loading.gif" data-lazy-src="/images/UX.png#alt=%E2%80%9C%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C&%E5%8F%AF%E7%94%A8%E6%80%A7%E6%B5%8B%E8%AF%95%E2%80%9D"></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【地球的法则】第二章</title>
      <link href="2017/09/23/2017-09-23/"/>
      <url>2017/09/23/2017-09-23/</url>
      
        <content type="html"><![CDATA[<p>[<br>第二章<br>城市星球</p><p>在夜幕下，<br>威廉斯心中产生了一些对安克莫破城（Ankh-Morpork）的想法。<br>这不是一座城市，<br>它是一个过程，<br>它是改变方圆几百英里范围内土地格局的一块重地。<br>无数从未见过城市的人也会终生为城市工作。<br>数千英亩的绿地都是属于这座城市的，<br>森林也是属于它的，<br>城市吸纳了一切并将其消化……<br>而后，<br>从养家禽的笼子里排出粪便，<br>从烟囱里排出煤烟，<br>还有钢铁，平底锅，以及各种拿来做食物的器具。<br>还有衣服，时尚，思想，有意思的恶习，歌曲，知识，<br>以及一种被称为文明的东西——假如从正确的角度来看的话，<br>这正是文明所指。<br>它指的就是城市。</p><p>——特里·普莱切特《黑夜巡逻兵》</p><p>PART   1   农村人口迁入城市的意义</p><p>城市是财富的制造者，从来都是如此。城市也是人口聚居地，也从来都是如此。正如农业使得地球可以承载的人口数量大大增加一样，城市也发挥着类似的功能。勒布朗认为，随着城市化的发展，由于 “持久的战争”而导致的人口死亡比例在下降，因为 “当城市人发明了工具并且改良了技术使得农耕变得更加高效髙产之后，更多人可以选择放弃农耕生活而居住在城市里，于是城市规模随之增长。从某种程度上讲，这就解决了农村里经常发生的资源人口压力”。<br>人类在过去一万年时间里一直在往城市流动，并且这种流动业已成为一股洪流。1800 年，全世界只有 3 % 的人口居住在城市，1900 年，全球城市人口占 14%; 2007 年，地球上有 50%的人口居住在城市里。也就是说，我们跨越了一个边界线，全球居民从以前大部分居住在农村变为今天大部分居住在城市，并且这一转变是飞速到来的。地球现在就是一个城市星球了，并且这一转变会让地球变得更绿。我接下来就会讲到原因。这个世纪的环保行动要得以开展，其前提是我们要真正理解了城市里正在发生什么，以及我们可以在这一变化之下做些什么。<br>按照目前这种城市人口增长的速度，到了 21 世纪中叶，将会有 80%的人居住在城市里。全球范围内，平均每周就有 130 万人搬迁到城市里。毎年累计就有 7000 万，并且在不断地增长。这是人类历史上最大规模的人口迁徙。</p><p>随着城市化的发展，农村人口有着向城市迁移的趋势。将会有越来越多的人在城市居住。</p><p>但到底为什么会这样？</p><p>“在农村，妇女只能依从于她的丈夫和亲戚，做点农活，或者是唱唱歌。假如她搬到城里去，她可以找到一份工作，或者开一个店，还可以送孩子去上学。”这是全球妇女基金主席卡维塔•拉姆达（KavitaRamdas) 在 2001 年一次会议上的发言。听到这个演讲后，我之前关于农村的那种甘地式的浪漫主义想象被彻底打碎了。自从那次听完她演讲后，我每次遇到有人从农村回来，就会<br>问他们在农村看到了什么变化。所有人的回答都提到了一点：不管什么地方，村子里的人都在往城市里跑。<br>人口学家会谈到“推”和 “拉”这两种导致人们搬迁到城市的动力。所谓“推”，可以这么理解：农村的生活非常的无聊，又辛苦，又贫穷，很多东西都没有，大家都直面彼此，非常危险，并且没有变化。土匪会骚扰你，天灾人祸会埋葬你，疾病会纠缠着你，最要命的是，你附近没有可以获得解救的地方。你也许非常卖力地干活，但一旦天气变化，你往往颗粒无收。好吧，哪天你去到城市里，你就明白“拉”的意思了。城里的生活是让人激动的，工作也不会那么累，并且得到的报酬更髙，你爱搬到哪里就搬到哪里，爱换什么工作就换什么工作。你有隐私的空间，不至于陷于无助之境。另外，你还有往上流动的空间。假如你是从农村来的，你会为了获得城市的这些好处，即使居住在贫民窟也留在城市吗？不用问，答案都是肯定的。文艺复兴时期的德国人说：“城市的空气让人变得自由。”也许现在城市的魅力比那时候更大，历史记录下这一点。</p><p>推：农村的基本设置不够完善，生活没有城市便利。<br>拉：而城市的基本设施完备，生活便利，吸引农村的人往城市跑。<br>具体例子：武汉作为一个发展还不错的城市，聚集了湖北省的大多数人。</p><p>从农村到城市的迁移就是一种解放。《纽约时报》 （New York Times） 2005 年的一篇文章说道：<br>甘地意识到，农村化能使得印度人回到殖民时代之前的状态。但曾协助草拟印度宪法的贱民 B ·R·安伯达（B. R.Ambedkar) 则持不同的看法，他认为 “农村是一个粪坑，农村是愚昧之乡，短视之乡，以及地方小团体”，并且呼吁贱民往城市里逃跑，以求在城市里获得匿名。<br>同样是这篇文章，还提到了从农村搬迁到城市里的最重要一个理由 — 印度有 60 万个村庄，村里的人要搬走，就得去到像苏拉特（Surat) 这样的有 350 万居民的城市：<br>拉 杰 什•库 马 尔 拉 格 哈 为 亚 • 圣 托 奇 （RajeshKumarRaghavji Santoki) 今年 28 岁，他在家种地已经一年，但由于水源匮乏不得不放弃。搬到苏拉特一年后，他每个月赚得的工资比他在农村种地的父亲一年赚得的 500 美元还要多。现在，他有了一套房子， 一辆摩托车以及一辆小货车。<br>想象一下，假如拉杰什的行为被 9 亿的印度农民 — 他们占印度 13 亿人口的七成 — 所复制，或者被全球 28 亿依然居住在农村的农民所复制，会发生什么。当城市的各种机会变得越来越有吸引力的时候，同一时期很多农村的环境则变得越来越艰难。土地因为过度开垦而丧失养分，随着后代的增加，人均分得的土地面积在减少，另外则是经常发生的村民之间的冲突。我有很多生活在发达国家的朋友认为农耕生活更有利于身心，更有机，但实际上它是一个贫穷的陷阱，还会导致环境的灾难。当那些农田被遗弃之后，周围的树木以及灌木也没有人去收拾拿来当柴火，于是当地生态反而得以恢复，野生动物也不再被猎杀。</p><p>这里贬低来了农村的地位。<br>不是很认同，一是不能满足人类对食品的需求。<br>再一个人口迁入城市后对环境造成的污染（汽车尾气，生活垃圾等）会增大环境的压力。</p><p>PART   2   国家发展层面上农村人口迁入城市</p><p>在发达国家，例如北美和欧洲，来自农村的“推”以及来自城市的“拉”二者效果不一样，但它们都非常有效果。卢 • 里 德 （Lou Reed) 就曾这么唱过：“生活在小乡镇/就是沦陷在小乡镇/那里只有一个好处/你恨它，恨不得赶紧离开它。”在美国北部髙原的大平原上，有像法戈、俾斯麦以及格兰德福克斯那样一些非常活跃的城市，但草原上其他地方则在纷纷被遗弃。只剩下鬼城以及正在毁坏的村舍。《国家地理》（National Geographic)杂志说：“看到的是万物在凋零，教堂被遗弃，学校倒闭，乡镇成为废墟。” 一些大型动物，例如驼鹿和山地狮子，则重新开始出现在草原上。整个草原地带从蒙大拿东部到得克萨斯州北部，正在演变成环保主义者非常渴望看到的“水牛公地”。</p><p>农村被荒废，生态得以恢复。</p><p>在发达国家，例如美国，人口迁徙的趋向是从无聊、孤独的地方跑到热闹、繁忙、令人愉悦的地方 — 也就是海岸、阳光以及高度城市化的被称为大都会的地方，例如像位于东海岸的从波士顿到弗吉尼亚州的里士满那样的漫长地带，或者是像我所居住的位于西海岸的从旧金山到内华达州的里诺 — 从滨海到雪地 — 这样的宽广地带。环视全球所有发达国家，那些曾经一度非常繁华的渔村现在也变得荒芜了。但捕鱼业则发展得更为迅猛，不过，今天的捕鱼业是搬迁到以城市为基地的渔业大船上进行了。当年苏联解体之后，年轻人纷纷从曾经获得政府补助的俄罗斯中部以及东欧的很多小村庄里离开，没有年轻人，那些村庄也失去了未来。</p><p>年轻人不愿意待在无味的农村里而是向往城市的繁华和便利。城市整合了劳动资源形成了行业。</p><p>但更主要的流动不是发生在欧洲或北美。美国有 49 座人口超过 100 万的城市，中国有 160 座。自 1950 年以来，中国有 3 亿人搬迁到了城市里，未来几十年，预计还将会有另外 3 亿人搬迁到城市里。也就是说，中国有将近一半的人口在流动。这一现象在发展中国家非常普遍。<br>有历史学家说：“人类文明就是发生在城市里的。”（英 文 里 “文明”与 “城市”两个词有共同的拉丁语词根 civilis，它们跟公民、民事、市民等有密切联系。）我虽然住在加州，但我经常阅读《纽约客》（New Yorker)和 《纽约时报》，就像法国人会经常阅读《巴黎竞赛报》 以及英国人会阅读伦敦的报纸一样。任何一个国家，你都可以从它最大的城市看出其特征，通过检视其最大城市的发展，去了解这个国家的历史发展。我所认识的大多数人对于世界的想象无非就是伦敦、纽约、巴黎和柏林 — 这些都是最大的西方城市。诚然，100 年前，这些都是世界上最大的城市。<br>1900 年，伦敦就已经有 650 万的人口，纽约有 420 万，紧随其后的是巴黎、柏林、芝加哥、维也纳、东京、圣彼得堡、曼彻斯特以及费城。当时，东京有那么多人口是唯一让我们觉得意外的例子。<br>50 年后，到了 1950 年，世界人口最多的 10 大城市的人口翻了一番。同时，上海、布宜诺斯艾利斯以及加尔各答则挤进了 10 强。又过了 50 年，到 2003 年的时候，当初人口最多的 10 大城市人口则增加到原来的 3 倍。但相比之下，这些都是最小的变化。现在人口最多的城市依次是：东京，3500 万；墨西哥城，1900 万 ,纽 约 ，1800 万，圣保罗，1800 万，孟买，丨 700 万 •德 里 ，1400 万，加尔各答，1300 万，布宜诺斯艾利斯，1300 万（上海，1300 万；雅加达，1200 万。所有这些大的数字背后都意味着大的事件。根据联合国的预计到 2015 年，全球人口最多的城市排名将会增加孟加拉的达卡、尼日利亚的拉各斯，同时，卡拉奇、开罗、马尼拉、伊斯坦布尔、利马、德黑兰以及北京的人口数量也正在迅速赶上来。<br>整个趋势是非常明显的。“西方的崛起”已经告一段落了。现在的世界跟 1000 年前的世界看上去很像，那时候世界最大的 10 座城市分别是：西班牙的科尔多瓦、中国的开封、土耳其的君士坦丁堡、柬埔寨的吴哥、日本的东京、埃及的开罗、伊拉克的巴格达、伊朗的尼沙布尔、沙特阿拉伯的哈萨，以及印度的帕坦。正如瑞典统计学家汉斯•罗斯林（Hans Rosling) 所讲：“世界将再次变得正常起来，它将会是一个亚洲的世界一 - 世界从来都是这样，只是过去的 1000 年发生了变化。那里的人们正在非常卖力地工作使这个图景成为现实，而我们则只是非常卖力地在消费。”</p><p>发展中国家的城市开始发展，这些国家大多数都在亚洲。这里的人们在拼命的工作，而西方国家则是享受着比较成熟的城市化所带来的一切便利。</p><p>PART   3   中小城市的发展</p><p>假如我们只是看到世界人口超过 1000 万的最大的 24 座城市，那也许会有些局限。真正巨大的改变是发生在那些被联合国称为小城市（人口少于 50 万，世界上一半的城市居民居住在这样的城市）以 及中等城市（人口 在 100 万到 500 万，世界上有 22 % 的城市居民住在这样的城市）的地方。联合国的一份报告指出：“这些地方往往是家庭以及个人的社会关系发生转变的地方，这些城市可以为进城的居民创造一些经济链条，让他们更好地融入城市生活。这些城市可以为农村进城者提供脱贫的‘第一步’，同时也可以成为去往大城市的大门。”<br>马克思主义学者麦克. 戴维斯 （Mike Davis) 在他 2006 年出版的《布满贫民窟的星球》（Planet of Slums) —书里讲到了这个问题：<br>在非洲……城市发展之前一直只是偶尔像超新星爆发那样，产生了像拉各斯 （其人口从 1950 年的 30 万增长到现在的 1000 万）那样的超大城市。现在，有一些小城市和绿洲，像努瓦克肖特、瓦加杜古、杜阿拉、塔那那利佛以及巴马科这些城市也已超过了旧金山城市或曼彻斯特的规模。在拉丁美洲，之前一直是主要的大城市主导了人口的增长，但现在一些二级城市，如蒂华纳、库里提巴、特木科、萨尔瓦多以及贝伦都在蓬勃地发展。<br>换言之，未来将有更多的消息来自一些西方国家从没有听说过的城市。发展中国家目前所出现的城市化进度以及规模是历史上不管在欧洲还是在北美都没有出现过的 — 这一次的城市化比西方国家所经历过的城市化快 3 倍，规模则是西方的 9 倍。在我们关注的视野以外，整个世界都正在被改变。</p><p>PART   4   城市寿命</p><p>城市是所有人类组织里最长寿的。现今最长寿的公司分别是瑞典的斯道拉索 （StoraEnso) 以及日本的住友（Sumitomo) 集团，他们分别拥有 700 年和 400 年的历史。最古老的大学，分别位于博洛尼亚以及巴黎，则只有 1000 年历史。存活至今最古老的宗教是印度教和犹太教，他们也才有 3500 年历史。但杰里科城则有 1.05 万年的历史，位于其隔壁的耶路撒冷也有 5000 年的历史，并且一直在扮演着重要的角色。虽然历史上它曾 36 次被占领或摧毁，也曾经历了前后 11 次从一种宗教信仰变为另一种宗教信仰。很多城市因为不再重要而死亡或走向没落，但也有些城市是几千年里都繁华不断。<br>我以为，城市之所以得以保持活力存活在世上，是因为城市是变化得最快的组织。在欧洲，城市每年因为拆迁或新建房子而消耗的物料就占据了城市建筑物料 （建房子、道路以及其他工程）总消耗的 2 % 到 3 % 。事实上，可以说每 50 年，城市的面貌都会变得焕然一新。在美国以及在发展中国家，这一速度则更快。尽管城市在物理上会经历那么多的变化，但是，城市的某些深层次的东西还是恒久不变的。正是由于地理、经济、文化上的一些因素的组合，使得一座城市，哪怕是被战争（例如华沙、东京）或 大 火 （例如伦敦、旧金山）所摧毁，城市还是会被重建起来，并且保持其原有的身份认同。</p><p>物质城市在不断变化，而精神城市则一直存在，甚至当物质城市遭到破坏时，城市还能重新建立起来。我认为这是一种城市内在的精神，更是一种城市文化的体现。</p><p>PART   5   城市解决贫困问题及城市发展的潜力</p><p>城市是非常昂贵的，无论从环境上还是从经济学上来讲都是如此。但这样的昂贵是值得的。“城市可以让一个国家变得富有起来。那些城市化很高的国家往往能提供更髙的工资，更稳定的经济以及更强的机构。高度城市化的国家，他们更能抵抗震荡的全球经济。”联合国人居计划（UN HABITAT) 的报告是这么说的。他们也是从全球自 1978 年以来不断增长的城市人口得出了这样的结论。<br>与快速城市化的观点 — 不管好坏 — 背道而驰的是，2003 年由联合国人居计划发布的《贫民窟的挑战》这份调查报告里就第一次提出了相反的观点。这本书所洋溢出来的半保守的乐观主义则来源于作者的实地调査，他们在全球各地的贫民窟里一共作了 37 个调査。他们不是仅仅收集数据或套用现有的某个边缘的理论来解释，研究者真的是踏进了贫民窟的住宿区里，跟这些居民聊天。回来后，他们得到了意外的收获：“城市在创造新的财富模式方面是更为成功的，在城区里提供服务更为便宜，甚至还有专家这样建议：要解决贫困问题，唯一可实现的方法就是把人搬迁到城市里去。”</p><p>这里用到了实景调查的方法，通过聊天获得了很多有用的信息。城市能够更有效率的解决贫困问题。</p><p>2007 年，联合国人口基金会发表的报告带有一个醒目的标题“释放城市增长的潜力”（Unleashing the Potential of Urban Growth)。报告的第一作者，加拿大人口学家乔治•马田（Goerge Marline) 写道：“城市里聚集了贫困，但城市也代表着摆脱贫困的最大希望。”他在一次演讲里提到说：“一个国家 80%到 90%的国民生产总值的增长都是在城市里发生的……全球半数人口居住在城市，<br>但城市仅仅覆盖了地球 2.8%的陆地面积。在城市里，因为集中化以及高密度，使得提供社会服务变得简单。不管是教育、医疗、卫生、饮水还是用电，所有东西的成本平均到每个人头上就变得可支付，并且更容易实现。”<br>城市从来都是因为“经济扩张”而受益的 — 髙密度使得经济活动的速度得以加快，而近些年兴起的全球化则进一步加速了这一步伐。电信沟通以及市场比以往更容易地跨越国家的边界。在某些发展中国家，他们的政府也许不再被信任，但人们可以想到办法来解决。救援组织就直接到城市里，因为那里才是最需救助的地方。而跨国公司则直接到有工人以及新兴市场在崛起的地方，那就是城市。<br>全球最大的 40 个城市群落里居住着全球 18%的人口。都市理论家理査德 • 佛 罗 里 达 （Richard Florida) 这样写道：“这些地区包揽了全球 2/3 的经济产出，以及 90%的专利创新。”国家是依据边界划分的，而城市则是一些相互紧密连接的点，使得毎一个城市从某种程度上都成为了世界城市。此外，文化的多元性、彼此间的经济往来以及人口流动，使得城市之间紧密相连。全球范围内，人们都在为找到工作而迁徙，甚至于穷人也不再是把他们的选择仅仅放在自己的国家内。同时，也将出现一个规模相当庞大的全球都市居民，他们说自己生活在不同的城市（实际上就是生活在机场）。这些逍遥主义者包括了成千上万的专业人员以及很多富豪 — 估计全球范围内百万富翁人数总计超过 1000 万。城市的增长加剧了全球化，而全球化则为城市提供更好的养分。在 1980 年到 2004 年期间，全球贸易总额从 5800 亿美元上升到 6 万亿美元。（这一增长速度在 2008 年全球金融风暴期间遇到了障碍。）迅速增长的财富也使得一些地方出现了城市国家的复兴。新加坡以及迪拜的独立，就可以跟古代的雅典与 15 世纪的威尼斯相提并论。</p><p>城市具有很大的发展潜力，在某种意义上促进了全球化的发展，同时也使城市自身得到了发展。</p><p>PART   6   城市规模和城市个人效率之间的关系</p><p>有一个新的理论正在颠覆着我们关于什么是城市以及城市可以变成什么的想法。我们知道有一种现象叫克莱伯法则（Kleiber’s Law) , 它认为有机体将随着其规模的增大而导致其新陈代谢效率增高，从齣鼯到大象都是如此，城市也是如此。物 理 学 家 乔 佛 里•韦 斯 特 （Geoffrey West) 说：“城市的最基本法则之一就是，当我们把人聚集到一起之后，城市本身会变得更高效。因为毎个人所需的东西会变少，这在生物学上也是同样的道理。随着动物体形变大，它们保证每一个组织运作所需的能量也会减少。”不同的是，有机体随着体形的增大，其移动的速度也会减慢（不妨想象一下齣鼯的疯狂跳动的心脏跟大象那慢节奏跳动的心脏），而城市的行动速度则会因为规模增大而加速。<br>这是来自于一篇标志性的研究论文的信息，这篇论文名为“增长、创新、忙大以及城布的生活节奏”（Growth, Innovation, Scaling, and the Pace of Life in Cities)，它刊登于 2007 年出版 的 《美国国家科学院院刊》 （Proceedings of the National Academy of Science）上，而乔佛里•韦斯特就是其中一位作者。研究者考察了不同城市各种各样的东西，包括专利、个人收入、电缆长度等，他们发现随着城市规模的增大，城市的创造力也会随之增大，但这两者之间的联系是 “超线性的”：当城市规模翻番的时候，其创新能力不仅仅是翻番。《圣塔菲通信》（Santa Fe Institute Bulletin)有一篇文章对这一研究进行了总结，文章写道：<br>人们变得更忙碌了，个人的效率也提高了（当城市规模翻番时，个人效率提升了 15%)。人们步行的平均速度也在加快。商业、公共空间、夜店，以及广场都要消耗更多的电。城市吸引了更多的投资者、艺术家、研究者以及金融人才。财富在增长，同时，住房的成本也在增长。<br>城市的增长会带来问题，但城市会通过加速的创新去解决这些问题。前面那份报告的作者说：“随着城市规模的增长，不仅仅生活的节奏在加快，而且必须要有新的适应和创新，才能维持城市的发展。”<br>该报告结束时写道：“我们的调査显示，由创新所驱动的增长意味着城市不再有规模的限制，这就是有别于以往的都市经济学的在量上的差别。”换而言之，韦斯特这样和我说：“城市可以不断地增长下去，看看蒸汽机、汽车的发明以及数字革命吧。这些发明的共同点是它们使得城市可以继续增长下去。”假如我们说城市是效率以及创新的中心，《环护》 杂志认为：“要建设环境可持续发展的社会，我们就需要建设更大的城市。也就是说我们需要更多的大都会。”（我 是 《环护》杂志的特邀编辑。）</p><p>城市的规模不断扩大，使得个人的效率也在提高，同时提高的还有城市发展所需的物质条件以及个人的生存成本，这就必须要有新的适应和创新去满足城市发展的需求，从而进一步扩大城市的范围，使城市能够持续增长下去。</p><p>彼 得 • 阿 克 洛 伊 德 （Peter Ackroyd) 所 写 的 《伦敦传记》（Longdon The Biography，2000) —书中引用了威廉•布莱克（William Blake) 的一句话“没有边界就没有进步”。并且，彼得分析说，布莱克得出这一结论是在他沉浸于伦敦的时候。“不管你走到这座城市的哪个角落，你都会看到不一样的东西，甚至可以说，城市就是由差异所组成的，城市就是其差异的总和。”驱动着城市的创新引擎一一同时也包括城市的财富引擎 — 是城市的多元差异。城市的多元程度越髙越丰富，特别是当它们碰撞在一起的频率越大时，事情就会变得更好。那些最有效的城市往往就是有多种文化、多种语言、多个聚居点，并且拥有多种都市体验，任何市民皆可参与的。从这一视角来看，正是大量富人以及穷人的同时存在，二者的交融使得解决贫困的方法得以浮现。</p><p>存在差异，是多元化的，有着丰富体验的。城市因为有差异才能存在。</p><p>PART   7    城市起源</p><p>关于城市起源的理论普遍认为，城市起源于农业：有了剩余的食物，才使得一部分人可以从事专业化的生产。假如没有农场产出食物，就不可能有补鞋匠、铁匠以及公务员这样的群体出现。简 •雅各布 （Jane Jacobs) 在她所写的《城布经济》（The Economy of Cities, 1969) 一书中则反对这一观点，她认为：“农村经济，包括农业经济，是直接建立在城市经济以及城市生产基础上的。”一开始是如此，到今天依然是如此。例如大多数的农业创新，都是来源于城市。当罗马帝国垮台的时候，整个欧洲的农业也垮台了。12 世纪时，人们发明了作物轮作的方法，一开始是在欧洲的城市里发明出来的，经过两个世纪之后才传播到边远的农村。到了 18 世纪，利用苜蓿这类的饲料作物来对土壤进行固氮的方法也是首先在城市的菜园里发明出来的，并且这一方法带来了革命性的改变。20 世纪 20 年代的时候，因为杂交玉米的发明，美国的农业出现了繁荣的发展，而这一发明也不是在农田里发生的，而是在位于康涅狄格州的纽黑文市的一个实验室里发生的。<br>那么假如不是农业催生了城市，又是什么催生了城市？简雅各布认为应该是贸易。而我基于“持久的战争”这样一种历史观进行推测，是防御催生了城市。我敢打赌，城市的第一个发明，会是用于防御用的城墙，之后就是一些长方形的建筑，使得最大数量的人群可以在最小范围的城墙内居住。（要知道，田园以及狩猎采集者 — 包括蒙古包、印第安人的帐篷、纳瓦霍人的泥盖木屋、印第安土著的锥形窝棚、非洲的茅草屋 — 他们的房子是圆形的。）就如古代的美索不达米亚城镇居民一样，美国西南部的普韦布洛农耕部落就居住在数层楼高的城堡里，并且在城堡的外墙上没有任何朝向外面的开口。要进入的话就只能借助可伸缩的梯子。当白人到来以后，他们不再面对游牧的阿帕奇部落或者是纳瓦霍部落的袭击，于是普韦布洛部落的人都分散到各地去居住了(在一些像陶斯或阿科马那样的专门用于旅游的居住点，还有部分髙密度的聚居区）。都市研究学者刘易斯•芒福德（LewisMumford) 认为：“城镇最早的意思，就是指一个封闭的或者是设防的地方。”</p><p>城市最早被用作防御。</p><p>由此看来，农业似乎是那些早期居住在封闭的围墙里的居民的一个发明，他们借此才能使得自己可以得以继续发展壮大，由乔佛里•韦斯特的理论可以推断出这样的结论。今天的超级大都会也需要同样的创新。2006 年联合国人居署发表的一份报告里写道：<br>城市是农村发展的引擎……当连接城市与农村之间的基础设施得到改善之后，会使得农村的生产效率得以提升，并且可以让农村居民更容易接受到教育、医疗保健、市场、信用、信息以及其他服务。另一方面，当城市与农村之间的联系得到加强之后，也可以使城市受惠，因为农村会对城市里的商品和服务有更多的需求，另外对农产品进行加工也能产生附加值。没有其他东西比一条通向城镇的好公路或者是一个好的手机信号站更能拯救农村。</p><p>城市资源拯救农村。</p><p>当越来越多的人从农村迁往城市之后，留在村里的农民可以从少量土地上的自给型农业转向在优质土地上进行更为集中式地种植经济作物。这对于城市是更好的，对于当地的居民也是更好的，对于当地的天然环境也是更好的。土壤含水层会恢复过来，森林也会恢复过来。人们在巴拿马作了一个研究，去了解当农民从刀耕火种的农业走向城镇之后，当地会发生什么变化：“随着人们迁走，次生林长起来了。最重要的是，一旦猎人远离这片土地，所有在原始森林里可以找得到的鸟类和哺乳动物都出现在次生林里了。”每一年新生的热带雨林数量比同期砍掉的要多 55%，这是联合国于 2005 年发布的一个关于全球森林的数据：每年有 3800 万亩的原始森林被砍伐，但是同期有 21 亿亩的次生林在曾经是耕地的地方又长了起来。<br>城市可以带来的另外一个创新体现在对自然生态系统的保护、培育以及恢复方面。当人们居住的环境变得更加城市化之后，人们会更加关注环保。而随着城市变得更加国际化，城市里的人也会从国外吸取环保方面的想法、实践甚至是需求。假如我们鼓励这些行为发生的话，那所有这些，都可以帮助保护人口日益往城市流动的农村，使得农村重新恢复生物多样性。</p><p>农村人口流入城市保护环境。</p><p>PART   8    城市的贫民窟<br>从农村走出来的农民迁到城市之后，他们把在农村里学到的技能和价值观带到城市里的贫民窟。他们一直都在建房子，而且他们用非常低廉的成本就可以造出一所房子。另外，跟家族成员以及邻居合作去做事情对于他们来讲也是家常便饭，即使没有基础设施也不要紧。这些都是他们所需要的能力，有了这些，他们才能建造出我们这个时代最富有创意的城市 —贫民窟城市— 那些正在为全球 10 亿贫民提供居所的城市，未来这-数字将超过 20 亿。住宿条件通常都像是排污道，并且带有人类的排泄物的臭味。那里通常不会有卫生设施、不会有饮水供应、没有电，也没有公共交通工具可以到达。每个人都居住在残破的棚屋里，这家的墙紧挨着那家的墙，每个房间里都住满了人。贫民窟城市有时候会是绵延数英里长，它们的出现没有经过规划，也没有人去管理，并且通常是出现在被认为不适宜居住的地方，例如在沼泽地里，在洪泛区，在陡直的山丘上，或者是城市里的垃圾堆旁边，甚至是沿着某条高速公路出现，又或者是挤在某条繁忙的铁路线边上。<br>贫民窟十分拥挤，而且环境比较恶劣。<br>但是贫民窟城市却是充满活力的。那里的狭窄的街道上有热闹的市集，有小吃店、酒吧、咖啡店、理发店、牙医、教堂、学校、保健俱乐部、用手机进行交易的小店、五金店、饰品店、服装店、电子产品店，以及卖盗版碟的店。这是最密集的城市生活的体现。在这样的地方汇集了最多的社会资本，因为居住在贫民窟里的每个人对其他人都非常熟悉，不管他们是否希望如此。你看到的不是被贫困压迫得沮丧的一群人，而是正在努力以最快的速度摆脱贫困的一群人。<br>居住在贫民窟的人在努力摆脱贫困，而不是被压迫的十分沮丧。</p><p>于世界任何其他城市。这座城市有一半是贫民窟，但是它却创造了印度 1/6 的国内生产总值。《最大化城市》 2007)的作者苏凯图•梅塔(Suketu Mehta) 写道：芒果树，向东边望去还能看到小山 — 但为什么他们却抛弃农村来到了这里？是因为他们希望有朝一日，他们的长子可以在城市北边的米拉路上买到两个房间。另外他们希望小儿子则可以做得更好，能够到新泽西生活。不舒适也是一种投资……外甥对计算机开始感兴趣，并且很有可能会去美国。他对此感到很满意。盂买就是依靠这些看不见的互相帮助的网络维系起来的。在孟买的一个贫民窟里，你看不到单独的个体，只能看到有机的整体。在这个有机体里，你能看到一层一层的忠诚和责任，但是最小的单位就是家庭，一家对另外一家的忠诚和责任，但这样的事情不会在个人层面发生。扰，并且你可以自由选择配偶。对于一个生活在印度农村的年轻人来说，孟买的诱惑不仅仅是金钱，他们还向往着城市里的自由。Neuwirth)写 的 《影子城市：十亿贫民窟居民，一个新的城市地球》（Shadow ），我才看到真实的状况。他的研究方法是先学习当地语言，而后直接到贫民窟里住上几个月。他住过了罗奇哈 （里约热内卢 700 多个贫民窟中的一个）、基 贝 拉 （位于肯尼亚首都内罗毕旁边的一个有 100 万人口的贫民窟城市）、三嘉甘地那革尔（位于孟买的一个贫民窟）、苏坦贝里（位于伊斯坦布尔外围的一个已经充分发展的贫民窟城 rfr，人口有 30 万）。在每一个看似吓人的贫民窟里，纽维特发现，他可以直接走进去，问问当地人，找个地方住下来，马上就可以结交朋友了。在基贝拉，他是方圆好几英里范围内唯一的白人，但没有人关心这件事。他只是怕过一次，那里约的警察对他进行恐吓<br>住在贫民窟的人消除了一定的差异，这里的人能忍受艰苦的环境，并且一部分人甚至向往这种自由的无拘束的环境。<br>贫民窟里非常糟糕的住宿环境从来都不是那里的居民担心的主要问题。可悲的是，当政府以及理想主义的建筑师希望为这些人提供公共居所的时候，他们建的房子就不可避免地成为了贫民窟里最糟糕的地方。那些在贫民窟盖房子的人对于自己盖的房子是有自豪感的，并且他们一直在改善着这些房子。纽维特发现，贫民窟的居民最为担心的两个问题是：房子是否与工作地点离得比较近，以及他们的房子是否会被拆迁掉（也就是联合国所说的居所安全）。他们也不担心没有电话：每个人都有手机或可以找到打电话的地方。医疗救助也有，食物也有，而农耕生活则留给了农村的人们。在每一个贫民窟里需求最大的是基础设施，包括用水、用电以及卫生设施。这里也并不是一些如人们想象那样的罪案高发地带，有些贫民窟会被外来的邪恶势力所骚扰，那是因为他们没有自己的警察保障。虽然贫民窟居民会参与一些被联合国称为“在树木茂盛的郊区未曾出现过的文化运动以及高度的团结”，但是他们除了会捍卫自己居住的社区利益以外别无更多的政治诉求。<br>贫民窟最需要基础设施的建设，他们对政治没有诉求。<br>组织的犯罪圈子里，最后他爱上了这座城市。他就是格里高利•戴维•罗伯兹(Gregory David Roberts〉，《项塔兰》（SAantoram) 的作者，他所描述的故事有像雨果那样的紧凑以及细致，但其经历的深度则是雨果不曾有过的。贫民窟里的生活会不断地经历各种关系、危险、索求、情感、服务和冲突，这些东西给人的冲击是如此强大，使人迫切想离开。但每次他离开之后又还是回到了这里，因为他怀念这里所发生的各种戏剧性的故事。纽维特则发现了一种类似的现象：有些人在贫民窟里赚得足够多的钱就离开贫民窟，搬到居民楼里去住。但是他们发现新的生活很无味和孤独，于是就回到贫民窟，以找到那种激动以及社区的情怀。在孟买，有些从贫民窟被安置到政府提供的免费住房的居民希望回到贫民窟。有人说：“之前，在我们家周围，总能找到四个同伴，我们会坐在一起聊天。现在则好像被关进鸡笼里了》”（但住到免费住房的妇女则因为有了厕所以及自己的私人空间而感到髙兴。）<br>当适应了贫民窟的生活后，一些人很难摆脱这样的生活，贫民窟有一种来源于人性的魅力。<br>社会融合度充满希望的贫民窟充满绝望的贫民窟政府组织 “代表了一种新型的机构形态”。在城市以及乡村，他们可以填补“政府失效的一些空白”，另 外 “因为孟加拉的非政府组织接受国际捐助，他们正在按照国际做法来做事，这是连本地的私营机构也难以媲美的。”<br>发自民众的一种力量，这种力量在某种方面填补了政府不能掌控的一些东西。</p><p>PART   9   妇女发挥的作用以及宗教的发展</p><p>妇女在这个过程当中发挥非常重要的作用。联合国的这份报告中提到，社会型组织“通常是由贫困的妇女运作并控制，她们基本上是基于自助的原则建立某种社会型组织，虽然她们会接受来自非政府组织、教堂以及政治团体的捐助。”这样一种从农村走到城市的搬迁，带来的一个重要影响是，妇女的力量得以释放。那些提供小额信贷的人发现，这些贷款发放给妇女的时候最让他们放心。妇女也是住房契约的最负责任的管理者。《贫民窟的挑战》总结道：<br>“在很多情况下，是妇女在主导设计生存的策略，并且这些策略实际上成为了发展中国家的管治结构的一部分，特别是当正统的结构失效的时候。可是，每四个发展中国家当中就有一个是立法禁止妇女以自己的名义拥有土地或申请房贷的。”<br>把进城妇女从挑水以及拾柴这样的体力劳动里解放出来，是非常重要的，这份联合国的报告指出：“自来水管道也许比技能培训更能有效地使妇女可以被解放出来从事一些可以获得收入的工作。”<br>2007 年联合国发布了一份名为“在城市里成长” 的报告，报告中提到了一位 20 多岁名叫熙姆的妇女，她离开孟加拉北部一个小村庄，到达卡从事制衣工作：<br>这是她第一次可以摆脱她的丈夫、她丈夫的父母、她的村庄以及他们带给她的负担。她到这里几个月之后就可以养活自己的孩子了，而且她鼓起勇气回到村子里提出离婚……<br>熙姆现在更喜欢生活在达卡，因 为 “那里更安全，我可以赚得一份收入，过我自己喜欢的生活”。假如是在农村里，这一切都不可能发生，但是她想，当她变老之后她还是会回到农村去。她正计划在农村买一块地，然后在那里定居。</p><p>城市帮助妇女摆脱了农村的控制，获得了前所未有的自由，他们你能够够压缩能够通过自己在城里的劳动养活自己。</p><p>这样一种对农村的感情似乎是举世皆同的。《贫民窟的挑战》里提到：“那些一辈子都住在内罗毕的城市人，当你问起他们是从哪里来的，他们会说是从耐里 （Nyeri) 或 金 布 （Kiambu) 或爱德罗特’ (Eldoret) 来，虽然也许他们从没有去过那些地方。但当他们死去的时候就会被安葬到那些他们祖辈居住的地方。”这样一种对土地的灵魂上的情结可以化为一股力量，当对土地的爱化为对土地的保护时，就可以促成在发展中国家最终实现环境保护。<br>在贫民窟，宗教发挥着一种更强大的支持力量，这是大多数人没有意识到的。麦 克 •戴 维 斯 在 《布满贫民窟的星球》一书里写道：<br>伊斯兰民粹主义以及五旬节会（以及在孟买的希瓦吉邪教）他们控制着一些社会空间，有点像 20 世纪早期的无政府主义。在摩洛哥，每年都会有 50 万农村人口流向城市，并且其中半数都是 25 岁以下，像 “正义与福利”这样的伊斯兰运动势力则成为了贫民窟里实际的管治力量。他们会开办夜校，为那些受到政府不合理对待的人提供法律援助，为穷人购买药品，为朝圣者提供朝圣补贴，以及为死者家属提供葬礼补助……五旬节会则是第一个完全在贫民窟里出现的宗教…… 自 20 世纪 70 年代以来，它主要为贫民窟的妇女争取权益并且没有种族歧视，它已经成为了城市穷人自发组织的最大一个运动。<br>在 2007 年联合国发布的报告里，乔 治 •马 田 （George Martine) 提到：<br>“起初，人们认为快速的城市化将意味着理性、世俗价值以及非神秘化的胜利……可是……新生的宗教运动基本上是发生在城市里的运动……在中国，城市在飞速发展，宗教也迅速地找到了附着点。”</p><p>城市的发展推动了宗教的发展，通过宗教，贫穷的人可以获得更多的物质资源。</p><p>PART   10    贫民窟的建筑</p><p>在我看来，贫民窟里最震撼的景象就是随处可见钢筋从水泥墙的顶端探出来，随时都可以在上面添加新的结构。在那些用双手建起的高层建筑的顶层，总会看到有钢筋在那里，仿佛就是准备好总会有新的一层在未来某个时间被加上去。也许那是给亲戚建的，也许就是为了赚取一点租金。在今天的土耳其，你在人们家里随处都可以看到一堆一堆的砖块。每当人们赚得一点钱之后，他们就会去买砖块，而砖块并不会因为通货膨胀而涨价。当存到更多饯之后，他们就会建起一面或两面墙。而那些未完工的墙面也可以抵挡恶劣天气的侵袭。<br>而在那些新兴的贫民窟里，在那些不断面临被摧毁威胁的贫民窟里，拿来做建筑材料的包括板材、布、塑料、木材、平整的油鼓，以及最受欢迎的铁皮边角料。在 《影子城市：十亿贫民窟居民，一个新的城市地球》这本书里，罗伯特•纽维特写道：<br>让我们给塑料管唱一支颂歌吧，把荣誉献给预制好的窗户，让我们向旧式的板材，向批量生产的洗碗槽、瓷砖致敬。要给水泥以及煤渣砖致敬，要歌颂地位卑微的螺纹钢，还有可以快速变干的混凝土。最后也为容易操作的塑料线、容易安装的电器插座以及模块化的电话服务歌唱吧。<br>随着时间的流逝，这些墙会变得越来越坚固，房子也会盖得越来越高，建房子的人们也会逐步选用一些更为耐用的材料。贫民窟非常神奇的一点是，它们是随着时间的流逝不断地在加固和改善的，都是靠生活在那里的人们一点一滴地完成。那里的每一间房子都是这样盖起来的。甚至于整个社区也是这样建立起来的，在那些需要周详计划的人看来，贫民窟非常混乱。但是当我从一个生物学家的角度来看的时候，就会发现其实它们是有机生长的。<br>甚至是查尔斯王子也有类似的看法。他参观完达拉维的贫民窟之后，回到伦敦跟那里的观众说：“我在那里发现了一种潜藏的，似乎是直觉一般的设计方法，用那样一套东西，人们可以下意识地创造出一个有利于步行，可以用做多种用途，并且适应当地气候和材料的环境，这恰恰是那些千篇一律的水泥板建筑所缺乏的，可是我们今天依然在建那样的房子来安置穷人。”<br>据城市研究者说，贫民窟里的居民目前已经成为了这个地球上最主要的建造者。</p><p>PART   11    贫民窟居民的生活条件<br>而在那些更旧一些的贫民窟社区里，我们可以发现另外一种奇观。一些在泰国进行实地调研的研究者发现，曼谷所有的贫民窟家庭都有彩色电视机，平均每一户人家拥有 1.6 台彩色电视机……另外，几乎所有的贫民窟家庭都有冰箱。2/3 的家庭有 1 台 CD 播放器，1 台洗衣机以及 I.5 台手机。他们当中一半的家庭里有 1 台电话，1 台影碟机以及 1 辆摩托车。内卢贫民窟里的 750 位居民进行过采访。基于这些采访写成的《边缘化的神话》 —书指出，住在贫民窟里的人有着“像布尔乔亚那样的欲望、像冲锋的勇士那样的坚毅、像爱国者那样的价值信仰”。30 年后，到 2001 年的时候，她再次回到那里去采访当年的受访对象以及他们的孩子。她所看到的改变是巨大的。虽然贫民窟里的居民依然因为他们的居所而遭到歧视，但他们的识字率已经从第一代移民的 5 % ，上升到他们的孩子目前 94%的水平。现在所有人都住在砖瓦房里，并且有水电以及室内的卫生间。所有人都有了冰箱、电视、手机，以及洗衣机，并且他们相比起那些生活在里约其他地方的中产阶级邻居，更多的人拥有微波炉和电脑。有 2/3 的人离开了贫民窟，搬到更具合法性的地方去居住。而那些留在这里的人们当中，很多家里的墙壁都贴上了漂亮的瓷砖，并且配置了家具。以说是亚洲最大的贫民窟，可是这里相当活跃，并且可以说人们是成功地生活着……不过在那些被霓虹灯照耀的商店里，在路人的暗暗的眼神交流里，在茶馆里交叉的水烟管里，反反复复，都是同样的故事。这里每个人都在努力工作，每个人都在努力往上爬。”<br>    PART   12    贫民窟的非正式经济<br>贫民窟是伴随全球经济发展而出现的现象，但是人们没有注意到它，因为它从设计上就是会避免人们的注意的。贫民窟居民不会对土地或者房产有正式的拥有权，他们不会交税，他们不会去缴纳任何形式的授权费，他们也不会关注政府通过的汇率。但是他们在经济上有蓬勃的发展，他们互相收取住宿的费用，虽然他们对房子本身没有合法的所有权，他们彼此雇佣，并且彼此交易各种各样的货品，有些盗版的，有些甚至是非法的。这 就 是 “非正式经济“。    就像暗能贵给天体物理的理论带来巨大冲击一样，“非正式经济”相对于正统的经济学理论而言也是如此。这东西本来是不该出现的，但是它确实存在在那里，并且规模巨大。</p><p>极大的可见度的 。 一 个密集的社区所带来的社会资本就在此获得最大的收益。虽然他们没有正式的产权证，但是所有人都知道谁实际上拥有哪一栋房子，以及谁可以通过出租房间来获得租金。假如你可以教语言，或者是你可以造假的身份证或者有其他技能，都不需要做广告，你的客户就会找到你，但是官员则找不到你。联合国干 2003 年发表了一份报告，名 为 《贫民窟的挑战》，该报告预计，在发展中国家，有六成的城市就业都是发生在非正规经济里，并且非正规经济的表现与正规经济的繁荣有根本性的联系。从家庭作坊做出来的打印机打印出来的字印在送往旅馆的洗衣袋上，焦炭工用三轮车把炭运到铜匠那里，经理每天把孩子交给家庭托儿所，政府官员请工匠为他家筑上一堵新的安心墙……所有这些都显示了正式经济与非正式经济之间的复杂的网络和联系。最贫穷的贫民窟都是跟最富有的富人区紧紧挨在一起的看上去就像是一种怪诞的不公平，事实也是这样，但是这对于任何一个高密度的城市来说都是一种高效率的经济现象 — 因为经济上的供需靠得非常紧。用人、保姆、园丁以及保安，可以直接走路上班。</p><p>穷人有的是时间，但是他们没有钱；富人有钱，但是他们没有时间是他们就进行交换。我发现，那些很缺钱但时间充裕的人，他们花费时间的方式，比那些不缺钱的人花费金钱的方式，更·为有趣。对于非正规经济而言，原创性是司空见惯的事情。例如，在贫民窟里，很多人都在从事都市农耕：很多家庭以此节省开支，并且可以获得更好的营养，他们还可以到离家稍远一点的堆方去销售自产的农产品。在哥伦比亚的梅德林贫民窟里，“人们就在自己家第三层的天台上养猪，另外还利用切开的塑料瓶来种菜，直接挂在窗户的铁条上。”这是博客作者伊凡•佐克曼（EthanZuckerman) 的描述。车，他们在马路上的身影就跟他们在农村的田地里努力寻找合适的土地一样。单单是在达卡这座人口超过 1000 万的城市里，就有几十万的人力车夫。人力车夫每天需要给一个类似黑手党那样的组织（通常会跟某个政党有关联）交纳 1.35 美元，才能租下一辆人力车。人力车夫每拉一位乘客平均收费 3 0 美分，一天下来可以获得 1 美元的利润。他们的妻子也许可以通过敲砖赚得同样的收入，而他们的孩子则需要到垃圾堆里去淘宝。给学生，并且获得收入。正 如 克 莱 夫 •克 鲁 克 （Clive Crook) 在 《大西洋月刊》（Atlantic）上所写的：“这些付全额学费的学生，他们的家长相当的贫穷，反而非常愿意出钱让孩子上学。整体看来，这些每天只需 10 美分学费的学校，其教学成效反而比那些学费更高的学校做得好。”</p><p>些散布于全球的非正规经济没有受到金融风暴的冲击，反而成为避风港？还是那里的人们忍受着更大的伤痛？ （《华尔街日报》2009 年的一篇报告指出，在发展中国家，“人们走向非正规经济，因为那里成为了人们摆脱金融危机的保护伞”。）是不是有人因此而陷入到更深的犯罪经济的旋涡里？假如是这样的话，同期全球有组织犯罪是不是在上升？城市化进程是在加快还是减慢？ 2009 年 3 月，我的预测是：因为有更多人开始从事非正规经济行业，使得整个非正规经济将会走向增长；犯罪经济也会增长，因为他们从来都是最擅长利用混乱来行动的。城市化进程的速度则不会改变。我的预测会有多少是错的呢？</p><p>PART   13    贫民窟的基础设施以及和穷人交易</p><p>在正规城市里，基础设施也许是被隐藏起来的，但是在贫民窟里就不是这样。在贫民窟，你随处都可以看到四处伸展的电线，人们用电的时候就直接偷，看有线电视也是如此；还有无处不在的塑料管道，用来调配水源，都是非法安装的。这是一种自给自足式的基础设施 。 一 家名为美国能源服务公司(AES)的专门服务发展中国家的能源公司，于 2006 年时邀请我参加布宜诺斯艾利斯的一个会议。那家公司尝试将那些偷电的贫民窟居民变成每月支付电费的顾客，他们的实验一开始在委内瑞拉的加拉加斯进行。他们说，他们花了很长时间才跟贫民窟的居民建立了良好的信任关系，而这是做生意的前提。居民也发现，偷来的电总是不稳定，并且这个行为本身也“不干净”：不断变化的电流会经常烧坏家里的电视和冰箱。居民们还意识到偷电甚至是危险的：平均每个月有 4 个人会因为私拉电线而触电致死。</p><p>通过服务获取信任，通过改善体验得到收益。</p><p>AES 的人告诉我：“在贫民窟里有大把的钱可赚。”但是对于大多数的家庭来说，他们的收入是不稳定的，也就不能按月来交电费。于是 AES 就重新发明电表，改装后的系统跟当年英国在“二战”之后使用的一样。当你手头上有钱的时候，你就去购买一些类似钱币那样的东西，扔到电表里去，马上你就可以在一定期限内获得干净而且可靠的电力供应。为了增进与贫民窟社区居民之间的信任，AES 还邀请一些比较熟练的偷电髙手来安装新的系统。AES 是可信的，它的新客户也是可信的，可是该国总统查维斯反而是不可信的。起初，査维斯还支持这一项目，可是到 2007 年的时候，他把电力系统收归国有，并将 AES 踢出局。（AES 汲取了经验，并且带着他们的团队在圣保罗安装了一个类似的系统。）</p><p>获取新人很重要。</p><p>AES 是一个案例，它和很多其他公司一样，是受到了 C . K •普拉哈拉德(C . K . Prahalad) 写 的 《金字塔底层的财富》（The Fortune at the Bottom of the Pyramid： Eradicating Poverty Through Profits，2005)这本书的影响。这本书讲述了公司如何可以接触到全球最贫穷的 40 亿人，并且在正规经济与非正规经济的边缘提供商品和服务来满足这些人的需要。普拉哈拉德在书中写道，穷人通常在晚上 7 点之后才会出来买东西，他们每次只是买很少的东西；假如有人提供相比于贫民窟当地的垄断价格更便宜的价格，他们会非常欢迎，并且他们对于新科技不会抵触，反而乐于接受。<br>企业应当关注现在被称做“金字塔底层”的市场。全球有相当一部分人是在迁徙中的，他们在城市里尝试新的东西，他们很有潜力成为新的顾客、合作者以及竞争者，虽然现在穷人的收入还不多，但是其增长速度迅速，并且累计起来的数字是很惊人的。2007 年有一本书名为“下一个 40 亿”（The Next Four Billion），该书指出:<br>全球有 4 亿人每年的收入低于 3000 美元，这些人都是生活在相对贫穷的状态。如果用当下美元的价值来计算的话，假如是在巴西，就是每天收入少于 3.35 美元，假如是在中国，就是每天收入少于 2.11 美元，假如是在加纳，就是每天收入低于 1.89 美元，假如是在印度，就是每天收入低于 1.56 美元。但是，所有这些人加起来，他们是有很强大的购买力的，金字塔底层蕴涵着总计 5 万亿美元的消费市场价值。<br>此外它还是一个巨大的劳动力市场。《贫民窟的挑战》一书的研究人员惊讶地发现，因为有了本国政府以及民间组织的监督，大型跨国公司往往能够为发展中国家的城市提供最高报酬的工作以及工作环境，并且在这个过程中让其他公司的薪酬标准也要随之提升。</p><p>PART   14    贫民窟的非法经济存在的隐患</p><p>所有生活在非正式经济下的人们都是生活在合法与非法的边界上，随着时间的流逝，可以偏向任何一个方向发展。聪明的政府、民间组织以及企业会帮助贫民窟居民逐步获得合法身份，因为假如这些人沦入犯罪经济的话，就会带来灾难。在莫伊塞斯•纳伊姆（Moises Naim) 写 的 《非法》（Illicit)这本书里记述了非法经济市场，其规模之大以及伤害之广在书中可见一斑。全球每年在毒品、武器、非法劳工（包括非法性工作者）、受保护动植物、被盗文物、被窃取的知识产权、非法货币流通等等方面的交易额加起来介于 1 万亿到 3 万亿之间。世界各地的贫民窟里活跃着的非正式经济为罪案提供了超级保护，也提供了强大的劳动力来源。</p><p>政府需要引导贫困的人走上合法的道路，否则会带来很大的后患。</p><p>很多贫民窟是被当地的有组织犯罪团伙控制的，有时候是负责任的控制，有时候是具有破坏性的控制，通常情况是二者的结合。最严重的情况的就是在巴西，那里的贫民窟经常就是被毒贩控制，大多数时候是很友善的控制，但是一旦遇到了他们跟政府交战或者不同毒贩之间进行交战的话，情况就会变得很糟糕。而贫民窟里的银行是从来不会发生抢劫事件的。但是在过去的 10 年里，有一股新的地下力量在成长，它 就 是 “首都第一命令队”（葡萄牙文全称是 Primeiro Comando da Capital，简称 PCC)。它是一个相当庞大的训练有素的团体，他们直接在巴西的监狱里，利用手机进行远程操控，可以成功地发动围攻袭击。2006 年 5 月以及 7 月，PCC 两度制造系列暴力袭击事件，使得整个圣保罗都因此而瘫痪。PCC 为什么要做这些事情呢？显然他们只是想展示给别人看，他们拥有这个能力。威 廉 •朗 威 士 （William Langewiesche) 在 《名利场》(Vanity Fair)杂志上撰文指出，PCC 只是一个更大的现象的一部分，他将这个现象称做“野性的区域”：<br>在世界范围内，已经有很多人居住在这样的野蛮区域里了。但是官方总是否认或者很少提及他们。这不是回到了中世纪，而是迈向一种新形式的进化 — 是全球化的一种附属品，是一种根本性的重新排序，它也许会使得国家边界的概念变得过时。在哥伦比亚以及墨西哥的尼古丁种植区，在非洲大片的割裂的草原区，在巴基斯坦以及阿富汗的部分地区以及在伊拉克的大部分地区，最容易找到这样的野蛮区域。但是，在那些政府看似依然管治得不错或国家依然看似强大的地区，在表面之下同样存在着这样的野蛮区域。<br>PCC 也许确实控制着巴西半数左右的贫民窟，但是另外一种力量正在幵始兴起，就是同样是生活在贫民窟里的民兵组织。在毒贩、PCC、警察中间经常发生武装冲突，现在民兵也被卷入其间。珍妮斯•普尔曼 32 年来一直在研究里约热内卢，她写道：“1969 年，那时候人们担心自己的房子会被政府拆迁掉，现在，人们在担心自己是否会在毒贩和警察的交火中，或者是在不同的地方势力的交战中遇害……有超过 1M (实际数据是 27%)的 人说 ，自己家里有人就是在这样的场合下遇害的。”</p><p>黑帮控制的贫民窟是很危险的。</p><p>那些在野生环境下谋生的人可能会对环境问题或者是气候变化不加关注。假如当气候变化开始给社会带来裂变的时候，一些野生环境还处干发展状态，这将会因为社会动荡而引发战争，另外也会引发资源争夺战。我们就将重新回到 “持久的战争”当中，并且，“持久的战争”这一次将会在多个层面发生。</p><p>PART   14    贫民窟融入主流社会</p><p>并不一定要这么做。“旧金山以前也是一个贫民窟。”在面对着一群旧金山的观众时，罗伯特•纽维特如此说道。世界上所有的城市在它们一开始出现的时候都是贫民窟。而它们逐步走向繁荣的历程，现在正在世界各地的贫民窟重演。只是现在这种变化的速度更快，而且整体的规模更大。纽维特指出，正式经济体系的维护者所需要做的，就是帮助贫民窟的居民获得居住的权利，并且允许他们有足够的时间来融入主流世界，并且很显然，随着这些人的加入，主流世界的秩序也会发生改变。正是这样一个项目接一个项目 ，一 个国家接一个国家，整个地球都在学习怎么利用都市贫民窟居住者的无限创造力。<br>其中一个想法是由赫南多•德索托（Hernando de Soto) 在很早以前提出的。他于丨 989 年出版了一本书《另外一条道路》（The Other Path），那是一本标志性的书，他是第一个欣赏非正式经济这种经济模式的人，当时他就是根据对利马的贫民窟的调查写出这本书的。他的理论是，唯有在贫民窟的居民自己的房子也能换来价值这个前提下，贫民窟居民才能走出贫穷的困局。有人试过这样的做法，但是对于都市里的贫民窟而言，这样的做法基本上行不通。因为这样的做法并不能为房子的主人增加信用，只会鼓励房子的拥有者把房子出租出去，还会把抢掠者引进来，最后反而使后者致富。纽维特在《影子城市》里写道：<br>哪怕是你给人们地契，或者是有保障的祖货合约也没有用，因为人们仅仅是需要确保自己不会被赶走 。 一 旦人们知道自己住在这里不会被赶走，他们就会安心盖房子。于是，就有了市场，就有了买卖，有了租赁，有了创造，有新的建筑。这一切都是由现实需要进行控制，没有法律上的控制。这正是关键所在。假如你给贫民窟居民带来安全感，他们就会把明天的城市盖出来。</p><p>需要和贫民建立信任才能发展贸易，改能建立秩序，才能发展城市。</p><p>由此我得到的经验是，所有那些把房子仅仅当成是物业的行为，最终都会使得社区关系破灭。而任何把房子当成是家的做法都使得当地社区得以保存下来。<br>只有当居住者、政府、民间组织以及公司各方都根据当地实际去逐步协调处理，从贫民窟居民到合法城市居民的转折才会变得最为畅顺。多伦多出版的《环球邮报》 写道：<br>“最好的方案就是让贫民窟的居民自己选择自己的未来。作为政府，应当为他们提供干净的饮用水、卫生间、电力、垃圾收集以及处理等服务，甚至是允许那些有能力盖房子的人自己使用本地可以获得的材料来盖房子。”这 是 普 劳 德 •拉 奎 因 （AprodicioLaquian) 说的，他是一位加拿大籍菲律宾裔城市规划师，他于 20 世纪 60 年代发明了由贫民窟居民主导，去设计城市再生的方案。这些方案被称做“贫民窟升级改造”，或者是 “据点与服务”，在过去 40 年的那些最为成功的都市翻新改造当中都是发挥着核心的作用。<br>就如联合国 2003 年发布的这份报告所指出的：“当有一半的城市人口都生活在贫民窟里的时候，贫民窟就成为了占主导地位的城市形态 。” 一个城市星球有各种理由去尝试理解贫民窟，去尊重生活在那里的人们，并且为他们扫除障碍，使得他们可以获得公民所该获得的所有权利。这样也可以帮助整个世界，不仅仅是在务实的层面，也包括伦理的层面。关于世界可以从一个城市人口占大多数的人口分布当中收获些什么，将会在下一章详细论述。<br>有关本章节的更新、附带资料以及插图，请见链接<a href="http://www.sbnotes.com./">www.sbnotes.com。</a></p><p>]()</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【地球的法则】前言&amp;第一章</title>
      <link href="2017/09/21/2017-09-21/"/>
      <url>2017/09/21/2017-09-21/</url>
      
        <content type="html"><![CDATA[<p>[<br>前言</p><p>最权威的作者<br>《地球目录》创办人，stay hungry ,  stay foolish 最早由他说出。</p><p>斯阁尔特·布兰德<br>   斯图尔特·布兰德生于 1938 年 12 月 14 日，是一名美国作家，他创办并编辑的刊物《全球目录》（the Whole Earth Catalog）被誉为一代人的宝典。他还创办了许多组织，如第一个开放的在线社群 《The Well》，《全球商业网络》及《Long Now 》基金会等。他出版了好些专著，最近的著作是《全球学科》。<br>   布兰德先在菲利普斯埃克塞特学院就读，后考入斯坦福大学生物系，于 1960 年毕业。他与渥太华出生的美国数学家路易斯·詹宁斯结婚。布兰德加入美军后，当上伞兵并接受步兵训练，后来他认为在部队的经历培养了他的组织能力。1962 年退伍后，他又先后在旧金山艺术学院及旧金山州立大学研修设计和摄影，后来在加利福尼亚州门洛帕克加入迷幻药的合法科学研究活动。布兰德迄今一直居住在加州。他和妻子在一艘 1912 年建造、长 20 米的工作拖船上生活。</p><p>他是乔布斯年轻时期的精神偶像，其观念影响了一代人。<br>最前沿的观点环境保护需要的更多是科学，而非仅仅基于感情而行动。<br>说明环境保护应该是通过基于情感的行动而运用科学的方法来改善环境的问题。<br>最具争议与我们的生活最密切相关话题核能、城市化、转基因生物技术观念具有超前性与颠覆性。<br>核能：核能（或称原子能）是通过核反应从原子核释放的能量，符合阿尔伯特·爱因斯坦的质能方程 E=mc²，其中 E=能量，m=质量，c=光速。核能可通过三种核反应之一释放：1、核裂变，较重的原子核分裂释放结合能。2、核聚变，较轻的原子核聚合在一起释放结合能。3、核衰变，原子核自发衰变过程中释放能量。城市化：城市化（urbanization/urbanisation）也称为城镇化，是指随着一个国家或地区社会生产力的发展、科学技术的进步以及产业结构的调整，其社会由以农业为主的传统乡村型社会向以工业（第二产业）和服务业（第三产业）等非农产业为主的现代城市型社会逐渐转变的历史过程。城镇化过程包括人口职业的转变、产业结构的转变、土地及地域空间的变化。不同的学科从不同的角度对之有不同的解释，就目前来说，国内外学者对城市化的概念分别从人口学、地理学、社会学、经济学等角度予以了阐述。2011 年 12 月，中国社会蓝皮书发布，中国城镇人口占总人口的比重将首次超过 50%，标志着中国城市化首次突破 50%。转基因生物技术：转基因技术的理论基础来源于进化论衍生来的分子生物学。基因片段的来源可以是提取特定生物体基因组中所需要的目的基因，也可以是人工合成指定序列的 DNA 片段。DNA 片段被转入特定生物中，与其本身的基因组进行重组，再从重组体中进行数代的人工选育，从而获得具有稳定表现特定的遗传性状的个体。该技术可以使重组生物增加人们所期望的新性状，培育出新品种。</p><p>最大胆最富于创见的政策建议地球困境的来源可持续的社会的解决方案。</p><p>献 给<br>约翰•布洛克曼<br>他使科学家可以直接面向公众发表言论</p><p>约翰·布罗克曼，男，毕业于哥伦比亚大学工商管理硕士，创办“锋利”网站。<br>“锋利”网站在科学界，布罗克曼最为人津津乐道的是创办网站“锋利”。据他说，这个网站源于一个朋友“失败的艺术实验”。詹姆斯·李·拜尔斯是一名行为艺术家。他认为，要达到知识领域的高地，纯粹靠泡哈佛大学图书馆、啃 600 万本书籍是愚蠢之举。他决定找世界上最聪明的 100 个人，把他们关在一个房间里，彼此提出一个始终困扰自己的问题。理论上，这一实验的结果将是“思想的合成”。事实上，实验以失败告终。拜尔斯的确列出了他所认为 100 个最聪明的人，分别给他们打电话，但其中 70 个人直接挂断了他的电话。布罗克曼认为，拜尔斯的想法很有意思，至少可以在互联网上做某种类似事情。于是，“锋利”网站应运而生。这是一个“网上沙龙”，布罗克曼任主编和主持人，以“对话”为目的。“我们寻找那些有思想的人，所作创造性工作得以扩展大家的思维，让我们知道自己是谁。”他说，“我们欢迎最尖锐的文化探讨和思想调查，哪怕它们尚未获得广泛认知。”</p><p>斯 图 尔 特 •布 兰 德生态学家、未来学家里 ， 所有事情都是可以解决的设计问题。布兰德认为，目前世界上有三种重要的转变正在发生。气候变化是真的，并且这正促使我们将地球视为一个整体来管理。城市化 — 现在世界上半数的人口都居住在城市里，到 21 世纪中叶这一比例将达到 80% — 正在改变着人类对土地的影响以及人类财富。再有，生物技术正在成为地球上最主要的工程工具。正是在这些改变的背景下，布兰德建议，环保人士要转变那些他们长期固守的观念，并且去接受一些他们先前不信任的工具。只有对传统的绿色悲悯心态来一次彻底的反思，才能避免让我们的地球资源遭到灾难性的毁灭。《地球的法则》打破了一系列的神话。城市是绿色的— 城市是收入的源泉，同时也是效率以及创新的集中地。当农村逐渐被遗弃之后，大自然重新回归到农村。核电也是绿色的— 这个在其他很多国家有证据表明其高效性以及安全性。生物技术以及基因工程都是绿色的— 我们可以设计出只需更少的土壤更少的杀虫剂就能生长的作物，也可以创造出可以用来做任何事的微生物：从制造新型燃料，到抵抗外来物种入侵，保卫本地生态系统等。关键词：城市；核电；生物技术和基因工程；绿色；示了我们面临困境的缘由，并且提出了一系列大胆而且富于创见的策略建议，以及一些基于设计的更可持续的社会解决方案。的哲学上的改变，才能担当好地球守护者的角色。布兰德说，环保运动最终必须紧跟科学的发展，而不仅仅是在有必要的时候才使用科学。我们要学会如何来管理地球的天然基础设施，尽可能少地破坏，同时在必要的时候加以尽可能多的干预。</p><p>媒体评论</p><p>“斯图尔特•布兰德是一个颠覆常理的人，而这本书则再次显示出他思维的高度，也是他一生当中最重要的一本书，并且很有可能成为本世纪最具原创精神以及最为重要的书之一。正如书的标题所暗示的，这本书讲的是如何进行有规则的思考。一切的组织套话，纯意识形态的论调以及关于绿色的狂热都被搁置到一边，取而代之的是由多年研究以及前瞻性的思考而获得的清晰和睿智的见解。这本书是一个让人的心智为之震动的探索，它告诉我们人类可以并且必须倣些什么事情，才能把人类文明挽留下来。对于一本书，能给到的最高评价是‘这本书改变了我的想法’。这本书确实改变了我的想法，我对此非常感激。”<br>                                                                                                     — 保 罗 • 霍肯，《看不见的力量》作者</p><p>“假如你对地球的未来或者是对悲观者与乐观者之间的对抗感兴趣，那就把这本书从头到尾读一遍吧，并且要准备好加入这场由此引发的论战当中。”<br>                                                                                   — 保 罗 • 罗姆，斯坦福大学国际发展研究中心高级研究员</p><p>“这本书是一个告诉你如何有智慧地改变你的心智的短期课程。斯图尔特•布兰德是一位能够捕捉早期适应者的变化信号以及能够走到科学边绿的大师。在这本书里，他给我们展示了这样一种做法是如何让他再次走到了文化转变的最前沿。”<br>                                                         —   凯 文 • 凯利，《新经济新规则》作者</p><p>这是一本由一位非常聪明的人写的非常让人恐惧的书，它所展示的是一个同时充满坏消息但又让人欣喜的人类未来。我相信这个世界必须而且很快将会展开一系列关于人类所面临的不可忽视的挑战的辩论。而这些辩论将以少数充满睿智但又具有一点儿挑衅性的文本作为核心：这本书应当成为这少数文本当中的_一本。”<br>— 爱 德 华 •〇• 威尔逊，哈佛大学荣誉教授</p><p>“斯图尔特 • 布兰德现在拥抱了科学以及工程学，他认为这是我们赖以度过因为全球气候变暖而急速出现的危机的手段。布兰德的这本新书就像他的人一样，聪明、务实、睿智并且充满善意。”<br>— 理 查 德 •罗 德 斯 ，《原子弹之诞生》作者，该书获得了普利策奖</p><p>“我非常喜欢这本书，包括其中一些我持相反意见的章节。斯图尔特•布兰德的心智非常清晰、理性、富于热情，令人欣喜。他的文笔同样如此。”<br>— 马 特 •里 德 利 ，《基因》作者</p><p>“这绝对是一本具有重要意义的书，写得非常好，它是一本巨著，展示了很多彼此相连的世界、生命以及研究。它有可能成为这十年内最重要的书之一。”<br>—拉 里 •布 利 连 ， Google . org 创始主管</p><p>目录<br>第一章 规模、范围、代价、速度      <br>1<br>第二章 城市星球<br>27<br>第三章 都市新希望<br>55<br>第四章 核电新篇章  <br>81<br>第五章 録色基因  <br>125<br>第六章 基因梦想  <br>177<br>第七章 浪漫主义者、科学家、工程师  <br>213<br>第八章 一切皆为园艺  <br>241<br>第九章 星球法术  <br>281<br>致谢<br>313<br>后记  <br>315<br>推荐书目</p><p>第一章<br>规模、范围、代价、速度</p><p>我们是上帝，我们必须做好这个角色。<br>——《地球的法则》</p><p>PART  1   表明自己对环境保护的新的观点：文化的保护，自我生存的保护</p><p>气候变化、城布化、生物科技，这三件正在蓬勃发展中的事，将逐渐成为我们这个世纪的重要议题。今天，我们如何描述这些议题将决定着它们未来的走向。我们可以看到关于这三种事物的许多幻觉，但另一方面，它们的真相是可知的。<br>当我们谈论气候变化这个问题的时候，每个人都是环保主义者。这不仅仅对于那些一直认为自己跟环保不相关的人士是很痛苦的一件事，对于那些一直以来都高唱环保论调的人士更是难以接受。行 动 者 比 尔 •麦 吉 本 （Bill McKibben） 最近说：“环保运动现已演变成为气候变化的运动了。”这就意味着今日的环保人士不再仅仅是去保卫自然生态系统使之不被侵害，他们也要开始去捍卫人类文明本身。对于每个人来说，这都是一个很大的冲击。<br>而一旦我们的角色开始转变，我们所固守的意识形态也要开始转变。但是，意识形态是很难改变的。那我们可以灵活地换个角度去想，我们可以采取实用主义的做法——“去思考我们行为的后果，而不是固执于理论或规则本身”。这是一种更为深刻的转变，它不是从一种意识形态转换为另外一种意识形态，而是要彻底抛弃意识形态。</p><p>每个人都是环保主义者，将环境保护从现实的改变环境不受侵害转换到对人类文明的一种保护，从而形成一种新的意识。</p><p>我们现在还不知道我们需要进行多大程度上的彻底反思，才能真正理解目前已经存在的变化以及该如何应对这些变化。这一次的变化是全球性的，时间上会影响到几个世纪，受影响的是人类文明本身，而所有这些都是伴随着不断增速的人类技术，以及不断剧变中的气候而发生的。我们讲 “拯救地球”时言过其实了，因为地球本身不会遭到损害，不管发生多大的灾难；生命圈也不会遭到损害。处在危机中的是人类本身。但既然我们是自己把自己扔到这烂摊子里了，我们自己也该设法去修复它。</p><p>适者生存，不适应者会被淘汰，人类如果是因不了地球的环境则会被自然淘汰。</p><p>PART  2   气候变化与战乱关系，列举假设，提出温室效应问题后的反响</p><p>气候变化朗 （ Steven LeBlanc ) 写 的 《持久的战争》 2003，合著者是岂凯瑟琳 •莱吉斯特 [ Katherine Register ]。该书引用了大量的考古学以及人类学的证据，勒布朗认为，人类一直以来都在开展着血腥的战争。从狩猎部落到农耕部落到酋长部落，到早期的人类文明，有 25 % 的成年男子通常是因为战争而死亡。没有人想打仗，但是他们经常不得不面对这样的事实：要么饿死，要么去掠夺自己的邻居。而他们更倾向于彻底地歼灭自己的邻居。<br>这本书允满了很多令人惊悚的发现。研究者对墓葬进行分析，他们发现，在那个年代，大规模的谋杀是很常见的，另外，人吃人的现象也很普遍 — 不是为了仪式，而是为了营养。在很多考古现场看到的“炊事用石”实际上是武器 — 本质上就是投石器（《圣经》里的戴维就是用这玩意儿杀死歌利亚的）。狗是最先被驯养的，因为他们是最好的哨兵，还有所有的狗都会吠（但是狼不会吠）。大多数的城市都是用城墙围起来的。<br>勒布朗认为，人类一直都在进行战争，因为人们需要的东西总是大于自然环境的供给，干是他们就需要跟其他人争夺资源。土著人有一套神秘的方法,去找到哪怕是最难发现的食物，因为容易发现的食物都被他们自己消灭掉了。假如自然的承载能力有所提升，也会偶尔出现和平时期，例如随着农业的出现，或者新的有效率的官僚机构的上任，或者是与异域的贸易，或者是科技上的突破。另外，发生重大的瘟疫之后的一段时期也会是和平时期，例如刚经历了大瘟疫的欧洲，或因为欧洲传人的传染病而造成人口大量死亡的美洲。但是这样的间歇期是短暂的：人口会再次迅速地上升，直到突破承载力的限度，于是战争再次爆发。</p><p>需求大于供给人类的意识就会倾向于贪婪，就会可能发生战乱。供给能满足需求时的条件：1.农业的出现 2.新的有效率的官僚机构 3.异域的贸易 4.科技上的突破*5.重大的瘟疫</p><p>只是在过去的几百年里，先进国家才逐步地把死于战争的人口比例下降到 3 % 的水平，尽管在这期间发生了几次全球范围的战争和种族屠杀。现代战争不再像过去那样会歼灭所有的敌人，而是仅仅歼灭掉可以获胜的敌人数目就停止了。而那些幸存者则会被安排工作。国家也会利用其国家机器、先进的技术以及国际行为守则去提高可承载能力，有时候甚至会与交战国家建立良好的关系。<br>但假如其他地方的承载能力因为气候变暖而降低的话，所有这些文明的成果都会走向崩溃。人类将会重新回到为了争夺不断减少的资源的竞争当中。那<br>些和平爱好者则会被战争爱好者杀害和吃掉。</p><p>减少战争的成本，去利用战争达到使供给满足与需求的目的。</p><p>这就是我阅读勒布朗的书的时候所想到的一个情景。因为气候变化巳经在发生了，我们必须作出一个选择。假如我们不做任何事情或者是做得不够，我们<br>将会面临一个所有人对所有人发动战争的局面，而这一次大家都有了大规模杀伤性武器， 因此而死亡的人数将会是数以十亿计。勒布朗总结，另外一种可能是：<br>科学以及技术生态系统本身人类行为对生态系统的影响人类与自然长期共存的机遇就掌握在我们手上打破这个数百万年来的冲突和危机的循环人类与自然长期共存，面临选择和需要把握机遇。<br>2003 年以前 ，我对于气候变化只是一般性的关注。早在 1982 年的时候，我和妻子就搬到一艘老式的拖船上居住，因为住在船上就不需要袒心加州经常出现的地震和野火。事实上，这样的住所尽览海景，同时又无需担心因为全球气候变暖而导致海平面上升。在那个时候，去想象一下气候变化的未来是有趣的，尽管其实形势很严峻，但感觉它非常遥远。<br>1987 年，我参与创办了一个叫“全球商业网络”（ GBN ) 的咨询公司，现在我一半的时间是在为这个公司工作。2003 年， GBN 接到来自美国国防部的请求，去逑立一个关于“气候突变”的预测。我当时只是扮演一个边缘的角色，对一些气候学专家进行了电话采访，也贡献了一个点子。同年秋季，我们递交了这份调研报告，题 为 “关于气候突变的预测及其对美国国家安全的影响” (An Abrupt Climate Change Scenario and Its Implications for United States National) ，报告的作者是彼得•舒瓦茨 （Peter Schwartz ) 和道格拉斯•兰戴尔  (Doug Randall )。<br>我们得出的预测是基于一个发生在 8200 年前的事件，那时候地表温度在不到十年的时间内突然 下降了 2.7 摄 氏 度 （5 华氏度）。在气温图表上可以看得出陡然下降的趋势，就发生在一个世纪的时间里。这个跟人类 12700 年前所经历的气候突变完全不一样（那一次是气温突然下降了 15 摄氏度，亦即 27 华氏度），并且这一气温保持了 1000 年。对于这两个事件，有这么一个解释，就是海湾地区的洋流被来自北大西洋的超量淡水所减缓或停止，而这些都是由气候变暖导致的（2003 年收集到的数据不同程度地反驳或支持这一理论，但没有人否认气候突变确实发生过）。</p><p>提出气候突变假设，但无法验证气候突变假设的真实性，但是曾有过类似的事情发生。</p><p>由于我们今天面临的气候变暖是来自于北极冰川的融化，并且因此导致了北大西洋海水的淡化， GBN 的情景里就提及假如我们在 2010 年突然走进一个“轻微”的 变 冷 期 （就 像 8200 年前一样）会导致什么事情发生。我们得出的结果是，假如全球突然变得更冷、更干燥、更多寒风，会使得全球主要的农业区面临水灾，同时也会带来严峻的冬季气候，以及在末曾预料到的地区遇到恶劣的风灾和洪水。该假设估计，到了 2020 年，欧洲的气候会变得像今天的西伯利亚一样。到那个时候，全球的食品、饮用水以及能源供给都将变得紧张。到那个时候，地球上将会有 75 亿人口，但地球的承载能力将不能胜此重任。这份报告最后是以我从勒布朗的著作里获得的启发来作为总结，那就是，任何一个试图超越地球承载能力的社会，最终都会因为争夺资源而展开战争，这是亘古不变的范式。干是，到 2020 年，因为战争、疾病、饥荒，将会使得地球上的人口下降，直到剩下的人口不至于超出那时候的地球承载能力为止。而五角大楼则是这一情景的合适的客户。</p><p>原因：北极冰川的融化，并且因此导致了北大西洋海水的淡化假设：在 2010 年突然走进一个“轻微”的变冷期结果：到那个时候，全球的食品、饮用水以及能源供给都将变得紧张，最终都会因为争夺资源而展开战争。</p><p>我们特意没有把这一预测保密，而是把它放到了互联网上，《财富》（F o r t u re ）杂志也作了一个摘要报道。开始时一些专门研究气候变化的机构对<br>此嗤之以鼻，但不久后这份文献开始被广为引用。在我们这份报告以及其他儿份同行的报告里所提到的气候突变的槪念，使得公众关于气候变化的讨论开始发生转变。从那时候开始，气候变化才被大众看做一个清晰并且真实存在的威胁，并且解决这一问题是现在全球各国领导的贵任，而不是留给后代去解决。公众关于这一话题的讨论也发生了突变。</p><p>PART  3   预测和假设的不确定性</p><p>假如说 GBN 的预测让你感到担忧，那大可不必。2007 年，政府间气候变化组织 （1 PCC ) 在调査了 23 个关于气候变化的模型之后，得出结论，认为气<br>候学家所担心的海湾洋流变化是不准确的。来 自 挪 威 的 赫 格 •德 拉 格 （Helge Drange ) 教授说：“地表空气变暖的趋势是如此之快，以至于即使北大西洋洋流速度减缓，也不会让欧洲变冷。”或者我们有更多理由表示担忧。2008 年一份对格陵兰地区冰核的研究报告昆示，1.2 万年前由于海湾洋流发生变化而导致的气候突变不是在几十年的时间里缓慢出现的，而是在短短的 1〜3 年内出现的。<br>今天，假如你去追踪气候学家的研究，会感觉像是在听小孩子讲笑话：有两个人在开飞机。不幸的是，其中一位从飞机上掉下来了。幸运的是，地面上<br>有一个干草堆。不幸的是，干草堆里有一根长叉。幸运的是，这个人躲过了长叉。不幸的是，他没有掉到干草堆里。</p><p>被广泛关注后随之而来的是对全球变暖的研究工作。而现在只有对未来的预测，谁也没有准确的定论。存在一个肯定和否定交替进行的一个状态。</p><p>幸运的是， IPCC 的气候模型足以让全球数 千位气候专家公开宣布，气候变暖确有其事，并且这一变化主要是由于人类排放温室气体（主要是二氧化碳以及甲烷）所导致。到 2040 年，这一变化将给全球带来极其严重的后果，并且会愈演愈烈。不幸的是， IPCC 的模型并没有预估到北极冰川的迅速融化。到 2007 年，就有一半的北极冰川已经融化，远早于报告上预测的 2050 年。<br>在 2006 年以及 2008 年， GBN 为北极海洋协会做了两场关于北极地区未来海运趋势的研讨会。我了解到，已经有 65 艘水面舰艇到过北极，现在有多达几百艘的巡洋舰途经北极。同时，北极地区的海鱼以及渔业也在北移。位于加拿大北部曾经非常神秘的西北航道现已可以通航，俄罗斯则开始在北极地区修建海港，进而为所有来自欧洲和亚洲的航船带来捷径。参加这次研讨会的有 24 位不同身份的船长、海岸保卫队成员、极地科学家、外交官以及 CEO（CEO ，是 Chief Executive Officer 的缩写，意即首席执行肖，适在一个企业中负责日常经营管理的 高 级 管 理 人 员 ，又称做行政总裁。 — 编者注） 。针对因为冰川融化而导致的交通需求，美国以及国际层面应对此类需求而可能采取的关干航海、安全以及环境保护方面的政策，他们最后得出了四个方案。所有这四个方案都预设北极冰川将继续消融下去。</p><p>冰川融化带来的交通方面的影响。满足了部分人的需求。也存在了需要解决的问题。</p><p>PART 4 地球气候变化的原因——正反馈和负反馈，气候变化的诱发事件，峰值效应</p><p>因为冰川消融会带来正反馈。冰川可以反射 85 %的太阳光，黑暗的海洋也可以吸收太阳光，只反射 5 % 的太阳光。剩下的冰川越少，北极所吸收的太阳光就越多，从而加速冰川的融化。这就是正反馈。这种从冰到水的转变现象就叫做反照率转换。<br>需要注怠的是，这里提到的“正反馈”里 的 “正”可不意味着“好”。它通常是意味着麻烦，因为它会加速变化的发生。在维基百科里，“正反馈”的解释是：正 反 馈 ，有 时 候 也 可 以 说 是 “累积反应 ” ……是 一 种反馈回路 ， 系统对干扰的反应就是加剧干扰。相 反 ，那 些 从 相 反 方 向 作 出 反 应 的 就 叫 “负反馈系统”… …正反馈的最终结果通常就是起到增大或者是爆炸性的作用，也就是小小的波动会产生巨大的改变。</p><p>正反馈：系统对干扰的反应就是加剧干扰负反馈：系统对干扰的反应就是减少干扰</p><p>北极冰川的另外一个正反馈的例子是北极苔原永久冰层（现在已经不再是永久了）的融化，其消融会释放出大量可导致温室效应的甲烷气体，这些气体是过去冻结于此的植物所释放出来的，同时还会有甲烷从冻土层里的可燃冰蒸发出来。大气里的甲烷含量越多，冰层融化速度就变得越快，如此循环反复。随若北极冰川的融化，绿叶带北移，针叶林会代替原本苍白的苔原，从而吸收更多的热量，并加剧正反馈效应。<br>有一个负反馈也许会发生，何是其机制还非常神秘。无论是因为大气层本身的变化，还是因为人类活动。最近一些年，土地所吸收的二氧化碳量大于从土地上释放出来的二氧化碳量。令人惊喜的消息是，从全球范围来看，过去几十年，光合作用的速度大于植物分解的速度。这是大气科学家斯哥特•丹宁 （Scott Denning ) 的说法。“无论你是否相信，就全球范围而言，植物生长的速度大于其死亡的速度。这就意味着土地是二氧化碳的净吸收者，而不是排放源。”这也许就是普通的二氧化碳催生方法 — 因为更多的二氧化碳是有利于作物成长的，人们使用人工暖房种植植物也是这个道理。也许是在北方针叶林地区，更长的生长期使得更多的森林得以成长。另一方面，人们对森林大火的控制也使得森林的生长成为可能；也许那些遍布于各地的废弃的农场重新长起了森林；或者是因为过度放牧，使得灌木丛逐渐取代了一般的草丛；也许是来自农业以及汽车尾气所排放的过量的氮气，使得森林得以长足生长。除非这一神秘的碳吸收的真相被发现，否则我们所能理解的气候模型都仍将保持模糊而且难以预估的状态。</p><p>以上讲到两个正反馈和一个负反馈，提到了对二氧化碳吸收的神秘力量。<br>正反馈：1.冰川可以反射 85 % 的太阳光。剩下的冰川越少，北极所吸收的太阳光就越多，从而加速冰川的融化。2.北极苔原永久冰层的融化，其消融会释放出大量可导致温室效应的甲烷气体<br>负反馈：最近一些年，土地所吸收的二氧化碳量大于从土地上释放出来的二氧化碳量。来源于神秘力量 1.也许就是普通的二氧化碳催生方法 2.也许是在北方针叶林地区，更长的生长期使得更多的森林得以成长 3.也许是来自农业以及汽车尾气所排放的过量的氮气，使得森林得以长足生长</p><p>地质学家理査德·阿黾 （Richard Alley ) 说，千百万年来，地球气候疯狂地发生变化其实是一个常态。而我们现在显然是走进了一个新的变化期，导致这些变化发生的原因就是前面提到的正反馈、诱发事件，以及峰值效应，而这些都还没有被放到我们的气候模型里。也许，需要等到我们在非线性代数方面取得一些突破之后，才有可能把这些可能的原因放到气候模型里进行研究。有一本书就是讲述这一方面的话题，它 是 弗 雷 德 •皮 尔 斯 （Fred Pearce ) 的 《速度与暴力：为什么科学家害怕气候变化的临界点 》 （With Speed and Violence 丨 Why Scientists Fear Tipping Points in Climate Change，2007 年）。<br>过去，我们已经经历过一些诱发事件。1.28 万年前，北美洲一个巨大的淡水湖突然灌入了北大西洋，这就是晚冰期全球气温骤降现象。另外一个非常奇怪的突发事件发生于 5500 年前，当时有 1 万亿吨的甲烷因为甲烷可燃冰（别名是甲烷气水包合物）的融化而溢出海水，冲向海平面。这一事件使得全球气温上涨了 8 摄 氐 度 （14.5 华氏度），使 得 2/3 的海洋生物灭绝，其对地面的灾难性的影响不亚于 1000 万年前彗星撞地球而导致恐龙灭绝。按照弗雷德•皮尔斯的说法，当时有 1 万亿到 10 万亿吨冻结的甲烷被困在海底。而这些甲烷突然间喷发则被称为“甲烷气水包合物枪”假说。芝加哥大学气候模型专家戴维 •阿齐 （David Archer ) 指出：“最恐怖的是，气候变暖会导致那些一直藏在海底的甲烷被释放出来，假如这些气体都释放到大气里，其浓度会是现时大气中温室气体的 10 倍。那时候我们将直接目睹大规模的物种灭绝。”<br>另外，在南极，还有另一个诱发因子。南极的西部有一块非常大的冰块，幸运的是，它依然安全地处干南极大陆上，被罗斯冰盖包围着。不幸的是，罗斯冰盖已经开始以极快的速度消融。假如南极西部的冰盖滑进大海里并且融化的话，全球的海平面将会上升 16 英 尺 （事实上会比这个更严重，因为格陵兰岛的冰盖也在消融）。</p><p>环境与数学建模的交叉。列举了一些诱发事件。1.北美洲一个巨大的淡水湖突然灌入了北大西洋，这就是晚冰期全球气温骤降现象 2.5500 年前，当时有 1 万亿吨的甲烷因为甲烷可燃冰的融化而溢出海水，冲向海平面 3.南极的西部有一块非常大的冰块，被罗斯冰盖包围着。罗斯冰盖已经开始以极快的速度消融</p><p>峰值效应则更为难以察觉。那些缓慢发生的变化不会有明显的迹象，好像一切都很正常，但突然有一天，整个系统开始发生剧变，在短时间内滑向一个新的状态。现在，热带闹林依然在自己呼云造雨，并且把大量的碳收纳到自身的系统里，减慢了全球变暖的速度，甚至好像不会受到气候变化的影响。但某一天会达到一个峰值，到那时，热带雨林就会像北极冰川那样急速融化，最后剩下的就会是热带草原、灌木丛以及沙漠。森林作为碳吸收器的角色将消失，那些挡住太阳光的乌云也会消失，不计其数的物种将会灭绝，并且我们将不再有可能令其复原。让热带雨林达到那样一个灭绝状态所需要的峰值是多少？研究 员 理 査 德 •贝 蒂 斯 （Richard Betts ) 和 彼 得 . 考 克 斯 （Peter Cox ) 认为，只需 气 温 升 3 摄 氏 度 （5.4 华氏度）。2007 年的 IPCC 报告预言，到 2050 年的时候，全球热带雨林将走向彻底毁灭。<br>关于海洋，我们有已知和未知两种峰值。假如海表温度上升至 14 摄氏度(57.2 华氏度），海表将会分层，使得蕴涵在冷水里的营养素无法得到光照。于是蓝藻将不能生长，大片的海洋走向死亡，其储存碳的能力也会大大减弱。另外一个重要的方向是，由于空气里二氧化碳浓度增高，海水的酸性也随之增强。那些能够产生碳结构的海洋生物，例如珊瑚礁、贝类，以及遍布于海洋里的硅藻都将失去生存的基础，其原有的碳结构将会溶解。于是，本来作为碳容器的海洋，筲经涵养了人类生产的 1/3 的碳，这样一来则变成了碳排放源，从解决问题的答案变成了问题本身。而这样一个峰值又会是哪里呢？没有人知道。</p><p>峰值学说：那些缓慢发生的变化不会有明显的迹象，好像一切都很正常，但突然有一天，整个系统开始发生剧变，在短时间内滑向一个新的状态热带雨林走向灭亡海洋生物死亡目前没人知道这个峰值是多少</p><p>科 学 作 家 约 翰 •考 克 斯 （John Cox ) 干 2005 年写了一本书 —- 《气候雪崩：气候突变以及我们的未来》（Climate Crash:abrupt Climate Change and What It Means for Our Future), 他在书中总结了为什么我们的气候模型至今依然未能作出准确预测的原因：<br>非线性的系统 ，意思就是，其输出不一定跟其输入成正比正反馈的交互系统的多个不同的峰值附近取得平衡一旦超出了这样的一个峰值，不管是由于内部还是外部的任何诱发机制 ，都会使得那些重要的因子发生剧烈震动或者是急速的变化，于是整个系统就进入了一种异常的运作状态，或者说是进入了新的平衡。所有这些因子，所有这些时间因素，他 们 之 间 的 相 互 作 用 ，使得整个系统变得充满 了 令 人 惊 讶 的 情 况 …… 气 候就是这样一个非线性的系统，它 总 是 在 冷 、干 、湿、暖的不同状态之间来回变动。<br>气候系统是一个非线性的系统，正负反馈的交互会在峰值达到平衡。人影响环境对环境产生一定干扰从而对环境产生了正负反馈的影响，而这种影响会再反馈到人身上。<br>听从这样的变化规律，就会像玩俄罗斯轮盘赌，将左轮手枪的 6 个弹瞠里面都放满了子弹，只留下一个空弹膛 — 可谓九死一生。</p><p>PART 5   气候对社会的影响</p><p>施，但是森林火灾还是到处发生，就像一位科学作家所写的：“伴随着全球变暖，我们得到的不是一场大火；我们得到的是绵延不断的大火。”发生在干燥的森林里以及在泥炭沼（例如在印尼的那些）的野火可以向空气排放大量的二氧化碳，这些气体会使得陆地和植被暖化，而暖化又使得植被本身更容易着火。2007 年，发生在希腊南部的一场大火使得曾经在当地支持度颇高的科斯塔斯•卡拉曼利斯政府下台。而澳大利亚持续不断的洪灾则使得该国政府倒台，于 2007 年上任的新一任首相上台之初即提出要签署《京都议定书》（Kyoto Protocol)，明显区別于前任政府对气候变化的否认态度。但是在不久之后，新的政府还是要应对新的森林大火。<br>气候对环境影响的负反馈机制不断影响了人们对政府的信赖程度。迫使政府采取行动。<br>此同时，动植物北移的速度仅仅为每 10 年 3.75 英里。而这恰恰是一个会导致物种灭绝的趋势。现在，在伦敦的邱园，你也能看得到橄榄树以及鳄梨树了。而随着海洋暖化和酸化趋势越来越严重，人类继续过度地捕鱼，于是海蜇开始北迁，使得爱尔兰海的大批渔场纷纷衰亡。在非洲，那些喜欢炎热气候的蚊子则带着疟疾和登革热病毒北迁，甚至把这些病毒带到 了欧洲南部。有的河流提供水源。但这些河流现在也逐渐走向干涸。有 30 亿人需要依靠这些水源来生存。另外还有 1 亿的印度人是依靠“季风季节”带来的雨水维持生存。由于海洋变暖，太平洋中部的季风也被干扰，而有赖于厄尔尼诺周期出现的雨季也因此变得更加难以预测。如何面对这些气候灾难多这样的极端气候现象所带来的后果，例如 2003 年发生在欧洲并且使得法国和意大利有 3.5 万人丧命的热浪。 GBN 的 尼 斯 •吉 尔 曼 （Nils Gilman ) 说，虽然单独发生的一次极端气候现象还相对比较容易对付，但假如有两个这样的事件连续发生，其影响结果会更为严峻，因为我们大多数的复原方案都只是针对一次事件而设计，没有针对多次极端事件而设计的复原方案。在现实中，政府则会遇到一连串的气候突发事件，而不是一次一次顺利的过渡。因此，将会有一些国家因为环境遭到破坏而垮掉，而且这种可能性非常大。会消灭一个社会。复杂的社会可以应付一次的干旱，但不能应付持续几十年的干旱。它们就是最有代表性的毁灭人类文明的杀手，这是人类学家布来恩•法亘 （Brian Fagen ) 说的。正是干旱使得中东以及中美洲的古代帝国走向崩溃。没有雨水，农业就没有收成，城市会走向萎缩，人们就会出走。而那些留在原地的居民则是在袓先留下的辉煌业绩的废墟里搭建他们的窝棚。在本世纪，虽然海平面的上升本身就是极大的灾难，但这和永久干旱相比，不过是短暂的，而且人们可以对此进行补救。<br>极端气候不但影响了动植物的生存，也影响了人类的经济活动和生命健康。如果极端事件连续发生那将是十分棘手的。</p><p>PART 6   提出生命系统概念，以及提出者对于地球变暖的想法</p><p>走向过去曾出现过的炎热期。”这 是大气化学家詹姆斯 •洛夫洛 （James Lovelock ) 在 2007 年为英国皇家科学院的科学家们作的一次报告里提到的。“对于那些有正反馈的系统而言，其自身所自带的危险实在是太大了 ，再三强调也不为过。”洛夫洛克写了两本书，分 别 是 《盖娅的报复》（The Revenge of Gaia， 2007)以及 《正在消失的盖娅》（The Vanishing Face of Gaia , 2009)。迄今为止，针对我们即将面临的危险，这两本书提出了最为明确的鹜告，同时也提醒我们必须采取彻底而果断的措施，才能应对这样的挑战。从 1974 年开始，我就慢慢学会了去相信洛夫洛克的判断。那时候我是《共同进化季刊》（CoEvolution Quarterly ）杂志的编辑，我们的杂志率先发表了洛夫洛克的盖娅假说，文章发表时是洛夫洛克和微生物学家林马古里斯（Lynn Margulis ) 两人合著。他们认为这一生命系统包含了“物理的、化学的、生物的以及人类的这些元素”。从那时候起，他们关于地球是一个活着的、有自我调节能力的生命系统的观点就从假说发展为理论，并且正式发展成为地球系统科学，这一理论为洛夫洛克嬴得了无数的奖项。<br>生命系统包含了“物理的、化学的、生物的以及人类的这些元素“，地球是一个活着的、有自我调节能力的生命系统，发展为地球系统学。<br>当洛夫洛克在皇家科学院的演讲结束以后，我给他打了一个电话，问他为什么 30 年来一直以乐观著称的他现在也变得如此充满警惕。他回答说：“按照 IPCC 的估计，到 2040 年，欧洲、美洲以及中国都将不再适宜种植粮食作物。可是，科学家还严重低估了气温上升的速度，因此，我们有可能在 2025 年就会遇上这个预计发生在 2040 年的灾难。可是人们还不清楚我们只剩下那么一点点时间了。整个地球真的是要动起来了。”在向着一个热均衡的状态迈进了，也就是说，全球气温会变得比现在高 5 摄氏度。一旦到达那个临界点，我们就会遇到负反馈，整个系统都将稳定下来并且可以自我调节得很好。可是，在那样一个转折期里，海洋将不再对这一系统产生任何的影响，或者说是几乎不会产生任何影响。整个系统只会受到陆地生物圈的影响。这在过去也曾发生过。我们可以找到很多的地质证据。最佳的例证发生在 5500 万年前，那时候北极地区海洋温度是 23 摄氏度 （73.4 华氏度），在那里还有鳄鱼在游泳，甚至也许可以说整个地球都变成了热带。这样的事情可能再次发生，假如目前的变暖趋势持续的话，到那个时候，赤道地区将变得比现在更加炎热。甚至现在你也已经能看到一些迹象了。”“我认为不会超过 10 亿人，因为到处都太热了，植物生长不起来。不管我们做什么，地球都还是会变得更热。哈德利中心的彼得•考克斯作过一些精细的分析，得出的结论是，只需要一点点的二氧化碳，就可以使得地球从冷的状态走向热的状态。并且那是非常小的数量就足以导致这样的变化，少到让人惊讶和担心。彼得想必不希望別人引用这一数据。我们只需大气里每年多出 2.5 亿吨二氧化碳就足以导致这一结果。但实际上我们现在每年排放到大气中的二氧化碳是 80 亿吨。因此我们必须减排，使之低于 2.5 亿吨，但当这个数值已经朝着热状态迈进的话，即使想要挽回也已经来不及了。”<br>人类的排放的二氧化碳值是十分惊人的，会影响整个地球的生态，使得地球温度升高，海洋失去调控能力。导致的后果是植物无法生长，无法养活所有的人。</p><p>PART 7    应对气候危机的方法</p><p>宜人生存的地球，我们就真的要变成热锅上的蚂蚁了。我们可以到处跑，但我们的蚂蚁宝库里就是没有可以解决这一问题的法宝。须拓展我们的能力范围，使得我们可以逃过这一浩劫，或者在这一浩劫下生存下来。应对气候危机，最常用的三大方法是：缓解、适应以及改良。缓解，也就是减少温室气体排放，这样的做法被认为是规避不能控制的事情发生。适应，就是控制不能规避的事情 — 将沿海地区的居民迁移到高地，研发耐旱作物，准备应对气候难民，并且尽量将因为争夺资源而开展的战争控制在本地范围内。而改良则是通过开展大规模地球工程，去改变地球本身的规律。<br>我们必须拓展我们的能力范围。我们应对的方法有：缓解：减少温室气体排放适应：将沿海地区的居民迁移到高地，研发耐旱作物，防患于未然改良：开展大规模地球工程，去改变地球本身的规律<br>人类文明面临着危险，但文明本身正是问题所在。 目前在地球系统里最关键的正反馈正是来自于人类本身。我们的财富在不断增长（特別是在发展中国家），人口也还在增长，另外增长中的工业还依然把超量的温室气体排放到大气中。正如澳大利亚生物学家蒂姆•弗兰纳里 （Tim Flannery ) 所说：“我们经济上的新陈代谢与地球的新陈代谢相互冲突了。”<br>财富和人口的不断增长，工业的发展，给环境增加了压力。</p><p>PART 8  目标和假想的措施</p><p>在热 5 摄氏度 （9 华氏度）并且保持这一温度，只有一小部分的人可以存活下去 — 那最好的情形将是什么样？我们有什么可以期待并且做到的吗？我见过的最现实同时又看重数字分析的科学家是索尔•格里菲斯 （Saul Griffith )，他是一名材料科学家和发明家，他曾于 2007 年获得麦克阿瑟“天才奖”。格里菲斯说：“那些声称我们可以阻止气候发生变化的说法是不准确的。我们现在做的只能算是去阻止更为严重的气候变化，或者是比我们能想象的更为严重的气候变化。”减少二氧化碳排放量，使得大气中二氧化碳浓度达到 450 ppm 而不再上升。格里菲斯就是围绕着这一点来构建他的模型。我们目前的排放值已经达到了 387 ppm 并且还在飞速上升，每一年都会上升 2 摄氏度 （3.6 华氏度）或者更多。格里菲斯提醒我们说，如果达到 450ppm 的话，地表温度只需上升 2 摄 氏 度 （3.6 华氏度），就会造成大量的物种灭绝，更严重的暴风雨、旱灾和洪水，更多地区被海水淹没，更多的难民，以及其他不可预测的、代价沉重的和不人道的后果。型的火力发电厂一年可以生产出 10 亿瓦的电。胡佛大坝也是每年发电 10 亿瓦。一个核电站也是每年发电 10 亿瓦。假如我们把这个数字乘以 1000，我们就可以得到太瓦，也就是 1000 亿瓦。而人类现在使用着 16 太瓦的电力，其中绝大部分是来自燃烧化石燃料。这一数值足以让 1600 亿个 100 瓦的灯泡一直发光下去。而正是这些化石燃料的燃烧，导致了我们大气中充满了足以致命的超额二氧化碳。人类要做的事情将会是几乎让我们无法想象的困难。我们必须把我们每年使用的化石燃料发电总量降低到 3 太瓦，这也就意味着我们需要通过化石燃料以外的其他途径来供给剩余的能源需求，并且，我们需要在 25 年之内做到这一点，再晚一些的话，恐怕连 450 ppm 的底线都会无法实现。试想一下，你需要 2 太瓦的风力发电，2 太瓦的太阳能发电，2 太瓦的太阳能光热，2 太瓦的地热，2 太瓦的生物燃料以及 3 太瓦的核电，才能获得 13 太瓦的清洁能源。我们现在已经在使用的是 1.5 太瓦的生物发电和核电。同时还有来自煤炭和石油的 3 太瓦电力。这些加起来可以为人类提供 17 .5 太瓦的电力，可以使得我们在现有的 16 太瓦电力的基础上有一定的增长。问题是我们需要怎样做才能在 25 年的时间里完成所有这些转变呢？”<br>存在的问题是气候变化已经事实存在了，我们如何去减少严重的危害。谈论最多的是减少二氧化碳的排放量。目前人类提供的用电需求是 16 太瓦，其中大部分是化石燃料燃烧进行供电。而理想的化石燃料供电量为 3 太瓦。这就需要开发新能源，但是目前很难在短时间内实行对化石燃料供电的替代。<br>太阳能发电量钟安装 100 个 1 米乘以 1 米、转换效率为 15%的太阳能电池板，连续做 25 年。3 万平方英里的太阳能电池板。）那么，要实现 2 太瓦的太阳能光热又需要我们做些什么呢？我们假设能量转换率为 30%，每秒钟就需要新增 50 平方米的高反射率的镜子。（也就是每年 600 平方英里，再乘以 25 年。）那么要实现 2 太瓦的生物燃料又需要我们怎么做呢？那就需要每秒钟新增 4 个像奥林匹克运动会游泳池一般大小的体积用来培育转基因藻类。（也就是每年新增 6.1 万平方英里，连续 25 年。）那么要实现 2 太瓦的风电又需要我们做些什么呢？那就需要每 5 分钟安装一台直径 300 英尺的风轮机。（每年需要在风力强劲的地方安装 10.5 万台，连 续 25 年。）2 太瓦的地热能？那就需要每天新增 3 台 100 兆瓦的蒸汽涡轮发动机 — 每 年 是 1095 台，再乘以 25 年。3 太瓦的新型核电？那就需要每周新增 1 个核电厂，使之具备 3 个核反应堆，可以生产出 3 吉瓦电力 — 每年就需要新建 52 个这样的核电厂，再乘以 25 年。面积一样。格里菲斯说：“我们就称它为新能源斯坦吧。”这样一块土地将全部被那些为人类提供电力的东西所覆盖。而我们还没有算上电力传输线路、能源储存所需空间、物料以及为之提供的支持性基础设施，以及关闭所有的火力发电厂和炼油厂的费用。我问格里菲斯，我们是否真的可以做到这些。他说：“从技术上来讲是可能的。从工业实际来讲，全人类汇集起来也确实有这样的能力。但是从政治上来讲，我看不出具体实现的办法。但是，我们必须进行尝试。否则我们为什么还要做人？为什么还要活在这个世界上？”<br>需要建造的东西很多，费用也十分昂贵而且占地庞大。但是在技术上是有可能的，但是在政治上无法达到统一的意向。</p><p>PART 9  生态系统服务，经济学和生态学的结合</p><p>我们慢慢意识到，相对稳定的气候，是保证人类文明得以繁盛发展 — 甚至可以说是赖以生存的先决“生态系统服务”。在地球气候历史上，唯一没有发生气候急剧变化的时期（除去漫长的冰河时期）就是我们刚刚经历过的一万年，人类正是在这一时期发明了农业、城市以及复杂的社会。当然，我们人类一直把稳定的气候当成一种必然，人类文明也未曾经历过其他的异常气候。那我们该怎么去衡量生态系统服务呢？说到这概念，我们通常会想到食品、饮用水、空气、能源、药品、有机物分解和各种趣味等，虽然这些都不能用经济学的价值来衡量，但人们还是积极地去探索。有一本经济学的教科书将这些服务的经济学价值估算为每年 40 万亿，这一数值接近目前全球各国国内生产总值的总和。人们的希望似乎是，一旦我们掌握了衡量生态系统服务的方法，我们也将学会如何去和这一系统相处。 <br>人类用自己的方式来改变环境，去掌握衡量生态系统服务的方法，使人与生态系统能和睦相处。  经济学生态学到那时候，我们将不再会被“外在因素”这样的概念所迷惑。但是现在，我不再这么肯定地认为了。记得我有一位朋友，他曾靠在我耳边对我说，生态学和经济学实际上是同一样东西。我回应说：“怎么可能！生态学是没有倾向性的，经济学则是充满了各种小的反复。”（我猜想，我那位朋友也许有什么想法，因为经济学爱好者与生态学爱好者有一个共同的苦衷。保守主义经济学家认为，市场经济的自我调节特征是一个奇迹，是绝对不能随便干涉的。环保人士则认为，生态系统的自我调节能力也是一个奇迹，也不能随便干涉。）自然资本论的一本书，作 者 保 罗 •霍 肯 （ Paul Hawken ) 以 及 艾 默 里 •洛 文 斯 （Amory Lovins ) 提出，我们要用自然资本论来代替工业资本论。传统的资本论将自然资本加以清算，而后将其作为收入。而自然资本论则是基于更高的效率来处理所有事情，基于从生物界获得启发的工业流程，将重点放在服务上而不是放在产品上，并且致力于恢复自然生态系统本身。那是一本带有很好的隐喻的一本书。<br>经济学和生态学有相同的地方，也有不同的地方。将经济学和生态学结合产生自然资本论。自然资本论则是基于更高的效率来处理所有事情，基于从生物界获得启发的工业流程，将重点放在服务上而不是放在产品上，并且致力于恢复自然生态系统本身。产品的服务可以理解为增加产品的价值，使得产品能够实现更高的自身价值从而增加产品的使用效率，减少资源的浪费。使得资都能被合理的利用。</p><p>PART 10  生态系统服务看做一种基础设施</p><p>生态系统服务看做一种基础设施效果。桥梁是基础设施，桥底下的河流也是基础设施。他们两者都可以支持我们的生命，并且二者都需要维护，而维护的费用需要我们以某种方式去承担。无线电波段是一种基础设施，同样，没有被破坏的臭氧层也是一种基础设施。他们都能给我们的生命提供支持，也同样需要国际协议来避免“公地悲剧”发生。<br>公地悲剧：1968 年英国加勒特·哈丁教授(Garrett Hardin)在《The tragedy of the commons》一文中首先提出“公地悲剧”理论模型。公地作为一项资源或财产有许多拥有者，他们中的每一个都有使用权，但没有权利阻止其他人使用，而每一个人都倾向于过度使用，从而造成资源的枯竭。过度砍伐的森林、过度捕捞的渔业资源及污染严重的河流和空气，都是“公地悲剧”的典型例子。之所以叫悲剧，是因为每个当事人都知道资源将由于过度使用而枯竭，但每个人对阻止事态的继续恶化都感到无能为力。而且都抱着“及时捞一把”的心态加剧事态的恶化。公共物品因产权难以界定而被竞争性地过度使用或侵占是必然的结果。<br>工业资本主义自然资本主义当大的一个节奏上的鸿沟。讲到基础设施，我们已经知道要考虑持久性以及责任问题，因此将这样的思维放到自然生态系统里也无需过多解释。假如我们的基础设施出现问题了，我们就会想到利用科学、工程学以及公众共识、还要像债券或公私合作等方式来解决它。而这些工具实际上对子自然基础设施也同样适用。域在科研方面依然还是处女地。我还没有见过一个经济学的理论是讲基础设施的。有个关于基础设施的歪曲的理论是这么说的：“基础设施是一种灰色的，藏在铁丝网后面的东西。”并且通常会有这样的警告：“不要看，不要碰，甚至也别想这个灰色的东西到底有何用处。”我们被教导，不要去管基础设施的闲事。船表示赞美。有些小镇还会装点他们的水塔。但是，所有的旷井、集装箱港、发电厂、输电线、手机信号塔、炼油厂、垃圾场、污水沟 — 都贴有这样一个标志：“请勿靠近”。所有这些地方都只有工人才会去，而他们往往是身份卑微的人。<br>人是自私的，人总是追寻美好的事物，而对自身产生危害的事物会去逃避，除非是不得不去。对于公共设施强调使用而忽略保护。<br>地、渔场、上地以及气候 — 也同样适用。就如人们常说的，只有当基础设施没有正常运作的时候，我们才会注意到它的存在。环保人士在过去几十年里一直在提醒人们生态基础设施在受到破坏，并且他们已经在着力去保护和恢复诸如分水岭、湿地、渔场、土地、气候以及其他生态基础设施。他们的这些作为是值得我们深深感激的。没有他们的警告和工作，我们今天将会陷入一个比现在要槽糕许多倍的局面。</p><p>PART 11  我们是因为什么而开始对气候感到忧虑的——基林曲线</p><p>德 •奥 斯 伯 恩 （Fairfield Osborn ) 的环保教育人士写了一本书，名 为 “被掠夺的地球 ” （Our Plunder Osborn，这是第一本对生态遭到破坏发出响喊的著作）。费 尔 菲 德 与 劳 伦 斯 洛 克 菲 勒 （Laurance Rockefeller ) 干纽约共同创立了“环保教育基金会 ” （Conservation Foundation )。1958 年 ，查 尔 斯 •基 林 （Charles Keeling ) 开始测量大气中的二氧化碳浓度。当他观察到大气中的二氧化碳浓度持续上升的时候，奥斯伯恩领导的环保教育基金会于 1963 年召集了第一届气候变化大会。大会发表了一篇论文：《大气中二氧化碳浓度上升的影响》（Rising Carbon of the Atmosphere）。斯 宾 塞 •维 亚 特 （Spencer Weart, 2004)中写道：“这份报告指出，大气中二氧化碳浓度在下一个世纪将上升到原来的两倍，这将让大气温度上升 4 摄 氏 度 （7.2 华氏度），由此将引发海岸地区严重的洪涝灾害以及其他危害。”环保教育基金会敦促要延续对基林教授的二氧化碳测试项目的资助，并且向美国国家科学院施压， 让他们关注这一议题。从那以后，人们对气候变化的关注就伴随着基林曲线的变化而不断提髙。1971 年，巴 里 •康 芒 纳 （Barry Commoner ) 写的环保畅销书《封闭的循环》（The Closing Circle) 第一次面向公众提出了关于温室气体增加的鳘告。1978 年，一位来自田纳西州的年轻的国会议员阿尔•戈尔举行了一次关于全球变暖的听证会，参加听证会的有他的哈佛 老 师 罗 杰 •瑞 维 勒 （Roger Revdle )，并且，后者也对基林教授的研究给予了赞助。<br>基林曲线：Keeling C. D.在莫纳罗亚山测得的 CO2 变化曲线就叫“基林曲线”，横坐标为年份，纵坐标为 CO2 浓度。<img src= "/img/loading.gif" data-lazy-src="%E5%89%8D%E8%A8%80&%E7%AC%AC%E4%B8%80%E7%AB%A0_files/Image.jpg#"><br>后，提升能源效率以及开发可持续能源成为了环保人十的中心学说。太阳能成为关注的热门。兆瓦级的风力发电机组也开始被研发出来。人们发明了绝缘窗户，并且对其进行了优化。而伴随着这一系列的提升能源利用率方面的创新而带来的一个副产品，就是人们往空气中排放的二氧化碳减少了数十亿吨。我正是当年努力推动这一进程的人士之一，你也不需多谢我。不幸的是，环保人士于 20 世纪 70 年代以及 20 世纪 80 年代努力阻止了美国以及欧洲的零碳排的核电的发展。（法国是一个例外，他们在石油禁运之后修建了一个 80%依靠核能来发电的全国电网。）由于人们使用煤炭以及天然气，而不是核电，环保人士因此就任由数十亿吨的二氧化碳被排放到大气中。我当时也是其中一分子，我在此表示抱歉。<br>核能是新型的清洁能源，但是其安全问题却十分严峻。如果不能保证核能的安全，不但会对环境产生影响，也会危害到动物以及人类。</p><p>PART 12  人类进行农耕文明改变了原有的气候变化</p><p>另外一本值得在这里提起的书是古气候学家 威廉 ·鲁迪曼 （William Ruddiman ) 的 《梨耙、痕疫与石油》（Plow，Plagues and Petroleum ，2005)。他考证了过去 275 万年的历史，发现其中有数十个冰河时期，它们持续的时间以及影响的范围都受到了太阳活动强度的驱动。来自格陵兰岛的冰核数据与冰河循环理论一直都是相吻合的。但是，在 5000 年前，正当地球处于间冰期的时候，大气中的甲烷含置本来应该是下降的，却突然发生逆转并且使得地球变热了 。而且甲烷浓度依旧继续上升。这是为什么呢？人类出现了中国以及东南亚地区突然出现了农业灌溉这一创新性发明，使得人工种植水稻成为可能。植物在新的人工造成的湿润的泥土里会烂掉并且释放出甲烷。而随着水稻种植的扩展，释放出来的甲烷也随着增多。再加上不断会释放出甲烷的牲畜，以及人们不断通过烧毁森林来开荒，这些加起来就是本应该下降的甲烷含量突然逆转上升并使地球变热的原因。鲁迪曼猜想，发生在 8000 年前的二氧化碳浓度的神秘上升是否也会有一个与此相关的解释。并且他真的找到了一个解释。人类人口随着农业的发展而开始增加，人类烧毁森林来开辟新的耕地和牧场。人类社会不断发展，并且人们会进行迁移，而森林面积则随之减少，致使大气层逐渐变成了一个温室。按照古老的天文周期来看，新的冰河时期应该在几千年前就发生了，于是&amp;迪曼总结道：“冰河期迟迟没有发生，而人类正是冰河期被推迟的原因。”<br>人类的出现。人类进行农耕文明改变了原有的气候变化，导致大气中甲烷含量上升，使得大气层逐渐变为温室。</p><p>PART 13  气候是人造的产物</p><p>另外，还有一个深层的细节值得推敲。如何解释在公元 200 年到公元 600 年间、公元 1300 年 到 1400 年间以及公元 1500 年 到 1750 年间所发生的大气层中二氧化碳浓度突然降低这种现象呢？实际上，这些时期正好与人类因为遭遇大瘟疫而导致人口大量死亡的时间相吻合，那几个时期分別发生了欧洲的黑死病、北美土著因为感染了欧洲殖民者的病毒而大量死亡的事件。而每次发生这样的事件时，森林都会因为农地荒废而重新迅速地生长起来，并且降低大气当中的二氧化碳浓度。<br>人口的降低使大气中二氧化碳的浓度下降。<br>气候就已经是人造的产物了。借用比尔•麦吉本非常著名的《自然的终结》（The End of Nature）中的一句话 —- 并不是因为 200 年前的工业革命而开始，而是在 1 万年前就伴随着农业革命而开始了。现在，农场以及牧场已经占据地球上所有除了冰川以外的陆地面枳的 1/3 以上。鲁迪曼指出：“农业并不是一个自然的过程，实际上人们通过农业已经对地球的表面进行了有史以来最大的改变。”他更进一步指出：“我们可以找到证据表明，铁器时代甚至是石器时代后期的人类，他们人均对地球表面带来的影响更甚于现代人的平均水平。”</p><p>PART 14  人类如何面对气候变化</p><p>了，过去一万年里，我们人类一直都在做这件事情，并且做得非常好，甚至我们还幸运地躲避了一个冰河时期的到来。不幸的是，我们现在已经向大气中排放了过多的二氧化碳，以至于我们会因此而走向炼狱。幸运的是，我们排放到大气当中的其他污染气体，特别是悬浮颗粒，可以遮住太阳光，形 成 “地球变暗”的效应。可是，我们将人类命运寄托于这一系列的霉运上还要持续多久？<br>温室效应使人类躲过了一个冰河时期，但是由于排放过多的温室气体，会使地球持续升温，而我们排放的污染气体会遮蔽太阳光，减缓这一效应，但是人类无法预估今后还会遭遇什么。<br>都还是非主动的底在发生什么事情了，这本身既是诅咒又是幸运。但我们已经不能把非主动的行为继续当做一个可选项了。“自然”是不可依靠的，因为它在很久以前就已经被迫妥协了，盖娅也不是什么救世主，因为盖娅喜欢冰河时期，但她对炎热不感兴趣。我们就只剩下一个选择了，那就是从人类自身的愿望出发，通过下意识的设计，以及工程学的参与。要么是人类改造气候，要么就是气候改造人类。工具们都曾是不被环保人土信任的工具，但现在人们必须拥抱这些工具；另外还有一个我们已经在使用，但还需要扩大其使用规模的工具。不被信任的四个工具是：城市化、核电、生物技术以及地球工程，而我们已经在使用的工具就是天然系统恢复，也许我们该称之为超大规模园艺作业— 其目标是恢复盖娅的健康，从本地的土壤到全球的大气。<br>只有人类主动去应用自己的力量去改变气候，才能使人类能够更长远的生存下来。而不是被动的等待自然环境对人的制裁。由此引出了前言中提到的四个工具：城市化、核电、生物技术以及地球工程<br>正反馈是那些自催化自加速的技术，我们可以部署这些技术来应对工业化所产生的不断增多的问题，以及应对气候变化所产生的正反馈。对于未来加速发展的技术，我们要做的是逆转过去由于技术加速发展而带来的后果。（假如我们阻止今天的科技之发展的话，将会导致地球逐渐变成一个如洛夫洛克所说的那样不可居住的星球。）目标是使得气候与人类二者交互的系统可以逐渐走向一个健康的、稳定的负反馈状态。<br>交互设计是建立与人于系统之间的沟通，而人类与气候的交互只有满足了人和气候双方的稳定供求，才能使人类文明能够和谐的发展下去。<br>自动化方面新发现都会使得技术发展更快。汽车科技和风力发电技术可以为我们生产出更好的汽车以及风力发电机，但这并不会给我们带来更好的工程工具。现在可以不断地实现指数增长的技术包栝资讯科技（包括计算机、通信和人工智能技术）、生物科技,以及纳米科技（它与生物科技的边界正在越来越靠近）。更重要的是，这些技术会彼此激发，有时会产生出超指数性的增长。许能做好这个角色。”那真是个纯真年代。现在是一个新的环境，我们需要新的口号是：“我们就是上帝，我们必须做好这个角色。”《地球目录》鼓励个入发挥其力量，而 《地球的法则》则关注更多的是我们如何发挥集体的力量。<br>现在的时代属于信息化时代，是信息化的高速发展的时代。资讯科技：计算机、通信和人工智能生物科技：基因工程纳米科技：新材料<br>民间草根机构或企业不管做得多么环保，都不能够解决问题。新的环境要求政府设立相应的规则并且强制执行。特别是四大能源消耗巨头 —欧盟、美国、中国以及印度— 都必须在这个问题上做得更加坚决。假如这四大巨头做出正确的事情，那我们还有点希望。目前走在前头的是欧盟。人类文明导致了气候变暖们的改造完成之后（假设是成功的话），地球气候将会保持不变，但人类文明的面目将发生改变。我们为了稳定气候而做出的努力将在很大程度上改变人类本身，其影响将大于任何其他事情的影响。假如我们最终没有办法将气候稳定下来，人类文明将会走向消亡，或者是变成现在我们无法辨认的模样。<br>人类文明总是会发生改变，一种是为了生存去改变自己适应环境或改造环境。一种是被环境改造走向消亡，达到一种新的平衡。</p><p>PART 15  作者的自我介绍和想法</p><p>自己以及其他人的错误而不断学习正确的判断从何而来？从经验中来！经验是怎么得来的？从糟糕的判断中来！因为我接受的是生态学的专业训练，而职业上我是一名未来学者，内心则是一名黑客(以及一名懒惰的工程师），因此我的判断带有科学的力量，同时又有地缘经济学的视角，还有工程师的那种偏见，也就是把所有事物都看做可以得到解决的设计问题。<br>作者是一个多角度多视角看问题的人，他认为正确的判断是出于自己错误判断中得出的经验总结而来的。<br>并不会抓住这些观点不放。坚定地把观点说出来，我的客户才能知道有什么可以想象，而不是单纯地死抓住观点不放，那样我在接收到新的信息的时候，才能适当地改变我的想法。我的观点其实并不重要，它们只是一个工具。我的客户的不断变化的观点才是重要的。不断变化的观点已有的观点，那你就找错咨询师了。<br>通过与人交流来改变自己的想法，即是通过自己的观点来作为一个接入点，获取更多有用的信息。<br>一名美国公民我发誓要保护美国的自然资源，包括空气、土地、矿产、森林、水资源和野生动物，使之免遭侵害。”那时候，我是看了一本名为“户外生活” （Outdoor Life）的杂志而获得的这一启发。但誓言这东西早就失去其意义了，特別是从 1948 年以来，美国的孩子要背诵的是这样的话：“我发誓要保护地球的天然资源，包括空气、土地、矿产、森林、水资源和野生动物，使之免遭侵害。”<br>环保意识从国家上升到地球。<br>点是进化，特别是在那个时候不被关注的生态学。当时，我有一位老师，也就是后来很出名的保罗 •埃利希 （Paul Ehrlich )，他鼓励我把当时我做的唯一一个实地研究项目的成果发表出来。当时我研究的是活动在斯坦福大学后院的两个狼蛛的物种，它们好像总是混在一起，而这正好违反了生态学里的高斯原则。高斯原则说，不可能有两个物种可以长期同时占据同一生态位。不过当时我没有发表这篇论文，而是去军队服役了。之前写的书都是以旁观者的身份，像记者那样去描述一个事物何学习建筑的书）。这本书也是像记者那样去记录，但我会以局内人的身份来记述这些事情。对于其中写到的一些事情，我是曾参与其中的。另外，这本书里提到的有些人是我的好朋友。但凡是我觉得自己的亲身经历有助于读者理解的，我都会加进去。<br>以记者的角度叙述，同时加入自己的因素，使自己参与其中。<br>整个环保运动的目标是管理好我们的公共领域，使得所有人都能受患，并且我们的子孙也能继续享受这样的福利。假如可以把所有那些致力干保护空气、森林、土地、海洋和动物的这些环保组织和人士所做的事倩罗列出来并且对他们给予表扬，将会是一件好事。不过我不会通过这本书来做这件事。另外一个很重要的事情是，罗列出那些不计其数的因为追求短期利益而没有很好地管理公共领域，甚至与此同时还诋毁和攻击环保人士的政府、公司和私人物业主。假如真的做出这么一个列表，会是很有趣也很有用的东西，但是我还有更重要的事情要做。<br>作者不是很功利，而是关注环境问题本身。<br>地球的法则地球目录 1968 年创办该杂志到 1984 年，我一直都是这份杂志的编辑以及出版人，其间还新发行了《共同进化季刊》。《地球目录》其实汇编了相当多的环保丁具以及技巧 （当然还包括其他东西），并且我们还特意尝试去展现出从生物学的角度理解世界的可能。彼 得 •瓦 歇 尔 （Peter Warshall ) 写了很多关于分水岭、土壤以及生态学的文章。理 查 德 •尼 尔 森 （R i c h a r d N i l s e n ) 和罗斯玛丽•美宁格( R o s e m a r y M e n n i n g e r ) 则写了不少有机耕作以及社区种植方面的文章 。 J •波德 文（ J .  B a l d w i n ) 则专门关注“适用性技术”，例如太阳能、风能、绝热装置、自行车等。劳 埃 德 •卡 恩 （L l o y d K a h n ) 则关注如何用手的方式来盖房子。生物地域主义反文化绿色运动：地球目录以及美国环保主义运动”（Counterculture Green： The Whole Earth Catalog and American Environmentalism,2007)，作者是安德鲁 * 科兑 （Andrew  Kirk )现在，我基本上不是在为全球商业网络提供咨询，就是在为一个奇怪的基洛夫洛克说：“整个地球真的是在变动中。”人类文明也是如此。我们人类 1 万年前开始就一直在向城市迁移，现在我们正在逐步完成这个过程。要做到生态现实主义，我们首先就要理解人类从农村迁往城市这个过程包含了什么，以及它对人类意味着什么。这个话题包含了相当多的故事，于是我决定花两个章节来写。<br>地球在变动，人类文明在变动，人类文明的变动意味着什么？<br>一 个城市化的星球需要有电网的支持自核能。我将花一章篇幅来说明为何只有使用核能我们才能实现我们的绿色目标，后面还会有两章讲转基因技术，也会进行类似的探讨，因为我相信生物科技可以成为人类降低农业对自然生态影响的主要工具。另一方面，我们新发现的基因以及微生物正在改变着生态学本身。科学为环保运动提供了指引作用，因为我们不得不进入一个超大规模生态系统工程的时代。我们必须知道我们在干什么。这样的一种呼吁会占据本书其中一章的篇幅。河狸是一种仁慈的生态系统工程师，同样，蚯纼也是，美洲的印第安人也是 — 他们改变了这块大陆；还有我们当中所有正在为恢复自然生态系统而努力的人，他们也是生态系统的工程师。我们会有一章讲到这个话题，由此就直接得出本书的结论：这一切，都会在一个大院子里发生。引出接下来的章节。</p><p>]()</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>日本之行随想</title>
      <link href="2017/09/16/2017-09-16-1/"/>
      <url>2017/09/16/2017-09-16-1/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Cpasted-1.png#alt=upload%20successful"></p><p>笔者有幸在大学毕业旅行之际去了趟日本，除了玩乐之外，在此期间也思考一些问题。主要是有关日本的服务设计方面的一些思考。</p><p>笔者九年前曾有幸来过一次日本，当时就觉得日本人的服务很好，却并没有去认真思考什么，觉得可能是教育文化差异之类的。但这次来到日本，作为一个学习了交互设计和服务设计并即将踏上研究生之旅的人，有了一些不一样的思考。为了更好分析这种差异并得出结论，我将列出我这几天的所见所闻。</p><p>首先，在到达的飞机场里写了四种语言的文字标牌，分别是日语，英语，韩语，最后是中文。所以在出飞机场时基本没有任何障碍。这肯定是对入境的旅客有了大量的统计而得出的（体感中国人要远远超过韩国和美国人的数量）。可以看出日本作为国际化颇高的国家，对其基础设施的建设花了很大的心思。另外在一些重要的电车，景点处也标记这四种语言。可以看出旅游对日本来说其实也算一笔不小的收入。</p><p>接着不得不说日本的交通，以前就听说日本的地铁很复杂，比较难坐，但是体感却并不是那么难。首先对于交通的地理位置方面，不同交通的运营部门（新干线 JR,都营等等）有着不同的进站口，但是离的却不是很远，很方便换乘。不同的交通的地图也会分开，并分不同的购票机器进行购票。在购票机器上方会绘制一张该地图的价格表，通过查看想到的站就能知道价格并买票。另外，在票的买取界面除了多语言外，也有基本价格的向导。和国内不同的是，国内更强调站的概念。而日本则是强调钱的概念。区别在于，如果对于一个需要买票的人（多半是外国人或者外地人，本地人有卡），首先他需要清楚的知道自己想去哪，然后要花多少钱。那么日本的地铁图是最直观的。而国内往往找不到这种图或很少找到，或者是只有站名的地图。要找到想去的站往往是站在买票机上的地图上废上一段时间，然后买完票发现自己背后排满了人。所以我觉得直观的图的形式，不仅简单易懂，而且直接付钱节约了操作买票机的时间，增加了买票的效率。另外也可以让你花掉手中那讨人厌的一堆硬币。日本的地铁站非常多，地上走差不多 10 分钟你就可以遇到一个地铁站。这一点感受特别深刻，因为在日本期间基本都是地铁交通，感觉十分方便。</p><p>再一个说人方面，日本人的服务可以说让你觉得不好意思，甚至会有些尴尬。在环球影城里，当你遇到一个工作人员时，无论他们在干嘛，他们都会停下来向你招手并朝你微笑招手。在稍微高档一点的酒店里，员工也会这样十分客气。表现的十分亲切，但可能是生活的环境不同，还是觉得有些尴尬，心里还是十分矛盾。再一个路上的车辆都会让着你，让你先过再开。因为生活在中国，遇车先怂，所以在日本遇到过过好多次让车先走结果对面车辆开了又刹车的情况。日本人对于处理垃圾也有自己的规定，垃圾分类很人性化，会把分类用图标出来而不是国内一个简单的标志让你产生一种随手一扔的想法。国内垃圾处理的失败可以归结到两点，一点是扔垃圾的人都不一定能扔进垃圾桶，更别说分类了。一点就是破罐子破摔所有垃圾一起回收。之前有看过进行这方面的教育，但收获甚微。就好比国内有一群志愿者维护乱穿马路的人。到了他们不再了，还是会有乱穿马路的人一样。说白了也就管一时作用。然而，你说日本没有乱穿马路的人那也是不可能的，但是至少他们的汽车都是长了眼睛的。就算是遇到闯了红灯的行人，他们至少会耐心等待。</p><p>再谈谈日本的建筑，可以说让人有不同的感觉。第一个印象是精致，住的酒店的房间，小的房间会合理利用空间布局进行区域的分配，并减少不必要的功能。例如将占地使用频率少的厕所和浴室公共化，但保证了浴室和厕所的绝对清洁和绝对便利。所有的公共厕所都基本会配有消毒泡沫。浴室也有提供吹风机。基本你想要什么都能够得到。比较高档的大房间则会合理利用空间。摆放一些让你放松的挂画，一个茶几，让你感受到和式风格那种独有的惬意。注重每一个细节的问题是日本设计给人的感觉。而这种设计既有古朴的风韵，又结合现代的文化，给人一种文化的调和之感。</p><p>在我眼里，日本是一个严谨的国家，作为军国主义下发展而来的大都市，它有一种莫名的沉淀感。日本有它快节奏的生活，也有那种在繁忙中透出的惬意。路上繁忙走动的人群，都在讲述着一个又一个的故事。而坐在马路边休息的路人，他们脸上流露的笑容，又让人十分羡慕。我作为一个比较喜欢宅喜欢独处的人，对这种可快可慢的生活十分向往。自由的生活态度，可以说是我不断学习的动力。</p><p>所以，笔者将在接下来的三年去不断了解设计的艺术，并把不同国家的文化进行比较，发现不同的人与事务。用心学习，戒骄戒躁。也许这不是一篇很好的文章，但是这就是我的所思所想。而它会鞭策我，提醒我，减少懒惰，朝着前方努力。不再迷茫。</p><p>下一个目标，到日本去，学习更多。</p><p>see you again。</p>]]></content>
      
      
      <categories>
          
          <category> 随想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开始用Hexo写博客了</title>
      <link href="2017/09/16/2017-09-16/"/>
      <url>2017/09/16/2017-09-16/</url>
      
        <content type="html"><![CDATA[<p>之前本来打算用阿里云配合 wordpress 建博客的，但是由于我申请的域名为.space 域名，无法在国内服务器进行备案。于是就打算用 github 自带的服务器和 Hexo 这款博客插件进行建站，感觉效果还比较不错。以后这个博客用来记录一些读后感以及自己的所思所想，方便自己从中找到灵感进行创作。所以加油吧少年！</p>]]></content>
      
      
      <categories>
          
          <category> 生活趣闻 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活趣闻 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《Operator》游戏项目UI菜单设计及游戏策划</title>
      <link href="2017/08/15/2017-08-15/"/>
      <url>2017/08/15/2017-08-15/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/FOTO1.jpg#alt=&width=50"></p><p>暑期实习期间在嘉兴睦月文化传播有限公司主导的一个游戏项目。目前属于停止开发状态。</p><p><img src= "/img/loading.gif" data-lazy-src="https://i.imgur.com/4gOAPFP.png#alt="></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>武汉高校联盟专场信息整理</title>
      <link href="2017/05/17/2017-05-17/"/>
      <url>2017/05/17/2017-05-17/</url>
      
        <content type="html"><![CDATA[<p>作为管理员制作的一张活动安排表</p><p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Cpsb.jpg#alt=upload%20successful"></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>产品思维导图</title>
      <link href="2017/04/06/2017-04-06/"/>
      <url>2017/04/06/2017-04-06/</url>
      
        <content type="html"><![CDATA[<p>复试前整理的一些资料，整合形成的思维导图。</p><p><a href="https://pan.baidu.com/s/1nv5LOAd">点击下载（百度云）</a></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自己整理的一套设计体系（未完善）</title>
      <link href="2017/03/17/2017-03-17/"/>
      <url>2017/03/17/2017-03-17/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>复试作品集</title>
      <link href="2017/02/17/2017-02-17/"/>
      <url>2017/02/17/2017-02-17/</url>
      
        <content type="html"><![CDATA[<p>复试时的作品集，做得比较粗糙。</p><p>包含了两个游戏系统的设计以及一个手机 app 点餐系统的设计。</p><p><a href="https://pan.baidu.com/s/1dFvSNlf">点击下载（百度云）</a></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>给某测试中游戏写的测评意见</title>
      <link href="2016/12/18/2016-12-18/"/>
      <url>2016/12/18/2016-12-18/</url>
      
        <content type="html"><![CDATA[<p>参与了一款游戏的试玩</p><p>并写过一篇测试</p><p>写的一些意见</p><p>然而这游戏最终失败了并没有公测。</p><p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5C%E6%97%B6%E7%A9%BA%E6%88%98%E7%BA%AA%E2%80%94%E2%80%94%E6%B8%B8%E6%88%8F%E5%BB%BA%E8%AE%AE%E5%8F%8A%E6%84%8F%E8%A7%81%E2%91%A0.jpg#alt=%E6%B8%B8%E6%88%8F%E5%BB%BA%E8%AE%AE"></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>同人游戏网站设计</title>
      <link href="2016/06/08/2016-06-08/"/>
      <url>2016/06/08/2016-06-08/</url>
      
        <content type="html"><![CDATA[<p>[点击查看原网址[</p><p><img src= "/img/loading.gif" data-lazy-src="/images/%E5%B9%BB%E6%83%B3%E7%BB%88%E7%BB%93%E4%B9%8B%E6%97%A5.png#alt=%E2%80%9C%E7%BD%91%E7%AB%99%E2%80%9D">]()](<a href="https://eof-game.github.io/">https://eof-game.github.io/</a>)</p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CAD作品</title>
      <link href="2015/12/12/2015-12-12/"/>
      <url>2015/12/12/2015-12-12/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/pasted-9.jpg#alt=%E2%80%9CCAD%E2%80%9D"></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于VB.net设计的一款小游戏</title>
      <link href="2015/06/16/2015-06-16/"/>
      <url>2015/06/16/2015-06-16/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="/images/pasted-12.jpg#alt=%E2%80%9C%E6%B8%B8%E6%88%8F%E2%80%9D"></p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动漫协会网站及公众号设计</title>
      <link href="2015/05/20/2015-05-20/"/>
      <url>2015/05/20/2015-05-20/</url>
      
        <content type="html"><![CDATA[<p>**网站<br><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Cpasted-3.jpg#alt=%E7%BD%91%E7%AB%99"></p><p>（操作成本太高已下架）</p><p><strong>公众号</strong></p><p>一代产品</p><p>采用的智能 AI 机器人进行运营</p><p>搭建的机器人功能平台</p><p>效果如图</p><p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Cpasted-4.jpg#alt=%E5%85%AC%E4%BC%97%E5%8F%B7"></p><p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Cpasted-5.jpg#alt=%E5%85%AC%E4%BC%97%E5%8F%B7"></p><p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Cpasted-6.jpg#alt=%E5%85%AC%E4%BC%97%E5%8F%B7"></p><p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Cpasted-7.jpg#alt=%E5%85%AC%E4%BC%97%E5%8F%B7"></p><p>二代产品</p><p>采用人工运营的方式组建运营团队进行维护</p><p>详情可见</p><p><img src= "/img/loading.gif" data-lazy-src="%5Cimages%5Cpasted-8.jpg#alt=%E5%85%AC%E4%BC%97%E5%8F%B7"></p><p><a href="https://user.qzone.qq.com/2757912721">查看 QQ 空间</a></p><p>**</p>]]></content>
      
      
      <categories>
          
          <category> 作品集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 作品集 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
