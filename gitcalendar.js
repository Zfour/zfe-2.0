const calendar=new Vue({el:"#calendar",data:{user:"Zfour",fixed:"fixed",px:"px",x:"",y:"",span1:"",span2:"",month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthchange:[],oneyearbeforeday:"",thisday:"",amonthago:"",aweekago:"",weekdatacore:0,datacore:0,total:0,datadate:"",data:[],firstweek:[],lastweek:[],beforeweek:[],thisweekdatacore:0,mounthbeforeday:0,mounthfirstindex:0,crispedges:"crispedges",thisdayindex:0,amonthagoindex:0,amonthagoweek:[],firstdate:[],first2date:[],montharrbefore:[],monthindex:0,purple:["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"],green:["#ebedf0","#f0fff4","#dcffe4","#bef5cb","#85e89d","#34d058","#28a745","#22863a","#176f2c","#165c26","#144620"],blue:["#ebedf0","#f1f8ff","#dbedff","#c8e1ff","#79b8ff","#2188ff","#0366d6","#005cc5","#044289","#032f62","#05264c"],color:["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"]},methods:{selectStyle(e,a){$(".angle-wrapper").show(),this.span1=e.date,this.span2=e.count,this.x=a.clientX-100,this.y=a.clientY-60},outStyle(){$(".angle-wrapper").hide()},thiscolor(e){if(0===e){parseInt(e/2);return this.color[0]}if(e<2)return this.color[1];if(e<20){let a=parseInt(e/2);return this.color[a]}return this.color[9]}}});let githubapiurl="https://githubapi.ryanchristian.dev/user/"+calendar.user;$((function(){$.ajax({type:"GET",url:githubapiurl,dataType:"json",beforeSend:function(e){},success:function(e){function a(e){for(let a of calendar.data[e])calendar.thisweekdatacore+=a.count}function t(){for(let e of calendar.lastweek)calendar.weekdatacore+=e.count}calendar.data=e.contributions,calendar.total=e.total,calendar.first2date=calendar.data[48],calendar.firstdate=calendar.data[47],calendar.firstweek=e.contributions[0],calendar.lastweek=e.contributions[52],calendar.beforeweek=e.contributions[51],calendar.thisdayindex=calendar.lastweek.length-1,calendar.thisday=calendar.lastweek[calendar.thisdayindex].date,calendar.oneyearbeforeday=calendar.firstweek[0].date,calendar.monthindex=1*calendar.thisday.substring(5,7),calendar.montharrbefore=calendar.month.splice(calendar.monthindex,12-calendar.monthindex),calendar.monthchange=calendar.montharrbefore.concat(calendar.month),6===calendar.thisdayindex?(calendar.aweekago=calendar.lastweek[0].date,t()):(lastweek=e.contributions[51],calendar.aweekago=lastweek[calendar.thisdayindex+1].date,t(),function(){for(let e=calendar.thisdayindex;e<calendar.beforeweek.length;e++)calendar.weekdatacore+=calendar.beforeweek[e].count}()),0===calendar.thisdayindex?(a(52),a(51),a(50),a(49),a(48),calendar.thisweekdatacore+=calendar.firstdate[6].count,calendar.amonthago=calendar.firstdate[6].date):(a(52),a(51),a(50),a(49),function(){for(let e=calendar.thisdayindex-1;e<calendar.first2date.length;e++)calendar.thisweekdatacore+=calendar.first2date[e].count}(),calendar.amonthago=calendar.first2date[calendar.thisdayindex-1].date)}})}));