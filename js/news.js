let newsurl="https://www.mxnzp.com/api/news/list?typeId=515&page=1&app_id="+newskey.id+"&app_secret="+newskey.key;$((function(){$.ajax({type:"GET",url:newsurl,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newsvue=e.data,gamenews.newsvue=gamenews.newsvue.slice(0,5)}})}));const gamenews=new Vue({el:"#gamenews",data:{current:0,message:"你好！",newsvue:[],listtype:["游戏 ","军事 ","财经 ","科技 ","娱乐 "],listcode:["515","511","509","510","520"],newpostvue:{title:"",ptime:"",content:""}},methods:{changetype(e){let s="https://www.mxnzp.com/api/news/list?typeId="+this.listcode[e]+"&page=1&app_id="+newskey.id+"&app_secret="+newskey.key;$.ajax({type:"GET",url:s,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newsvue=e.data,gamenews.newsvue=gamenews.newsvue.slice(0,5)}})},addClass:function(e){this.current=e,this.changetype(e)},replace(){for(let e=0;e<gamenews.newpostvue.images.length;e++){gamenews.newpostvue.content=gamenews.newpostvue.content.replace(gamenews.newpostvue.images[e].position,'<div class="newsimage" style="background:url('+gamenews.newpostvue.images[e].imgSrc+')no-repeat ;background-size:100% auto;-moz-background-size:100% auto;"></div>')}},hidemodle(){$("#newsmodal").hide(),$(".blackscreen").hide()},getnewsdata(e){$("#newsmodal").show(),$(".blackscreen").show();let s="https://www.mxnzp.com/api/news/details?newsId="+this.newsvue[e].newsId+"&app_id="+newskey.id+"&app_secret="+newskey.key;$.ajax({type:"GET",url:s,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newpostvue=e.data,gamenews.replace()}})}}});