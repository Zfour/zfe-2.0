const calendar=new Vue({el:"#calendar",data:{user:"Zfour",fixed:"fixed",px:"px",x:"",y:"",span1:"",span2:"",month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthchange:[],oneyearbeforeday:"",thisday:"",amonthago:"",aweekago:"",weekdatacore:0,datacore:0,total:0,datadate:"",data:[],firstweek:[],lastweek:[],beforeweek:[],thisweekdatacore:0,mounthbeforeday:0,mounthfirstindex:0,crispedges:"crispedges",color:["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"]},methods:{selectStyle(e,a){$(".angle-wrapper").show(),this.span1=e.date,this.span2=e.count,this.x=a.clientX-100,this.y=a.clientY-60,console.log(a)},outStyle(){$(".angle-wrapper").hide(),console.log()},thiscolor(e){if(0===e){parseInt(e/2);return this.color[0]}if(e<2)return this.color[1];if(e<20){let a=parseInt(e/2);return this.color[a]}return this.color[9]}}});let githubapiurl="https://githubapi.ryanchristian.dev/user/Zfour";$((function(){$.ajax({type:"GET",url:githubapiurl,dataType:"json",beforeSend:function(e){},success:function(e){function a(e){for(let a of calendar.data[e])calendar.thisweekdatacore+=1*a.count,console.log("月"+a.date)}function t(){for(let e of calendar.lastweek)calendar.weekdatacore+=1*e.count,console.log("日"+e.date)}console.log(e),calendar.data=e.contributions,calendar.total=e.total,calendar.firstweek=e.contributions[0],calendar.lastweek=e.contributions[52],calendar.beforeweek=e.contributions[51],thisdayindex=calendar.lastweek.length-1,calendar.thisday=calendar.lastweek[thisdayindex].date,calendar.oneyearbeforeday=calendar.firstweek[0].date,amonthagoindex=6-(30-calendar.lastweek.length)%7,calendar.mounthfirstindex=52-Math.ceil((30-1*calendar.lastweek.length)/7),amonthagoweek=calendar.data[calendar.mounthfirstindex],calendar.amonthago=amonthagoweek[amonthagoindex].date,function(){if(0===thisdayindex){a(52),a(51),a(50),a(49),a(48);calendar.data[47];calendar.thisweekdatacore+=firstdate[6].count,console.log("月"+firstdate[6].date)}else a(52),a(51),a(50),a(49),first2date=calendar.data[48],function(){for(let e=thisdayindex-2;e<first2date.length;e++)calendar.thisweekdatacore+=1*first2date[e].count,console.log("月"+first2date[e].date)}()}(),function(e){let a=e.substring(5,7),t=calendar.month.splice(a,12-1*a);console.log(t),calendar.monthchange=t.concat(calendar.month)}(calendar.thisday),6===thisdayindex?(calendar.aweekago=calendar.lastweek[0].date,t()):(lastweek=e.contributions[51],calendar.aweekago=lastweek[thisdayindex].date,t(),function(){for(let e=thisdayindex;e<calendar.beforeweek.length;e++)calendar.weekdatacore+=1*calendar.beforeweek[e].count,console.log("日"+calendar.beforeweek[e].date)}())}})}));