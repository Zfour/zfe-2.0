function AddFavorite(e,t){try{window.external.addFavorite(e,t)}catch(a){try{window.sidebar.addPanel(t,e,"")}catch(e){alert("加入收藏失败，有劳您手动Ctrl+D添加。")}}}let full_page=document.getElementsByClassName("full_page");0!=full_page.length&&(full_page[0].style.background="transparent");let myDate=new Date,myMonth=myDate.getMonth()+1;getMonth=myMonth<10?"0"+String(myMonth):String(myMonth);let getDate=String(myDate.getDate());getDate=getDate<10?"0"+String(getDate):String(getDate);let getMonthDate="S"+getMonth+getDate,gethistoryurl="/history/json/"+getMonth+".json";$((function(){$.ajax({type:"GET",url:gethistoryurl,dataType:"json",success:function(e){let t='<ul style="list-style: none;padding-inline-start: 0;">';$.each(e[getMonthDate],(function(e,a){t+='<li style="list-style: none;height:100px;">',t+='<p style="color: #858585;Font-style:italic;font-weight:lighter;float:left;width:100%;font-size: 14px;margin:0; padding:0;display:inline-block">',t+="<i >A.D.</i>"+a.year+"</p>",t+='<p style="width:100%;float:left;margin:0; padding:0;display:inline-block" >',t+=a.title+'<i style="Font-style:normal;">。</i>',t+="</p></li>"})),t+="</ul>",$("#history-card").append(t)}})})),$((function(){let e,t=$("#history-news");t.hover((function(){clearInterval(e)}),(function(){e=setInterval((function(){!function(e){let t=e.find("ul"),a=t.find("li:first").height();t.animate({marginTop:-a+"px"},200,(function(){t.css({marginTop:10}).find("li:first").appendTo(t)}))}(t)}),4e3)})).trigger("mouseleave")}));const calendar=new Vue({el:"#calendar",data:{simplemode:!0,user:"Zfour",fixed:"fixed",px:"px",x:"",y:"",span1:"",span2:"",month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthchange:[],oneyearbeforeday:"",thisday:"",amonthago:"",aweekago:"",weekdatacore:0,datacore:0,total:0,datadate:"",data:[],positionplusdata:[],firstweek:[],lastweek:[],beforeweek:[],thisweekdatacore:0,mounthbeforeday:0,mounthfirstindex:0,crispedges:"crispedges",thisdayindex:0,amonthagoindex:0,amonthagoweek:[],firstdate:[],first2date:[],montharrbefore:[],monthindex:0,purple:["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"],green:["#ebedf0","#f0fff4","#dcffe4","#bef5cb","#85e89d","#34d058","#28a745","#22863a","#176f2c","#165c26","#144620"],blue:["#ebedf0","#f1f8ff","#dbedff","#c8e1ff","#79b8ff","#2188ff","#0366d6","#005cc5","#044289","#032f62","#05264c"],color:["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"]},methods:{selectStyle(e,t){$(".angle-wrapper").show(),this.span1=e.date,this.span2=e.count,this.x=t.clientX-100,this.y=t.clientY-60},outStyle(){$(".angle-wrapper").hide()},thiscolor(e){if(0===e){parseInt(e/2);return this.color[0]}if(e<2)return this.color[1];if(e<20){let t=parseInt(e/2);return this.color[t]}return this.color[9]}}});let githubapiurl="https://githubapi.ryanchristian.dev/user/"+calendar.user;$((function(){$.ajax({type:"GET",url:githubapiurl,dataType:"json",success:function(e){function t(){let e=document.getElementById("gitcanvas"),t=document.getElementById("gitmessage"),a=e.getContext("2d");e.width=document.getElementById("calendarcanvasbox").offsetWidth;let n=.96*e.width/calendar.data.length;e.height=9*n;let i=.8*n,l={x:.02*e.width,y:.025*e.width};for(let t in calendar.data){weekdata=calendar.data[t];for(let e in weekdata){let t={date:"",count:"",x:0,y:0};calendar.positionplusdata.push(t),a.fillStyle=calendar.thiscolor(weekdata[e].count),l.y=Math.round(100*l.y)/100,t.date=weekdata[e].date,t.count=weekdata[e].count,t.x=l.x,t.y=l.y,a.fillRect(l.x,l.y,i,i),l.y=l.y+n}l.y=.025*e.width,l.x=l.x+n}a.font="600  Arial",a.fillStyle="#aaa",a.fillText("日",0,1.9*n),a.fillText("二",0,3.9*n),a.fillText("四",0,5.9*n),a.fillText("六",0,7.9*n);let o=e.width/24;for(let t in calendar.monthchange)a.fillText(calendar.monthchange[t],o,.7*n),o+=e.width/12;t.onmousemove=function(e){$(".angle-wrapper").hide()},e.onmousemove=function(t){$(".angle-wrapper").hide(),function(e,t){var a=e.getBoundingClientRect(),n=t.clientX-a.left*(e.width/a.width),l=t.clientY-a.top*(e.height/a.height);for(let e of calendar.positionplusdata){let a=n-e.x,o=l-e.y;0<a&&a<i&&0<o&&o<i&&($(".angle-wrapper").show(),calendar.span1=e.date,calendar.span2=e.count,calendar.x=t.clientX-100,calendar.y=t.clientY-60)}}(e,t)}}function a(e){for(let t of calendar.data[e])calendar.thisweekdatacore+=t.count}function n(){for(let e of calendar.lastweek)calendar.weekdatacore+=e.count}calendar.data=e.contributions,calendar.total=e.total,calendar.first2date=calendar.data[48],calendar.firstdate=calendar.data[47],calendar.firstweek=e.contributions[0],calendar.lastweek=e.contributions[52],calendar.beforeweek=e.contributions[51],calendar.thisdayindex=calendar.lastweek.length-1,calendar.thisday=calendar.lastweek[calendar.thisdayindex].date,calendar.oneyearbeforeday=calendar.firstweek[0].date,calendar.monthindex=1*calendar.thisday.substring(5,7),calendar.montharrbefore=calendar.month.splice(calendar.monthindex,12-calendar.monthindex),calendar.monthchange=calendar.montharrbefore.concat(calendar.month),6===calendar.thisdayindex?(calendar.aweekago=calendar.lastweek[0].date,n()):(lastweek=e.contributions[51],calendar.aweekago=lastweek[calendar.thisdayindex+1].date,n(),function(){for(let e=calendar.thisdayindex;e<calendar.beforeweek.length;e++)calendar.weekdatacore+=calendar.beforeweek[e].count}()),0===calendar.thisdayindex?(a(52),a(51),a(50),a(49),a(48),calendar.thisweekdatacore+=calendar.firstdate[6].count,calendar.amonthago=calendar.firstdate[6].date):(a(52),a(51),a(50),a(49),function(){for(let e=calendar.thisdayindex-1;e<calendar.first2date.length;e++)calendar.thisweekdatacore+=calendar.first2date[e].count}(),calendar.amonthago=calendar.first2date[calendar.thisdayindex-1].date),t(),$(window).on("resize",t),window.onscroll=function(){$(".angle-wrapper").hide()}}})}));const catalogMagnet=new Vue({el:"#catalogMagnet",data:{message:"你好！",link:[],postnum:[],img:["https://i.loli.net/2020/11/27/IpVzkjweocAZiEx.jpg","https://i.loli.net/2020/11/27/iwVGaMP4l9q675e.jpg","https://i.loli.net/2020/11/27/yIv5XHp9PDSNU4h.jpg","https://i.loli.net/2020/11/27/zGBNJrVFXO753Kg.jpg","https://i.loli.net/2020/11/27/GyU425NFrIxLaKM.jpg","https://i.loli.net/2020/11/27/D4StHqbNMYfnC2v.jpg","https://i.loli.net/2020/11/27/2PTuJ6iVYp1gqyX.jpg","https://i.loli.net/2020/11/27/oPicVQE9WBgX4M2.jpg"],describe:["日本早安新闻","vue学习记录","我的各种作品","我的学习整理","我的各种教程","我的游戏评测","生活点点滴滴","一切胡思乱想"],figLetColor:{color:"white"},figLetimg:{backgroundImage:"linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%)"},figbackColor:{background:"#000000 URL()"},figShadow:{boxShadow:"inset 3px 3px 18px 0px rgba(50,50,50, 0.4)"}}});catalogMagnet.link=$(".categoryMagnetitem").children().children().children("a"),catalogMagnet.postnum=$(".categoryMagnetitem").children().children().children("span");let linecolor=catalogMagnet.figLetColor.color;$("<style type='text/css' id='dynamic-after' />").appendTo("head"),$("#dynamic-after").text(".magnetname:after{background:"+linecolor+"!important}");let newsurl="https://www.mxnzp.com/api/news/list?typeId=515&page=1&app_id="+newskey.id+"&app_secret="+newskey.key;$((function(){$.ajax({type:"GET",url:newsurl,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newsvue=e.data,gamenews.newsvue=gamenews.newsvue.slice(0,5)}})}));const gamenews=new Vue({el:"#gamenews",data:{current:0,message:"你好！",newsvue:[],listtype:["游戏 ","军事 ","财经 ","科技 ","娱乐 "],listcode:["515","511","509","510","520"],newpostvue:{title:"",ptime:"",content:""}},methods:{changetype(e){let t="https://www.mxnzp.com/api/news/list?typeId="+this.listcode[e]+"&page=1&app_id="+newskey.id+"&app_secret="+newskey.key;$.ajax({type:"GET",url:t,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newsvue=e.data,gamenews.newsvue=gamenews.newsvue.slice(0,5)}})},addClass:function(e){this.current=e,this.changetype(e)},replace(){for(let e=0;e<gamenews.newpostvue.images.length;e++){let t=gamenews.newpostvue.images[e].imgSrc.replace(/http/g,"https");gamenews.newpostvue.content=gamenews.newpostvue.content.replace(gamenews.newpostvue.images[e].position,'<img src="'+t+'"style="width: 100%;padding: 5% 10%;" alt="">')}},hidemodle(){$("#newsmodal").hide(),$(".blackscreen").hide()},getnewsdata(e){$("#newsmodal").show(),$(".blackscreen").show();let t="https://www.mxnzp.com/api/news/details?newsId="+this.newsvue[e].newsId+"&app_id="+newskey.id+"&app_secret="+newskey.key;$.ajax({type:"GET",url:t,dataType:"json",beforeSend:function(e){},success:function(e){gamenews.newpostvue=e.data,gamenews.replace()}})}}});let locationurl="https://ip.seeip.org/geoip",cityname="",weatherurl="",userip="";const week=["SUN","MON","TUE","WED","THU","FRI","SAT"];function getweatherdata(){$((function(){$.ajax({type:"GET",url:weatherurl,dataType:"json",beforeSend:function(e){},success:function(e){clock.weatherimg="/images/weather/"+e.weather[0].icon+".png",clock.temperature=e.main.temp+"*C",clock.humidity=e.main.humidity+"%",clock.ip=userip,clock.humidityimg="/images/weather/hu.png",clock.city=e.name;setInterval(t,1e3);function t(){let e=new Date;clock.time=a(e.getHours(),2)+":"+a(e.getMinutes(),2)+":"+a(e.getSeconds(),2),clock.date=a(e.getFullYear(),4)+"-"+a(e.getMonth()+1,2)+"-"+a(e.getDate(),2)+" "+week[e.getDay()];let t,n=e.getHours();n>12?(n-=12,t=" PM"):t=" AM",clock.daylight=t}function a(e,t){let a="";for(let e=0;e<t;e++)a+="0";return(a+e).slice(-t)}t(),clock.clockshow=!0,t()}})}))}$((function(){$.ajax({type:"GET",url:locationurl,dataType:"json",beforeSend:function(e){},success:function(e){cityname=e.city,void 0===e.city&&(cityname=e.region),void 0===e.region&&(cityname=e.country),userip=e.ip,weatherurl="https://api.openweathermap.org/data/2.5/weather/?q="+cityname+"&units=metric&appid="+newskey.weather,getweatherdata()}})}));const clock=new Vue({el:"#clock",data:{ip:"",time:"",weatherimg:"",temperature:"",humidityimg:"",humidity:"",usaqi:"",city:"",date:"",daylight:"",clockshow:"false"}});